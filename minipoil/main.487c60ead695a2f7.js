(self.webpackChunkCMPT23=self.webpackChunkCMPT23||[]).push([[179],{463:(jn,Ps,Ke)=>{"use strict";function dn(n){return"function"==typeof n}function En(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const pa=En(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function On(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class wr{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(dn(r))try{r()}catch(o){t=o instanceof pa?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ml(o)}catch(a){t=t??[],a instanceof pa?t=[...t,...a.errors]:t.push(a)}}if(t)throw new pa(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ml(t);else{if(t instanceof wr){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&On(e,t)}remove(t){const{_finalizers:e}=this;e&&On(e,t),t instanceof wr&&t._removeParent(this)}}wr.EMPTY=(()=>{const n=new wr;return n.closed=!0,n})();const gn=wr.EMPTY;function ko(n){return n instanceof wr||n&&"closed"in n&&dn(n.remove)&&dn(n.add)&&dn(n.unsubscribe)}function ml(n){dn(n)?n():n.unsubscribe()}const Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wt={setTimeout(n,t,...e){const{delegate:r}=Wt;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Wt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function An(n){Wt.setTimeout(()=>{const{onUnhandledError:t}=Fn;if(!t)throw n;t(n)})}function Yr(){}const Pt=nc("C",void 0,void 0);function nc(n,t,e){return{kind:n,value:t,error:e}}let Nr=null;function gl(n){if(Fn.useDeprecatedSynchronousErrorHandling){const t=!Nr;if(t&&(Nr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Nr;if(Nr=null,e)throw r}}else n()}class ts extends wr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ko(t)&&t.add(this)):this.destination=vl}static create(t,e,r){return new hd(t,e,r)}next(t){this.isStopped?Rv(function Sv(n){return nc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Rv(function Xi(n){return nc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Rv(Pt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const TC=Function.prototype.bind;function $p(n,t){return TC.call(n,t)}class Dv{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Vi(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Vi(r)}else Vi(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Vi(e)}}}class hd extends ts{constructor(t,e,r){let i;if(super(),dn(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&$p(t.next,o),error:t.error&&$p(t.error,o),complete:t.complete&&$p(t.complete,o)}):i=t}this.destination=new Dv(i)}}function Vi(n){Fn.useDeprecatedSynchronousErrorHandling?function nu(n){Fn.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=n)}(n):An(n)}function Rv(n,t){const{onStoppedNotification:e}=Fn;e&&Wt.setTimeout(()=>e(n,t))}const vl={closed:!0,next:Yr,error:function La(n){throw n},complete:Yr},Tv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ui(n){return n}function zt(n){return 0===n.length?ui:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let nr=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Lo(n){return n&&n instanceof ts||function Dr(n){return n&&dn(n.next)&&dn(n.error)&&dn(n.complete)}(n)&&ko(n)}(e)?e:new hd(e,r,i);return gl(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Ht(r))((i,o)=>{const a=new hd({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Tv](){return this}pipe(...e){return zt(e)(this)}toPromise(e){return new(e=Ht(e))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return n.create=t=>new n(t),n})();function Ht(n){var t;return null!==(t=n??Fn.Promise)&&void 0!==t?t:Promise}const No=En(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yt=(()=>{class n extends nr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Qn(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new No}next(e){gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){gl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?gn:(this.currentObservers=null,o.push(e),new wr(()=>{this.currentObservers=null,On(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new nr;return e.source=this,e}}return n.create=(t,e)=>new Qn(t,e),n})();class Qn extends Yt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:gn}}function sr(n){return dn(n?.lift)}function Jn(n){return t=>{if(sr(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qn(n,t,e,r,i){return new OC(n,t,e,r,i)}class OC extends ts{constructor(t,e,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function jt(n,t){return Jn((e,r)=>{let i=0;e.subscribe(qn(r,o=>{r.next(n.call(t,o,i++))}))})}function ru(n){return this instanceof ru?(this.v=n,this):new ru(n)}function Av(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function qp(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(a){return new Promise(function(s,l){!function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}const Zp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function kC(n){return dn(n?.then)}function LC(n){return dn(n[Tv])}function NC(n){return Symbol.asyncIterator&&dn(n?.[Symbol.asyncIterator])}function BC(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GC=function ZD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qp(n){return dn(n?.[GC])}function VC(n){return function zD(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(p){return new Promise(function(m,v){o.push([h,p,m,v])>1||s(h,p)})})}function s(h,p){try{!function l(h){h.value instanceof ru?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(r[h](p))}catch(m){d(o[0][3],m)}}function u(h){s("next",h)}function c(h){s("throw",h)}function d(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield ru(e.read());if(i)return yield ru(void 0);yield yield ru(r)}}finally{e.releaseLock()}})}function HC(n){return dn(n?.getReader)}function Bo(n){if(n instanceof nr)return n;if(null!=n){if(LC(n))return function QD(n){return new nr(t=>{const e=n[Tv]();if(dn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Zp(n))return function Ms(n){return new nr(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(kC(n))return function wt(n){return new nr(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,An)})}(n);if(NC(n))return Pv(n);if(Qp(n))return function WC(n){return new nr(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(HC(n))return function jC(n){return Pv(VC(n))}(n)}throw BC(n)}function Pv(n){return new nr(t=>{(function UC(n,t){var e,r,i,o;return function MC(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Av(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ns(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,t,e=1/0){return dn(t)?Rr((r,i)=>jt((o,a)=>t(r,o,i,a))(Bo(n(r,i))),e):("number"==typeof t&&(e=t),Jn((r,i)=>function zC(n,t,e,r,i,o,a,s){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&t.complete()},p=v=>u<r?m(v):l.push(v),m=v=>{o&&t.next(v),u++;let _=!1;Bo(e(v,c++)).subscribe(qn(t,C=>{i?.(C),o?p(C):t.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const C=l.shift();a?ns(t,a,()=>m(C)):m(C)}h()}catch(C){t.error(C)}}))};return n.subscribe(qn(t,p,()=>{d=!0,h()})),()=>{s?.()}}(r,i,n,e)))}function rc(n=1/0){return Rr(ui,n)}const Is=new nr(n=>n.complete());function $C(n){return n&&dn(n.schedule)}function Jp(n){return n[n.length-1]}function KC(n){return dn(Jp(n))?n.pop():void 0}function iu(n){return $C(Jp(n))?n.pop():void 0}function YC(n,t=0){return Jn((e,r)=>{e.subscribe(qn(r,i=>ns(r,n,()=>r.next(i),t),()=>ns(r,n,()=>r.complete(),t),i=>ns(r,n,()=>r.error(i),t)))})}function qC(n,t=0){return Jn((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Iv(n,t){if(!n)throw new Error("Iterable cannot be null");return new nr(e=>{ns(e,t,()=>{const r=n[Symbol.asyncIterator]();ns(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Tt(n,t){return t?function Qf(n,t){if(null!=n){if(LC(n))return function tR(n,t){return Bo(n).pipe(qC(t),YC(t))}(n,t);if(Zp(n))return function Mv(n,t){return new nr(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(kC(n))return function nR(n,t){return Bo(n).pipe(qC(t),YC(t))}(n,t);if(NC(n))return Iv(n,t);if(Qp(n))return function Zf(n,t){return new nr(e=>{let r;return ns(e,t,()=>{r=n[GC](),ns(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void e.error(a)}o?e.complete():e.next(i)},0,!0)}),()=>dn(r?.return)&&r.return()})}(n,t);if(HC(n))return function XC(n,t){return Iv(VC(n),t)}(n,t)}throw BC(n)}(n,t):Bo(n)}function br(...n){const t=iu(n),e=function eR(n,t){return"number"==typeof Jp(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Bo(r[0]):rc(e)(Tt(r,t)):Is}function ou(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new hd({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function kn(n){for(let t in n)if(n[t]===kn)return t;throw Error("Could not find renamed property on target object.")}function Jf(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function pt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Tr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Fv=kn({__forward_ref__:kn});function Un(n){return n.__forward_ref__=Un,n.toString=function(){return pt(this())},n}function gt(n){return kv(n)?n():n}function kv(n){return"function"==typeof n&&n.hasOwnProperty(Fv)&&n.__forward_ref__===Un}function pd(n){return n&&!!n.\u0275providers}const Br="https://g.co/ng/security#xss";class Ae extends Error{constructor(t,e){super(au(t,e)),this.code=t}}function au(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function kt(n){return"string"==typeof n?n:null==n?"":String(n)}function ic(n,t){throw new Ae(-201,!1)}function Ei(n,t){null==n&&function Nn(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function $e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function th(n){return nw(n,Go)||nw(n,Gv)}function nw(n,t){return n.hasOwnProperty(t)?n[t]:null}function iw(n){return n&&(n.hasOwnProperty(oc)||n.hasOwnProperty(oR))?n[oc]:null}const Go=kn({\u0275prov:kn}),oc=kn({\u0275inj:kn}),Gv=kn({ngInjectableDef:kn}),oR=kn({ngInjectorDef:kn});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Vv;function Na(n){const t=Vv;return Vv=n,t}function aw(n,t,e){const r=th(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Et.Optional?null:void 0!==t?t:void ic(pt(n))}const fr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ba={},rm="__NG_DI_FLAG__",nh="ngTempTokenPath",sR="ngTokenPath",lR=/\n/gm,Hv="\u0275",lw="__source";let vd;function ac(n){const t=vd;return vd=n,t}function im(n,t=Et.Default){if(void 0===vd)throw new Ae(-203,!1);return null===vd?aw(n,void 0,t):vd.get(n,t&Et.Optional?null:void 0,t)}function Te(n,t=Et.Default){return(function ow(){return Vv}()||im)(gt(n),t)}function Lt(n,t=Et.Default){return Te(n,po(t))}function po(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function om(n){const t=[];for(let e=0;e<n.length;e++){const r=gt(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,!1);let i,o=Et.Default;for(let a=0;a<r.length;a++){const s=r[a],l=uR(s);"number"==typeof l?-1===l?i=s.token:o|=l:i=s}t.push(Te(i,o))}else t.push(Te(r))}return t}function yd(n,t){return n[rm]=t,n.prototype[rm]=t,n}function uR(n){return n[rm]}function su(n){return{toString:n}.toString()}var ma=(()=>((ma=ma||{})[ma.OnPush=0]="OnPush",ma[ma.Default=1]="Default",ma))(),rs=(()=>{return(n=rs||(rs={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",rs;var n})();const ks={},zn=[],Vo=kn({\u0275cmp:kn}),lu=kn({\u0275dir:kn}),Wv=kn({\u0275pipe:kn}),Ls=kn({\u0275mod:kn}),Cl=kn({\u0275fac:kn}),Ns=kn({__NG_ELEMENT_ID__:kn});let cR=0;function Bn(n){return su(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ma.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||zn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||rs.Emulated,id:"c"+cR++,styles:n.styles||zn,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,a=n.features;return i.inputs=pw(n.inputs,r),i.outputs=pw(n.outputs),a&&a.forEach(s=>s(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(rh).filter(hw):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(qr).filter(hw):null,i})}function rh(n){return vn(n)||Qi(n)}function hw(n){return null!==n}function on(n){return su(()=>({type:n.type,bootstrap:n.bootstrap||zn,declarations:n.declarations||zn,imports:n.imports||zn,exports:n.exports||zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pw(n,t){if(null==n)return ks;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const bt=Bn;function vn(n){return n[Vo]||null}function Qi(n){return n[lu]||null}function qr(n){return n[Wv]||null}function Gr(n,t){const e=n[Ls]||null;if(!e&&!0===t)throw new Error(`Type ${pt(n)} does not have '\u0275mod' property.`);return e}const Ga=0,ft=1,$t=2,mr=3,ga=4,Bs=5,Vr=6,wl=7,Or=8,ih=9,sm=10,Kt=11,Uv=12,wd=13,mw=14,sc=15,Ji=16,Wo=17,bl=18,Gs=19,uu=20,gw=21,hr=22,lc=1,vw=2,xl=7,oh=8,uc=9,mo=10;function jo(n){return Array.isArray(n)&&"object"==typeof n[lc]}function Va(n){return Array.isArray(n)&&!0===n[lc]}function cc(n){return 0!=(4&n.flags)}function ah(n){return n.componentOffset>-1}function dc(n){return 1==(1&n.flags)}function go(n){return null!==n.template}function _w(n){return 0!=(256&n[$t])}function He(n,t){return n.hasOwnProperty(Cl)?n[Cl]:null}class ut{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function _t(){return _n}function _n(n){return n.type.prototype.ngOnChanges&&(n.setInput=fc),Ha}function Ha(){const n=El(this),t=n?.current;if(t){const e=n.previous;if(e===ks)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function fc(n,t,e,r){const i=this.declaredInputs[e],o=El(n)||function zv(n,t){return n[sh]=t}(n,{previous:ks,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[i];a[i]=new ut(l&&l.currentValue,t,s===ks),n[r]=t}_t.ngInherit=!0;const sh="__ngSimpleChanges__";function El(n){return n[sh]||null}const Wa=function(n,t,e){};function Si(n){for(;Array.isArray(n);)n=n[Ga];return n}function hc(n,t){return Si(t[n])}function va(n,t){return Si(t[n.index])}function ww(n,t){return n.data[t]}function Uo(n,t){const e=t[n];return jo(e)?e:e[Ga]}function bw(n){return 64==(64&n[$t])}function bd(n,t){return null==t?null:n[t]}function Zk(n){n[bl]=0}function bR(n,t){n[Bs]+=t;let e=n,r=n[mr];for(;null!==r&&(1===t&&1===e[Bs]||-1===t&&0===e[Bs]);)r[Bs]+=t,e=r,r=r[mr]}const qt={lFrame:sL(null),bindingsEnabled:!0};function Jk(){return qt.bindingsEnabled}function je(){return qt.lFrame.lView}function Gn(){return qt.lFrame.tView}function lr(n){return qt.lFrame.contextLView=n,n[Or]}function ur(n){return qt.lFrame.contextLView=null,n}function vo(){let n=eL();for(;null!==n&&64===n.type;)n=n.parent;return n}function eL(){return qt.lFrame.currentTNode}function fu(n,t){const e=qt.lFrame;e.currentTNode=n,e.isParent=t}function xR(){return qt.lFrame.isParent}function ER(){qt.lFrame.isParent=!1}function lm(){return qt.lFrame.bindingIndex++}function mc(n){const t=qt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function F$(n,t){const e=qt.lFrame;e.bindingIndex=e.bindingRootIndex=n,SR(t)}function SR(n){qt.lFrame.currentDirectiveIndex=n}function iL(){return qt.lFrame.currentQueryIndex}function RR(n){qt.lFrame.currentQueryIndex=n}function L$(n){const t=n[ft];return 2===t.type?t.declTNode:1===t.type?n[Vr]:null}function oL(n,t,e){if(e&Et.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&Et.Host||(i=L$(o),null===i||(o=o[sc],10&i.type))););if(null===i)return!1;t=i,n=o}const r=qt.lFrame=aL();return r.currentTNode=t,r.lView=n,!0}function TR(n){const t=aL(),e=n[ft];qt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function aL(){const n=qt.lFrame,t=null===n?null:n.child;return null===t?sL(n):t}function sL(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function lL(){const n=qt.lFrame;return qt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const uL=lL;function OR(){const n=lL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ca(){return qt.lFrame.selectedIndex}function lh(n){qt.lFrame.selectedIndex=n}function Hr(){const n=qt.lFrame;return ww(n.tView,n.selectedIndex)}function xw(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),s&&((n.contentHooks||(n.contentHooks=[])).push(e,s),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,s)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(e,c)}}function Ew(n,t,e){cL(n,t,3,e)}function Sw(n,t,e,r){(3&n[$t])===e&&cL(n,t,e,r)}function AR(n,t){let e=n[$t];(3&e)===t&&(e&=2047,e+=1,n[$t]=e)}function cL(n,t,e,r){const o=r??-1,a=t.length-1;let s=0;for(let l=void 0!==r?65535&n[bl]:0;l<a;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=r&&s>=r)break}else t[l]<0&&(n[bl]+=65536),(s<o||-1==o)&&(z$(n,e,t,l),n[bl]=(4294901760&n[bl])+l+2),l++}function z$(n,t,e,r){const i=e[r]<0,o=e[r+1],s=n[i?-e[r]:e[r]];if(i){if(n[$t]>>11<n[bl]>>16&&(3&n[$t])===t){n[$t]+=2048,Wa(4,s,o);try{o.call(s)}finally{Wa(5,s,o)}}}else{Wa(4,s,o);try{o.call(s)}finally{Wa(5,s,o)}}}const um=-1;class qv{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function MR(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],a=e[r++],s=e[r++];n.setAttribute(t,a,s,o)}else{const o=i,a=e[++r];fL(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),r++}}return r}function dL(n){return 3===n||4===n||6===n}function fL(n){return 64===n.charCodeAt(0)}function Xv(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||hL(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function hL(n,t,e,r,i){let o=0,a=n.length;if(-1===t)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function pL(n){return n!==um}function Dw(n){return 32767&n}function Rw(n,t){let e=function q$(n){return n>>16}(n),r=t;for(;e>0;)r=r[sc],e--;return r}let IR=!0;function Tw(n){const t=IR;return IR=n,t}const mL=255,gL=5;let X$=0;const hu={};function Ow(n,t){const e=vL(n,t);if(-1!==e)return e;const r=t[ft];r.firstCreatePass&&(n.injectorIndex=t.length,FR(r.data,n),FR(t,null),FR(r.blueprint,null));const i=kR(n,t),o=n.injectorIndex;if(pL(i)){const a=Dw(i),s=Rw(i,t),l=s[ft].data;for(let u=0;u<8;u++)t[o+u]=s[a+u]|l[a+u]}return t[o+8]=i,o}function FR(n,t){n.push(0,0,0,0,0,0,0,0,t)}function vL(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function kR(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=EL(i),null===r)return um;if(e++,i=i[sc],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return um}function LR(n,t,e){!function Z$(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ns)&&(r=e[Ns]),null==r&&(r=e[Ns]=X$++);const i=r&mL;t.data[n+(i>>gL)]|=1<<i}(n,t,e)}function _L(n,t,e){if(e&Et.Optional||void 0!==n)return n;ic()}function yL(n,t,e,r){if(e&Et.Optional&&void 0===r&&(r=null),!(e&(Et.Self|Et.Host))){const i=n[ih],o=Na(void 0);try{return i?i.get(t,r,e&Et.Optional):aw(t,r,e&Et.Optional)}finally{Na(o)}}return _L(r,0,e)}function CL(n,t,e,r=Et.Default,i){if(null!==n){if(1024&t[$t]){const a=function nK(n,t,e,r,i){let o=n,a=t;for(;null!==o&&null!==a&&1024&a[$t]&&!(256&a[$t]);){const s=wL(o,a,e,r|Et.Self,hu);if(s!==hu)return s;let l=o.parent;if(!l){const u=a[gw];if(u){const c=u.get(e,hu,r);if(c!==hu)return c}l=EL(a),a=a[sc]}o=l}return i}(n,t,e,r,hu);if(a!==hu)return a}const o=wL(n,t,e,r,hu);if(o!==hu)return o}return yL(t,e,r,i)}function wL(n,t,e,r,i){const o=function eK(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ns)?n[Ns]:void 0;return"number"==typeof t?t>=0?t&mL:tK:t}(e);if("function"==typeof o){if(!oL(t,n,r))return r&Et.Host?_L(i,0,r):yL(t,e,r,i);try{const a=o(r);if(null!=a||r&Et.Optional)return a;ic()}finally{uL()}}else if("number"==typeof o){let a=null,s=vL(n,t),l=um,u=r&Et.Host?t[Ji][Vr]:null;for((-1===s||r&Et.SkipSelf)&&(l=-1===s?kR(n,t):t[s+8],l!==um&&xL(r,!1)?(a=t[ft],s=Dw(l),t=Rw(l,t)):s=-1);-1!==s;){const c=t[ft];if(bL(o,s,c.data)){const d=J$(s,t,e,a,r,u);if(d!==hu)return d}l=t[s+8],l!==um&&xL(r,t[ft].data[s+8]===u)&&bL(o,s,t)?(a=c,s=Dw(l),t=Rw(l,t)):s=-1}}return i}function J$(n,t,e,r,i,o){const a=t[ft],s=a.data[n+8],c=Aw(s,a,e,null==r?ah(s)&&IR:r!=a&&0!=(3&s.type),i&Et.Host&&o===s);return null!==c?uh(t,a,c,s):hu}function Aw(n,t,e,r,i){const o=n.providerIndexes,a=t.data,s=1048575&o,l=n.directiveStart,c=o>>20,h=i?s+c:n.directiveEnd;for(let p=r?s:s+c;p<h;p++){const m=a[p];if(p<l&&e===m||p>=l&&m.type===e)return p}if(i){const p=a[l];if(p&&go(p)&&p.type===e)return l}return null}function uh(n,t,e,r){let i=n[e];const o=t.data;if(function $$(n){return n instanceof qv}(i)){const a=i;a.resolving&&function eh(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Ln(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():kt(n)}(o[e]));const s=Tw(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Na(a.injectImpl):null;oL(n,r,Et.Default);try{i=n[e]=a.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function U$(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const a=_n(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Na(l),Tw(s),a.resolving=!1,uL()}}return i}function bL(n,t,e){return!!(e[t+(n>>gL)]&1<<n)}function xL(n,t){return!(n&Et.Self||n&Et.Host&&t)}class cm{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return CL(this._tNode,this._lView,t,po(r),e)}}function tK(){return new cm(vo(),je())}function Hi(n){return su(()=>{const t=n.prototype.constructor,e=t[Cl]||NR(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Cl]||NR(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function NR(n){return kv(n)?()=>{const t=NR(gt(n));return t&&t()}:He(n)}function EL(n){const t=n[ft],e=t.type;return 2===e?t.declTNode:1===e?n[Vr]:null}const fm="__parameters__";function pm(n,t,e){return su(()=>{const r=function BR(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return s.annotation=a,s;function s(l,u,c){const d=l.hasOwnProperty(fm)?l[fm]:Object.defineProperty(l,fm,{value:[]})[fm];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(a),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=$e({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ch(n,t){n.forEach(e=>Array.isArray(e)?ch(e,t):t(e))}function DL(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Mw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Jv(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function is(n,t,e){let r=mm(n,t);return r>=0?n[1|r]=e:(r=~r,function aK(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function VR(n,t){const e=mm(n,t);if(e>=0)return n[1|e]}function mm(n,t){return function RL(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),a=n[o<<e];if(t===a)return o<<e;a>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Fw=yd(pm("Inject",n=>({token:n})),-1),gc=yd(pm("Optional"),8),xd=yd(pm("SkipSelf"),4);var ja=(()=>((ja=ja||{})[ja.Important=1]="Important",ja[ja.DashCase=2]="DashCase",ja))();const zR=new Map;let TK=0;const KR="__ngContext__";function zo(n,t){jo(t)?(n[KR]=t[uu],function AK(n){zR.set(n[uu],n)}(t)):n[KR]=t}let YR;function qR(n,t){return YR(n,t)}function r_(n){const t=n[mr];return Va(t)?t[mr]:t}function XR(n){return KL(n[wd])}function ZR(n){return KL(n[ga])}function KL(n){for(;null!==n&&!Va(n);)n=n[ga];return n}function vm(n,t,e,r,i){if(null!=r){let o,a=!1;Va(r)?o=r:jo(r)&&(a=!0,r=r[Ga]);const s=Si(r);0===n&&null!==e?null==i?JL(t,e,s):dh(t,e,s,i||null,!0):1===n&&null!==e?dh(t,e,s,i||null,!0):2===n?function iT(n,t,e){const r=Nw(n,t);r&&function XK(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,s,a):3===n&&t.destroyNode(s),null!=o&&function JK(n,t,e,r,i){const o=e[xl];o!==Si(e)&&vm(t,n,r,o,i);for(let s=mo;s<e.length;s++){const l=e[s];i_(l[ft],l,n,t,r,o)}}(t,n,o,e,i)}}function JR(n,t,e){return n.createElement(t,e)}function qL(n,t){const e=n[uc],r=e.indexOf(t),i=t[mr];512&t[$t]&&(t[$t]&=-513,bR(i,-1)),e.splice(r,1)}function eT(n,t){if(n.length<=mo)return;const e=mo+t,r=n[e];if(r){const i=r[Wo];null!==i&&i!==n&&qL(i,r),t>0&&(n[e-1][ga]=r[ga]);const o=Mw(n,mo+t);!function WK(n,t){i_(n,t,t[Kt],2,null,null),t[Ga]=null,t[Vr]=null}(r[ft],r);const a=o[Gs];null!==a&&a.detachView(o[ft]),r[mr]=null,r[ga]=null,r[$t]&=-65}return r}function XL(n,t){if(!(128&t[$t])){const e=t[Kt];e.destroyNode&&i_(n,t,e,3,null,null),function zK(n){let t=n[wd];if(!t)return tT(n[ft],n);for(;t;){let e=null;if(jo(t))e=t[wd];else{const r=t[mo];r&&(e=r)}if(!e){for(;t&&!t[ga]&&t!==n;)jo(t)&&tT(t[ft],t),t=t[mr];null===t&&(t=n),jo(t)&&tT(t[ft],t),e=t&&t[ga]}t=e}}(t)}}function tT(n,t){if(!(128&t[$t])){t[$t]&=-65,t[$t]|=128,function qK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof qv)){const o=e[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=i[o[a]],l=o[a+1];Wa(4,s,l);try{l.call(s)}finally{Wa(5,s,l)}}else{Wa(4,i,o);try{o.call(i)}finally{Wa(5,i,o)}}}}}(n,t),function YK(n,t){const e=n.cleanup,r=t[wl];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const a=r[i=e[o+1]];e[o].call(a)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[wl]=null}}(n,t),1===t[ft].type&&t[Kt].destroy();const e=t[Wo];if(null!==e&&Va(t[mr])){e!==t[mr]&&qL(e,t);const r=t[Gs];null!==r&&r.detachView(n)}!function PK(n){zR.delete(n[uu])}(t)}}function ZL(n,t,e){return function QL(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[Ga];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===rs.None||o===rs.Emulated)return null}return va(r,e)}}(n,t.parent,e)}function dh(n,t,e,r,i){n.insertBefore(t,e,r,i)}function JL(n,t,e){n.appendChild(t,e)}function eN(n,t,e,r,i){null!==r?dh(n,t,e,r,i):JL(n,t,e)}function Nw(n,t){return n.parentNode(t)}function tN(n,t,e){return rN(n,t,e)}let nT,sT,Hw,rN=function nN(n,t,e){return 40&n.type?va(n,e):null};function Bw(n,t,e,r){const i=ZL(n,r,t),o=t[Kt],s=tN(r.parent||t[Vr],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)eN(o,i,e[l],s,!1);else eN(o,i,e,s,!1);void 0!==nT&&nT(o,r,t,e,i)}function Gw(n,t){if(null!==t){const e=t.type;if(3&e)return va(t,n);if(4&e)return rT(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Gw(n,r);{const i=n[t.index];return Va(i)?rT(-1,i):Si(i)}}if(32&e)return qR(t,n)()||Si(n[t.index]);{const r=oN(n,t);return null!==r?Array.isArray(r)?r[0]:Gw(r_(n[Ji]),r):Gw(n,t.next)}}return null}function oN(n,t){return null!==t?n[Ji][Vr].projection[t.projection]:null}function rT(n,t){const e=mo+n+1;if(e<t.length){const r=t[e],i=r[ft].firstChild;if(null!==i)return Gw(r,i)}return t[xl]}function oT(n,t,e,r,i,o,a){for(;null!=e;){const s=r[e.index],l=e.type;if(a&&0===t&&(s&&zo(Si(s),r),e.flags|=2),32!=(32&e.flags))if(8&l)oT(n,t,e.child,r,i,o,!1),vm(t,n,i,s,o);else if(32&l){const u=qR(e,r);let c;for(;c=u();)vm(t,n,i,c,o);vm(t,n,i,s,o)}else 16&l?aN(n,t,r,e,i,o):vm(t,n,i,s,o);e=a?e.projectionNext:e.next}}function i_(n,t,e,r,i,o){oT(e,r,n.firstChild,t,i,o,!1)}function aN(n,t,e,r,i,o){const a=e[Ji],l=a[Vr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)vm(t,n,i,l[u],o);else oT(n,t,l,a[mr],i,o,!0)}function sN(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function lN(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&MR(n,t,r),null!==i&&sN(n,t,i),null!==o&&function tY(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function fN(n){return function lT(){if(void 0===Hw&&(Hw=null,fr.trustedTypes))try{Hw=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hw}()?.createScriptURL(n)||n}class hN{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Br})`}}function Ed(n){return n instanceof hN?n.changingThisBreaksApplicationSecurity:n}function o_(n,t){const e=function dY(n){return n instanceof hN&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Br})`)}return e===t}const mY=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function CN(n){const t=s_();return t?t.sanitize(Di.URL,n)||"":o_(n,"URL")?Ed(n):function uT(n){return(n=String(n)).match(mY)?n:"unsafe:"+n}(kt(n))}function wN(n){const t=s_();if(t)return fN(t.sanitize(Di.RESOURCE_URL,n)||"");if(o_(n,"ResourceURL"))return fN(Ed(n));throw new Ae(904,!1)}function s_(){const n=je();return n&&n[Uv]}const jw=new tt("ENVIRONMENT_INITIALIZER"),xN=new tt("INJECTOR",-1),EN=new tt("INJECTOR_DEF_TYPES");class SN{get(t,e=Ba){if(e===Ba){const r=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw r.name="NullInjectorError",r}return e}}function OY(...n){return{\u0275providers:DN(0,n),\u0275fromNgModule:!0}}function DN(n,...t){const e=[],r=new Set;let i;return ch(t,o=>{const a=o;hT(a,e,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&RN(i,e),e}function RN(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];pT(i,o=>{t.push(o)})}}function hT(n,t,e,r){if(!(n=gt(n)))return!1;let i=null,o=iw(n);const a=!o&&vn(n);if(o||a){if(a&&!a.standalone)return!1;i=n}else{const l=n.ngModule;if(o=iw(l),!o)return!1;i=l}const s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const u of l)hT(u,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let u;r.add(i);try{ch(o.imports,c=>{hT(c,t,e,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&RN(u,t)}if(!s){const u=He(i)||(()=>new i);t.push({provide:i,useFactory:u,deps:zn},{provide:EN,useValue:i,multi:!0},{provide:jw,useValue:()=>Te(i),multi:!0})}const l=o.providers;null==l||s||pT(l,c=>{t.push(c)})}}return i!==n&&void 0!==n.providers}function pT(n,t){for(let e of n)pd(e)&&(e=e.\u0275providers),Array.isArray(e)?pT(e,t):t(e)}const AY=kn({provide:String,useValue:kn});function mT(n){return null!==n&&"object"==typeof n&&AY in n}function fh(n){return"function"==typeof n}const gT=new tt("Set Injector scope."),Uw={},MY={};let vT;function zw(){return void 0===vT&&(vT=new SN),vT}class pu{}class AN extends pu{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yT(t,a=>this.processProvider(a)),this.records.set(xN,ym(void 0,this)),i.has("environment")&&this.records.set(pu,ym(void 0,this));const o=this.records.get(gT);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(EN.multi,zn,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=ac(this),r=Na(void 0);try{return t()}finally{ac(e),Na(r)}}get(t,e=Ba,r=Et.Default){this.assertNotDestroyed(),r=po(r);const i=ac(this),o=Na(void 0);try{if(!(r&Et.SkipSelf)){let s=this.records.get(t);if(void 0===s){const l=function NY(n){return"function"==typeof n||"object"==typeof n&&n instanceof tt}(t)&&th(t);s=l&&this.injectableDefInScope(l)?ym(_T(t),Uw):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(r&Et.Self?zw():this.parent).get(t,e=r&Et.Optional&&e===Ba?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[nh]=a[nh]||[]).unshift(pt(t)),i)throw a;return function cw(n,t,e,r){const i=n[nh];throw t[lw]&&i.unshift(t[lw]),n.message=function dw(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Hv?n.slice(2):n;let i=pt(t);if(Array.isArray(t))i=t.map(pt).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):pt(s)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(lR,"\n  ")}`}("\n"+n.message,i,e,r),n[sR]=i,n[nh]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Na(o),ac(i)}}resolveInjectorInitializers(){const t=ac(this),e=Na(void 0);try{const r=this.get(jw.multi,zn,Et.Self);for(const i of r)i()}finally{ac(t),Na(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(t){let e=fh(t=gt(t))?t:gt(t&&t.provide);const r=function FY(n){return mT(n)?ym(void 0,n.useValue):ym(PN(n),Uw)}(t);if(fh(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=ym(void 0,Uw,!0),i.factory=()=>om(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Uw&&(e.value=MY,e.value=e.factory()),"object"==typeof e.value&&e.value&&function LY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=gt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function _T(n){const t=th(n),e=null!==t?t.factory:He(n);if(null!==e)return e;if(n instanceof tt)throw new Ae(204,!1);if(n instanceof Function)return function IY(n){const t=n.length;if(t>0)throw Jv(t,"?"),new Ae(204,!1);const e=function rw(n){const t=n&&(n[Go]||n[Gv]);return t?(function Rn(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),t):null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Ae(204,!1)}function PN(n,t,e){let r;if(fh(n)){const i=gt(n);return He(i)||_T(i)}if(mT(n))r=()=>gt(n.useValue);else if(function ON(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...om(n.deps||[]));else if(function TN(n){return!(!n||!n.useExisting)}(n))r=()=>Te(gt(n.useExisting));else{const i=gt(n&&(n.useClass||n.provide));if(!function kY(n){return!!n.deps}(n))return He(i)||_T(i);r=()=>new i(...om(n.deps))}return r}function ym(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function yT(n,t){for(const e of n)Array.isArray(e)?yT(e,t):e&&pd(e)?yT(e.\u0275providers,t):t(e)}class BY{}class MN{}class VY{resolveComponentFactory(t){throw function GY(n){const t=Error(`No component factory found for ${pt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let hh=(()=>{class n{}return n.NULL=new VY,n})();function HY(){return Cm(vo(),je())}function Cm(n,t){return new kr(va(n,t))}let kr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=HY,n})();function WY(n){return n instanceof kr?n.nativeElement:n}class l_{}let mu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function jY(){const n=je(),e=Uo(vo().index,n);return(jo(e)?e:n)[Kt]}(),n})(),UY=(()=>{class n{}return n.\u0275prov=$e({token:n,providedIn:"root",factory:()=>null}),n})();class ph{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zY=new ph("15.2.0"),CT={},wT="ngOriginalError";function bT(n){return n[wT]}class wm{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&bT(t);for(;e&&bT(e);)e=bT(e);return e||null}}function yc(n){return n instanceof Function?n():n}function kN(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const LN="ng-template";function nq(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==kN(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function NN(n){return 4===n.type&&n.value!==LN}function rq(n,t,e){return t===(4!==n.type||e?n.value:LN)}function iq(n,t,e){let r=4;const i=n.attrs||[],o=function sq(n){for(let t=0;t<n.length;t++)if(dL(n[t]))return t;return n.length}(i);let a=!1;for(let s=0;s<t.length;s++){const l=t[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&!rq(n,l,e)||""===l&&1===t.length){if(Sl(r))return!1;a=!0}}else{const u=8&r?l:t[++s];if(8&r&&null!==n.attrs){if(!nq(n.attrs,u,e)){if(Sl(r))return!1;a=!0}continue}const d=oq(8&r?"class":l,i,NN(n),e);if(-1===d){if(Sl(r))return!1;a=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==kN(p,u,0)||2&r&&u!==h){if(Sl(r))return!1;a=!0}}}}else{if(!a&&!Sl(r)&&!Sl(l))return!1;if(a&&Sl(l))continue;a=!1,r=l|1&r}}return Sl(r)||a}function Sl(n){return 0==(1&n)}function oq(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const a=t[i];if(a===n)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=t[++i];for(;"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function lq(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function BN(n,t,e=!1){for(let r=0;r<t.length;r++)if(iq(n,t[r],e))return!0;return!1}function uq(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function GN(n,t){return n?":not("+t.trim()+")":t}function cq(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&r){const s=n[++e];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Sl(a)&&(t+=GN(o,i),i=""),r=a,o=o||!Sl(r);e++}return""!==i&&(t+=GN(o,i)),t}const Xt={};function oe(n){VN(Gn(),je(),Ca()+n,!1)}function VN(n,t,e,r){if(!r)if(3==(3&t[$t])){const o=n.preOrderCheckHooks;null!==o&&Ew(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Sw(t,o,0,e)}lh(e)}function UN(n,t=null,e=null,r){const i=zN(n,t,e,r);return i.resolveInjectorInitializers(),i}function zN(n,t=null,e=null,r,i=new Set){const o=[e||zn,OY(n)];return r=r||("object"==typeof n?void 0:pt(n)),new AN(o,t||zw(),r||null,i)}let os=(()=>{class n{static create(e,r){if(Array.isArray(e))return UN({name:""},r,e,"");{const i=e.name??"";return UN({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ba,n.NULL=new SN,n.\u0275prov=$e({token:n,providedIn:"any",factory:()=>Te(xN)}),n.__NG_ELEMENT_ID__=-1,n})();function pe(n,t=Et.Default){const e=je();return null===e?Te(n,t):CL(vo(),e,gt(n),t)}function QN(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const a=n.data[o];RR(e[r]),a.contentQueries(2,t[o],o)}}}function Kw(n,t,e,r,i,o,a,s,l,u,c){const d=t.blueprint.slice();return d[Ga]=i,d[$t]=76|r,(null!==c||n&&1024&n[$t])&&(d[$t]|=1024),Zk(d),d[mr]=d[sc]=n,d[Or]=e,d[sm]=a||n&&n[sm],d[Kt]=s||n&&n[Kt],d[Uv]=l||n&&n[Uv]||null,d[ih]=u||n&&n[ih]||null,d[Vr]=o,d[uu]=function OK(){return TK++}(),d[gw]=c,d[Ji]=2==t.type?n[Ji]:d,d}function Em(n,t,e,r,i){let o=n.data[t];if(null===o)o=function TT(n,t,e,r,i){const o=eL(),a=xR(),l=n.data[t]=function Lq(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function I$(){return qt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const a=function Yv(){const n=qt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return fu(o,!0),o}function u_(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function OT(n,t,e){TR(t);try{const r=n.viewQuery;null!==r&&GT(1,r,e);const i=n.template;null!==i&&JN(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&QN(n,t),n.staticViewQueries&&GT(2,n.viewQuery,e);const o=n.components;null!==o&&function Iq(n,t){for(let e=0;e<t.length;e++)tX(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[$t]&=-5,OR()}}function Yw(n,t,e,r){const i=t[$t];if(128!=(128&i)){TR(t);try{Zk(t),function nL(n){return qt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&JN(n,t,e,2,r);const a=3==(3&i);if(a){const u=n.preOrderCheckHooks;null!==u&&Ew(t,u,null)}else{const u=n.preOrderHooks;null!==u&&Sw(t,u,0,null),AR(t,0)}if(function Jq(n){for(let t=XR(n);null!==t;t=ZR(t)){if(!t[vw])continue;const e=t[uc];for(let r=0;r<e.length;r++){const i=e[r];512&i[$t]||bR(i[mr],1),i[$t]|=512}}}(t),function Qq(n){for(let t=XR(n);null!==t;t=ZR(t))for(let e=mo;e<t.length;e++){const r=t[e],i=r[ft];bw(r)&&Yw(i,r,i.template,r[Or])}}(t),null!==n.contentQueries&&QN(n,t),a){const u=n.contentCheckHooks;null!==u&&Ew(t,u)}else{const u=n.contentHooks;null!==u&&Sw(t,u,1),AR(t,1)}!function Pq(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)lh(~i);else{const o=i,a=e[++r],s=e[++r];F$(a,o),s(2,t[o])}}}finally{lh(-1)}}(n,t);const s=n.components;null!==s&&function Mq(n,t){for(let e=0;e<t.length;e++)eX(n,t[e])}(t,s);const l=n.viewQuery;if(null!==l&&GT(2,l,r),a){const u=n.viewCheckHooks;null!==u&&Ew(t,u)}else{const u=n.viewHooks;null!==u&&Sw(t,u,2),AR(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[$t]&=-41,512&t[$t]&&(t[$t]&=-513,bR(t[mr],-1))}finally{OR()}}}function JN(n,t,e,r,i){const o=Ca(),a=2&r;try{lh(-1),a&&t.length>hr&&VN(n,t,hr,!1),Wa(a?2:0,i),e(r,i)}finally{lh(o),Wa(a?3:1,i)}}function AT(n,t,e){if(cc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}}function PT(n,t,e){Jk()&&(function Wq(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;ah(e)&&function qq(n,t,e){const r=va(t,n),i=e2(e),o=n[sm],a=qw(n,Kw(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=a}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Ow(e,t),zo(r,t);const a=e.initialInputs;for(let s=i;s<o;s++){const l=n.data[s],u=uh(t,n,s,e);zo(u,t),null!==a&&Xq(0,s-i,u,l,0,a),go(l)&&(Uo(e.index,t)[Or]=uh(t,n,s,e))}}(n,t,e,va(e,t)),64==(64&e.flags)&&s2(n,t,e))}function MT(n,t,e=va){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],s=-1===a?e(t,n):n[a];n[i++]=s}}}function e2(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=IT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function IT(n,t,e,r,i,o,a,s,l,u){const c=hr+r,d=c+i,h=function Fq(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Xt);return e}(c,d),p="function"==typeof u?u():u;return h[ft]={type:n,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function t2(n,t,e,r){const i=u2(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&c2(n).push(r,i.length-1))}function n2(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?r2(e,t,i,o):r.hasOwnProperty(i)&&r2(e,t,r[i],o)}return e}function r2(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function as(n,t,e,r,i,o,a,s){const l=va(t,e);let c,u=t.inputs;!s&&null!=u&&(c=u[r])?(VT(n,e,c,r,i),ah(t)&&o2(e,t.index)):3&t.type&&(r=function Bq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,t.value||"",r):i,o.setProperty(l,r,i))}function o2(n,t){const e=Uo(t,n);16&e[$t]||(e[$t]|=32)}function FT(n,t,e,r){let i=!1;if(Jk()){const o=null===r?null:{"":-1},a=function Uq(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(BN(t,a.selectors,!1))if(r||(r=[]),go(a))if(null!==a.findHostDirectiveDefs){const s=[];i=i||new Map,a.findHostDirectiveDefs(a,s,i),r.unshift(...s,a),kT(n,t,s.length)}else r.unshift(a),kT(n,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(n,e);let s,l;null===a?s=l=null:[s,l]=a,null!==s&&(i=!0,a2(n,t,e,s,o,l)),o&&function zq(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new Ae(-301,!1);r.push(t[i],o)}}}(e,r,o)}return e.mergedAttrs=Xv(e.mergedAttrs,e.attrs),i}function a2(n,t,e,r,i,o){for(let u=0;u<r.length;u++)LR(Ow(e,t),n,r[u].type);!function Kq(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let a=!1,s=!1,l=u_(n,t,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];e.mergedAttrs=Xv(e.mergedAttrs,c.hostAttrs),Yq(n,e,t,l,c),$q(l,c,i),null!==c.contentQueries&&(e.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(e.flags|=64);const d=c.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),s=!0),l++}!function Nq(n,t,e){const i=t.directiveEnd,o=n.data,a=t.attrs,s=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const d=o[c],h=e?e.get(d):null,m=h?h.outputs:null;l=n2(d.inputs,c,l,h?h.inputs:null),u=n2(d.outputs,c,u,m);const v=null===l||null===a||NN(t)?null:Zq(l,c,a);s.push(v)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=u}(n,e,o)}function s2(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=function k$(){return qt.lFrame.currentDirectiveIndex}();try{lh(o);for(let s=r;s<i;s++){const l=n.data[s],u=t[s];SR(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&jq(l,u)}}finally{lh(-1),SR(a)}}function jq(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function kT(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function $q(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;go(t)&&(e[""]=n)}}function Yq(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=He(i.type)),a=new qv(o,go(i),pe);n.blueprint[r]=a,e[r]=a,function Vq(n,t,e,r,i){const o=i.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const s=~t.index;(function Hq(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=s&&a.push(s),a.push(e,r,o)}}(n,t,r,u_(n,e,i.hostVars,Xt),i)}function gu(n,t,e,r,i,o){const a=va(n,t);!function LT(n,t,e,r,i,o,a){if(null==o)n.removeAttribute(t,i,e);else{const s=null==a?kt(o):a(o,r||"",i);n.setAttribute(t,i,s,e)}}(t[Kt],a,o,n.value,e,r,i)}function Xq(n,t,e,r,i,o){const a=o[t];if(null!==a){const s=r.setInput;for(let l=0;l<a.length;){const u=a[l++],c=a[l++],d=a[l++];null!==s?r.setInput(e,d,u,c):e[c]=d}}}function Zq(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const a=n[o];for(let s=0;s<a.length;s+=2)if(a[s]===t){r.push(o,a[s+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function l2(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null]}function eX(n,t){const e=Uo(t,n);if(bw(e)){const r=e[ft];48&e[$t]?Yw(r,e,r.template,e[Or]):e[Bs]>0&&NT(e)}}function NT(n){for(let r=XR(n);null!==r;r=ZR(r))for(let i=mo;i<r.length;i++){const o=r[i];if(bw(o))if(512&o[$t]){const a=o[ft];Yw(a,o,a.template,o[Or])}else o[Bs]>0&&NT(o)}const e=n[ft].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Uo(e[r],n);bw(i)&&i[Bs]>0&&NT(i)}}function tX(n,t){const e=Uo(t,n),r=e[ft];(function nX(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),OT(r,e,e[Or])}function qw(n,t){return n[wd]?n[mw][ga]=t:n[wd]=t,n[mw]=t,t}function BT(n){for(;n;){n[$t]|=32;const t=r_(n);if(_w(n)&&!t)return n;n=t}return null}function Xw(n,t,e,r=!0){const i=t[sm];i.begin&&i.begin();try{Yw(n,t,n.template,e)}catch(a){throw r&&f2(t,a),a}finally{i.end&&i.end()}}function GT(n,t,e){RR(0),t(n,e)}function u2(n){return n[wl]||(n[wl]=[])}function c2(n){return n.cleanup||(n.cleanup=[])}function f2(n,t){const e=n[ih],r=e?e.get(wm,null):null;r&&r.handleError(t)}function VT(n,t,e,r,i){for(let o=0;o<e.length;){const a=e[o++],s=e[o++],l=t[a],u=n.data[a];null!==u.setInput?u.setInput(l,i,r,s):l[s]=i}}function Zw(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const s=t[a];"number"==typeof s?o=s:1==o?i=Tr(i,s):2==o&&(r=Tr(r,s+": "+t[++a]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Qw(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Si(o)),Va(o))for(let s=mo;s<o.length;s++){const l=o[s],u=l[ft].firstChild;null!==u&&Qw(l[ft],l,u,r)}const a=e.type;if(8&a)Qw(n,t,e.child,r);else if(32&a){const s=qR(e,t);let l;for(;l=s();)r.push(l)}else if(16&a){const s=oN(t,e);if(Array.isArray(s))r.push(...s);else{const l=r_(t[Ji]);Qw(l[ft],l,s,r,!0)}}e=i?e.projectionNext:e.next}return r}class c_{get rootNodes(){const t=this._lView,e=t[ft];return Qw(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(t){this._lView[Or]=t}get destroyed(){return 128==(128&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mr];if(Va(t)){const e=t[oh],r=e?e.indexOf(this):-1;r>-1&&(eT(t,r),Mw(e,r))}this._attachedToViewContainer=!1}XL(this._lView[ft],this._lView)}onDestroy(t){t2(this._lView[ft],this._lView,null,t)}markForCheck(){BT(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-65}reattach(){this._lView[$t]|=64}detectChanges(){Xw(this._lView[ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UK(n,t){i_(n,t,t[Kt],2,null,null)}(this._lView[ft],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=t}}class rX extends c_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Xw(t[ft],t,t[Or],!1)}checkNoChanges(){}get context(){return null}}class h2 extends hh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=vn(t);return new d_(e,this.ngModule)}}function p2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class oX{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=po(r);const i=this.injector.get(t,CT,r);return i!==CT||e===CT?i:this.parentInjector.get(t,e,r)}}class d_ extends MN{get inputs(){return p2(this.componentDef.inputs)}get outputs(){return p2(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function dq(n){return n.map(cq).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof pu?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new oX(t,o):t,s=a.get(l_,null);if(null===s)throw new Ae(407,!1);const l=a.get(UY,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function kq(n,t,e){return n.selectRootElement(t,e===rs.ShadowDom)}(u,r,this.componentDef.encapsulation):JR(u,c,function iX(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?288:272,p=IT(0,null,null,1,0,null,null,null,null,null),m=Kw(null,p,null,h,null,null,s,u,l,a,null);let v,_;TR(m);try{const C=this.componentDef;let w,b=null;C.findHostDirectiveDefs?(w=[],b=new Map,C.findHostDirectiveDefs(C,w,b),w.push(C)):w=[C];const E=function sX(n,t){const e=n[ft],r=hr;return n[r]=t,Em(e,r,2,"#host",null)}(m,d),S=function lX(n,t,e,r,i,o,a,s){const l=i[ft];!function uX(n,t,e,r){for(const i of n)t.mergedAttrs=Xv(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Zw(t,t.mergedAttrs,!0),null!==e&&lN(r,e,t))}(r,n,t,a);const u=o.createRenderer(t,e),c=Kw(i,e2(e),null,e.onPush?32:16,i[n.index],n,o,u,s||null,null,null);return l.firstCreatePass&&kT(l,n,r.length-1),qw(i,c),i[n.index]=c}(E,d,C,w,m,s,u);_=ww(p,hr),d&&function dX(n,t,e,r){if(r)MR(n,e,["ng-version",zY.full]);else{const{attrs:i,classes:o}=function fq(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!Sl(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&MR(n,e,i),o&&o.length>0&&sN(n,e,o.join(" "))}}(u,C,d,r),void 0!==e&&function fX(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,e),v=function cX(n,t,e,r,i,o){const a=vo(),s=i[ft],l=va(a,i);a2(s,i,a,e,null,r);for(let c=0;c<e.length;c++)zo(uh(i,s,a.directiveStart+c,a),i);s2(s,i,a),l&&zo(l,i);const u=uh(i,s,a.directiveStart+a.componentOffset,a);if(n[Or]=i[Or]=u,null!==o)for(const c of o)c(u,t);return AT(s,a,n),u}(S,C,w,b,m,[hX]),OT(p,m,null)}finally{OR()}return new aX(this.componentType,v,Cm(_,m),m,_)}}class aX extends BY{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new rX(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;VT(o[ft],o,i,t,e),o2(o,this._tNode.index)}}get injector(){return new cm(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hX(){const n=vo();xw(je()[ft],n)}function an(n){let t=function m2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(go(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ae(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const a=n;a.inputs=HT(n.inputs),a.declaredInputs=HT(n.declaredInputs),a.outputs=HT(n.outputs);const s=i.hostBindings;s&&vX(n,s);const l=i.viewQuery,u=i.contentQueries;if(l&&mX(n,l),u&&gX(n,u),Jf(n.inputs,i.inputs),Jf(n.declaredInputs,i.declaredInputs),Jf(n.outputs,i.outputs),go(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===an&&(e=!1)}}t=Object.getPrototypeOf(t)}!function pX(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Xv(i.hostAttrs,e=Xv(e,i.hostAttrs))}}(r)}function HT(n){return n===ks?{}:n===zn?[]:n}function mX(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function gX(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function vX(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Jw=null;function mh(){if(!Jw){const n=fr.Symbol;if(n&&n.iterator)Jw=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Jw=r)}}}return Jw}function eb(n){return!!function WT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&mh()in n)}function $o(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Dl(n,t,e,r){const i=je();return $o(i,lm(),t)&&(Gn(),gu(Hr(),i,n,t,e,r)),Dl}function Dm(n,t,e,r){return $o(n,lm(),e)?t+kt(e)+r:Xt}function Rm(n,t,e,r,i,o){const s=function gh(n,t,e,r){const i=$o(n,t,e);return $o(n,t+1,r)||i}(n,function pc(){return qt.lFrame.bindingIndex}(),e,i);return mc(2),s?t+kt(e)+r+kt(i)+o:Xt}function Wr(n,t,e,r,i,o,a,s){const l=je(),u=Gn(),c=n+hr,d=u.firstCreatePass?function RX(n,t,e,r,i,o,a,s,l){const u=t.consts,c=Em(t,n,4,a||null,bd(u,s));FT(t,e,c,bd(u,l)),xw(t,c);const d=c.tViews=IT(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,e,r,i,o,a):u.data[c];fu(d,!1);const h=l[Kt].createComment("");Bw(u,l,h,d),zo(h,l),qw(l,l[c]=l2(h,l,h,d)),dc(d)&&PT(u,l,d),null!=a&&MT(l,d,s)}function qe(n,t,e){const r=je();return $o(r,lm(),t)&&as(Gn(),Hr(),r,n,t,r[Kt],e,!1),qe}function jT(n,t,e,r,i){const a=i?"class":"style";VT(n,e,t.inputs[a],a,r)}function q(n,t,e,r){const i=je(),o=Gn(),a=hr+n,s=i[Kt],l=i[a]=JR(s,t,function j$(){return qt.lFrame.currentNamespace}()),u=o.firstCreatePass?function AX(n,t,e,r,i,o,a){const s=t.consts,u=Em(t,n,2,i,bd(s,o));return FT(t,e,u,bd(s,a)),null!==u.attrs&&Zw(u,u.attrs,!1),null!==u.mergedAttrs&&Zw(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,0,t,e,r):o.data[a];return fu(u,!0),lN(s,l,u),32!=(32&u.flags)&&Bw(o,i,l,u),0===function R$(){return qt.lFrame.elementDepthCount}()&&zo(l,i),function T$(){qt.lFrame.elementDepthCount++}(),dc(u)&&(PT(o,i,u),AT(o,u,i)),null!==r&&MT(i,u),q}function Y(){let n=vo();xR()?ER():(n=n.parent,fu(n,!1));const t=n;!function O$(){qt.lFrame.elementDepthCount--}();const e=Gn();return e.firstCreatePass&&(xw(e,n),cc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function K$(n){return 0!=(8&n.flags)}(t)&&jT(e,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Y$(n){return 0!=(16&n.flags)}(t)&&jT(e,t,je(),t.stylesWithoutHost,!1),Y}function ji(n,t,e,r){return q(n,t,e,r),Y(),ji}function wc(){return je()}function h_(n){return!!n&&"function"==typeof n.then}const $T=function O2(n){return!!n&&"function"==typeof n.subscribe};function Fe(n,t,e,r){const i=je(),o=Gn(),a=vo();return function P2(n,t,e,r,i,o,a){const s=dc(r),u=n.firstCreatePass&&c2(n),c=t[Or],d=u2(t);let h=!0;if(3&r.type||a){const v=va(r,t),_=a?a(v):v,C=d.length,w=a?E=>a(Si(E[r.index])):r.index;let b=null;if(!a&&s&&(b=function MX(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===e&&i[o+1]===r){const s=t[wl],l=i[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,t,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,h=!1;else{o=I2(r,t,c,o,!1);const E=e.listen(_,i,o);d.push(o,E),u&&u.push(i,w,C,C+1)}}else o=I2(r,t,c,o,!1);const p=r.outputs;let m;if(h&&null!==p&&(m=p[i])){const v=m.length;if(v)for(let _=0;_<v;_+=2){const S=t[m[_]][m[_+1]].subscribe(o),O=d.length;d.push(o,S),u&&u.push(i,r.index,O,-(O+1))}}}(o,i,i[Kt],a,n,t,r),Fe}function M2(n,t,e,r){try{return Wa(6,t,e),!1!==e(r)}catch(i){return f2(n,i),!1}finally{Wa(7,t,e)}}function I2(n,t,e,r,i){return function o(a){if(a===Function)return r;BT(n.componentOffset>-1?Uo(n.index,t):t);let l=M2(t,e,r,a),u=o.__ngNextListenerFn__;for(;u;)l=M2(t,e,u,a)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function Nt(n=1){return function N$(n){return(qt.lFrame.contextLView=function B$(n,t){for(;n>0;)t=t[sc],n--;return t}(n,qt.lFrame.contextLView))[Or]}(n)}function IX(n,t){let e=null;const r=function aq(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?BN(n,o,!0):uq(r,o))return i}else e=i}return e}function KT(n){const t=je()[Ji][Vr];if(!t.projection){const r=t.projection=Jv(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const a=n?IX(o,n):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o),o=o.next}}}function YT(n,t=0,e){const r=je(),i=Gn(),o=Em(i,hr+n,16,null,e||null);null===o.projection&&(o.projection=t),ER(),32!=(32&o.flags)&&function QK(n,t,e){aN(t[Kt],0,t,e,ZL(n,e,t),tN(e.parent||t[Vr],e,t))}(i,r,o)}function p_(n,t,e){return nb(n,"",t,"",e),p_}function nb(n,t,e,r,i){const o=je(),a=Dm(o,t,e,r);return a!==Xt&&as(Gn(),Hr(),o,n,a,o[Kt],i,!1),nb}function rb(n,t){return n<<17|t<<2}function Sd(n){return n>>17&32767}function qT(n){return 2|n}function vh(n){return(131068&n)>>2}function XT(n,t){return-131069&n|t<<2}function ZT(n){return 1|n}function W2(n,t,e,r,i){const o=n[e+1],a=null===t;let s=r?Sd(o):vh(o),l=!1;for(;0!==s&&(!1===l||a);){const c=n[s+1];GX(n[s],t)&&(l=!0,n[s+1]=r?ZT(c):qT(c)),s=r?Sd(c):vh(c)}l&&(n[e+1]=r?qT(o):ZT(o))}function GX(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&mm(n,t)>=0}const Ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j2(n){return n.substring(Ui.key,Ui.keyEnd)}function VX(n){return n.substring(Ui.value,Ui.valueEnd)}function U2(n,t){const e=Ui.textEnd;return e===t?-1:(t=Ui.keyEnd=function jX(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ui.key=t,e),Fm(n,t,e))}function z2(n,t){const e=Ui.textEnd;let r=Ui.key=Fm(n,t,e);return e===r?-1:(r=Ui.keyEnd=function UX(n,t,e){let r;for(;t<e&&(45===(r=n.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(n,r,e),r=K2(n,r,e),r=Ui.value=Fm(n,r,e),r=Ui.valueEnd=function zX(n,t,e){let r=-1,i=-1,o=-1,a=t,s=a;for(;a<e;){const l=n.charCodeAt(a++);if(59===l)return s;34===l||39===l?s=a=Y2(n,l,a,e):t===a-4&&85===o&&82===i&&76===r&&40===l?s=a=Y2(n,41,a,e):l>32&&(s=a),o=i,i=r,r=-33&l}return s}(n,r,e),K2(n,r,e))}function $2(n){Ui.key=0,Ui.keyEnd=0,Ui.value=0,Ui.valueEnd=0,Ui.textEnd=n.length}function Fm(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function K2(n,t,e,r){return(t=Fm(n,t,e))<e&&t++,t}function Y2(n,t,e,r){let i=-1,o=e;for(;o<r;){const a=n.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function QT(n,t,e){return Rl(n,t,e,!1),QT}function m_(n,t){return Rl(n,t,null,!0),m_}function Ws(n){Tl(Z2,$X,n,!1)}function $X(n,t){for(let e=function WX(n){return $2(n),z2(n,Fm(n,0,Ui.textEnd))}(t);e>=0;e=z2(t,e))Z2(n,j2(t),VX(t))}function $n(n){Tl(is,_u,n,!0)}function _u(n,t){for(let e=function HX(n){return $2(n),U2(n,Fm(n,0,Ui.textEnd))}(t);e>=0;e=U2(t,e))is(n,j2(t),!0)}function Rl(n,t,e,r){const i=je(),o=Gn(),a=mc(2);o.firstUpdatePass&&X2(o,n,a,r),t!==Xt&&$o(i,a,t)&&Q2(o,o.data[Ca()],i,i[Kt],n,i[a+1]=function JX(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=pt(Ed(n)))),n}(t,e),r,a)}function Tl(n,t,e,r){const i=Gn(),o=mc(2);i.firstUpdatePass&&X2(i,null,o,r);const a=je();if(e!==Xt&&$o(a,o,e)){const s=i.data[Ca()];if(eB(s,r)&&!q2(i,o)){let l=r?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=Tr(l,e||"")),jT(i,s,a,e,r)}else!function QX(n,t,e,r,i,o,a,s){i===Xt&&(i=zn);let l=0,u=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,p=u<o.length?o[u+1]:void 0;let v,m=null;c===d?(l+=2,u+=2,h!==p&&(m=d,v=p)):null===d||null!==c&&c<d?(l+=2,m=c):(u+=2,m=d,v=p),null!==m&&Q2(n,t,e,r,m,v,a,s),c=l<i.length?i[l]:null,d=u<o.length?o[u]:null}}(i,s,a,a[Kt],a[o+1],a[o+1]=function ZX(n,t,e){if(null==e||""===e)return zn;const r=[],i=Ed(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,o)}}function q2(n,t){return t>=n.expandoStartIndex}function X2(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Ca()],a=q2(n,e);eB(o,r)&&null===t&&!a&&(t=!1),t=function KX(n,t,e,r){const i=function DR(n){const t=qt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=g_(e=JT(null,n,t,e,r),t.attrs,r),o=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==i)if(e=JT(i,n,t,e,r),null===o){let l=function YX(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==vh(r))return n[Sd(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=JT(null,n,t,l[1],r),l=g_(l,t.attrs,r),function qX(n,t,e,r){n[Sd(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function XX(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=g_(r,n[o].hostAttrs,e);return g_(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function NX(n,t,e,r,i,o){let a=o?t.classBindings:t.styleBindings,s=Sd(a),l=vh(a);n[r]=e;let c,u=!1;if(Array.isArray(e)?(c=e[1],(null===c||mm(e,c)>0)&&(u=!0)):c=e,i)if(0!==l){const h=Sd(n[s+1]);n[r+1]=rb(h,s),0!==h&&(n[h+1]=XT(n[h+1],r)),n[s+1]=function kX(n,t){return 131071&n|t<<17}(n[s+1],r)}else n[r+1]=rb(s,0),0!==s&&(n[s+1]=XT(n[s+1],r)),s=r;else n[r+1]=rb(l,0),0===s?s=r:n[l+1]=XT(n[l+1],r),l=r;u&&(n[r+1]=qT(n[r+1])),W2(n,c,r,!0),W2(n,c,r,!1),function BX(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&mm(o,t)>=0&&(e[r+1]=ZT(e[r+1]))}(t,c,n,r,o),a=rb(s,l),o?t.classBindings=a:t.styleBindings=a}(i,o,t,e,a,r)}}function JT(n,t,e,r,i){let o=null;const a=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<a&&(o=t[s],r=g_(r,o.hostAttrs,i),o!==n);)s++;return null!==n&&(e.directiveStylingLast=s),r}function g_(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),is(n,a,!!e||t[++o]))}return void 0===n?null:n}function Z2(n,t,e){is(n,t,Ed(e))}function Q2(n,t,e,r,i,o,a,s){if(!(3&t.type))return;const l=n.data,u=l[s+1],c=function LX(n){return 1==(1&n)}(u)?J2(l,t,e,i,vh(u),a):void 0;ib(c)||(ib(o)||function FX(n){return 2==(2&n)}(u)&&(o=J2(l,null,e,i,s,a)),function eY(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:ja.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ja.Important),n.setStyle(e,r,i,o))}}(r,a,hc(Ca(),e),i,o))}function J2(n,t,e,r,i,o){const a=null===t;let s;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=e[i+1];h===Xt&&(h=d?zn:void 0);let p=d?VR(h,r):c===r?h:void 0;if(u&&!ib(p)&&(p=VR(l,r)),ib(p)&&(s=p,a))return s;const m=n[i+1];i=a?Sd(m):vh(m)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(s=VR(l,r))}return s}function ib(n){return void 0!==n}function eB(n,t){return 0!=(n.flags&(t?8:16))}function se(n,t=""){const e=je(),r=Gn(),i=n+hr,o=r.firstCreatePass?Em(r,i,1,t,null):r.data[i],a=e[i]=function QR(n,t){return n.createText(t)}(e[Kt],t);Bw(r,e,a,o),fu(o,!1)}function ht(n){return bc("",n,""),ht}function bc(n,t,e){const r=je(),i=Dm(r,n,t,e);return i!==Xt&&function Cc(n,t,e){const r=hc(t,n);!function YL(n,t,e){n.setValue(t,e)}(n[Kt],r,e)}(r,Ca(),i),bc}function Ue(n,t,e){Tl(is,_u,Dm(je(),n,t,e),!0)}function ob(n,t,e,r,i){Tl(is,_u,Rm(je(),n,t,e,r,i),!0)}function yu(n,t,e){Ws(Dm(je(),n,t,e))}const _h=void 0;var gZ=["en",[["a","p"],["AM","PM"],_h],[["AM","PM"],_h,_h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_h,"{1} 'at' {0}",_h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mZ(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let km={};function wa(n){const t=function vZ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=CB(t);if(e)return e;const r=t.split("-")[0];if(e=CB(r),e)return e;if("en"===r)return gZ;throw new Ae(701,!1)}function CB(n){return n in km||(km[n]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[n]),km[n]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Lm="en-US";let wB=Lm;function rO(n,t,e,r,i){if(n=gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rO(n[o],t,e,r,i);else{const o=Gn(),a=je();let s=fh(n)?n:gt(n.provide),l=PN(n);const u=vo(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(fh(n)||!n.multi){const p=new qv(l,i,pe),m=oO(s,t,i?c:c+h,d);-1===m?(LR(Ow(u,a),o,s),iO(o,n,t.length),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(p),a.push(p)):(e[m]=p,a[m]=p)}else{const p=oO(s,t,c+h,d),m=oO(s,t,c,c+h),_=m>=0&&e[m];if(i&&!_||!i&&!(p>=0&&e[p])){LR(Ow(u,a),o,s);const C=function pQ(n,t,e,r,i){const o=new qv(n,e,pe);return o.multi=[],o.index=t,o.componentProviders=0,$B(o,i,r&&!e),o}(i?hQ:fQ,e.length,i,r,l);!i&&_&&(e[m].providerFactory=C),iO(o,n,t.length,0),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(C),a.push(C)}else iO(o,n,p>-1?p:m,$B(e[i?m:p],l,!i&&r));!i&&r&&_&&e[m].componentProviders++}}}function iO(n,t,e,r){const i=fh(t),o=function PY(n){return!!n.useClass}(t);if(i||o){const l=(o?gt(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(e);-1===c?u.push(e,[r,l]):u[c+1].push(r,l)}else u.push(e,l)}}}function $B(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function oO(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function fQ(n,t,e,r){return aO(this.multi,[])}function hQ(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=uh(e,e[ft],this.providerFactory.index,r);o=s.slice(0,a),aO(i,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],aO(i,o);return o}function aO(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gr(n,t=[]){return e=>{e.providersResolver=(r,i)=>function dQ(n,t,e){const r=Gn();if(r.firstCreatePass){const i=go(n);rO(e,r.data,r.blueprint,i,!0),rO(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Nm{}class KB{}class YB extends Nm{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new h2(this);const r=Gr(t);this._bootstrapComponents=yc(r.bootstrap),this._r3Injector=zN(t,e,[{provide:Nm,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],pt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sO extends KB{constructor(t){super(),this.moduleType=t}create(t){return new YB(this.moduleType,t)}}class gQ extends Nm{constructor(t,e,r){super(),this.componentFactoryResolver=new h2(this),this.instance=null;const i=new AN([...t,{provide:Nm,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],e||zw(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function cb(n,t,e=null){return new gQ(n,t,e).injector}let vQ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=DN(0,e.type),i=r.length>0?cb([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=$e({token:n,providedIn:"environment",factory:()=>new n(Te(pu))}),n})();function lO(n){n.getStandaloneInjector=t=>t.get(vQ).getOrCreateStandaloneInjector(n)}function yh(n,t,e){const r=function ya(){const n=qt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,i=je();return i[r]===Xt?function vu(n,t,e){return n[t]=e}(i,r,e?t.call(e):t()):function f_(n,t){return n[t]}(i,r)}function cO(n){return t=>{setTimeout(n,void 0,t)}}const Ye=class WQ extends Yt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),a=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=cO(o),i&&(i=cO(i)),a&&(a=cO(a)));const s=super.subscribe({next:i,error:o,complete:a});return t instanceof wr&&t.add(s),s}};function jQ(){return this._results[mh()]()}class dO{get changes(){return this._changes||(this._changes=new Ye)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=mh(),r=dO.prototype;r[e]||(r[e]=jQ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function Vs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function iK(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xc=(()=>{class n{}return n.__NG_ELEMENT_ID__=$Q,n})();const UQ=xc,zQ=class extends UQ{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=Kw(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[Wo]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Gs];return null!==a&&(i[Gs]=a.createEmbeddedView(r)),OT(r,i,t),new c_(i)}};function $Q(){return db(vo(),je())}function db(n,t){return 4&n.type?new zQ(t,n,Cm(n,t)):null}let ba=(()=>{class n{}return n.__NG_ELEMENT_ID__=KQ,n})();function KQ(){return lG(vo(),je())}const YQ=ba,aG=class extends YQ{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Cm(this._hostTNode,this._hostLView)}get injector(){return new cm(this._hostTNode,this._hostLView)}get parentInjector(){const t=kR(this._hostTNode,this._hostLView);if(pL(t)){const e=Rw(t,this._hostLView),r=Dw(t);return new cm(e[ft].data[r+8],e)}return new cm(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=sG(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-mo}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedView(e||{},o);return this.insert(a,i),a}createComponent(t,e,r,i,o){const a=t&&!function Qv(n){return"function"==typeof n}(t);let s;if(a)s=e;else{const d=e||{};s=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=a?t:new d_(vn(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(a?u:this.parentInjector).get(pu,null);h&&(o=h)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,s),c}insert(t,e){const r=t._lView,i=r[ft];if(function D$(n){return Va(n[mr])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=r[mr],h=new aG(d,d[Vr],d[mr]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;!function $K(n,t,e,r){const i=mo+r,o=e.length;r>0&&(e[i-1][ga]=t),r<o-mo?(t[ga]=e[i],DL(e,mo+r,t)):(e.push(t),t[ga]=null),t[mr]=e;const a=t[Wo];null!==a&&e!==a&&function KK(n,t){const e=n[uc];t[Ji]!==t[mr][mr][Ji]&&(n[vw]=!0),null===e?n[uc]=[t]:e.push(t)}(a,t);const s=t[Gs];null!==s&&s.insertView(n),t[$t]|=64}(i,r,a,o);const s=rT(o,a),l=r[Kt],u=Nw(l,a[xl]);return null!==u&&function jK(n,t,e,r,i,o){r[Ga]=i,r[Vr]=t,i_(n,r,e,1,i,o)}(i,a[Vr],l,r,u,s),t.attachToViewContainerRef(),DL(fO(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=sG(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=eT(this._lContainer,e);r&&(Mw(fO(this._lContainer),e),XL(r[ft],r))}detach(t){const e=this._adjustIndex(t,-1),r=eT(this._lContainer,e);return r&&null!=Mw(fO(this._lContainer),e)?new c_(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function sG(n){return n[oh]}function fO(n){return n[oh]||(n[oh]=[])}function lG(n,t){let e;const r=t[n.index];if(Va(r))e=r;else{let i;if(8&n.type)i=Si(r);else{const o=t[Kt];i=o.createComment("");const a=va(n,t);dh(o,Nw(o,a),i,function ZK(n,t){return n.nextSibling(t)}(o,a),!1)}t[n.index]=e=l2(r,t,i,n),qw(t,e)}return new aG(e,n,t)}class hO{constructor(t){this.queryList=t,this.matches=null}clone(){return new hO(this.queryList)}setDirty(){this.queryList.setDirty()}}class pO{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const a=e.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new pO(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==hG(t,e).matches&&this.queries[e].setDirty()}}class uG{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class mO{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new mO(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gO{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,qQ(e,o)),this.matchTNodeWithReadOption(t,e,Aw(e,t,o,!1,!1))}else r===xc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Aw(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===kr||i===ba||i===xc&&4&e.type)this.addMatch(e.index,-2);else{const o=Aw(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qQ(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function ZQ(n,t,e,r){return-1===e?function XQ(n,t){return 11&n.type?Cm(n,t):4&n.type?db(n,t):null}(t,n):-2===e?function QQ(n,t,e){return e===kr?Cm(t,n):e===xc?db(t,n):e===ba?lG(t,n):void 0}(n,t,r):uh(n,n[ft],e,t)}function cG(n,t,e,r){const i=t[Gs].queries[r];if(null===i.matches){const o=n.data,a=e.matches,s=[];for(let l=0;l<a.length;l+=2){const u=a[l];s.push(u<0?null:ZQ(t,o[u],a[l+1],e.metadata.read))}i.matches=s}return i.matches}function vO(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const a=cG(n,t,i,e);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)r.push(a[s/2]);else{const u=o[s+1],c=t[-l];for(let d=mo;d<c.length;d++){const h=c[d];h[Wo]===h[mr]&&vO(h[ft],h,u,r)}if(null!==c[uc]){const d=c[uc];for(let h=0;h<d.length;h++){const p=d[h];vO(p[ft],p,u,r)}}}}}return r}function Dd(n){const t=je(),e=Gn(),r=iL();RR(r+1);const i=hG(e,r);if(n.dirty&&function wR(n){return 4==(4&n[$t])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?vO(e,t,r,[]):cG(e,t,i,r);n.reset(o,WY),n.notifyOnChanges()}return!0}return!1}function E_(n,t,e){const r=Gn();r.firstCreatePass&&(fG(r,new uG(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),dG(r,je(),t)}function fb(n,t,e,r){const i=Gn();if(i.firstCreatePass){const o=vo();fG(i,new uG(t,e,r),o.index),function eJ(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}dG(i,je(),e)}function Rd(){return function JQ(n,t){return n[Gs].queries[t].queryList}(je(),iL())}function dG(n,t,e){const r=new dO(4==(4&e));t2(n,t,r,r.destroy),null===t[Gs]&&(t[Gs]=new pO),t[Gs].queries.push(new hO(r))}function fG(n,t,e){null===n.queries&&(n.queries=new mO),n.queries.track(new gO(t,e))}function hG(n,t){return n.queries.getByIndex(t)}function pb(...n){}const mb=new tt("Application Initializer");let gb=(()=>{class n{constructor(e){this.appInits=e,this.resolve=pb,this.reject=pb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(h_(o))e.push(o);else if($T(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Te(mb,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D_=new tt("AppId",{providedIn:"root",factory:function MG(){return`${bO()}${bO()}${bO()}`}});function bO(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IG=new tt("Platform Initializer"),vb=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FG=new tt("appBootstrapListener"),xO=new tt("AnimationModuleType");let wJ=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cu=new tt("LocaleId",{providedIn:"root",factory:()=>Lt(Cu,Et.Optional|Et.SkipSelf)||function bJ(){return typeof $localize<"u"&&$localize.locale||Lm}()});class EJ{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let kG=(()=>{class n{compileModuleSync(e){return new sO(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=yc(Gr(e).declarations).reduce((a,s)=>{const l=vn(s);return l&&a.push(new d_(l)),a},[]);return new EJ(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RJ=(()=>Promise.resolve(0))();function EO(n){typeof Zone>"u"?RJ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TJ(){let n=fr.requestAnimationFrame,t=fr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function PJ(n){const t=()=>{!function AJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(fr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,DO(n),n.isCheckStableRunning=!0,SO(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),DO(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,a,s)=>{try{return BG(n),e.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),GG(n)}},onInvoke:(e,r,i,o,a,s,l)=>{try{return BG(n),e.invoke(i,o,a,s,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),GG(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,DO(n),SO(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new Ae(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,OJ,pb,pb);try{return o.runTask(a,e,r)}finally{o.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const OJ={};function SO(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DO(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BG(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GG(n){n._nesting--,SO(n)}class MJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const VG=new tt(""),yb=new tt("");let OO,RO=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OO||(function IJ(n){OO=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),EO(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())EO(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(Te(Pn),Te(TO),Te(yb))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),TO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return OO?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Td=null;const HG=new tt("AllowMultipleToken"),AO=new tt("PlatformDestroyListeners"),Ec=!1;class WG{constructor(t,e){this.name=t,this.token=e}}function UG(n,t,e=[]){const r=`Platform: ${t}`,i=new tt(r);return(o=[])=>{let a=PO();if(!a||a.injector.get(HG,!1)){const s=[...e,...o,{provide:i,useValue:!0}];n?n(s):function LJ(n){if(Td&&!Td.get(HG,!1))throw new Ae(400,!1);Td=n;const t=n.get($G);(function jG(n){const t=n.get(IG,null);t&&t.forEach(e=>e())})(n)}(function zG(n=[],t){return os.create({name:t,providers:[{provide:gT,useValue:"platform"},{provide:AO,useValue:new Set([()=>Td=null])},...n]})}(s,r))}return function BJ(n){const t=PO();if(!t)throw new Ae(401,!1);return t}()}}function PO(){return Td?.get($G)??null}let $G=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function YG(n,t){let e;return e="noop"===n?new MJ:("zone.js"===n?void 0:n)||new Pn(t),e}(r?.ngZone,function KG(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Pn,useValue:i}];return i.run(()=>{const a=os.create({providers:o,parent:this.injector,name:e.moduleType.name}),s=e.create(a),l=s.injector.get(wm,null);if(!l)throw new Ae(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});s.onDestroy(()=>{Cb(this._modules,s),u.unsubscribe()})}),function qG(n,t,e){try{const r=e();return h_(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const u=s.injector.get(gb);return u.runInitializers(),u.donePromise.then(()=>(function bB(n){Ei(n,"Expected localeId to be defined"),"string"==typeof n&&(wB=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Cu,Lm)||Lm),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=XG({},r);return function FJ(n,t,e){const r=new sO(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(Vm);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Ae(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(AO,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Te(os))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function XG(n,t){return Array.isArray(t)?t.reduce(XG,n):{...n,...t}}let Vm=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new nr(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),a=new nr(s=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),EO(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=br(o,a.pipe(function em(n={}){const{connector:t=(()=>new Yt),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let a,s,l,u=0,c=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},p=()=>{h(),a=l=void 0,c=d=!1},m=()=>{const v=a;p(),v?.unsubscribe()};return Jn((v,_)=>{u++,!d&&!c&&h();const C=l=l??t();_.add(()=>{u--,0===u&&!d&&!c&&(s=ou(m,i))}),C.subscribe(_),!a&&u>0&&(a=new hd({next:w=>C.next(w),error:w=>{d=!0,h(),s=ou(p,e,w),C.error(w)},complete:()=>{c=!0,h(),s=ou(p,r),C.complete()}}),Bo(v).subscribe(a))})(o)}}()))}bootstrap(e,r){const i=e instanceof MN;if(!this._injector.get(gb).done){!i&&function Cd(n){const t=vn(n)||Qi(n)||qr(n);return null!==t&&t.standalone}(e);throw new Ae(405,Ec)}let a;a=i?e:this._injector.get(hh).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const s=function kJ(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Nm),u=a.create(os.NULL,[],r||a.selector,s),c=u.location.nativeElement,d=u.injector.get(VG,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Cb(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Cb(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(FG,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Cb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ae(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(Te(Pn),Te(pu),Te(wm))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let R_=(()=>{class n{}return n.__NG_ELEMENT_ID__=VJ,n})();function VJ(n){return function HJ(n,t,e){if(ah(n)&&!e){const r=Uo(n.index,t);return new c_(r,r)}return 47&n.type?new c_(t[Ji],t):null}(vo(),je(),16==(16&n))}class tV{constructor(){}supports(t){return eb(t)}create(t){return new KJ(t)}}const $J=(n,t)=>t;class KJ{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$J}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const a=!r||e&&e.currentIndex<rV(r,i,o)?e:r,s=rV(a,i,o),l=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{o||(o=[]);const u=s-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const p=h<o.length?o[h]:o[h]=0,m=p+h;c<=m&&m<u&&(o[h]=p+1)}o[a.previousIndex]=c-u}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!eb(t))throw new Ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,a,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),r=!0),e=e._next}else i=0,function EX(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[mh()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,s=>{a=this._trackByFn(i,s),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,s,a,i)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new YJ(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new nV),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nV),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class YJ{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qJ{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class nV{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new qJ,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rV(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function oV(){return new xb([new tV])}let xb=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||oV()),deps:[[n,new xd,new gc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Ae(901,!1)}}return n.\u0275prov=$e({token:n,providedIn:"root",factory:oV}),n})();const eee=UG(null,"core",[]);let tee=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Te(Vm))},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();function Hm(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let LO=null;function Sc(){return LO}class iee{}const rr=new tt("DocumentToken");let NO=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return function oee(){return Te(sV)}()},providedIn:"platform"}),n})();const aee=new tt("Location Initialized");let sV=(()=>{class n extends NO{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sc().getBaseHref(this._doc)}onPopState(e){const r=Sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Sc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){lV()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){lV()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:function(){return function see(){return new sV(Te(rr))}()},providedIn:"platform"}),n})();function lV(){return!!window.history.pushState}function BO(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function uV(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Dc(n){return n&&"?"!==n[0]?"?"+n:n}let wh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return Lt(dV)},providedIn:"root"}),n})();const cV=new tt("appBaseHref");let dV=(()=>{class n extends wh{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Lt(rr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return BO(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Dc(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const a=this.prepareExternalUrl(i+Dc(o));this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){const a=this.prepareExternalUrl(i+Dc(o));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Te(NO),Te(cV,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lee=(()=>{class n extends wh{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=BO(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let a=this.prepareExternalUrl(i+Dc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){let a=this.prepareExternalUrl(i+Dc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Te(NO),Te(cV,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),O_=(()=>{class n{constructor(e){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function dee(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(uV(fV(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Dc(r))}normalize(e){return n.stripTrailingSlash(function cee(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,fV(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Dc,n.joinWithSlash=BO,n.stripTrailingSlash=uV,n.\u0275fac=function(e){return new(e||n)(Te(wh))},n.\u0275prov=$e({token:n,factory:function(){return function uee(){return new O_(Te(wh))}()},providedIn:"root"}),n})();function fV(n){return n.replace(/\/index.html$/,"")}var ci=(()=>((ci=ci||{})[ci.Format=0]="Format",ci[ci.Standalone=1]="Standalone",ci))(),Sn=(()=>((Sn=Sn||{})[Sn.Narrow=0]="Narrow",Sn[Sn.Abbreviated=1]="Abbreviated",Sn[Sn.Wide=2]="Wide",Sn[Sn.Short=3]="Short",Sn))(),jr=(()=>((jr=jr||{})[jr.Short=0]="Short",jr[jr.Medium=1]="Medium",jr[jr.Long=2]="Long",jr[jr.Full=3]="Full",jr))(),It=(()=>((It=It||{})[It.Decimal=0]="Decimal",It[It.Group=1]="Group",It[It.List=2]="List",It[It.PercentSign=3]="PercentSign",It[It.PlusSign=4]="PlusSign",It[It.MinusSign=5]="MinusSign",It[It.Exponential=6]="Exponential",It[It.SuperscriptingExponent=7]="SuperscriptingExponent",It[It.PerMille=8]="PerMille",It[It.Infinity=9]="Infinity",It[It.NaN=10]="NaN",It[It.TimeSeparator=11]="TimeSeparator",It[It.CurrencyDecimal=12]="CurrencyDecimal",It[It.CurrencyGroup=13]="CurrencyGroup",It))();function Eb(n,t){return Us(wa(n)[ct.DateFormat],t)}function Sb(n,t){return Us(wa(n)[ct.TimeFormat],t)}function Db(n,t){return Us(wa(n)[ct.DateTimeFormat],t)}function js(n,t){const e=wa(n),r=e[ct.NumberSymbols][t];if(typeof r>"u"){if(t===It.CurrencyDecimal)return e[ct.NumberSymbols][It.Decimal];if(t===It.CurrencyGroup)return e[ct.NumberSymbols][It.Group]}return r}function pV(n){if(!n[ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Us(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function VO(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Eee=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,A_={},See=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zi=(()=>((zi=zi||{})[zi.Short=0]="Short",zi[zi.ShortGMT=1]="ShortGMT",zi[zi.Long=2]="Long",zi[zi.Extended=3]="Extended",zi))(),Bt=(()=>((Bt=Bt||{})[Bt.FullYear=0]="FullYear",Bt[Bt.Month=1]="Month",Bt[Bt.Date=2]="Date",Bt[Bt.Hours=3]="Hours",Bt[Bt.Minutes=4]="Minutes",Bt[Bt.Seconds=5]="Seconds",Bt[Bt.FractionalSeconds=6]="FractionalSeconds",Bt[Bt.Day=7]="Day",Bt))(),fn=(()=>((fn=fn||{})[fn.DayPeriods=0]="DayPeriods",fn[fn.Days=1]="Days",fn[fn.Months=2]="Months",fn[fn.Eras=3]="Eras",fn))();function Rb(n,t,e,r){let i=function Fee(n){if(vV(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,a=1]=n.split("-").map(s=>+s);return Tb(i,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Eee))return function kee(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,s=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,s,l,u),t}(r)}const t=new Date(n);if(!vV(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Rc(e,t)||t;let s,a=[];for(;t;){if(s=See.exec(t),!s){a.push(t);break}{a=a.concat(s.slice(1));const c=a.pop();if(!c)break;t=c}}let l=i.getTimezoneOffset();r&&(l=gV(r,l),i=function Iee(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function Mee(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(gV(t,i)-i))}(i,r,!0));let u="";return a.forEach(c=>{const d=function Pee(n){if(WO[n])return WO[n];let t;switch(n){case"G":case"GG":case"GGG":t=xr(fn.Eras,Sn.Abbreviated);break;case"GGGG":t=xr(fn.Eras,Sn.Wide);break;case"GGGGG":t=xr(fn.Eras,Sn.Narrow);break;case"y":t=Ti(Bt.FullYear,1,0,!1,!0);break;case"yy":t=Ti(Bt.FullYear,2,0,!0,!0);break;case"yyy":t=Ti(Bt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ti(Bt.FullYear,4,0,!1,!0);break;case"Y":t=Mb(1);break;case"YY":t=Mb(2,!0);break;case"YYY":t=Mb(3);break;case"YYYY":t=Mb(4);break;case"M":case"L":t=Ti(Bt.Month,1,1);break;case"MM":case"LL":t=Ti(Bt.Month,2,1);break;case"MMM":t=xr(fn.Months,Sn.Abbreviated);break;case"MMMM":t=xr(fn.Months,Sn.Wide);break;case"MMMMM":t=xr(fn.Months,Sn.Narrow);break;case"LLL":t=xr(fn.Months,Sn.Abbreviated,ci.Standalone);break;case"LLLL":t=xr(fn.Months,Sn.Wide,ci.Standalone);break;case"LLLLL":t=xr(fn.Months,Sn.Narrow,ci.Standalone);break;case"w":t=HO(1);break;case"ww":t=HO(2);break;case"W":t=HO(1,!0);break;case"d":t=Ti(Bt.Date,1);break;case"dd":t=Ti(Bt.Date,2);break;case"c":case"cc":t=Ti(Bt.Day,1);break;case"ccc":t=xr(fn.Days,Sn.Abbreviated,ci.Standalone);break;case"cccc":t=xr(fn.Days,Sn.Wide,ci.Standalone);break;case"ccccc":t=xr(fn.Days,Sn.Narrow,ci.Standalone);break;case"cccccc":t=xr(fn.Days,Sn.Short,ci.Standalone);break;case"E":case"EE":case"EEE":t=xr(fn.Days,Sn.Abbreviated);break;case"EEEE":t=xr(fn.Days,Sn.Wide);break;case"EEEEE":t=xr(fn.Days,Sn.Narrow);break;case"EEEEEE":t=xr(fn.Days,Sn.Short);break;case"a":case"aa":case"aaa":t=xr(fn.DayPeriods,Sn.Abbreviated);break;case"aaaa":t=xr(fn.DayPeriods,Sn.Wide);break;case"aaaaa":t=xr(fn.DayPeriods,Sn.Narrow);break;case"b":case"bb":case"bbb":t=xr(fn.DayPeriods,Sn.Abbreviated,ci.Standalone,!0);break;case"bbbb":t=xr(fn.DayPeriods,Sn.Wide,ci.Standalone,!0);break;case"bbbbb":t=xr(fn.DayPeriods,Sn.Narrow,ci.Standalone,!0);break;case"B":case"BB":case"BBB":t=xr(fn.DayPeriods,Sn.Abbreviated,ci.Format,!0);break;case"BBBB":t=xr(fn.DayPeriods,Sn.Wide,ci.Format,!0);break;case"BBBBB":t=xr(fn.DayPeriods,Sn.Narrow,ci.Format,!0);break;case"h":t=Ti(Bt.Hours,1,-12);break;case"hh":t=Ti(Bt.Hours,2,-12);break;case"H":t=Ti(Bt.Hours,1);break;case"HH":t=Ti(Bt.Hours,2);break;case"m":t=Ti(Bt.Minutes,1);break;case"mm":t=Ti(Bt.Minutes,2);break;case"s":t=Ti(Bt.Seconds,1);break;case"ss":t=Ti(Bt.Seconds,2);break;case"S":t=Ti(Bt.FractionalSeconds,1);break;case"SS":t=Ti(Bt.FractionalSeconds,2);break;case"SSS":t=Ti(Bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ab(zi.Short);break;case"ZZZZZ":t=Ab(zi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ab(zi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ab(zi.Long);break;default:return null}return WO[n]=t,t}(c);u+=d?d(i,e,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Tb(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Rc(n,t){const e=function fee(n){return wa(n)[ct.LocaleId]}(n);if(A_[e]=A_[e]||{},A_[e][t])return A_[e][t];let r="";switch(t){case"shortDate":r=Eb(n,jr.Short);break;case"mediumDate":r=Eb(n,jr.Medium);break;case"longDate":r=Eb(n,jr.Long);break;case"fullDate":r=Eb(n,jr.Full);break;case"shortTime":r=Sb(n,jr.Short);break;case"mediumTime":r=Sb(n,jr.Medium);break;case"longTime":r=Sb(n,jr.Long);break;case"fullTime":r=Sb(n,jr.Full);break;case"short":const i=Rc(n,"shortTime"),o=Rc(n,"shortDate");r=Ob(Db(n,jr.Short),[i,o]);break;case"medium":const a=Rc(n,"mediumTime"),s=Rc(n,"mediumDate");r=Ob(Db(n,jr.Medium),[a,s]);break;case"long":const l=Rc(n,"longTime"),u=Rc(n,"longDate");r=Ob(Db(n,jr.Long),[l,u]);break;case"full":const c=Rc(n,"fullTime"),d=Rc(n,"fullDate");r=Ob(Db(n,jr.Full),[c,d])}return r&&(A_[e][t]=r),r}function Ob(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Al(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function Ti(n,t,e=0,r=!1,i=!1){return function(o,a){let s=function Ree(n,t){switch(n){case Bt.FullYear:return t.getFullYear();case Bt.Month:return t.getMonth();case Bt.Date:return t.getDate();case Bt.Hours:return t.getHours();case Bt.Minutes:return t.getMinutes();case Bt.Seconds:return t.getSeconds();case Bt.FractionalSeconds:return t.getMilliseconds();case Bt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||s>-e)&&(s+=e),n===Bt.Hours)0===s&&-12===e&&(s=12);else if(n===Bt.FractionalSeconds)return function Dee(n,t){return Al(n,3).substring(0,t)}(s,t);const l=js(a,It.MinusSign);return Al(s,t,l,r,i)}}function xr(n,t,e=ci.Format,r=!1){return function(i,o){return function Tee(n,t,e,r,i,o){switch(e){case fn.Months:return function mee(n,t,e){const r=wa(n),o=Us([r[ct.MonthsFormat],r[ct.MonthsStandalone]],t);return Us(o,e)}(t,i,r)[n.getMonth()];case fn.Days:return function pee(n,t,e){const r=wa(n),o=Us([r[ct.DaysFormat],r[ct.DaysStandalone]],t);return Us(o,e)}(t,i,r)[n.getDay()];case fn.DayPeriods:const a=n.getHours(),s=n.getMinutes();if(o){const u=function yee(n){const t=wa(n);return pV(t),(t[ct.ExtraData][2]||[]).map(r=>"string"==typeof r?VO(r):[VO(r[0]),VO(r[1])])}(t),c=function Cee(n,t,e){const r=wa(n);pV(r);const o=Us([r[ct.ExtraData][0],r[ct.ExtraData][1]],t)||[];return Us(o,e)||[]}(t,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[p,m]=h,v=a>=p.hours&&s>=p.minutes,_=a<m.hours||a===m.hours&&s<m.minutes;if(p.hours<m.hours){if(v&&_)return!0}else if(v||_)return!0}else if(h.hours===a&&h.minutes===s)return!0;return!1});if(-1!==d)return c[d]}return function hee(n,t,e){const r=wa(n),o=Us([r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],t);return Us(o,e)}(t,i,r)[a<12?0:1];case fn.Eras:return function gee(n,t){return Us(wa(n)[ct.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,o,n,t,e,r)}}function Ab(n){return function(t,e,r){const i=-1*r,o=js(e,It.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zi.Short:return(i>=0?"+":"")+Al(a,2,o)+Al(Math.abs(i%60),2,o);case zi.ShortGMT:return"GMT"+(i>=0?"+":"")+Al(a,1,o);case zi.Long:return"GMT"+(i>=0?"+":"")+Al(a,2,o)+":"+Al(Math.abs(i%60),2,o);case zi.Extended:return 0===r?"Z":(i>=0?"+":"")+Al(a,2,o)+":"+Al(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Oee=0,Pb=4;function mV(n){return Tb(n.getFullYear(),n.getMonth(),n.getDate()+(Pb-n.getDay()))}function HO(n,t=!1){return function(e,r){let i;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();i=1+Math.floor((a+o)/7)}else{const o=mV(e),a=function Aee(n){const t=Tb(n,Oee,1).getDay();return Tb(n,0,1+(t<=Pb?Pb:Pb+7)-t)}(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return Al(i,n,js(r,It.MinusSign))}}function Mb(n,t=!1){return function(e,r){return Al(mV(e).getFullYear(),n,js(r,It.MinusSign),t)}}const WO={};function gV(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function vV(n){return n instanceof Date&&!isNaN(n.valueOf())}function wV(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class qee{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tc=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qee(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const s=r.get(o);r.move(s,a),SV(s,i)}});for(let i=0,o=r.length;i<o;i++){const s=r.get(i).context;s.index=i,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{SV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(pe(ba),pe(xc),pe(xb))},n.\u0275dir=bt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function SV(n,t){n.context.$implicit=t.item}let bh=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Zee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){DV("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){DV("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(pe(ba),pe(xc))},n.\u0275dir=bt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Zee{constructor(){this.$implicit=null,this.ngIf=null}}function DV(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pt(t)}'.`)}let Fb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();const OV="browser";let Dte=(()=>{class n{}return n.\u0275prov=$e({token:n,providedIn:"root",factory:()=>new Rte(Te(rr),window)}),n})();class Rte{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Tte(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=AV(this.window.history)||AV(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function AV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class PV{}class tne extends iee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t1 extends tne{static makeCurrent(){!function ree(n){LO||(LO=n)}(new t1)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function nne(){return I_=I_||document.querySelector("base"),I_?I_.getAttribute("href"):null}();return null==e?null:function rne(n){Nb=Nb||document.createElement("a"),Nb.setAttribute("href",n);const t=Nb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){I_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return wV(document.cookie,t)}}let Nb,I_=null;const LV=new tt("TRANSITION_ID"),one=[{provide:mb,useFactory:function ine(n,t,e){return()=>{e.get(gb).donePromise.then(()=>{const r=Sc(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[LV,rr,os],multi:!0}];let sne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const Bb=new tt("EventManagerPlugins");let Gb=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const a=i[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Te(Bb),Te(Pn))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class NV{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Sc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let BV=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const i=this.usageCount;let o=i.get(e)??0;return o+=r,o>0?i.set(e,o):i.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),F_=(()=>{class n extends BV{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(o=>o.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const i=this.doc.createElement("style");i.textContent=r,e.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const n1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r1=/%COMP%/g,HV=new tt("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function WV(n,t){return t.flat(100).map(e=>e.replace(r1,n))}function jV(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vb=(()=>{class n{constructor(e,r,i,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new o1(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,r);return i instanceof $V?i.applyToHost(e):i instanceof a1&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.eventManager,s=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case rs.Emulated:o=new $V(a,s,r,this.appId,l);break;case rs.ShadowDom:return new pne(a,s,e,r);default:o=new a1(a,s,r,l)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Te(Gb),Te(F_),Te(D_),Te(HV))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class o1{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(n1[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(zV(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(zV(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=n1[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=n1[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(ja.DashCase|ja.Important)?t.style.setProperty(e,r,i&ja.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ja.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jV(r)):this.eventManager.addEventListener(t,e,jV(r))}}function zV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pne extends o1{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=WV(i.id,i.styles);for(const a of o){const s=document.createElement("style");s.textContent=a,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class a1 extends o1{constructor(t,e,r,i,o=r.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=WV(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $V extends a1{constructor(t,e,r,i,o){const a=i+"-"+r.id;super(t,e,r,o,a),this.contentAttr=function dne(n){return"_ngcontent-%COMP%".replace(r1,n)}(a),this.hostAttr=function fne(n){return"_nghost-%COMP%".replace(r1,n)}(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let mne=(()=>{class n extends NV{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const KV=["alt","control","meta","shift"],gne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _ne=(()=>{class n extends NV{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sc().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),KV.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),a+=u+".")}),a+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(e,r){let i=gne[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KV.forEach(a=>{a!==i&&(0,vne[a])(e)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const qV=[{provide:vb,useValue:OV},{provide:IG,useValue:function yne(){t1.makeCurrent()},multi:!0},{provide:rr,useFactory:function wne(){return function oY(n){sT=n}(document),document},deps:[]}],bne=UG(eee,"browser",qV),XV=new tt(""),ZV=[{provide:yb,useClass:class ane{addToWindow(t){fr.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},fr.getAllAngularTestabilities=()=>t.getAllTestabilities(),fr.getAllAngularRootElements=()=>t.getAllRootElements(),fr.frameworkStabilizers||(fr.frameworkStabilizers=[]),fr.frameworkStabilizers.push(r=>{const i=fr.getAllAngularTestabilities();let o=i.length,a=!1;const s=function(l){a=a||l,o--,0==o&&r(a)};i.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Sc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:VG,useClass:RO,deps:[Pn,TO,yb]},{provide:RO,useClass:RO,deps:[Pn,TO,yb]}],QV=[{provide:gT,useValue:"root"},{provide:wm,useFactory:function Cne(){return new wm},deps:[]},{provide:Bb,useClass:mne,multi:!0,deps:[rr,Pn,vb]},{provide:Bb,useClass:_ne,multi:!0,deps:[rr]},{provide:Vb,useClass:Vb,deps:[Gb,F_,D_,HV]},{provide:l_,useExisting:Vb},{provide:BV,useExisting:F_},{provide:F_,useClass:F_,deps:[rr]},{provide:Gb,useClass:Gb,deps:[Bb,Pn]},{provide:PV,useClass:sne,deps:[]},[]];let JV=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:D_,useValue:e.appId},{provide:LV,useExisting:D_},one]}}}return n.\u0275fac=function(e){return new(e||n)(Te(XV,12))},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[...QV,...ZV],imports:[Fb,tee]}),n})(),eH=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:function(e){let r=null;return r=e?new e:function Ene(){return new eH(Te(rr))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class Ie{static NumClasseFonte(t){var e=2;switch(t){case"tres_petite":e=0;break;case"petite":e=1;break;case"moyenne":e=2;break;case"grande":e=3;break;case"tres_grande":e=4}return e}static NomClasseFonte(t){var e="moyenne";switch(t){case 0:e="tres_petite";break;case 1:e="petite";break;case 2:e="moyenne";break;case 3:e="grande";break;case 4:e="tres_grande"}return e}static FaireUrl(){var t=Ie.m_base_url;return null==t&&(t=location.origin),t.endsWith("localhost:4200")&&(t=t.replace("localhost:4200","localhost")),t.endsWith("/")||(t+="/"),(t+=Ie.m_serveur_bd).endsWith("/")||(t+="/"),t}}function Ot(...n){return Tt(n,iu(n))}Ie.m_base_url=window.location.origin,Ie.m_url=window.location.href,Ie.m_id_prs_login=-1,Ie.m_compteur=0,Ie.m_compteur_initialise=!1,Ie.m_classe_fonte="moyenne",Ie.m_init_faite=!1,Ie.m_nb_max_lig_creees=1111,Ie.m_rep_fic="",Ie.m_nom_col_select_id="SelectId";class Ml extends Yt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Hb=En(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Mne}=Array,{getPrototypeOf:Ine,prototype:Fne,keys:kne}=Object;function rH(n){if(1===n.length){const t=n[0];if(Mne(t))return{args:t,keys:null};if(function Lne(n){return n&&"object"==typeof n&&Ine(n)===Fne}(t)){const e=kne(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:Nne}=Array;function u1(n){return jt(t=>function Bne(n,t){return Nne(t)?n(...t):n(t)}(n,t))}function iH(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function c1(...n){const t=iu(n),e=KC(n),{args:r,keys:i}=rH(n);if(0===r.length)return Tt([],t);const o=new nr(function Gne(n,t,e=ui){return r=>{oH(t,()=>{const{length:i}=n,o=new Array(i);let a=i,s=i;for(let l=0;l<i;l++)oH(t,()=>{const u=Tt(n[l],t);let c=!1;u.subscribe(qn(r,d=>{o[l]=d,c||(c=!0,s--),s||r.next(e(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,t,i?a=>iH(i,a):ui));return e?o.pipe(u1(e)):o}function oH(n,t,e){n?ns(e,n,t):t()}function Wb(...n){return function Vne(){return rc(1)}()(Tt(n,iu(n)))}function aH(n){return new nr(t=>{Bo(n()).subscribe(t)})}function k_(n,t){const e=dn(n)?n:()=>n,r=i=>i.error(e());return new nr(t?i=>t.schedule(r,0,i):r)}function d1(){return Jn((n,t)=>{let e=null;n._refCount++;const r=qn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class sH extends nr{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,sr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wr;const e=this.getSubject();t.add(this.source.subscribe(qn(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wr.EMPTY)}return t}refCount(){return d1()(this)}}function wu(n,t){return Jn((e,r)=>{let i=null,o=0,a=!1;const s=()=>a&&!i&&r.complete();e.subscribe(qn(r,l=>{i?.unsubscribe();let u=0;const c=o++;Bo(n(l,c)).subscribe(i=qn(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function xh(n){return n<=0?()=>Is:Jn((t,e)=>{let r=0;t.subscribe(qn(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function f1(...n){const t=iu(n);return Jn((e,r)=>{(t?Wb(n,e,t):Wb(n,e)).subscribe(r)})}function Il(n,t){return Jn((e,r)=>{let i=0;e.subscribe(qn(r,o=>n.call(t,o,i++)&&r.next(o)))})}function jb(n){return Jn((t,e)=>{let r=!1;t.subscribe(qn(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function lH(n=Hne){return Jn((t,e)=>{let r=!1;t.subscribe(qn(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Hne(){return new Hb}function Ad(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Il((i,o)=>n(i,o,r)):ui,xh(1),e?jb(t):lH(()=>new Hb))}function Pd(n,t){return dn(t)?Rr(n,t,1):Rr(n,1)}function Ko(n,t,e){const r=dn(n)||t||e?{next:n,error:t,complete:e}:n;return r?Jn((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let s=!0;i.subscribe(qn(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;s=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;s=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;s&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ui}function Md(n){return Jn((t,e)=>{let o,r=null,i=!1;r=t.subscribe(qn(e,void 0,void 0,a=>{o=Bo(n(a,Md(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function uH(n,t){return Jn(function Wne(n,t,e,r,i){return(o,a)=>{let s=e,l=t,u=0;o.subscribe(qn(a,c=>{const d=u++;l=s?n(l,c,d):(s=!0,c),r&&a.next(l)},i&&(()=>{s&&a.next(l),a.complete()})))}}(n,t,arguments.length>=2,!0))}function h1(n){return n<=0?()=>Is:Jn((t,e)=>{let r=[];t.subscribe(qn(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function cH(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Il((i,o)=>n(i,o,r)):ui,h1(1),e?jb(t):lH(()=>new Hb))}function p1(n){return Jn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Jt="primary",L_=Symbol("RouteTitle");class zne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wm(n){return new zne(n)}function $ne(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],s=n[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bu(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!dH(n[i],t[i]))return!1;return!0}function dH(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function fH(n){return Array.prototype.concat.apply([],n)}function hH(n){return n.length>0?n[n.length-1]:null}function _o(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Id(n){return $T(n)?n:h_(n)?Tt(Promise.resolve(n)):Ot(n)}const Ub=!1,Yne={exact:function gH(n,t,e){if(!Eh(n.segments,t.segments)||!zb(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!gH(n.children[r],t.children[r],e))return!1;return!0},subset:vH},pH={exact:function qne(n,t){return bu(n,t)},subset:function Xne(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dH(n[e],t[e]))},ignored:()=>!0};function mH(n,t,e){return Yne[e.paths](n.root,t.root,e.matrixParams)&&pH[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vH(n,t,e){return _H(n,t,t.segments,e)}function _H(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Eh(i,e)||t.hasChildren()||!zb(i,e,r))}if(n.segments.length===e.length){if(!Eh(n.segments,e)||!zb(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!vH(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Eh(n.segments,i)&&zb(n.segments,i,r)&&n.children[Jt])&&_H(n.children[Jt],t,o,r)}}function zb(n,t,e){return t.every((r,i)=>pH[e](n[i].parameters,r.parameters))}class Fd{constructor(t=new wn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wm(this.queryParams)),this._queryParamMap}toString(){return Jne.serialize(this)}}class wn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_o(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $b(this)}}class N_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wm(this.parameters)),this._parameterMap}toString(){return wH(this)}}function Eh(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let B_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return new m1},providedIn:"root"}),n})();class m1{parse(t){const e=new lre(t);return new Fd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${G_(t.root,!0)}`,r=function nre(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Kb(e)}=${Kb(i)}`).join("&"):`${Kb(e)}=${Kb(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function ere(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Jne=new m1;function $b(n){return n.segments.map(t=>wH(t)).join("/")}function G_(n,t){if(!n.hasChildren())return $b(n);if(t){const e=n.children[Jt]?G_(n.children[Jt],!1):"",r=[];return _o(n.children,(i,o)=>{o!==Jt&&r.push(`${o}:${G_(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Qne(n,t){let e=[];return _o(n.children,(r,i)=>{i===Jt&&(e=e.concat(t(r,i)))}),_o(n.children,(r,i)=>{i!==Jt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Jt?[G_(n.children[Jt],!1)]:[`${i}:${G_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${$b(n)}/${e[0]}`:`${$b(n)}/(${e.join("//")})`}}function yH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kb(n){return yH(n).replace(/%3B/gi,";")}function g1(n){return yH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yb(n){return decodeURIComponent(n)}function CH(n){return Yb(n.replace(/\+/g,"%20"))}function wH(n){return`${g1(n.path)}${function tre(n){return Object.keys(n).map(t=>`;${g1(t)}=${g1(n[t])}`).join("")}(n.parameters)}`}const rre=/^[^\/()?;=#]+/;function qb(n){const t=n.match(rre);return t?t[0]:""}const ire=/^[^=?&#]+/,are=/^[^&#]+/;class lre{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Jt]=new wn(t,e)),r}parseSegment(){const t=qb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ae(4009,Ub);return this.capture(t),new N_(Yb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=qb(this.remaining);i&&(r=i,this.capture(r))}t[Yb(e)]=Yb(r)}parseQueryParam(t){const e=function ore(n){const t=n.match(ire);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=function sre(n){const t=n.match(are);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=CH(e),o=CH(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ae(4010,Ub);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jt);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Jt]:new wn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ae(4011,Ub)}}function v1(n){return n.segments.length>0?new wn([],{[Jt]:n}):n}function Xb(n){const t={};for(const r of Object.keys(n.children)){const o=Xb(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function ure(n){if(1===n.numberOfChildren&&n.children[Jt]){const t=n.children[Jt];return new wn(n.segments.concat(t.segments),t.children)}return n}(new wn(n.segments,t))}function Sh(n){return n instanceof Fd}const _1=!1;function cre(n,t,e,r,i){if(0===e.length)return jm(t.root,t.root,t.root,r,i);const o=function DH(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new SH(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return _o(o.outlets,(l,u)=>{s[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?e=!0:".."===s?t++:""!=s&&i.push(s))}),i):[...i,o]},[]);return new SH(e,t,r)}(e);return o.toRoot()?jm(t.root,t.root,new wn([],{}),r,i):function a(l){const u=function fre(n,t,e,r){if(n.isAbsolute)return new Um(t.root,!0,0);if(-1===r)return new Um(e,e===t.root,0);return function RH(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ae(4005,_1&&"Invalid number of '../'");i=r.segments.length}return new Um(r,!1,i-o)}(e,r+(V_(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),c=u.processChildren?zm(u.segmentGroup,u.index,o.commands):y1(u.segmentGroup,u.index,o.commands);return jm(t.root,u.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function V_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function H_(n){return"object"==typeof n&&null!=n&&n.outlets}function jm(n,t,e,r,i){let a,o={};r&&_o(r,(l,u)=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),a=n===t?e:EH(n,t,e);const s=v1(Xb(a));return new Fd(s,o,i)}function EH(n,t,e){const r={};return _o(n.children,(i,o)=>{r[o]=i===t?e:EH(i,t,e)}),new wn(n.segments,r)}class SH{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&V_(r[0]))throw new Ae(4003,_1&&"Root segment cannot have matrix parameters");const i=r.find(H_);if(i&&i!==hH(r))throw new Ae(4004,_1&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Um{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function y1(n,t,e){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return zm(n,t,e);const r=function pre(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const a=n.segments[i],s=e[r];if(H_(s))break;const l=`${s}`,u=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!OH(l,u,a))return o;r+=2}else{if(!OH(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new wn(n.segments.slice(0,r.pathIndex),{});return o.children[Jt]=new wn(n.segments.slice(r.pathIndex),n.children),zm(o,0,i)}return r.match&&0===i.length?new wn(n.segments,{}):r.match&&!n.hasChildren()?C1(n,t,e):r.match?zm(n,0,i):C1(n,t,e)}function zm(n,t,e){if(0===e.length)return new wn(n.segments,{});{const r=function hre(n){return H_(n[0])?n[0].outlets:{[Jt]:n}}(e),i={};return!r[Jt]&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length?zm(n.children[Jt],t,e):(_o(r,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[a]=y1(n.children[a],t,o))}),_o(n.children,(o,a)=>{void 0===r[a]&&(i[a]=o)}),new wn(n.segments,i))}}function C1(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(H_(o)){const l=mre(o.outlets);return new wn(r,l)}if(0===i&&V_(e[0])){r.push(new N_(n.segments[t].path,TH(e[0]))),i++;continue}const a=H_(o)?o.outlets[Jt]:`${o}`,s=i<e.length-1?e[i+1]:null;a&&s&&V_(s)?(r.push(new N_(a,TH(s))),i+=2):(r.push(new N_(a,{})),i++)}return new wn(r,{})}function mre(n){const t={};return _o(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=C1(new wn([],{}),0,e))}),t}function TH(n){const t={};return _o(n,(e,r)=>t[r]=`${e}`),t}function OH(n,t,e){return n==e.path&&bu(t,e.parameters)}const W_="imperative";class xu{constructor(t,e){this.id=t,this.url=e}}class w1 extends xu{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dh extends xu{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zb extends xu{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qb extends xu{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class b1 extends xu{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gre extends xu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vre extends xu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _re extends xu{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yre extends xu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cre extends xu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wre{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bre{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xre{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ere{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sre{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dre{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AH{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ore=(()=>{class n{createUrlTree(e,r,i,o,a,s){return cre(e||r.root,i,o,a,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),Pre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(t){return Ore.\u0275fac(t)},providedIn:"root"}),n})();class PH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=x1(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=x1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=E1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return E1(t,this._root).map(e=>e.value)}}function x1(n,t){if(n===t.value)return t;for(const e of t.children){const r=x1(n,e);if(r)return r}return null}function E1(n,t){if(n===t.value)return[t];for(const e of t.children){const r=E1(n,e);if(r.length)return r.unshift(t),r}return[]}class Oc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $m(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class MH extends PH{constructor(t,e){super(t),this.snapshot=e,S1(this,t)}toString(){return this.snapshot.toString()}}function IH(n,t){const e=function Mre(n,t){const a=new Jb([],{},{},"",{},Jt,t,null,n.root,-1,{});return new kH("",new Oc(a,[]))}(n,t),r=new Ml([new N_("",{})]),i=new Ml({}),o=new Ml({}),a=new Ml({}),s=new Ml(""),l=new Eu(r,i,a,s,o,Jt,t,e.root);return l.snapshot=e.root,new MH(new Oc(l,[]),e)}class Eu{constructor(t,e,r,i,o,a,s,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.title=this.data?.pipe(jt(u=>u[L_]))??Ot(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jt(t=>Wm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jt(t=>Wm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FH(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Ire(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Jb{get title(){return this.data?.[L_]}constructor(t,e,r,i,o,a,s,l,u,c,d){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kH extends PH{constructor(t,e){super(e),this.url=t,S1(this,e)}toString(){return LH(this._root)}}function S1(n,t){t.value._routerState=n,t.children.forEach(e=>S1(n,e))}function LH(n){const t=n.children.length>0?` { ${n.children.map(LH).join(", ")} } `:"";return`${n.value}${t}`}function D1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bu(t.params,e.params)||n.params.next(e.params),function Kne(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function R1(n,t){const e=bu(n.params,t.params)&&function Zne(n,t){return Eh(n,t)&&n.every((e,r)=>bu(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||R1(n.parent,t.parent))}function j_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function kre(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return j_(n,r,i);return j_(n,r)})}(n,t,e);return new Oc(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>j_(n,s)),a}}const r=function Lre(n){return new Eu(new Ml(n.url),new Ml(n.params),new Ml(n.queryParams),new Ml(n.fragment),new Ml(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>j_(n,o));return new Oc(r,i)}}const T1="ngNavigationCancelingError";function NH(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Sh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=BH(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function BH(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[T1]=!0,r.cancellationCode=t,e&&(r.url=e),r}function GH(n){return VH(n)&&Sh(n.url)}function VH(n){return n&&n[T1]}class Nre{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new U_,this.attachRef=null}}let U_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Nre,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ex=!1;let O1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=Lt(U_),this.location=Lt(ba),this.changeDetector=Lt(R_),this.environmentInjector=Lt(pu)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,ex);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,ex);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,ex);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ae(4013,ex);this._activatedRoute=e;const i=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new Bre(e,s,i.injector);if(r&&function Gre(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(a);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=bt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_t]}),n})();class Bre{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Eu?this.route:t===U_?this.childContexts:this.parent.get(t,e)}}let A1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[lO],decls:1,vars:0,template:function(e,r){1&e&&ji(0,"router-outlet")},dependencies:[O1],encapsulation:2}),n})();function HH(n,t){return n.providers&&!n._injector&&(n._injector=cb(n.providers,t,`Route: ${n.path}`)),n._injector??t}function M1(n){const t=n.children&&n.children.map(M1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=A1),e}function zs(n){return n.outlet||Jt}function WH(n,t){const e=n.filter(r=>zs(r)===t);return e.push(...n.filter(r=>zs(r)!==t)),e}function z_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ure{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),D1(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=$m(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),_o(i,(o,a)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$m(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$m(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=$m(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dre(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ere(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(D1(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),D1(s.route.value),this.activateChildRoutes(t,null,a.children)}else{const s=z_(i.snapshot),l=s?.get(hh)??null;a.attachRef=null,a.route=i,a.resolver=l,a.injector=s,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class jH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tx{constructor(t,e){this.component=t,this.route=e}}function zre(n,t,e){const r=n._root;return $_(r,t?t._root:null,e,[r.value])}function Km(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function Bv(n){return null!==th(n)}(n)?t.get(n):n:r}function $_(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=$m(t);return n.children.forEach(a=>{(function Kre(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function Yre(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Eh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Eh(n.url,t.url)||!bu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R1(n,t)||!bu(n.queryParams,t.queryParams);default:return!R1(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new jH(r)):(o.data=a.data,o._resolvedData=a._resolvedData),$_(n,t,o.component?s?s.children:null:e,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new tx(s.outlet.component,a))}else a&&K_(t,s,i),i.canActivateChecks.push(new jH(r)),$_(n,null,o.component?s?s.children:null:e,r,i)})(a,o[a.value.outlet],e,r.concat([a.value]),i),delete o[a.value.outlet]}),_o(o,(a,s)=>K_(a,e.getContext(s),i)),i}function K_(n,t,e){const r=$m(n),i=n.value;_o(r,(o,a)=>{K_(o,i.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new tx(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Y_(n){return"function"==typeof n}function I1(n){return n instanceof Hb||"EmptyError"===n?.name}const nx=Symbol("INITIAL_VALUE");function Ym(){return wu(n=>c1(n.map(t=>t.pipe(xh(1),f1(nx)))).pipe(jt(t=>{for(const e of t)if(!0!==e){if(e===nx)return nx;if(!1===e||e instanceof Fd)return e}return!0}),Il(t=>t!==nx),xh(1)))}function UH(n){return function qf(...n){return zt(n)}(Ko(t=>{if(Sh(t))throw NH(0,t)}),jt(t=>!0===t))}const F1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zH(n,t,e,r,i){const o=k1(n,t,e);return o.matched?function die(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Ot(i.map(a=>{const s=Km(a,n);return Id(function eie(n){return n&&Y_(n.canMatch)}(s)?s.canMatch(t,e):n.runInContext(()=>s(t,e)))})).pipe(Ym(),UH()):Ot(!0)}(r=HH(t,r),t,e).pipe(jt(a=>!0===a?o:{...F1})):Ot(o)}function k1(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...F1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||$ne)(e,n,t);if(!i)return{...F1};const o={};_o(i.posParams,(s,l)=>{o[l]=s.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function rx(n,t,e,r){if(e.length>0&&function pie(n,t,e){return e.some(r=>ix(n,t,r)&&zs(r)!==Jt)}(n,e,r)){const o=new wn(t,function hie(n,t,e,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zs(o)!==Jt){const a=new wn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,i[zs(o)]=a}return i}(n,t,r,new wn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function mie(n,t,e){return e.some(r=>ix(n,t,r))}(n,e,r)){const o=new wn(n.segments,function fie(n,t,e,r,i){const o={};for(const a of r)if(ix(n,e,a)&&!i[zs(a)]){const s=new wn([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,o[zs(a)]=s}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new wn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function ix(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function $H(n,t,e,r){return!!(zs(n)===r||r!==Jt&&ix(t,e,n))&&("**"===n.path||k1(t,n,e).matched)}function KH(n,t,e){return 0===t.length&&!n.children[e]}const ox=!1;class ax{constructor(t){this.segmentGroup=t||null}}class YH{constructor(t){this.urlTree=t}}function q_(n){return k_(new ax(n))}function qH(n){return k_(new YH(n))}class yie{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=rx(this.urlTree.root,[],[],this.config).segmentGroup,e=new wn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Jt).pipe(jt(o=>this.createUrlTree(Xb(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Md(o=>{if(o instanceof YH)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof ax?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Jt).pipe(jt(i=>this.createUrlTree(Xb(i),t.queryParams,t.fragment))).pipe(Md(i=>{throw i instanceof ax?this.noMatchError(i):i}))}noMatchError(t){return new Ae(4002,ox)}createUrlTree(t,e,r){const i=v1(t);return new Fd(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(jt(o=>new wn([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Tt(i).pipe(Pd(o=>{const a=r.children[o],s=WH(e,o);return this.expandSegmentGroup(t,s,a,o).pipe(jt(l=>({segment:l,outlet:o})))}),uH((o,a)=>(o[a.outlet]=a.segment,o),{}),cH())}expandSegment(t,e,r,i,o,a){return Tt(r).pipe(Pd(s=>this.expandSegmentAgainstRoute(t,e,r,s,i,o,a).pipe(Md(u=>{if(u instanceof ax)return Ot(null);throw u}))),Ad(s=>!!s),Md((s,l)=>{if(I1(s))return KH(e,i,o)?Ot(new wn([],{})):q_(e);throw s}))}expandSegmentAgainstRoute(t,e,r,i,o,a,s){return $H(i,e,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,a):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,a):q_(e):q_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qH(o):this.lineralizeSegments(r,o).pipe(Rr(a=>{const s=new wn(a,{});return this.expandSegment(t,s,e,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,a){const{matched:s,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=k1(e,i,o);if(!s)return q_(e);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?qH(d):this.lineralizeSegments(i,d).pipe(Rr(h=>this.expandSegment(t,e,r,h.concat(u),a,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=HH(r,t),r.loadChildren?(r._loadedRoutes?Ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(jt(s=>(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,new wn(i,{})))):Ot(new wn(i,{}))):zH(e,r,i,t).pipe(wu(({matched:a,consumedSegments:s,remainingSegments:l})=>a?this.getChildConfig(t=r._injector??t,r,i).pipe(Rr(c=>{const d=c.injector??t,h=c.routes,{segmentGroup:p,slicedSegments:m}=rx(e,s,l,h),v=new wn(p.segments,p.children);if(0===m.length&&v.hasChildren())return this.expandChildren(d,h,v).pipe(jt(b=>new wn(s,b)));if(0===h.length&&0===m.length)return Ot(new wn(s,{}));const _=zs(r)===o;return this.expandSegment(d,v,h,m,_?Jt:o,!0).pipe(jt(w=>new wn(s.concat(w.segments),w.children)))})):q_(e)))}getChildConfig(t,e,r){return e.children?Ot({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ot({routes:e._loadedRoutes,injector:e._loadedInjector}):function cie(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Ot(!0):Ot(i.map(a=>{const s=Km(a,n);return Id(function Xre(n){return n&&Y_(n.canLoad)}(s)?s.canLoad(t,e):n.runInContext(()=>s(t,e)))})).pipe(Ym(),UH())}(t,e,r).pipe(Rr(i=>i?this.configLoader.loadChildren(t,e).pipe(Ko(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function vie(n){return k_(BH(ox,3))}())):Ot({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ot(r);if(i.numberOfChildren>1||!i.children[Jt])return t.redirectTo,k_(new Ae(4e3,ox));i=i.children[Jt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Fd(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return _o(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const s=i.substring(1);r[o]=e[s]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let a={};return _o(e.children,(s,l)=>{a[l]=this.createSegmentGroup(t,s,r,i)}),new wn(o,a)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Ae(4001,ox);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class wie{}class Eie{constructor(t,e,r,i,o,a,s){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s}recognize(){const t=rx(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Jt).pipe(jt(e=>{if(null===e)return null;const r=new Jb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oc(r,e),o=new kH(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=FH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Tt(Object.keys(r.children)).pipe(Pd(i=>{const o=r.children[i],a=WH(e,i);return this.processSegmentGroup(t,a,o,i)}),uH((i,o)=>i&&o?(i.push(...o),i):null),function jne(n,t=!1){return Jn((e,r)=>{let i=0;e.subscribe(qn(r,o=>{const a=n(o,i++);(a||t)&&r.next(o),!a&&r.complete()}))})}(i=>null!==i),jb(null),cH(),jt(i=>{if(null===i)return null;const o=ZH(i);return function Sie(n){n.sort((t,e)=>t.value.outlet===Jt?-1:e.value.outlet===Jt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Tt(e).pipe(Pd(a=>this.processSegmentAgainstRoute(a._injector??t,a,r,i,o)),Ad(a=>!!a),Md(a=>{if(I1(a))return KH(r,i,o)?Ot([]):Ot(null);throw a}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!$H(e,r,i,o))return Ot(null);let a;if("**"===e.path){const s=i.length>0?hH(i).parameters:{},l=JH(r)+i.length;a=Ot({snapshot:new Jb(i,s,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e3(e),zs(e),e.component??e._loadedComponent??null,e,QH(r),l,t3(e)),consumedSegments:[],remainingSegments:[]})}else a=zH(r,e,i,t).pipe(jt(({matched:s,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!s)return null;const d=JH(r)+l.length;return{snapshot:new Jb(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,e3(e),zs(e),e.component??e._loadedComponent??null,e,QH(r),d,t3(e)),consumedSegments:l,remainingSegments:u}}));return a.pipe(wu(s=>{if(null===s)return Ot(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=s;t=e._injector??t;const d=e._loadedInjector??t,h=function Die(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:p,slicedSegments:m}=rx(r,u,c,h.filter(_=>void 0===_.redirectTo));if(0===m.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(jt(_=>null===_?null:[new Oc(l,_)]));if(0===h.length&&0===m.length)return Ot([new Oc(l,[])]);const v=zs(e)===o;return this.processSegment(d,h,p,m,v?Jt:o).pipe(jt(_=>null===_?null:[new Oc(l,_)]))}))}}function Rie(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ZH(n){const t=[],e=new Set;for(const r of n){if(!Rie(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=ZH(r.children);t.push(new Oc(r.value,i))}return t.filter(r=>!e.has(r))}function QH(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JH(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function e3(n){return n.data||{}}function t3(n){return n.resolve||{}}function n3(n){return"string"==typeof n.title||null===n.title}function L1(n){return wu(t=>{const e=n(t);return e?Tt(e).pipe(jt(()=>t)):Ot(t)})}const qm=new tt("ROUTES");let N1=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ot(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Id(e.loadComponent()).pipe(jt(o3),Ko(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),p1(()=>{this.componentLoaders.delete(e)})),i=new sH(r,()=>new Yt).pipe(d1());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(s)?u=s:(l=s.create(e).injector,u=fH(l.get(qm,[],Et.Self|Et.Optional)));return{routes:u.map(M1),injector:l}}),p1(()=>{this.childrenLoaders.delete(r)})),a=new sH(o,()=>new Yt).pipe(d1());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(e){return Id(e()).pipe(jt(o3),Rr(i=>i instanceof KB||Array.isArray(i)?Ot(i):Tt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(Te(os),Te(kG))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o3(n){return function Lie(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lx=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yt,this.configLoader=Lt(N1),this.environmentInjector=Lt(pu),this.urlSerializer=Lt(B_),this.rootContexts=Lt(U_),this.navigationId=0,this.afterPreactivation=()=>Ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new bre(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wre(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new Ml({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W_,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Il(r=>0!==r.id),jt(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),wu(r=>{let i=!1,o=!1;return Ot(r).pipe(Ko(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wu(a=>{const s=e.browserUrlTree.toString(),l=!e.navigated||a.extractedUrl.toString()!==s||s!==e.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const c="";return this.events.next(new Qb(a.id,e.serializeUrl(r.rawUrl),c,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),Is}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return a3(a.source)&&(e.browserUrlTree=a.extractedUrl),Ot(a).pipe(wu(c=>{const d=this.transitions?.getValue();return this.events.next(new w1(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Is:Promise.resolve(c)}),function Cie(n,t,e,r){return wu(i=>function _ie(n,t,e,r,i){return new yie(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(jt(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Ko(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function Oie(n,t,e,r,i){return Rr(o=>function xie(n,t,e,r,i,o,a="emptyOnly"){return new Eie(n,t,e,r,i,a,o).recognize().pipe(wu(s=>null===s?function bie(n){return new nr(t=>t.error(n))}(new wie):Ot(s)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(jt(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ko(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);e.setBrowserUrl(h,c)}e.browserUrlTree=c.urlAfterRedirects}const d=new gre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:p,extras:m}=a,v=new w1(c,this.urlSerializer.serialize(d),h,p);this.events.next(v);const _=IH(d,this.rootComponentType).snapshot;return Ot(r={...a,targetSnapshot:_,urlAfterRedirects:d,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new Qb(a.id,e.serializeUrl(r.extractedUrl),c,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),Is}}),Ko(a=>{const s=new vre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),jt(a=>r={...a,guards:zre(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function nie(n,t){return Rr(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Ot({...e,guardsResult:!0}):function rie(n,t,e,r){return Tt(n).pipe(Rr(i=>function uie(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ot(o.map(s=>{const l=z_(t)??i,u=Km(s,l);return Id(function Jre(n){return n&&Y_(n.canDeactivate)}(u)?u.canDeactivate(n,t,e,r):l.runInContext(()=>u(n,t,e,r))).pipe(Ad())})).pipe(Ym()):Ot(!0)}(i.component,i.route,e,t,r)),Ad(i=>!0!==i,!0))}(a,r,i,n).pipe(Rr(s=>s&&function qre(n){return"boolean"==typeof n}(s)?function iie(n,t,e,r){return Tt(t).pipe(Pd(i=>Wb(function aie(n,t){return null!==n&&t&&t(new xre(n)),Ot(!0)}(i.route.parent,r),function oie(n,t){return null!==n&&t&&t(new Sre(n)),Ot(!0)}(i.route,r),function lie(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function $re(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>aH(()=>Ot(a.guards.map(l=>{const u=z_(a.node)??e,c=Km(l,u);return Id(function Qre(n){return n&&Y_(n.canActivateChild)}(c)?c.canActivateChild(r,n):u.runInContext(()=>c(r,n))).pipe(Ad())})).pipe(Ym())));return Ot(o).pipe(Ym())}(n,i.path,e),function sie(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ot(!0);const i=r.map(o=>aH(()=>{const a=z_(t)??e,s=Km(o,a);return Id(function Zre(n){return n&&Y_(n.canActivate)}(s)?s.canActivate(t,n):a.runInContext(()=>s(t,n))).pipe(Ad())}));return Ot(i).pipe(Ym())}(n,i.route,e))),Ad(i=>!0!==i,!0))}(r,o,n,t):Ot(s)),jt(s=>({...e,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),Ko(a=>{if(r.guardsResult=a.guardsResult,Sh(a.guardsResult))throw NH(0,a.guardsResult);const s=new _re(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Il(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),L1(a=>{if(a.guards.canActivateChecks.length)return Ot(a).pipe(Ko(s=>{const l=new yre(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),wu(s=>{let l=!1;return Ot(s).pipe(function Aie(n,t){return Rr(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Ot(e);let o=0;return Tt(i).pipe(Pd(a=>function Pie(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!n3(i)&&(o[L_]=i.title),function Mie(n,t,e,r){const i=function Iie(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ot({});const o={};return Tt(i).pipe(Rr(a=>function Fie(n,t,e,r){const i=z_(t)??r,o=Km(n,i);return Id(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[a],t,e,r).pipe(Ad(),Ko(s=>{o[a]=s}))),h1(1),function Une(n){return jt(()=>n)}(o),Md(a=>I1(a)?Is:k_(a)))}(o,n,t,r).pipe(jt(a=>(n._resolvedData=a,n.data=FH(n,e).resolve,i&&n3(i)&&(n.data[L_]=i.title),null)))}(a.route,r,n,t)),Ko(()=>o++),h1(1),Rr(a=>o===i.length?Ot(e):Is))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ko({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),Ko(s=>{const l=new Cre(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),L1(a=>{const s=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ko(c=>{l.component=c}),jt(()=>{})));for(const c of l.children)u.push(...s(c));return u};return c1(s(a.targetSnapshot.root)).pipe(jb(),xh(1))}),L1(()=>this.afterPreactivation()),jt(a=>{const s=function Fre(n,t,e){const r=j_(n,t._root,e?e._root:void 0);return new MH(r,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:s}}),Ko(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>jt(r=>(new Ure(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Ko({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Dh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),p1(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Md(a=>{if(o=!0,VH(a)){GH(a)||(e.navigated=!0,e.restoreHistory(r,!0));const s=new Zb(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(s),GH(a)){const l=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||a3(r.source)};e.scheduleNavigation(l,W_,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const s=new b1(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(s);try{r.resolve(e.errorHandler(a))}catch(l){r.reject(l)}}return Is}))}))}cancelNavigationTransition(e,r,i){const o=new Zb(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a3(n){return n!==W_}let s3=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Jt);return r}getResolvedTitleForRoute(e){return e.data[L_]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return Lt(Nie)},providedIn:"root"}),n})(),Nie=(()=>{class n extends s3{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(Te(eH))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return Lt(Vie)},providedIn:"root"}),n})();class Gie{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Vie=(()=>{class n extends Gie{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ux=new tt("",{providedIn:"root",factory:()=>({})});let Wie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:function(){return Lt(jie)},providedIn:"root"}),n})(),jie=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uie(n){throw n}function zie(n,t,e){return t.parse("/")}const $ie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ea=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(wJ),this.isNgZoneEnabled=!1,this.options=Lt(ux,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Uie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(Wie),this.routeReuseStrategy=Lt(Bie),this.urlCreationStrategy=Lt(Pre),this.titleStrategy=Lt(s3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fH(Lt(qm,{optional:!0})??[]),this.navigationTransitions=Lt(lx),this.urlSerializer=Lt(B_),this.location=Lt(O_),this.isNgZoneEnabled=Lt(Pn)instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IH(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(e);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(M1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a;let c=null;switch(s){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,c,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Sh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,W_,null,r)}navigate(e,r={skipLocationChange:!1}){return function Yie(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Ae(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...$ie}:!1===r?{...Kie}:r,Sh(e))return mH(this.currentUrlTree,e,i);const o=this.parseUrl(e);return mH(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,u,c;return a?(s=a.resolve,l=a.reject,u=a.promise):u=new Promise((d,h)=>{s=d,l=h}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cx=(()=>{class n{constructor(e,r,i,o,a,s){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yt;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof Dh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Hm(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Hm(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Hm(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function bN(n,t,e){return function RY(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?wN:CN}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(pe(Ea),pe(Eu),function Pw(n){return function Q$(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(dL(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(vo(),n)}("tabindex"),pe(mu),pe(kr),pe(wh))},n.\u0275dir=bt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Dl("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_t]}),n})();class l3{}let Zie=(()=>{class n{constructor(e,r,i,o,a){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Il(e=>e instanceof Dh),Pd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=cb(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,s=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Tt(i).pipe(rc())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Ot(null);const o=i.pipe(Rr(a=>null===a?Ot(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return r.loadComponent&&!r._loadedComponent?Tt([o,this.loader.loadComponent(r)]).pipe(rc()):o})}}return n.\u0275fac=function(e){return new(e||n)(Te(Ea),Te(kG),Te(pu),Te(l3),Te(N1))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G1=new tt("");let u3=(()=>{class n{constructor(e,r,i,o,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof w1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof AH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){!function RT(){throw new Error("invalid")}()},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();var ss=(()=>((ss=ss||{})[ss.COMPLETE=0]="COMPLETE",ss[ss.FAILED=1]="FAILED",ss[ss.REDIRECTING=2]="REDIRECTING",ss))();const Xm=!1;function kd(n,t){return{\u0275kind:n,\u0275providers:t}}const V1=new tt("",{providedIn:"root",factory:()=>!1});function d3(){const n=Lt(os);return t=>{const e=n.get(Vm);if(t!==e.components[0])return;const r=n.get(Ea),i=n.get(f3);1===n.get(H1)&&r.initialNavigation(),n.get(h3,null,Et.Optional)?.setUpPreloading(),n.get(G1,null,Et.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const f3=new tt(Xm?"bootstrap done indicator":"",{factory:()=>new Yt}),H1=new tt(Xm?"initial navigation":"",{providedIn:"root",factory:()=>1});function noe(){let n=[];return n=Xm?[{provide:jw,multi:!0,useFactory:()=>{const t=Lt(Ea);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function Rre(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],kd(1,n)}const h3=new tt(Xm?"router preloader":"");function roe(n){return kd(0,[{provide:h3,useExisting:Zie},{provide:l3,useExisting:n}])}const X_=!1,p3=new tt(X_?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ioe=[O_,{provide:B_,useClass:m1},Ea,U_,{provide:Eu,useFactory:function c3(n){return n.routerState.root},deps:[Ea]},N1,X_?{provide:V1,useValue:!0}:[]];function ooe(){return new WG("Router",Ea)}let m3=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[ioe,X_&&r?.enableTracing?noe().\u0275providers:[],{provide:qm,multi:!0,useValue:e},{provide:p3,useFactory:uoe,deps:[[Ea,new gc,new xd]]},{provide:ux,useValue:r||{}},r?.useHash?{provide:wh,useClass:lee}:{provide:wh,useClass:dV},{provide:G1,useFactory:()=>{const n=Lt(Dte),t=Lt(Pn),e=Lt(ux),r=Lt(lx),i=Lt(B_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new u3(i,r,n,t,e)}},r?.preloadingStrategy?roe(r.preloadingStrategy).\u0275providers:[],{provide:WG,multi:!0,useFactory:ooe},r?.initialNavigation?coe(r):[],[{provide:g3,useFactory:d3},{provide:FG,multi:!0,useExisting:g3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:qm,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(Te(p3,8))},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[A1]}),n})();function uoe(n){if(X_&&n)throw new Ae(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function coe(n){return["disabled"===n.initialNavigation?kd(3,[{provide:mb,multi:!0,useFactory:()=>{const t=Lt(Ea);return()=>{t.setUpLocationChangeListener()}}},{provide:H1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kd(2,[{provide:H1,useValue:0},{provide:mb,multi:!0,deps:[os],useFactory:t=>{const e=t.get(aee,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(Ea),o=t.get(f3);(function Qie(n,t){n.events.pipe(Il(e=>e instanceof Dh||e instanceof Zb||e instanceof b1||e instanceof Qb),jt(e=>e instanceof Dh||e instanceof Qb?ss.COMPLETE:e instanceof Zb&&(0===e.code||1===e.code)?ss.REDIRECTING:ss.FAILED),Il(e=>e!==ss.REDIRECTING),xh(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(lx).afterPreactivation=()=>(r(!0),o.closed?Ot(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const g3=new tt(X_?"Router Initializer":"");function foe(n,t){1&n&&(q(0,"div",3),ji(1,"app-menu"),Y())}class Zm{constructor(t,e,r,i){this.document=t,this.renderer=e,this.router=r,this.loc_angular=i,this.m_appel_par_href=!1,this.title="Comptines"}ngOnInit(){Ie.m_app=this,Ie.m_app_doc=this.document,Ie.m_renderer=this.renderer,Ie.m_classe_fonte="moyenne";const e=window.location.href.indexOf("p=");if(e>0){const o=window.location.href.substring(e+"p=".length).split("|");Ie.m_id_prs_login=+o[0],Ie.m_num_ecran_appele=+o[1],Ie.m_num_bloc_appele=+o[2],Ie.m_id_appele=+o[3],Ie.m_classe_fonte=Ie.NomClasseFonte(+o[4]),this.m_appel_par_href=!0,this.router.navigate(["menu"])}else this.m_appel_par_href=!1;this.renderer.addClass(this.document.body,Ie.m_classe_fonte)}ngOnDestroy(){this.renderer.removeClass(this.document.body,Ie.m_classe_fonte)}}Zm.\u0275fac=function(t){return new(t||Zm)(pe(rr),pe(mu),pe(Ea),pe(O_))},Zm.\u0275cmp=Bn({type:Zm,selectors:[["app-root"]],decls:4,vars:1,consts:[["role","main",1,"bg",2,"height","100%"],["id","menu",4,"ngIf"],["id","ecran",1,"container",2,"height","calc(100% - 25px)"],["id","menu"]],template:function(t,e){1&t&&(q(0,"div",0),Wr(1,foe,2,0,"div",1),q(2,"div",2),ji(3,"router-outlet"),Y()()),2&t&&(oe(1),qe("ngIf",!e.m_appel_par_href))},styles:[".bg[_ngcontent-%COMP%]\n  {\n  flex: 1 1 auto;\n  width: 100%;\n  }\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 50px auto 32px;\n    padding: 0 16px;\n    max-width: 1280px;\n    flex-direction: column;\n    align-items: center;\n  }"]});let v3=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(pe(mu),pe(kr))},n.\u0275dir=bt({type:n}),n})(),Rh=(()=>{class n extends v3{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,features:[an]}),n})();const Fl=new tt("NgValueAccessor"),poe={provide:Fl,useExisting:Un(()=>dx),multi:!0};let dx=(()=>{class n extends Rh{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&Fe("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[gr([poe]),an]}),n})();const moe={provide:Fl,useExisting:Un(()=>Su),multi:!0},voe=new tt("CompositionEventMode");let Su=(()=>{class n extends v3{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function goe(){const n=Sc()?Sc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(pe(mu),pe(kr),pe(voe,8))},n.\u0275dir=bt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Fe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[gr([moe]),an]}),n})();const _oe=!1;const yo=new tt("NgValidators"),Nd=new tt("NgAsyncValidators");function fx(n){return null}function R3(n){return null!=n}function T3(n){const t=h_(n)?Tt(n):n;if(_oe&&!$T(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new Ae(-1101,e)}return t}function O3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function A3(n,t){return t.map(e=>e(n))}function P3(n){return n.map(t=>function woe(n){return!n.validate}(t)?t:e=>t.validate(e))}function W1(n){return null!=n?function M3(n){if(!n)return null;const t=n.filter(R3);return 0==t.length?null:function(e){return O3(A3(e,t))}}(P3(n)):null}function j1(n){return null!=n?function I3(n){if(!n)return null;const t=n.filter(R3);return 0==t.length?null:function(e){return function hoe(...n){const t=KC(n),{args:e,keys:r}=rH(n),i=new nr(o=>{const{length:a}=e;if(!a)return void o.complete();const s=new Array(a);let l=a,u=a;for(let c=0;c<a;c++){let d=!1;Bo(e[c]).subscribe(qn(o,h=>{d||(d=!0,u--),s[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?iH(r,s):s),o.complete())}))}});return t?i.pipe(u1(t)):i}(A3(e,t).map(T3)).pipe(jt(O3))}}(P3(n)):null}function F3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function k3(n){return n._rawValidators}function L3(n){return n._rawAsyncValidators}function U1(n){return n?Array.isArray(n)?n:[n]:[]}function hx(n,t){return Array.isArray(n)?n.includes(t):n===t}function N3(n,t){const e=U1(t);return U1(n).forEach(i=>{hx(e,i)||e.push(i)}),e}function B3(n,t){return U1(t).filter(e=>!hx(n,e))}class G3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=W1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=j1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Sa extends G3{get formDirective(){return null}get path(){return null}}class Bd extends G3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kl=(()=>{class n extends V3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(pe(Bd,2))},n.\u0275dir=bt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&m_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[an]}),n})(),Du=(()=>{class n extends V3{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(pe(Sa,10))},n.\u0275dir=bt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&m_("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[an]}),n})();function H3(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const K1=!1,Z_="VALID",mx="INVALID",Qm="PENDING",Q_="DISABLED";function Y1(n){return(gx(n)?n.validators:n)||null}function q1(n,t){return(gx(t)?t.asyncValidators:n)||null}function gx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function W3(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new Ae(1e3,K1?function Soe(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[e])throw new Ae(1001,K1?function Doe(n,t){return`Cannot find form control ${H3(n,t)}`}(t,e):"")}function j3(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new Ae(1002,K1?function Roe(n,t){return`Must supply a value for form control ${H3(n,t)}`}(t,i):"")})}class vx{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Z_}get invalid(){return this.status===mx}get pending(){return this.status==Qm}get disabled(){return this.status===Q_}get enabled(){return this.status!==Q_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(N3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(N3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(B3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(B3(t,this._rawAsyncValidators))}hasValidator(t){return hx(this._rawValidators,t)}hasAsyncValidator(t){return hx(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Q_,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Z_,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Z_||this.status===Qm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q_:Z_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qm,this._hasOwnPendingAsyncValidator=!0;const e=T3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Q_:this.errors?mx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qm)?Qm:this._anyControlsHaveStatus(mx)?mx:Z_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gx(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Toe(n){return Array.isArray(n)?W1(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Ooe(n){return Array.isArray(n)?j1(n):n||null}(this._rawAsyncValidators)}}class J_ extends vx{constructor(t,e,r){super(Y1(e),q1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){j3(this,!0,t),Object.keys(t).forEach(r=>{W3(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class U3 extends J_{}const Th=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>ey}),ey="always";function _x(n,t){return[...t.path,n]}function ty(n,t,e=ey){X1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Poe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z3(n,t)})}(n,t),function Ioe(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Moe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Aoe(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function yx(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),wx(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Cx(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function X1(n,t){const e=k3(n);null!==t.validator?n.setValidators(F3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=L3(n);null!==t.asyncValidator?n.setAsyncValidators(F3(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Cx(t._rawValidators,i),Cx(t._rawAsyncValidators,i)}function wx(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=k3(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=L3(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Cx(t._rawValidators,r),Cx(t._rawAsyncValidators,r),e}function z3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Q1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function J1(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Su?e=o:function Loe(n){return Object.getPrototypeOf(n.constructor)===Rh}(o)?r=o:i=o}),i||r||e||null}function Y3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function q3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ry=class extends vx{constructor(t=null,e,r){super(Y1(e),q1(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gx(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=q3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Y3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Y3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){q3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Hoe={provide:Bd,useExisting:Un(()=>tA)},Q3=(()=>Promise.resolve())();let tA=(()=>{class n extends Bd{constructor(e,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new ry,this._registered=!1,this.update=new Ye,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=J1(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Q1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Q3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Hm(r);Q3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_x(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(pe(Sa,9),pe(yo,10),pe(Nd,10),pe(Fl,10),pe(R_,8),pe(Th,8))},n.\u0275dir=bt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gr([Hoe]),an,_t]}),n})(),Ru=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=bt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Woe={provide:Fl,useExisting:Un(()=>bx),multi:!0};let bx=(()=>{class n extends Rh{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&Fe("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[gr([Woe]),an]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();const nA=new tt("NgModelWithFormControlWarning"),Koe={provide:Sa,useExisting:Un(()=>$s)};let $s=(()=>{class n extends Sa{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return ty(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){yx(e.control||null,e,!1),function Noe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function K3(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(yx(r||null,e),(n=>n instanceof ry)(i)&&(ty(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function $3(n,t){X1(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Foe(n,t){return wx(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X1(this.form,this),this._oldForm&&wx(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(pe(yo,10),pe(Nd,10),pe(Th,8))},n.\u0275dir=bt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gr([Koe]),an,_t]}),n})();const Xoe={provide:Bd,useExisting:Un(()=>Ll)};let Ll=(()=>{class n extends Bd{set isDisabled(e){}constructor(e,r,i,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=J1(0,o)}ngOnChanges(e){this._added||this._setUpControl(),Q1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return _x(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(pe(Sa,13),pe(yo,10),pe(Nd,10),pe(Fl,10),pe(nA,8))},n.\u0275dir=bt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gr([Xoe]),an,_t]}),n})();const Zoe={provide:Fl,useExisting:Un(()=>Ac),multi:!0};function o4(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ac=(()=>{class n extends Rh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=o4(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function Qoe(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Fe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gr([Zoe]),an]}),n})(),Gd=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(o4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(mu),pe(Ac,9))},n.\u0275dir=bt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Joe={provide:Fl,useExisting:Un(()=>oA),multi:!0};function a4(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let oA=(()=>{class n extends Rh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const a=o;for(let s=0;s<a.length;s++){const u=this._getOptionValue(a[s].value);i.push(u)}}else{const a=r.options;for(let s=0;s<a.length;s++){const l=a[s];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function eae(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Fe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gr([Joe]),an]}),n})(),Vd=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(a4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(a4(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(mu),pe(oA,9))},n.\u0275dir=bt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Oh=(()=>{class n{constructor(){this._validator=fx}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fx,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=bt({type:n,features:[_t]}),n})();const sae={provide:yo,useExisting:Un(()=>sA),multi:!0};let sA=(()=>{class n extends Oh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function s4(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function S3(n){return t=>function _3(n){return null!=n&&"number"==typeof n.length}(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275dir=bt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Dl("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[gr([sae]),an]}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[J3]}),n})();class g4 extends vx{constructor(t,e,r){super(Y1(e),q1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){j3(this,!1,t),t.forEach((r,i)=>{W3(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function v4(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let o={};return v4(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new J_(i,o)}record(e,r=null){const i=this._reduceControls(e);return new U3(i,r)}control(e,r,i){let o={};return this.useNonNullable?(v4(r)?o=r:(o.validators=r,o.asyncValidators=i),new ry(e,{...o,nonNullable:!0})):new ry(e,r,i)}array(e,r,i){const o=e.map(a=>this._createControl(a));return new g4(o,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof ry||e instanceof vx?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$a=(()=>{class n extends _4{group(e,r=null){return super.group(e,r)}control(e,r,i){return super.control(e,r,i)}array(e,r,i){return super.array(e,r,i)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Th,useValue:e.callSetDisabledState??ey}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[m4]}),n})(),cae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:nA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Th,useValue:e.callSetDisabledState??ey}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[m4]}),n})();class xx{}class lA{}class Pc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dae{encodeKey(t){return y4(t)}encodeValue(t){return y4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const hae=/%(\d[a-f0-9])/gi,pae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function y4(n){return encodeURIComponent(n).replace(hae,(t,e)=>pae[e]??t)}function Ex(n){return`${n}`}class Hd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dae,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fae(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,s]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(Ex):[Ex(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ex(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Ex(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class mae{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function C4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function w4(n){return typeof Blob<"u"&&n instanceof Blob}function b4(n){return typeof FormData<"u"&&n instanceof FormData}class iy{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gae(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Pc),this.context||(this.context=new mae),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+a}}else this.params=new Hd,this.urlWithParams=e}serializeBody(){return null===this.body?null:C4(this.body)||w4(this.body)||b4(this.body)||function vae(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b4(this.body)?null:w4(this.body)?this.body.type||null:C4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const c=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),u)),new iy(e,r,o,{params:u,headers:l,context:c,reportProgress:s,responseType:i,withCredentials:a})}}var Oi=(()=>((Oi=Oi||{})[Oi.Sent=0]="Sent",Oi[Oi.UploadProgress=1]="UploadProgress",Oi[Oi.ResponseHeader=2]="ResponseHeader",Oi[Oi.DownloadProgress=3]="DownloadProgress",Oi[Oi.Response=4]="Response",Oi[Oi.User=5]="User",Oi))();class uA{constructor(t,e=200,r="OK"){this.headers=t.headers||new Pc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cA extends uA{constructor(t={}){super(t),this.type=Oi.ResponseHeader}clone(t={}){return new cA({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sx extends uA{constructor(t={}){super(t),this.type=Oi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sx({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class x4 extends uA{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function dA(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let eo=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof iy)o=e;else{let l,u;l=i.headers instanceof Pc?i.headers:new Pc(i.headers),i.params&&(u=i.params instanceof Hd?i.params:new Hd({fromObject:i.params})),o=new iy(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Ot(o).pipe(Pd(l=>this.handler.handle(l)));if(e instanceof iy||"events"===i.observe)return a;const s=a.pipe(Il(l=>l instanceof Sx));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(jt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(jt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(jt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(jt(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Hd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,dA(i,r))}post(e,r,i={}){return this.request("POST",e,dA(i,r))}put(e,r,i={}){return this.request("PUT",e,dA(i,r))}}return n.\u0275fac=function(e){return new(e||n)(Te(xx))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function E4(n,t){return t(n)}function _ae(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const Cae=new tt("HTTP_INTERCEPTORS"),oy=new tt("HTTP_INTERCEPTOR_FNS");function wae(){let n=null;return(t,e)=>(null===n&&(n=(Lt(Cae,{optional:!0})??[]).reduceRight(_ae,E4)),n(t,e))}let S4=(()=>{class n extends xx{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(oy)));this.chain=r.reduceRight((i,o)=>function yae(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),E4)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(Te(lA),Te(pu))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const Sae=/^\)\]\}',?\n/;let R4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nr(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((p,m)=>i.setRequestHeader(p,m.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const p=e.detectContentTypeHeader();null!==p&&i.setRequestHeader("Content-Type",p)}if(e.responseType){const p=e.responseType.toLowerCase();i.responseType="json"!==p?p:"text"}const o=e.serializeBody();let a=null;const s=()=>{if(null!==a)return a;const p=i.statusText||"OK",m=new Pc(i.getAllResponseHeaders()),v=function Dae(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return a=new cA({headers:m,status:i.status,statusText:p,url:v}),a},l=()=>{let{headers:p,status:m,statusText:v,url:_}=s(),C=null;204!==m&&(C=typeof i.response>"u"?i.responseText:i.response),0===m&&(m=C?200:0);let w=m>=200&&m<300;if("json"===e.responseType&&"string"==typeof C){const b=C;C=C.replace(Sae,"");try{C=""!==C?JSON.parse(C):null}catch(E){C=b,w&&(w=!1,C={error:E,text:C})}}w?(r.next(new Sx({body:C,headers:p,status:m,statusText:v,url:_||void 0})),r.complete()):r.error(new x4({error:C,headers:p,status:m,statusText:v,url:_||void 0}))},u=p=>{const{url:m}=s(),v=new x4({error:p,status:i.status||0,statusText:i.statusText||"Unknown Error",url:m||void 0});r.error(v)};let c=!1;const d=p=>{c||(r.next(s()),c=!0);let m={type:Oi.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===e.responseType&&i.responseText&&(m.partialText=i.responseText),r.next(m)},h=p=>{let m={type:Oi.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),r.next(m)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),e.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:Oi.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),e.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(Te(PV))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const fA=new tt("XSRF_ENABLED"),T4=new tt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),O4=new tt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class A4{}let Oae=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=wV(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(Te(rr),Te(vb),Te(T4))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();function Aae(n,t){const e=n.url.toLowerCase();if(!Lt(fA)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=Lt(A4).getToken(),i=Lt(O4);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var fi=(()=>((fi=fi||{})[fi.Interceptors=0]="Interceptors",fi[fi.LegacyInterceptors=1]="LegacyInterceptors",fi[fi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",fi[fi.NoXsrfProtection=3]="NoXsrfProtection",fi[fi.JsonpSupport=4]="JsonpSupport",fi[fi.RequestsMadeViaParent=5]="RequestsMadeViaParent",fi))();function Jm(n,t){return{\u0275kind:n,\u0275providers:t}}function Pae(...n){const t=[eo,R4,S4,{provide:xx,useExisting:S4},{provide:lA,useExisting:R4},{provide:oy,useValue:Aae,multi:!0},{provide:fA,useValue:!0},{provide:A4,useClass:Oae}];for(const e of n)t.push(...e.\u0275providers);return function TY(n){return{\u0275providers:n}}(t)}const P4=new tt("LEGACY_INTERCEPTOR_FN");let Iae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[Pae(Jm(fi.LegacyInterceptors,[{provide:P4,useFactory:wae},{provide:oy,useExisting:P4,multi:!0}]))]}),n})();function M4(n,t,e,r,i,o,a){try{var s=n[o](a),l=s.value}catch(u){return void e(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ar(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(l){M4(o,r,i,a,s,"next",l)}function s(l){M4(o,r,i,a,s,"throw",l)}a(void 0)})}}var ay={version:"0.18.5"},ls=1200,Ah=1252,Fae=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],hA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Dx=function(n){-1!=Fae.indexOf(n)&&(Ah=hA[0]=n)},Ks=function(n){ls=n,Dx(n)};var Vn,sy=function(t){return String.fromCharCode(t)},pA=function(t){return String.fromCharCode(t)},Qr=null,ly=!0,Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function uy(n){for(var t="",e=0,r=0,i=0,o=0,a=0,s=0,l=0,u=0;u<n.length;)o=(e=n.charCodeAt(u++))>>2,a=(3&e)<<4|(r=n.charCodeAt(u++))>>4,s=(15&r)<<2|(i=n.charCodeAt(u++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),t+=Wd.charAt(o)+Wd.charAt(a)+Wd.charAt(s)+Wd.charAt(l);return t}function us(n){var t="",o=0,a=0,s=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)o=Wd.indexOf(n.charAt(u++)),a=Wd.indexOf(n.charAt(u++)),t+=String.fromCharCode(o<<2|a>>4),64!==(s=Wd.indexOf(n.charAt(u++)))&&(t+=String.fromCharCode((15&a)<<4|s>>2)),64!==(l=Wd.indexOf(n.charAt(u++)))&&(t+=String.fromCharCode((3&s)<<6|l));return t}var yn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Mc=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function jd(n){return yn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function F4(n){return yn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var cs=function(t){return yn?Mc(t,"binary"):t.split("").map(function(e){return 255&e.charCodeAt(0)})};function cy(n){if(typeof ArrayBuffer>"u")return cs(n);for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r!=n.length;++r)e[r]=255&n.charCodeAt(r);return t}function Ud(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],e=0;e<n.length;++e)t[e]=String.fromCharCode(n[e]);return t.join("")}var to=yn?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:Mc(t)}))}:function(n){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<n.length;++t)e+=n[t].length;var r=new Uint8Array(e),i=0;for(t=0,e=0;t<n.length;e+=i,++t)if(i=n[t].length,n[t]instanceof Uint8Array)r.set(n[t],e);else{if("string"==typeof n[t])throw"wtf";r.set(new Uint8Array(n[t]),e)}return r}return[].concat.apply([],n.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))},Yo=/\u0000/g,dy=/[\u0001-\u0006]/g;function tg(n){for(var t="",e=n.length-1;e>=0;)t+=n.charAt(e--);return t}function Nl(n,t){var e=""+n;return e.length>=t?e:ei("0",t-e.length)+e}function gA(n,t){var e=""+n;return e.length>=t?e:ei(" ",t-e.length)+e}function Ox(n,t){var e=""+n;return e.length>=t?e:e+ei(" ",t-e.length)}var k4=Math.pow(2,32);function ng(n,t){return n>k4||n<-k4?function Gae(n,t){var e=""+Math.round(n);return e.length>=t?e:ei("0",t-e.length)+e}(n,t):function Vae(n,t){var e=""+n;return e.length>=t?e:ei("0",t-e.length)+e}(Math.round(n),t)}function Ax(n,t){return n.length>=7+(t=t||0)&&103==(32|n.charCodeAt(t))&&101==(32|n.charCodeAt(t+1))&&110==(32|n.charCodeAt(t+2))&&101==(32|n.charCodeAt(t+3))&&114==(32|n.charCodeAt(t+4))&&97==(32|n.charCodeAt(t+5))&&108==(32|n.charCodeAt(t+6))}var L4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ft={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},N4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Wae={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Px(n,t,e){for(var r=n<0?-1:1,i=n*r,o=0,a=1,s=0,l=1,u=0,c=0,d=Math.floor(i);u<t&&(s=(d=Math.floor(i))*a+o,c=d*u+l,!(i-d<5e-8));)i=1/(i-d),o=a,a=s,l=u,u=c;if(c>t&&(u>t?(c=l,s=o):(c=u,s=a)),!e)return[0,r*s,c];var h=Math.floor(r*s/c);return[h,r*s-h*c,c]}function zd(n,t,e){if(n>2958465||n<0)return null;var r=0|n,i=Math.floor(86400*(n-r)),o=0,a=[],s={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++r,++s.D)),60===r)a=e?[1317,10,29]:[1900,2,29],o=3;else if(0===r)a=e?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),r<60&&(o=(o+6)%7),e&&(o=function Yae(n,t){t[0]-=581;var e=n.getDay();return n<60&&(e=(e+6)%7),e}(l,a))}return s.y=a[0],s.m=a[1],s.d=a[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=o,s}var B4=new Date(1899,11,31,0,0,0),jae=B4.getTime(),Uae=new Date(1900,2,1,0,0,0);function G4(n,t){var e=n.getTime();return t?e-=1262304e5:n>=Uae&&(e+=864e5),(e-(jae+6e4*(n.getTimezoneOffset()-B4.getTimezoneOffset())))/864e5}function _A(n){return-1==n.indexOf(".")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ph(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(0|n)===n?n.toString(10):function fy(n){var e,t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return e=t>=-4&&t<=-1?n.toPrecision(10+t):Math.abs(t)<=9?function $ae(n){var t=n<0?12:11,e=_A(n.toFixed(12));return e.length<=t||(e=n.toPrecision(10)).length<=t?e:n.toExponential(5)}(n):10===t?n.toFixed(10).substr(0,12):function Kae(n){var t=_A(n.toFixed(11));return t.length>(n<0?12:11)||"0"===t||"-0"===t?n.toPrecision(6):t}(n),_A(function zae(n){return-1==n.indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}(n);case"undefined":return"";case"object":if(null==n)return"";if(n instanceof Date)return ds(14,G4(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function qae(n,t,e,r){var l,i="",o=0,a=0,s=e.y,u=0;switch(n){case 98:s=e.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4}break;case 109:switch(t.length){case 1:case 2:l=e.m,u=t.length;break;case 3:return vA[e.m-1][1];case 5:return vA[e.m-1][0];default:return vA[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=e.d,u=t.length;break;case 3:return L4[e.q][0];default:return L4[e.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(e.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=e.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=e.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==e.u||"s"!=t&&"ss"!=t?(a=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(a*(e.S+e.u)))>=60*a&&(o=0),"s"===t?0===o?"0":""+o/a:(i=Nl(o,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):Nl(e.S,t.length);case 90:switch(t){case"[h]":case"[hh]":l=24*e.D+e.H;break;case"[m]":case"[mm]":l=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":l=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}u=3===t.length?1:2;break;case 101:l=s,u=1}return u>0?Nl(l,u):""}function $d(n){if(n.length<=3)return n;for(var e=n.length%3,r=n.substr(0,e);e!=n.length;e+=3)r+=(r.length>0?",":"")+n.substr(e,3);return r}var V4=/%/g;function H4(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+H4(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),-1===(e=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+o):e+="E+"+(a-o);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(i+o)%i)+"."+c.substr(o)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var W4=/# (\?+)( ?)\/( ?)(\d+)/,j4=/^#*0*\.([0#]+)/,U4=/\).*[0#]/,z4=/\(###\) ###\\?-####/;function Da(n){for(var e,t="",r=0;r!=n.length;++r)switch(e=n.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function $4(n,t){var e=Math.pow(10,t);return""+Math.round(n*e)/e}function K4(n,t){var e=n-Math.floor(n),r=Math.pow(10,t);return t<(""+Math.round(e*r)).length?0:Math.round(e*r)}function Ys(n,t,e){if(40===n.charCodeAt(0)&&!t.match(U4)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Ys("n",r,e):"("+Ys("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function Zae(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Ic(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function Xae(n,t,e){var r=t.replace(V4,""),i=t.length-r.length;return Ic(n,r,e*Math.pow(10,2*i))+ei("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return H4(t,e);if(36===t.charCodeAt(0))return"$"+Ys(n,t.substr(" "==t.charAt(1)?2:1),e);var i,o,a,s,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+ng(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=ng(e,0))&&(i=""),i.length>t.length?i:Da(t.substr(0,t.length-i.length))+i;if(o=t.match(W4))return function Qae(n,t,e){var r=parseInt(n[4],10),i=Math.round(t*r),o=Math.floor(i/r),a=i-o*r,s=r;return e+(0===o?"":""+o)+" "+(0===a?ei(" ",n[1].length+1+n[4].length):gA(a,n[1].length)+n[2]+"/"+n[3]+Nl(s,n[4].length))}(o,l,u);if(t.match(/^#+0+$/))return u+ng(l,t.length-t.indexOf("0"));if(o=t.match(j4))return i=$4(e,o[1].length).replace(/^([^\.]+)$/,"$1."+Da(o[1])).replace(/\.$/,"."+Da(o[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+ei("0",Da(o[1]).length-v.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+$4(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+$d(ng(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Ys(n,t,-e):$d(""+(Math.floor(e)+function ese(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}(e,o[1].length)))+"."+Nl(K4(e,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Ys(n,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=tg(Ys(n,t.replace(/[\\-]/g,""),e)),a=0,tg(tg(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):"0"===m?"0":""}));if(t.match(z4))return"("+(i=Ys(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=Px(l,Math.pow(10,a)-1,!1),i=""+u," "==(c=Ic("n",o[1],s[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),i+=c+o[2]+"/"+o[3],(c=Ox(s[2],a)).length<o[4].length&&(c=Da(o[4].substr(o[4].length-c.length))+c),i+=c;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),u+((s=Px(l,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?gA(s[1],a)+o[2]+"/"+o[3]+Ox(s[2],a):ei(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=ng(e,0),t.length<=i.length?i:Da(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return Da(t.substr(0,d)+i+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=K4(e,o[1].length),e<0?"-"+Ys(n,t,-e):$d(function tse(n){return n<2147483647&&n>-2147483648?""+(n>=0?0|n:n-1|0):""+Math.floor(n)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Nl(0,3-m.length):"")+m})+"."+Nl(a,o[1].length);switch(t){case"###,##0.00":return Ys(n,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var p=$d(ng(l,0));return"0"!==p?u+p:"";case"###,###.00":return Ys(n,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Ys(n,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Y4(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Y4(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),!(e=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+o):e+="E+"+(a-o),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(i+o)%i)+"."+c.substr(o)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Tu(n,t,e){if(40===n.charCodeAt(0)&&!t.match(U4)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Tu("n",r,e):"("+Tu("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function nse(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Ic(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function rse(n,t,e){var r=t.replace(V4,""),i=t.length-r.length;return Ic(n,r,e*Math.pow(10,2*i))+ei("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return Y4(t,e);if(36===t.charCodeAt(0))return"$"+Tu(n,t.substr(" "==t.charAt(1)?2:1),e);var i,o,a,s,l=Math.abs(e),u=e<0?"-":"";if(t.match(/^00+$/))return u+Nl(l,t.length);if(t.match(/^[#?]+$/))return i=""+e,0===e&&(i=""),i.length>t.length?i:Da(t.substr(0,t.length-i.length))+i;if(o=t.match(W4))return function Jae(n,t,e){return e+(0===t?"":""+t)+ei(" ",n[1].length+2+n[4].length)}(o,l,u);if(t.match(/^#+0+$/))return u+Nl(l,t.length-t.indexOf("0"));if(o=t.match(j4))return i=(i=(""+e).replace(/^([^\.]+)$/,"$1."+Da(o[1])).replace(/\.$/,"."+Da(o[1]))).replace(/\.(\d*)$/,function(m,v){return"."+v+ei("0",Da(o[1]).length-v.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return u+$d(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Tu(n,t,-e):$d(""+e)+"."+ei("0",o[1].length);if(o=t.match(/^#,#*,#0/))return Tu(n,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=tg(Tu(n,t.replace(/[\\-]/g,""),e)),a=0,tg(tg(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):"0"===m?"0":""}));if(t.match(z4))return"("+(i=Tu(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=Px(l,Math.pow(10,a)-1,!1),i=""+u," "==(c=Ic("n",o[1],s[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),i+=c+o[2]+"/"+o[3],(c=Ox(s[2],a)).length<o[4].length&&(c=Da(o[4].substr(o[4].length-c.length))+c),i+=c;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),u+((s=Px(l,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?gA(s[1],a)+o[2]+"/"+o[3]+Ox(s[2],a):ei(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return t.length<=(i=""+e).length?i:Da(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=t.indexOf(".")-a,h=t.length-i.length-d;return Da(t.substr(0,d)+i+t.substr(t.length-h))}if(o=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Tu(n,t,-e):$d(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Nl(0,3-m.length):"")+m})+"."+Nl(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=$d(""+l);return"0"!==p?u+p:"";default:if(t.match(/\.[0#?]*$/))return Tu(n,t.slice(0,t.lastIndexOf(".")),e)+Da(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ic(n,t,e){return(0|e)===e?Tu(n,t,e):Ys(n,t,e)}var q4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rg(n){for(var t=0,e="",r="";t<n.length;)switch(e=n.charAt(t)){case"G":Ax(n,t)&&(t+=6),t++;break;case'"':for(;34!==n.charCodeAt(++t)&&t<n.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===n.charAt(t+1)||"2"===n.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===n.substr(t,3).toUpperCase()||"AM/PM"===n.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===n.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=e;"]"!==n.charAt(t++)&&t<n.length;)r+=n.charAt(t);if(r.match(q4))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(e=n.charAt(++t))>-1||"\\"==e&&"-"==n.charAt(t+1)&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===e;);break;case"*":++t,(" "==n.charAt(t)||"*"==n.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;default:++t}return!1}var X4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Z4(n,t){if(null==t)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(n==e)return!0;break;case">":if(n>e)return!0;break;case"<":if(n<e)return!0;break;case"<>":if(n!=e)return!0;break;case">=":if(n>=e)return!0;break;case"<=":if(n<=e)return!0}return!1}function ds(n,t,e){null==e&&(e={});var r="";switch(typeof n){case"string":r="m/d/yy"==n&&e.dateNF?e.dateNF:n;break;case"number":null==(r=14==n&&e.dateNF?e.dateNF:(null!=e.table?e.table:Ft)[n])&&(r=e.table&&e.table[N4[n]]||Ft[N4[n]]),null==r&&(r=Wae[n]||"General")}if(Ax(r,0))return Ph(t,e);t instanceof Date&&(t=G4(t,e.date1904));var i=function ase(n,t){var e=function ise(n){for(var t=[],e=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=n.substr(i,r-i),i=r+1}if(t[t.length]=n.substr(i),!0===e)throw new Error("Format |"+n+"| unterminated string ");return t}(n),r=e.length,i=e[r-1].indexOf("@");if(r<4&&i>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof t)return[4,4===e.length||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var o=t>0?e[0]:t<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,o];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var a=e[0].match(X4),s=e[1].match(X4);return Z4(t,a)?[r,e[0]]:Z4(t,s)?[r,e[1]]:[r,e[null!=a&&null!=s?2:1]]}return[r,o]}(r,t);if(Ax(i[1]))return Ph(t,e);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function ose(n,t,e,r){for(var u,c,d,i=[],o="",a=0,s="",l="t",h="H";a<n.length;)switch(s=n.charAt(a)){case"G":if(!Ax(n,a))throw new Error("unrecognized character "+s+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(o="";34!==(d=n.charCodeAt(++a))&&a<n.length;)o+=String.fromCharCode(d);i[i.length]={t:"t",v:o},++a;break;case"\\":var p=n.charAt(++a);i[i.length]={t:"("===p||")"===p?p:"t",v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:t},++a;break;case"B":case"b":if("1"===n.charAt(a+1)||"2"===n.charAt(a+1)){if(null==u&&null==(u=zd(t,e,"2"===n.charAt(a+1))))return"";i[i.length]={t:"X",v:n.substr(a,2)},l=s,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==u&&null==(u=zd(t,e)))return"";for(o=s;++a<n.length&&n.charAt(a).toLowerCase()===s;)o+=s;"m"===s&&"h"===l.toLowerCase()&&(s="M"),"h"===s&&(s=h),i[i.length]={t:s,v:o},l=s;break;case"A":case"a":case"\u4e0a":var v={t:s,v:s};if(null==u&&(u=zd(t,e)),"A/P"===n.substr(a,3).toUpperCase()?(null!=u&&(v.v=u.H>=12?"P":"A"),v.t="T",h="h",a+=3):"AM/PM"===n.substr(a,5).toUpperCase()?(null!=u&&(v.v=u.H>=12?"PM":"AM"),v.t="T",a+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===n.substr(a,5).toUpperCase()?(null!=u&&(v.v=u.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),v.t="T",a+=5,h="h"):(v.t="t",++a),null==u&&"T"===v.t)return"";i[i.length]=v,l=s;break;case"[":for(o=s;"]"!==n.charAt(a++)&&a<n.length;)o+=n.charAt(a);if("]"!==o.slice(-1))throw'unterminated "[" block: |'+o+"|";if(o.match(q4)){if(null==u&&null==(u=zd(t,e)))return"";i[i.length]={t:"Z",v:o.toLowerCase()},l=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",rg(n)||(i[i.length]={t:"t",v:o}));break;case".":if(null!=u){for(o=s;++a<n.length&&"0"===(s=n.charAt(a));)o+=s;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=s;++a<n.length&&"0#?.,E+-%".indexOf(s=n.charAt(a))>-1;)o+=s;i[i.length]={t:"n",v:o};break;case"?":for(o=s;n.charAt(++a)===s;)o+=s;i[i.length]={t:s,v:o},l=s;break;case"*":++a,(" "==n.charAt(a)||"*"==n.charAt(a))&&++a;break;case"(":case")":i[i.length]={t:1===r?"t":s,v:s},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=s;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)o+=n.charAt(a);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:s,v:s},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(s))throw new Error("unrecognized character "+s+" in "+n);i[i.length]={t:"t",v:s},++a}var w,_=0,C=0;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",_<1&&(_=1);break;case"s":(w=i[a].v.match(/\.0+$/))&&(C=Math.max(C,w[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":"s"===l&&(i[a].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[a].v.match(/[Hh]/)&&(_=1),_<2&&i[a].v.match(/[Mm]/)&&(_=2),_<3&&i[a].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M)}var E,b="";for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=qae(i[a].t.charCodeAt(0),i[a].v,u,C),i[a].t="t";break;case"n":case"?":for(E=a+1;null!=i[E]&&("?"===(s=i[E].t)||"D"===s||(" "===s||"t"===s)&&null!=i[E+1]&&("?"===i[E+1].t||"t"===i[E+1].t&&"/"===i[E+1].v)||"("===i[a].t&&(" "===s||"n"===s||")"===s)||"t"===s&&("/"===i[E].v||" "===i[E].v&&null!=i[E+1]&&"?"==i[E+1].t));)i[a].v+=i[E].v,i[E]={v:"",t:";"},++E;b+=i[a].v,a=E-1;break;case"G":i[a].t="t",i[a].v=Ph(t,e)}var O,R,S="";if(b.length>0){40==b.charCodeAt(0)?(O=t<0&&45===b.charCodeAt(0)?-t:t,R=Ic("n",b,O)):(R=Ic("n",b,O=t<0&&r>1?-t:t),O<0&&i[0]&&"t"==i[0].t&&(R=R.substr(1),i[0].v="-"+i[0].v)),E=R.length-1;var D=i.length;for(a=0;a<i.length;++a)if(null!=i[a]&&"t"!=i[a].t&&i[a].v.indexOf(".")>-1){D=a;break}var P=i.length;if(D===i.length&&-1===R.indexOf("E")){for(a=i.length-1;a>=0;--a)null==i[a]||-1==="n?".indexOf(i[a].t)||(E>=i[a].v.length-1?i[a].v=R.substr(1+(E-=i[a].v.length),i[a].v.length):E<0?i[a].v="":(i[a].v=R.substr(0,E+1),E=-1),i[a].t="t",P=a);E>=0&&P<i.length&&(i[P].v=R.substr(0,E+1)+i[P].v)}else if(D!==i.length&&-1===R.indexOf("E")){for(E=R.indexOf(".")-1,a=D;a>=0;--a)if(null!=i[a]&&-1!=="n?".indexOf(i[a].t)){for(c=i[a].v.indexOf(".")>-1&&a===D?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(c+1);c>=0;--c)E>=0&&("0"===i[a].v.charAt(c)||"#"===i[a].v.charAt(c))&&(S=R.charAt(E--)+S);i[a].v=S,i[a].t="t",P=a}for(E>=0&&P<i.length&&(i[P].v=R.substr(0,E+1)+i[P].v),E=R.indexOf(".")+1,a=D;a<i.length;++a)if(null!=i[a]&&(-1!=="n?(".indexOf(i[a].t)||a===D)){for(c=i[a].v.indexOf(".")>-1&&a===D?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,c);c<i[a].v.length;++c)E<R.length&&(S+=R.charAt(E++));i[a].v=S,i[a].t="t",P=a}}}for(a=0;a<i.length;++a)null!=i[a]&&"n?".indexOf(i[a].t)>-1&&(i[a].v=Ic(i[a].t,i[a].v,O=r>1&&t<0&&a>0&&"-"===i[a-1].v?-t:t),i[a].t="t");var M="";for(a=0;a!==i.length;++a)null!=i[a]&&(M+=i[a].v);return M}(i[1],t,e,i[0])}function Ou(n,t){if("number"!=typeof t){t=+t||-1;for(var e=0;e<392;++e)if(null!=Ft[e]){if(Ft[e]==n){t=e;break}}else t<0&&(t=e);t<0&&(t=391)}return Ft[t]=n,t}function hy(n){for(var t=0;392!=t;++t)void 0!==n[t]&&Ou(n[t],t)}function ig(){Ft=function Hae(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',n}()}var Q4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,dse=function(){var n={version:"1.2.0"},e=function t(){for(var R=0,D=new Array(256),P=0;256!=P;++P)D[P]=R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=1&(R=P)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1)?-306674912^R>>>1:R>>>1;return typeof Int32Array<"u"?new Int32Array(D):D}(),i=function r(R){var D=0,P=0,M=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;256!=M;++M)B[M]=R[M];for(M=0;256!=M;++M)for(P=R[M],D=256+M;D<4096;D+=256)P=B[D]=P>>>8^R[255&P];var I=[];for(M=1;16!=M;++M)I[M-1]=typeof Int32Array<"u"?B.subarray(256*M,256*M+256):B.slice(256*M,256*M+256);return I}(e),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],d=i[6],h=i[7],p=i[8],m=i[9],v=i[10],_=i[11],C=i[12],w=i[13],b=i[14];return n.table=e,n.bstr=function E(R,D){for(var P=-1^D,M=0,B=R.length;M<B;)P=P>>>8^e[255&(P^R.charCodeAt(M++))];return~P},n.buf=function S(R,D){for(var P=-1^D,M=R.length-15,B=0;B<M;)P=b[R[B++]^255&P]^w[R[B++]^P>>8&255]^C[R[B++]^P>>16&255]^_[R[B++]^P>>>24]^v[R[B++]]^m[R[B++]]^p[R[B++]]^h[R[B++]]^d[R[B++]]^c[R[B++]]^u[R[B++]]^l[R[B++]]^s[R[B++]]^a[R[B++]]^o[R[B++]]^e[R[B++]];for(M+=15;B<M;)P=P>>>8^e[255&(P^R[B++])];return~P},n.str=function O(R,D){for(var P=-1^D,M=0,B=R.length,I=0,U=0;M<B;)(I=R.charCodeAt(M++))<128?P=P>>>8^e[255&(P^I)]:I<2048?P=(P=P>>>8^e[255&(P^(192|I>>6&31))])>>>8^e[255&(P^(128|63&I))]:I>=55296&&I<57344?(I=64+(1023&I),U=1023&R.charCodeAt(M++),P=(P=(P=(P=P>>>8^e[255&(P^(240|I>>8&7))])>>>8^e[255&(P^(128|I>>2&63))])>>>8^e[255&(P^(128|U>>6&15|(3&I)<<4))])>>>8^e[255&(P^(128|63&U))]):P=(P=(P=P>>>8^e[255&(P^(224|I>>12&15))])>>>8^e[255&(P^(128|I>>6&63))])>>>8^e[255&(P^(128|63&I))];return~P},n}(),xt=function(){var l,t={};function r(N){if("/"==N.charAt(N.length-1))return-1===N.slice(0,-1).indexOf("/")?N:r(N.slice(0,-1));var Q=N.lastIndexOf("/");return-1===Q?N:N.slice(0,Q+1)}function i(N){if("/"==N.charAt(N.length-1))return i(N.slice(0,-1));var Q=N.lastIndexOf("/");return-1===Q?N:N.slice(Q+1)}function o(N,Q){"string"==typeof Q&&(Q=new Date(Q));var j=Q.getHours();j=(j=j<<6|Q.getMinutes())<<5|Q.getSeconds()>>>1,N.write_shift(2,j);var z=Q.getFullYear()-1980;z=(z=z<<4|Q.getMonth()+1)<<5|Q.getDate(),N.write_shift(2,z)}function s(N){wo(N,0);for(var Q={},j=0;N.l<=N.length-4;){var z=N.read_shift(2),ee=N.read_shift(2),ne=N.l+ee,we={};21589===z&&(1&(j=N.read_shift(1))&&(we.mtime=N.read_shift(4)),ee>5&&(2&j&&(we.atime=N.read_shift(4)),4&j&&(we.ctime=N.read_shift(4))),we.mtime&&(we.mt=new Date(1e3*we.mtime))),N.l=ne,Q[z]=we}return Q}function u(){return l||(l={})}function c(N,Q){if(80==N[0]&&75==N[1])return S$(N,Q);if(109==(32|N[0])&&105==(32|N[1]))return function VBe(N,Q){if("mime-version:"!=de(N.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var j=Q&&Q.root||"",z=(yn&&Buffer.isBuffer(N)?N.toString("binary"):de(N)).split("\r\n"),ee=0,ne="";for(ee=0;ee<z.length;++ee)if(/^Content-Location:/i.test(ne=z[ee])&&(ne=ne.slice(ne.indexOf("file")),j||(j=ne.slice(0,ne.lastIndexOf("/")+1)),ne.slice(0,j.length)!=j))for(;j.length>0&&(j=(j=j.slice(0,j.length-1)).slice(0,j.lastIndexOf("/")+1),ne.slice(0,j.length)!=j););var we=(z[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Me="--"+(we[1]||""),De={FileIndex:[],FullPaths:[]};R(De);var Ze,it=0;for(ee=0;ee<z.length;++ee){var mt=z[ee];mt!==Me&&mt!==Me+"--"||(it++&&GBe(De,z.slice(Ze,ee),j),Ze=ee)}return De}(N,Q);if(N.length<512)throw new Error("CFB file size "+N.length+" < 512");var j,ee,ne,we,Me,xe,z=512,be=[],De=N.slice(0,512);wo(De,0);var Ze=function d(N){if(80==N[N.l]&&75==N[N.l+1])return[0,0];N.chk(le,"Header Signature: "),N.l+=16;var Q=N.read_shift(2,"u");return[N.read_shift(2,"u"),Q]}(De);switch(j=Ze[0]){case 3:z=512;break;case 4:z=4096;break;case 0:if(0==Ze[1])return S$(N,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}512!==z&&wo(De=N.slice(0,z),28);var it=N.slice(0,z);!function h(N,Q){var j;switch(N.l+=2,j=N.read_shift(2)){case 9:if(3!=Q)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(4!=Q)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}N.chk("0600","Mini Sector Shift: "),N.chk("000000000000","Reserved: ")}(De,j);var mt=De.read_shift(4,"i");if(3===j&&0!==mt)throw new Error("# Directory Sectors: Expected 0 saw "+mt);De.l+=4,we=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),Me=De.read_shift(4,"i"),ee=De.read_shift(4,"i"),xe=De.read_shift(4,"i"),ne=De.read_shift(4,"i");for(var ot=-1,lt=0;lt<109&&!((ot=De.read_shift(4,"i"))<0);++lt)be[lt]=ot;var Zt=function p(N,Q){for(var j=Math.ceil(N.length/Q)-1,z=[],ee=1;ee<j;++ee)z[ee-1]=N.slice(ee*Q,(ee+1)*Q);return z[j-1]=N.slice(j*Q),z}(N,z);_(xe,ne,Zt,z,be);var Fr=function w(N,Q,j,z){var ee=N.length,ne=[],we=[],Me=[],xe=[],be=z-1,De=0,Ze=0,it=0,mt=0;for(De=0;De<ee;++De)if(Me=[],(it=De+Q)>=ee&&(it-=ee),!we[it]){xe=[];var ot=[];for(Ze=it;Ze>=0;){ot[Ze]=!0,we[Ze]=!0,Me[Me.length]=Ze,xe.push(N[Ze]);var lt=j[Math.floor(4*Ze/z)];if(z<4+(mt=4*Ze&be))throw new Error("FAT boundary crossed: "+Ze+" 4 "+z);if(!N[lt]||ot[Ze=Ih(N[lt],mt)])break}ne[it]={nodes:Me,data:CW([xe])}}return ne}(Zt,we,be,z);Fr[we].name="!Directory",ee>0&&Me!==U&&(Fr[Me].name="!MiniFAT"),Fr[be[0]].name="!FAT",Fr.fat_addrs=be,Fr.ssz=z;var Gi=[],As=[],DC=[];(function b(N,Q,j,z,ee,ne,we,Me){for(var mt,xe=0,be=z.length?2:0,De=Q[N].data,Ze=0,it=0;Ze<De.length;Ze+=128){var ot=De.slice(Ze,Ze+128);wo(ot,64),it=ot.read_shift(2),mt=Lx(ot,0,it-be),z.push(mt);var lt={name:mt,type:ot.read_shift(1),color:ot.read_shift(1),L:ot.read_shift(4,"i"),R:ot.read_shift(4,"i"),C:ot.read_shift(4,"i"),clsid:ot.read_shift(16),state:ot.read_shift(4,"i"),start:0,size:0};0!==ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)&&(lt.ct=E(ot,ot.l-8)),0!==ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)&&(lt.mt=E(ot,ot.l-8)),lt.start=ot.read_shift(4,"i"),lt.size=ot.read_shift(4,"i"),lt.size<0&&lt.start<0&&(lt.size=lt.type=0,lt.start=U,lt.name=""),5===lt.type?(xe=lt.start,ee>0&&xe!==U&&(Q[xe].name="!StreamData")):lt.size>=4096?(lt.storage="fat",void 0===Q[lt.start]&&(Q[lt.start]=C(j,lt.start,Q.fat_addrs,Q.ssz)),Q[lt.start].name=lt.name,lt.content=Q[lt.start].data.slice(0,lt.size)):(lt.storage="minifat",lt.size<0?lt.size=0:xe!==U&&lt.start!==U&&Q[xe]&&(lt.content=v(lt,Q[xe].data,(Q[Me]||{}).data))),lt.content&&wo(lt.content,0),ne[mt]=lt,we.push(lt)}})(we,Fr,Zt,Gi,ee,{},As,Me),function m(N,Q,j){for(var z=0,ee=0,ne=0,we=0,Me=0,xe=j.length,be=[],De=[];z<xe;++z)be[z]=De[z]=z,Q[z]=j[z];for(;Me<De.length;++Me)ee=N[z=De[Me]].L,ne=N[z].R,we=N[z].C,be[z]===z&&(-1!==ee&&be[ee]!==ee&&(be[z]=be[ee]),-1!==ne&&be[ne]!==ne&&(be[z]=be[ne])),-1!==we&&(be[we]=z),-1!==ee&&z!=be[z]&&(be[ee]=be[z],De.lastIndexOf(ee)<Me&&De.push(ee)),-1!==ne&&z!=be[z]&&(be[ne]=be[z],De.lastIndexOf(ne)<Me&&De.push(ne));for(z=1;z<xe;++z)be[z]===z&&(-1!==ne&&be[ne]!==ne?be[z]=be[ne]:-1!==ee&&be[ee]!==ee&&(be[z]=be[ee]));for(z=1;z<xe;++z)if(0!==N[z].type){if((Me=z)!=be[Me])do{Q[z]=Q[Me=be[Me]]+"/"+Q[z]}while(0!==Me&&-1!==be[Me]&&Me!=be[Me]);be[z]=-1}for(Q[0]+="/",z=1;z<xe;++z)2!==N[z].type&&(Q[z]+="/")}(As,DC,Gi),Gi.shift();var RC={FileIndex:As,FullPaths:DC};return Q&&Q.raw&&(RC.raw={header:it,sectors:Zt}),RC}function v(N,Q,j){for(var ee=N.size,ne=[],we=N.start;j&&ee>0&&we>=0;)ne.push(Q.slice(we*I,we*I+I)),ee-=I,we=Ih(j,4*we);return 0===ne.length?Pe(0):to(ne).slice(0,N.size)}function _(N,Q,j,z,ee){var ne=U;if(N===U){if(0!==Q)throw new Error("DIFAT chain shorter than expected")}else if(-1!==N){var we=j[N],Me=(z>>>2)-1;if(!we)return;for(var xe=0;xe<Me&&(ne=Ih(we,4*xe))!==U;++xe)ee.push(ne);_(Ih(we,z-4),Q-1,j,z,ee)}}function C(N,Q,j,z,ee){var ne=[],we=[];ee||(ee=[]);var Me=z-1,xe=0,be=0;for(xe=Q;xe>=0;){ee[xe]=!0,ne[ne.length]=xe,we.push(N[xe]);var De=j[Math.floor(4*xe/z)];if(z<4+(be=4*xe&Me))throw new Error("FAT boundary crossed: "+xe+" 4 "+z);if(!N[De])break;xe=Ih(N[De],be)}return{nodes:ne,data:CW([we])}}function E(N,Q){return new Date(1e3*(ro(N,Q+4)/1e7*Math.pow(2,32)+ro(N,Q)/1e7-11644473600))}function R(N,Q){var j=Q||{},z=j.root||"Root Entry";if(N.FullPaths||(N.FullPaths=[]),N.FileIndex||(N.FileIndex=[]),N.FullPaths.length!==N.FileIndex.length)throw new Error("inconsistent CFB structure");0===N.FullPaths.length&&(N.FullPaths[0]=z+"/",N.FileIndex[0]={name:z,type:5}),j.CLSID&&(N.FileIndex[0].clsid=j.CLSID),function D(N){var Q="\x01Sh33tJ5";if(!xt.find(N,"/"+Q)){var j=Pe(4);j[0]=55,j[1]=j[3]=50,j[2]=54,N.FileIndex.push({name:Q,type:2,content:j,size:4,L:69,R:69,C:69}),N.FullPaths.push(N.FullPaths[0]+Q),P(N)}}(N)}function P(N,Q){R(N);for(var j=!1,z=!1,ee=N.FullPaths.length-1;ee>=0;--ee){var ne=N.FileIndex[ee];switch(ne.type){case 0:z?j=!0:(N.FileIndex.pop(),N.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(ne.R*ne.L*ne.C)&&(j=!0),ne.R>-1&&ne.L>-1&&ne.R==ne.L&&(j=!0);break;default:j=!0}}if(j||Q){var we=new Date(1987,1,19),Me=0,xe=Object.create?Object.create(null):{},be=[];for(ee=0;ee<N.FullPaths.length;++ee)xe[N.FullPaths[ee]]=!0,0!==N.FileIndex[ee].type&&be.push([N.FullPaths[ee],N.FileIndex[ee]]);for(ee=0;ee<be.length;++ee){var De=r(be[ee][0]);(z=xe[De])||(be.push([De,{name:i(De).replace("/",""),type:1,clsid:te,ct:we,mt:we,content:null}]),xe[De]=!0)}for(be.sort(function(mt,ot){return function e(N,Q){for(var j=N.split("/"),z=Q.split("/"),ee=0,ne=0,we=Math.min(j.length,z.length);ee<we;++ee){if(ne=j[ee].length-z[ee].length)return ne;if(j[ee]!=z[ee])return j[ee]<z[ee]?-1:1}return j.length-z.length}(mt[0],ot[0])}),N.FullPaths=[],N.FileIndex=[],ee=0;ee<be.length;++ee)N.FullPaths[ee]=be[ee][0],N.FileIndex[ee]=be[ee][1];for(ee=0;ee<be.length;++ee){var Ze=N.FileIndex[ee],it=N.FullPaths[ee];if(Ze.name=i(it).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||te,0===ee)Ze.C=be.length>1?1:-1,Ze.size=0,Ze.type=5;else if("/"==it.slice(-1)){for(Me=ee+1;Me<be.length&&r(N.FullPaths[Me])!=it;++Me);for(Ze.C=Me>=be.length?-1:Me,Me=ee+1;Me<be.length&&r(N.FullPaths[Me])!=r(it);++Me);Ze.R=Me>=be.length?-1:Me,Ze.type=1}else r(N.FullPaths[ee+1]||"")==r(it)&&(Ze.R=ee+1),Ze.type=2}}}function M(N,Q){var j=Q||{};if("mad"==j.fileType)return function HBe(N,Q){for(var j=Q||{},z=j.boundary||"SheetJS",ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(z="------="+z).slice(2)+'"',"","",""],ne=N.FullPaths[0],we=ne,Me=N.FileIndex[0],xe=1;xe<N.FullPaths.length;++xe)if(we=N.FullPaths[xe].slice(ne.length),(Me=N.FileIndex[xe]).size&&Me.content&&"\x01Sh33tJ5"!=we){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var be=Me.content,De=yn&&Buffer.isBuffer(be)?be.toString("binary"):de(be),Ze=0,it=Math.min(1024,De.length),mt=0,ot=0;ot<=it;++ot)(mt=De.charCodeAt(ot))>=32&&mt<128&&++Ze;var lt=Ze>=4*it/5;ee.push(z),ee.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+we),ee.push("Content-Transfer-Encoding: "+(lt?"quoted-printable":"base64")),ee.push("Content-Type: "+kBe(Me,we)),ee.push(""),ee.push(lt?NBe(De):LBe(De))}return ee.push(z+"--\r\n"),ee.join("\r\n")}(N,j);if("zip"===(P(N),j.fileType))return function FBe(N,Q){var j=Q||{},z=[],ee=[],ne=Pe(1),we=j.compression?8:0,Me=0,be=0,De=0,Ze=0,it=0,mt=N.FullPaths[0],ot=mt,lt=N.FileIndex[0],Zt=[],Fr=0;for(be=1;be<N.FullPaths.length;++be)if(ot=N.FullPaths[be].slice(mt.length),(lt=N.FileIndex[be]).size&&lt.content&&"\x01Sh33tJ5"!=ot){var es=Ze,Gi=Pe(ot.length);for(De=0;De<ot.length;++De)Gi.write_shift(1,127&ot.charCodeAt(De));Gi=Gi.slice(0,Gi.l),Zt[it]=dse.buf(lt.content,0);var As=lt.content;8==we&&(As=W(As)),(ne=Pe(30)).write_shift(4,67324752),ne.write_shift(2,20),ne.write_shift(2,Me),ne.write_shift(2,we),lt.mt?o(ne,lt.mt):ne.write_shift(4,0),ne.write_shift(-4,8&Me?0:Zt[it]),ne.write_shift(4,8&Me?0:As.length),ne.write_shift(4,8&Me?0:lt.content.length),ne.write_shift(2,Gi.length),ne.write_shift(2,0),Ze+=ne.length,z.push(ne),Ze+=Gi.length,z.push(Gi),Ze+=As.length,z.push(As),8&Me&&((ne=Pe(12)).write_shift(-4,Zt[it]),ne.write_shift(4,As.length),ne.write_shift(4,lt.content.length),Ze+=ne.l,z.push(ne)),(ne=Pe(46)).write_shift(4,33639248),ne.write_shift(2,0),ne.write_shift(2,20),ne.write_shift(2,Me),ne.write_shift(2,we),ne.write_shift(4,0),ne.write_shift(-4,Zt[it]),ne.write_shift(4,As.length),ne.write_shift(4,lt.content.length),ne.write_shift(2,Gi.length),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(4,0),ne.write_shift(4,es),Fr+=ne.l,ee.push(ne),Fr+=Gi.length,ee.push(Gi),++it}return(ne=Pe(22)).write_shift(4,101010256),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(2,it),ne.write_shift(2,it),ne.write_shift(4,Fr),ne.write_shift(4,Ze),ne.write_shift(2,0),to([to(z),to(ee),ne])}(N,j);var z=function(mt){for(var ot=0,lt=0,Zt=0;Zt<mt.FileIndex.length;++Zt){var Fr=mt.FileIndex[Zt];if(Fr.content){var es=Fr.content.length;es>0&&(es<4096?ot+=es+63>>6:lt+=es+511>>9)}}for(var Gi=mt.FullPaths.length+3>>2,DC=ot+127>>7,RC=(ot+7>>3)+lt+Gi+DC,zp=RC+127>>7,Bk=zp<=109?0:Math.ceil((zp-109)/127);RC+zp+Bk+127>>7>zp;)Bk=++zp<=109?0:Math.ceil((zp-109)/127);var fd=[1,Bk,zp,DC,Gi,lt,ot,0];return mt.FileIndex[0].size=ot<<6,fd[7]=(mt.FileIndex[0].start=fd[0]+fd[1]+fd[2]+fd[3]+fd[4]+fd[5])+(fd[6]+7>>3),fd}(N),ee=Pe(z[7]<<9),ne=0,we=0;for(ne=0;ne<8;++ne)ee.write_shift(1,ie[ne]);for(ne=0;ne<8;++ne)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),ne=0;ne<3;++ne)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,z[2]),ee.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:U),ee.write_shift(4,z[3]),ee.write_shift(-4,z[1]?z[0]-1:U),ee.write_shift(4,z[1]),ne=0;ne<109;++ne)ee.write_shift(-4,ne<z[2]?z[1]+ne:-1);if(z[1])for(we=0;we<z[1];++we){for(;ne<236+127*we;++ne)ee.write_shift(-4,ne<z[2]?z[1]+ne:-1);ee.write_shift(-4,we===z[1]-1?U:we+1)}var Me=function(mt){for(we+=mt;ne<we-1;++ne)ee.write_shift(-4,ne+1);mt&&(++ne,ee.write_shift(-4,U))};for(we=ne=0,we+=z[1];ne<we;++ne)ee.write_shift(-4,J.DIFSECT);for(we+=z[2];ne<we;++ne)ee.write_shift(-4,J.FATSECT);Me(z[3]),Me(z[4]);for(var xe=0,be=0,De=N.FileIndex[0];xe<N.FileIndex.length;++xe)(De=N.FileIndex[xe]).content&&!((be=De.content.length)<4096)&&(De.start=we,Me(be+511>>9));for(Me(z[6]+7>>3);511&ee.l;)ee.write_shift(-4,J.ENDOFCHAIN);for(we=ne=0,xe=0;xe<N.FileIndex.length;++xe)(De=N.FileIndex[xe]).content&&(be=De.content.length)&&!(be>=4096)&&(De.start=we,Me(be+63>>6));for(;511&ee.l;)ee.write_shift(-4,J.ENDOFCHAIN);for(ne=0;ne<z[4]<<2;++ne){var Ze=N.FullPaths[ne];if(Ze&&0!==Ze.length){De=N.FileIndex[ne],0===ne&&(De.start=De.size?De.start-1:U);var it=0===ne&&j.root||De.name;if(be=2*(it.length+1),ee.write_shift(64,it,"utf16le"),ee.write_shift(2,be),ee.write_shift(1,De.type),ee.write_shift(1,De.color),ee.write_shift(-4,De.L),ee.write_shift(-4,De.R),ee.write_shift(-4,De.C),De.clsid)ee.write_shift(16,De.clsid,"hex");else for(xe=0;xe<4;++xe)ee.write_shift(4,0);ee.write_shift(4,De.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,De.start),ee.write_shift(4,De.size),ee.write_shift(4,0)}else{for(xe=0;xe<17;++xe)ee.write_shift(4,0);for(xe=0;xe<3;++xe)ee.write_shift(4,-1);for(xe=0;xe<12;++xe)ee.write_shift(4,0)}}for(ne=1;ne<N.FileIndex.length;++ne)if((De=N.FileIndex[ne]).size>=4096)if(ee.l=De.start+1<<9,yn&&Buffer.isBuffer(De.content))De.content.copy(ee,ee.l,0,De.size),ee.l+=De.size+511&-512;else{for(xe=0;xe<De.size;++xe)ee.write_shift(1,De.content[xe]);for(;511&xe;++xe)ee.write_shift(1,0)}for(ne=1;ne<N.FileIndex.length;++ne)if((De=N.FileIndex[ne]).size>0&&De.size<4096)if(yn&&Buffer.isBuffer(De.content))De.content.copy(ee,ee.l,0,De.size),ee.l+=De.size+63&-64;else{for(xe=0;xe<De.size;++xe)ee.write_shift(1,De.content[xe]);for(;63&xe;++xe)ee.write_shift(1,0)}if(yn)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}t.version="1.2.1";var ue,I=64,U=-2,le="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(N){for(var Q=new Array(N.length),j=0;j<N.length;++j)Q[j]=String.fromCharCode(N[j]);return Q.join("")}function W(N){return ue?ue.deflateRawSync(N):xn(N)}for(var N,Q,X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],he=typeof Uint8Array<"u",ye=he?new Uint8Array(256):[],st=0;st<256;++st)ye[st]=(void 0,255&((Q=139536&((N=st)<<1|N<<11)|558144&(N<<5|N<<15))>>16|Q>>8|Q));function K(N,Q){var j=ye[255&N];return Q<=8?j>>>8-Q:(j=j<<8|ye[N>>8&255],Q<=16?j>>>16-Q:(j=j<<8|ye[N>>16&255])>>>24-Q)}function at(N,Q){var j=7&Q,z=Q>>>3;return(N[z]|(j<=6?0:N[z+1]<<8))>>>j&3}function vt(N,Q){var j=7&Q,z=Q>>>3;return(N[z]|(j<=5?0:N[z+1]<<8))>>>j&7}function Ct(N,Q){var j=7&Q,z=Q>>>3;return(N[z]|(j<=3?0:N[z+1]<<8))>>>j&31}function Qe(N,Q){var j=7&Q,z=Q>>>3;return(N[z]|(j<=1?0:N[z+1]<<8))>>>j&127}function mn(N,Q,j){var z=7&Q,ee=Q>>>3,we=N[ee]>>>z;return j<8-z||(we|=N[ee+1]<<8-z,j<16-z)||(we|=N[ee+2]<<16-z,j<24-z)||(we|=N[ee+3]<<24-z),we&(1<<j)-1}function bi(N,Q,j){var z=7&Q,ee=Q>>>3;return z<=5?N[ee]|=(7&j)<<z:(N[ee]|=j<<z&255,N[ee+1]=(7&j)>>8-z),Q+3}function Io(N,Q,j){return N[Q>>>3]|=j=(1&j)<<(7&Q),Q+1}function ha(N,Q,j){var ee=Q>>>3;return N[ee]|=255&(j<<=7&Q),N[ee+1]=j>>>=8,Q+8}function tu(N,Q,j){var ee=Q>>>3;return N[ee]|=255&(j<<=7&Q),N[ee+1]=255&(j>>>=8),N[ee+2]=j>>>8,Q+16}function fl(N,Q){var j=N.length,z=2*j>Q?2*j:Q+5,ee=0;if(j>=Q)return N;if(yn){var ne=F4(z);if(N.copy)N.copy(ne);else for(;ee<N.length;++ee)ne[ee]=N[ee];return ne}if(he){var we=new Uint8Array(z);if(we.set)we.set(N);else for(;ee<j;++ee)we[ee]=N[ee];return we}return N.length=z,N}function Fo(N){for(var Q=new Array(N),j=0;j<N;++j)Q[j]=0;return Q}function hl(N,Q,j){var z=1,ee=0,ne=0,we=0,Me=0,xe=N.length,be=he?new Uint16Array(32):Fo(32);for(ne=0;ne<32;++ne)be[ne]=0;for(ne=xe;ne<j;++ne)N[ne]=0;xe=N.length;var De=he?new Uint16Array(xe):Fo(xe);for(ne=0;ne<xe;++ne)be[ee=N[ne]]++,z<ee&&(z=ee),De[ne]=0;for(be[0]=0,ne=1;ne<=z;++ne)be[ne+16]=Me=Me+be[ne-1]<<1;for(ne=0;ne<xe;++ne)0!=(Me=N[ne])&&(De[ne]=be[Me+16]++);var Ze=0;for(ne=0;ne<xe;++ne)if(0!=(Ze=N[ne]))for(Me=K(De[ne],z)>>z-Ze,we=(1<<z+4-Ze)-1;we>=0;--we)Q[Me|we<<Ze]=15&Ze|ne<<4;return z}var Yf=he?new Uint16Array(512):Fo(512),SC=he?new Uint16Array(32):Fo(32);if(!he){for(var ka=0;ka<512;++ka)Yf[ka]=0;for(ka=0;ka<32;++ka)SC[ka]=0}!function(){for(var N=[],Q=0;Q<32;Q++)N.push(5);hl(N,SC,32);var j=[];for(Q=0;Q<=143;Q++)j.push(8);for(;Q<=255;Q++)j.push(9);for(;Q<=279;Q++)j.push(7);for(;Q<=287;Q++)j.push(8);hl(j,Yf,288)}();var tc=function(){for(var Q=he?new Uint8Array(32768):[],j=0,z=0;j<Ee.length-1;++j)for(;z<Ee[j+1];++z)Q[z]=j;for(;z<32768;++z)Q[z]=29;var ee=he?new Uint8Array(259):[];for(j=0,z=0;j<ge.length-1;++j)for(;z<ge[j+1];++z)ee[z]=j;return function(xe,be){return xe.length<8?function ne(Me,xe){for(var be=0;be<Me.length;){var De=Math.min(65535,Me.length-be);for(xe.write_shift(1,+(be+De==Me.length)),xe.write_shift(2,De),xe.write_shift(2,65535&~De);De-- >0;)xe[xe.l++]=Me[be++]}return xe.l}(xe,be):function we(Me,xe){for(var be=0,De=0,Ze=he?new Uint16Array(32768):[];De<Me.length;){var it=Math.min(65535,Me.length-De);if(it<10){for(7&(be=bi(xe,be,+(De+it==Me.length)))&&(be+=8-(7&be)),xe.l=be/8|0,xe.write_shift(2,it),xe.write_shift(2,65535&~it);it-- >0;)xe[xe.l++]=Me[De++];be=8*xe.l}else{be=bi(xe,be,+(De+it==Me.length)+2);for(var mt=0;it-- >0;){var ot=Me[De],lt=-1,Zt=0;if((lt=Ze[mt=32767&(mt<<5^ot)])&&((lt|=-32768&De)>De&&(lt-=32768),lt<De))for(;Me[lt+Zt]==Me[De+Zt]&&Zt<250;)++Zt;if(Zt>2){(ot=ee[Zt])<=22?be=ha(xe,be,ye[ot+1]>>1)-1:(ha(xe,be,3),ha(xe,be+=5,ye[ot-23]>>5),be+=3);var Fr=ot<8?0:ot-4>>2;Fr>0&&(tu(xe,be,Zt-ge[ot]),be+=Fr),be=ha(xe,be,ye[ot=Q[De-lt]]>>3),be-=3;var es=ot<4?0:ot-2>>1;es>0&&(tu(xe,be,De-lt-Ee[ot]),be+=es);for(var Gi=0;Gi<Zt;++Gi)Ze[mt]=32767&De,mt=32767&(mt<<5^Me[De]),++De;it-=Zt-1}else ot<=143?ot+=48:be=Io(xe,be,1),be=ha(xe,be,ye[ot]),Ze[mt]=32767&De,++De}be=ha(xe,be,0)-1}}return xe.l=(be+7)/8|0,xe.l}(xe,be)}}();function xn(N){var Q=Pe(50+Math.floor(1.1*N.length)),j=tc(N,Q);return Q.slice(0,j)}var xi=he?new Uint16Array(32768):Fo(32768),pl=he?new Uint16Array(32768):Fo(32768),qi=he?new Uint16Array(128):Fo(128),Up=1,b$=1;function PBe(N,Q){var j=Ct(N,Q)+257,z=Ct(N,Q+=5)+1,ee=function Rt(N,Q){var j=7&Q,z=Q>>>3;return(N[z]|(j<=4?0:N[z+1]<<8))>>>j&15}(N,Q+=5)+4;Q+=4;for(var ne=0,we=he?new Uint8Array(19):Fo(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,be=he?new Uint8Array(8):Fo(8),De=he?new Uint8Array(8):Fo(8),Ze=we.length,it=0;it<ee;++it)we[X[it]]=ne=vt(N,Q),xe<ne&&(xe=ne),be[ne]++,Q+=3;var mt=0;for(be[0]=0,it=1;it<=xe;++it)De[it]=mt=mt+be[it-1]<<1;for(it=0;it<Ze;++it)0!=(mt=we[it])&&(Me[it]=De[mt]++);var ot=0;for(it=0;it<Ze;++it)if(0!=(ot=we[it])){mt=ye[Me[it]]>>8-ot;for(var lt=(1<<7-ot)-1;lt>=0;--lt)qi[mt|lt<<ot]=7&ot|it<<3}var Zt=[];for(xe=1;Zt.length<j+z;)switch(mt=qi[Qe(N,Q)],Q+=7&mt,mt>>>=3){case 16:for(ne=3+at(N,Q),Q+=2,mt=Zt[Zt.length-1];ne-- >0;)Zt.push(mt);break;case 17:for(ne=3+vt(N,Q),Q+=3;ne-- >0;)Zt.push(0);break;case 18:for(ne=11+Qe(N,Q),Q+=7;ne-- >0;)Zt.push(0);break;default:Zt.push(mt),xe<mt&&(xe=mt)}var Fr=Zt.slice(0,j),es=Zt.slice(j);for(it=j;it<286;++it)Fr[it]=0;for(it=z;it<30;++it)es[it]=0;return Up=hl(Fr,xi,286),b$=hl(es,pl,30),Q}function x$(N,Q){var z=function MBe(N,Q){if(3==N[0]&&!(3&N[1]))return[jd(Q),2];for(var j=0,z=0,ee=F4(Q||1<<18),ne=0,we=ee.length>>>0,Me=0,xe=0;!(1&z);)if(z=vt(N,j),j+=3,z>>>1)for(z>>1==1?(Me=9,xe=5):(j=PBe(N,j),Me=Up,xe=b$);;){!Q&&we<ne+32767&&(we=(ee=fl(ee,ne+32767)).length);var De=mn(N,j,Me),Ze=z>>>1==1?Yf[De]:xi[De];if(j+=15&Ze,(Ze>>>=4)>>>8&255){if(256==Ze)break;var it=(Ze-=257)<8?0:Ze-4>>2;it>5&&(it=0);var mt=ne+ge[Ze];it>0&&(mt+=mn(N,j,it),j+=it),De=mn(N,j,xe),j+=15&(Ze=z>>>1==1?SC[De]:pl[De]);var ot=(Ze>>>=4)<4?0:Ze-2>>1,lt=Ee[Ze];for(ot>0&&(lt+=mn(N,j,ot),j+=ot),!Q&&we<mt&&(we=(ee=fl(ee,mt+100)).length);ne<mt;)ee[ne]=ee[ne-lt],++ne}else ee[ne++]=Ze}else{7&j&&(j+=8-(7&j));var be=N[j>>>3]|N[1+(j>>>3)]<<8;if(j+=32,be>0)for(!Q&&we<ne+be&&(we=(ee=fl(ee,ne+be)).length);be-- >0;)ee[ne++]=N[j>>>3],j+=8}return Q?[ee,j+7>>>3]:[ee.slice(0,ne),j+7>>>3]}(N.slice(N.l||0),Q);return N.l+=z[1],z[0]}function E$(N,Q){if(!N)throw new Error(Q);typeof console<"u"&&console.error(Q)}function S$(N,Q){var j=N;wo(j,0);var ne={FileIndex:[],FullPaths:[]};R(ne,{root:Q.root});for(var we=j.length-4;(80!=j[we]||75!=j[we+1]||5!=j[we+2]||6!=j[we+3])&&we>=0;)--we;j.l=we+4,j.l+=4;var Me=j.read_shift(2);j.l+=6;var xe=j.read_shift(4);for(j.l=xe,we=0;we<Me;++we){j.l+=20;var be=j.read_shift(4),De=j.read_shift(4),Ze=j.read_shift(2),it=j.read_shift(2),mt=j.read_shift(2);j.l+=8;var ot=j.read_shift(4),lt=s(j.slice(j.l+Ze,j.l+Ze+it));j.l+=Ze+it+mt;var Zt=j.l;j.l=ot+4,IBe(j,be,De,ne,lt),j.l=Zt}return ne}function IBe(N,Q,j,z,ee){N.l+=2;var ne=N.read_shift(2),we=N.read_shift(2),Me=function a(N){var Q=65535&N.read_shift(2),j=65535&N.read_shift(2),z=new Date,ee=31&j,ne=15&(j>>>=5);j>>>=4,z.setMilliseconds(0),z.setFullYear(j+1980),z.setMonth(ne-1),z.setDate(ee);var we=31&Q,Me=63&(Q>>>=5);return z.setHours(Q>>>=6),z.setMinutes(Me),z.setSeconds(we<<1),z}(N);if(8257&ne)throw new Error("Unsupported ZIP encryption");N.read_shift(4);for(var be=N.read_shift(4),De=N.read_shift(4),Ze=N.read_shift(2),it=N.read_shift(2),mt="",ot=0;ot<Ze;++ot)mt+=String.fromCharCode(N[N.l++]);if(it){var lt=s(N.slice(N.l,N.l+it));(lt[21589]||{}).mt&&(Me=lt[21589].mt),((ee||{})[21589]||{}).mt&&(Me=ee[21589].mt)}N.l+=it;var Zt=N.slice(N.l,N.l+be);switch(we){case 8:Zt=function re(N,Q){if(!ue)return x$(N,Q);var z=new(0,ue.InflateRaw),ee=z._processChunk(N.slice(N.l),z._finishFlushFlag);return N.l+=z.bytesRead,ee}(N,De);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Fr=!1;8&ne&&(134695760==N.read_shift(4)&&(N.read_shift(4),Fr=!0),be=N.read_shift(4),De=N.read_shift(4)),be!=Q&&E$(Fr,"Bad compressed size: "+Q+" != "+be),De!=j&&E$(Fr,"Bad uncompressed size: "+j+" != "+De),Nk(z,mt,Zt,{unsafe:!0,mt:Me})}var ND={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kBe(N,Q){if(N.ctype)return N.ctype;var j=N.name||"",z=j.match(/\.([^\.]+)$/);return z&&ND[z[1]]||Q&&(z=(j=Q).match(/[\.\\]([^\.\\])+$/))&&ND[z[1]]?ND[z[1]]:"application/octet-stream"}function LBe(N){for(var Q=uy(N),j=[],z=0;z<Q.length;z+=76)j.push(Q.slice(z,z+76));return j.join("\r\n")+"\r\n"}function NBe(N){var Q=N.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var De=be.charCodeAt(0).toString(16).toUpperCase();return"="+(1==De.length?"0"+De:De)});"\n"==(Q=Q.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Q="=0D"+Q.slice(1));for(var j=[],z=(Q=Q.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),ee=0;ee<z.length;++ee){var ne=z[ee];if(0!=ne.length)for(var we=0;we<ne.length;){var Me=76,xe=ne.slice(we,we+Me);"="==xe.charAt(Me-1)?Me--:"="==xe.charAt(Me-2)?Me-=2:"="==xe.charAt(Me-3)&&(Me-=3),xe=ne.slice(we,we+Me),(we+=Me)<ne.length&&(xe+="="),j.push(xe)}else j.push("")}return j.join("\r\n")}function GBe(N,Q,j){for(var we,z="",ee="",ne="",Me=0;Me<10;++Me){var xe=Q[Me];if(!xe||xe.match(/^\s*$/))break;var be=xe.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":z=be[2].trim();break;case"content-type":ne=be[2].trim();break;case"content-transfer-encoding":ee=be[2].trim()}}switch(++Me,ee.toLowerCase()){case"base64":we=cs(us(Q.slice(Me).join("")));break;case"quoted-printable":we=function BBe(N){for(var Q=[],j=0;j<N.length;++j){for(var z=N[j];j<=N.length&&"="==z.charAt(z.length-1);)z=z.slice(0,z.length-1)+N[++j];Q.push(z)}for(var ee=0;ee<Q.length;++ee)Q[ee]=Q[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(ne){return String.fromCharCode(parseInt(ne.slice(1),16))});return cs(Q.join("\r\n"))}(Q.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var De=Nk(N,z.slice(j.length),we,{unsafe:!0});ne&&(De.ctype=ne)}function Nk(N,Q,j,z){var ee=z&&z.unsafe;ee||R(N);var ne=!ee&&xt.find(N,Q);if(!ne){var we=N.FullPaths[0];Q.slice(0,we.length)==we?we=Q:("/"!=we.slice(-1)&&(we+="/"),we=(we+Q).replace("//","/")),ne={name:i(Q),type:2},N.FileIndex.push(ne),N.FullPaths.push(we),ee||xt.utils.cfb_gc(N)}return ne.content=j,ne.size=j?j.length:0,z&&(z.CLSID&&(ne.clsid=z.CLSID),z.mt&&(ne.mt=z.mt),z.ct&&(ne.ct=z.ct)),ne}return t.find=function B(N,Q){var j=N.FullPaths.map(function(xe){return xe.toUpperCase()}),z=j.map(function(xe){var be=xe.split("/");return be[be.length-("/"==xe.slice(-1)?2:1)]}),ee=!1;47===Q.charCodeAt(0)?(ee=!0,Q=j[0].slice(0,-1)+Q):ee=-1!==Q.indexOf("/");var ne=Q.toUpperCase(),we=!0===ee?j.indexOf(ne):z.indexOf(ne);if(-1!==we)return N.FileIndex[we];var Me=!ne.match(dy);for(ne=ne.replace(Yo,""),Me&&(ne=ne.replace(dy,"!")),we=0;we<j.length;++we)if((Me?j[we].replace(dy,"!"):j[we]).replace(Yo,"")==ne||(Me?z[we].replace(dy,"!"):z[we]).replace(Yo,"")==ne)return N.FileIndex[we];return null},t.read=function O(N,Q){var j=Q&&Q.type;switch(j||yn&&Buffer.isBuffer(N)&&(j="buffer"),j||"base64"){case"file":return function S(N,Q){return u(),c(l.readFileSync(N),Q)}(N,Q);case"base64":return c(cs(us(N)),Q);case"binary":return c(cs(N),Q)}return c(N,Q)},t.parse=c,t.write=function _e(N,Q){var j=M(N,Q);switch(Q&&Q.type||"buffer"){case"file":return u(),l.writeFileSync(Q.filename,j),j;case"binary":return"string"==typeof j?j:de(j);case"base64":return uy("string"==typeof j?j:de(j));case"buffer":if(yn)return Buffer.isBuffer(j)?j:Mc(j);case"array":return"string"==typeof j?cs(j):j}return j},t.writeFile=function ce(N,Q,j){u();var z=M(N,j);l.writeFileSync(Q,z)},t.utils={cfb_new:function WBe(N){var Q={};return R(Q,N),Q},cfb_add:Nk,cfb_del:function jBe(N,Q){R(N);var j=xt.find(N,Q);if(j)for(var z=0;z<N.FileIndex.length;++z)if(N.FileIndex[z]==j)return N.FileIndex.splice(z,1),N.FullPaths.splice(z,1),!0;return!1},cfb_mov:function UBe(N,Q,j){R(N);var z=xt.find(N,Q);if(z)for(var ee=0;ee<N.FileIndex.length;++ee)if(N.FileIndex[ee]==z)return N.FileIndex[ee].name=i(j),N.FullPaths[ee]=j,!0;return!1},cfb_gc:function zBe(N){P(N,!0)},ReadShift:_y,CheckField:MW,prep_blob:wo,bconcat:to,use_zlib:function G(N){try{var j=new(0,N.InflateRaw);if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),!j.bytesRead)throw new Error("zlib does not expose bytesRead");ue=N}catch(z){console.error("cannot use native zlib: "+(z.message||z))}},_deflateRaw:xn,_inflateRaw:x$,consts:J},t}();let Kd;function fse(n){return"string"==typeof n?cy(n):Array.isArray(n)?function Nae(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}(n):n}function py(n,t,e){if(typeof Kd<"u"&&Kd.writeFileSync)return e?Kd.writeFileSync(n,t,e):Kd.writeFileSync(n,t);if(typeof Deno<"u"){if(e&&"string"==typeof t)switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=cy(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(n,t)}var r="utf8"==e?Pu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([fse(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:n,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=n,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(n);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Ud(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function Jr(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(n,t[r])&&e.push(t[r]);return e}function J4(n,t){for(var e=[],r=Jr(n),i=0;i!==r.length;++i)null==e[n[r[i]][t]]&&(e[n[r[i]][t]]=r[i]);return e}function Mx(n){for(var t=[],e=Jr(n),r=0;r!==e.length;++r)t[n[e[r]]]=e[r];return t}function Ix(n){for(var t=[],e=Jr(n),r=0;r!==e.length;++r)t[n[e[r]]]=parseInt(e[r],10);return t}var Fx=new Date(1899,11,30,0,0,0);function no(n,t){var e=n.getTime();return t&&(e-=1263168e5),(e-(Fx.getTime()+6e4*(n.getTimezoneOffset()-Fx.getTimezoneOffset())))/864e5}var eW=new Date,mse=Fx.getTime()+6e4*(eW.getTimezoneOffset()-Fx.getTimezoneOffset()),tW=eW.getTimezoneOffset();function yA(n){var t=new Date;return t.setTime(24*n*60*60*1e3+mse),t.getTimezoneOffset()!==tW&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-tW)),t}var nW=new Date("2017-02-19T19:06:09.000Z"),rW=isNaN(nW.getFullYear())?new Date("2/19/17"):nW,vse=2017==rW.getFullYear();function Ur(n,t){var e=new Date(n);if(vse)return t>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):t<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(n instanceof Date)return n;if(1917==rW.getFullYear()&&!isNaN(e.getFullYear())){var r=e.getFullYear();return n.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function Mh(n,t){if(yn&&Buffer.isBuffer(n)){if(t){if(255==n[0]&&254==n[1])return Pu(n.slice(2).toString("utf16le"));if(254==n[1]&&255==n[2])return Pu(function I4(n){for(var t=[],e=0;e<n.length>>1;++e)t[e]=String.fromCharCode(n.charCodeAt(2*e+1)+(n.charCodeAt(2*e)<<8));return t.join("")}(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==n[0]&&254==n[1])return Pu(new TextDecoder("utf-16le").decode(n.slice(2)));if(254==n[0]&&255==n[1])return Pu(new TextDecoder("utf-16be").decode(n.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(o){return e[o]||o})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function vr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if("object"!=typeof n||null==n)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=vr(n[e]));return t}function ei(n,t){for(var e="";e.length<t;)e+=n;return e}function Bl(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var e=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(t=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,o){return e=-e,o}),isNaN(t=Number(r)))?t:t/e}var _se=["january","february","march","april","may","june","july","august","september","october","november","december"];function og(n){var t=new Date(n),e=new Date(NaN),r=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return e;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==_se.indexOf(a))return e}else if(a.match(/[a-z]/))return e;return r<0||r>8099?e:(i>0||o>1)&&101!=r?t:n.match(/[^-0-9:,\/\\]/)?e:t}function hn(n,t,e){if(n.FullPaths){var r;if("string"==typeof e)return r=yn?Mc(e):function Bae(n){for(var t=[],e=0,r=n.length+250,i=jd(n.length+255),o=0;o<n.length;++o){var a=n.charCodeAt(o);if(a<128)i[e++]=a;else if(a<2048)i[e++]=192|a>>6&31,i[e++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var s=1023&n.charCodeAt(++o);i[e++]=240|a>>8&7,i[e++]=128|a>>2&63,i[e++]=128|s>>6&15|(3&a)<<4,i[e++]=128|63&s}else i[e++]=224|a>>12&15,i[e++]=128|a>>6&63,i[e++]=128|63&a;e>r&&(t.push(i.slice(0,e)),e=0,i=jd(65535),r=65530)}return t.push(i.slice(0,e)),to(t)}(e),xt.utils.cfb_add(n,t,r);xt.utils.cfb_add(n,t,e)}else n.file(t,e)}function wA(){return xt.utils.cfb_new()}var ti='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',bA=Mx({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),xA=/[&<>'"]/g,Dse=/[\u0000-\u0008\u000b-\u001f]/g;function dr(n){return(n+"").replace(xA,function(e){return bA[e]}).replace(Dse,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function cW(n){return dr(n).replace(/ /g,"_x0020_")}var dW=/[\u0000-\u001f]/g;function fW(n){return(n+"").replace(xA,function(e){return bA[e]}).replace(/\n/g,"<br/>").replace(dW,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function EA(n){for(var t="",e=0,r=0,i=0,o=0,a=0,s=0;e<n.length;)(r=n.charCodeAt(e++))<128?t+=String.fromCharCode(r):(i=n.charCodeAt(e++),r>191&&r<224?(a=(31&r)<<6,a|=63&i,t+=String.fromCharCode(a)):(o=n.charCodeAt(e++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o):(s=((7&r)<<18|(63&i)<<12|(63&o)<<6|63&(a=n.charCodeAt(e++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function pW(n){var e,r,s,t=jd(2*n.length),i=1,o=0,a=0;for(r=0;r<n.length;r+=i)i=1,(s=n.charCodeAt(r))<128?e=s:s<224?(e=64*(31&s)+(63&n.charCodeAt(r+1)),i=2):s<240?(e=4096*(15&s)+64*(63&n.charCodeAt(r+1))+(63&n.charCodeAt(r+2)),i=3):(i=4,e=262144*(7&s)+4096*(63&n.charCodeAt(r+1))+64*(63&n.charCodeAt(r+2))+(63&n.charCodeAt(r+3)),a=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==a&&(t[o++]=255&a,t[o++]=a>>>8,a=0),t[o++]=e%256,t[o++]=e>>>8;return t.slice(0,o).toString("ucs2")}function mW(n){return Mc(n,"binary").toString("utf8")}var kx="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Pr=yn&&(mW(kx)==EA(kx)&&mW||pW(kx)==EA(kx)&&pW)||EA,Pu=yn?function(n){return Mc(n,"utf8").toString("binary")}:function(n){for(var t=[],e=0,r=0,i=0;e<n.length;)switch(r=n.charCodeAt(e++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=n.charCodeAt(e++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},gW=function(){var n=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),_W=/(^\s|\s$|\n)/;function Co(n,t){return"<"+n+(t.match(_W)?' xml:space="preserve"':"")+">"+t+"</"+n+">"}function gy(n){return Jr(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}function Je(n,t,e){return"<"+n+(null!=e?gy(e):"")+(null!=t?(t.match(_W)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function SA(n,t){try{return n.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}var Pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],hs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},yW=function(n){for(var t=[],r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,o=n[0][r].length;i<o;i+=10240)t.push.apply(t,n[0][r].slice(i,i+10240));return t},CW=yn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:Mc(t)})):yW(n)}:yW,wW=function(n,t,e){for(var r=[],i=t;i<e;i+=2)r.push(String.fromCharCode(Fc(n,i)));return r.join("").replace(Yo,"")},Lx=yn?function(n,t,e){return Buffer.isBuffer(n)?n.toString("utf16le",t,e).replace(Yo,""):wW(n,t,e)}:wW,bW=function(n,t,e){for(var r=[],i=t;i<t+e;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},xW=yn?function(n,t,e){return Buffer.isBuffer(n)?n.toString("hex",t,t+e):bW(n,t,e)}:bW,EW=function(n,t,e){for(var r=[],i=t;i<e;i++)r.push(String.fromCharCode(sg(n,i)));return r.join("")},ag=yn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf8",e,r):EW(t,e,r)}:EW,SW=function(n,t){var e=ro(n,t);return e>0?ag(n,t+4,t+4+e-1):""},RA=SW,DW=function(n,t){var e=ro(n,t);return e>0?ag(n,t+4,t+4+e-1):""},TA=DW,RW=function(n,t){var e=2*ro(n,t);return e>0?ag(n,t+4,t+4+e-1):""},OA=RW,TW=function(t,e){var r=ro(t,e);return r>0?Lx(t,e+4,e+4+r):""},AA=TW,OW=function(n,t){var e=ro(n,t);return e>0?ag(n,t+4,t+4+e):""},PA=OW,AW=function(n,t){return function Fse(n,t){for(var e=1-2*(n[t+7]>>>7),r=((127&n[t+7])<<4)+(n[t+6]>>>4&15),i=15&n[t+6],o=5;o>=0;--o)i=256*i+n[t+o];return 2047==r?0==i?e*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),e*Math.pow(2,r-52)*i)}(n,t)},Nx=AW,MA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};yn&&(RA=function(t,e){if(!Buffer.isBuffer(t))return SW(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},TA=function(t,e){if(!Buffer.isBuffer(t))return DW(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},OA=function(t,e){if(!Buffer.isBuffer(t))return RW(t,e);var r=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r-1)},AA=function(t,e){if(!Buffer.isBuffer(t))return TW(t,e);var r=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r)},PA=function(t,e){if(!Buffer.isBuffer(t))return OW(t,e);var r=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+r)},Nx=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):AW(t,e)},MA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array}),typeof Vn<"u"&&function PW(){Lx=function(n,t,e){return Vn.utils.decode(1200,n.slice(t,e)).replace(Yo,"")},ag=function(n,t,e){return Vn.utils.decode(65001,n.slice(t,e))},RA=function(n,t){var e=ro(n,t);return e>0?Vn.utils.decode(Ah,n.slice(t+4,t+4+e-1)):""},TA=function(n,t){var e=ro(n,t);return e>0?Vn.utils.decode(ls,n.slice(t+4,t+4+e-1)):""},OA=function(n,t){var e=2*ro(n,t);return e>0?Vn.utils.decode(1200,n.slice(t+4,t+4+e-1)):""},AA=function(n,t){var e=ro(n,t);return e>0?Vn.utils.decode(1200,n.slice(t+4,t+4+e)):""},PA=function(n,t){var e=ro(n,t);return e>0?Vn.utils.decode(65001,n.slice(t+4,t+4+e)):""}}();var sg=function(n,t){return n[t]},Fc=function(n,t){return 256*n[t+1]+n[t]},Lse=function(n,t){var e=256*n[t+1]+n[t];return e<32768?e:-1*(65535-e+1)},ro=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},Ih=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},Nse=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function _y(n,t){var r,i,a,s,l,u,e="",o=[];switch(t){case"dbcs":if(u=this.l,yn&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)e+=String.fromCharCode(Fc(this,u)),u+=2;n*=2;break;case"utf8":e=ag(this,this.l,this.l+n);break;case"utf16le":e=Lx(this,this.l,this.l+(n*=2));break;case"wstr":if(!(typeof Vn<"u"))return _y.call(this,n,"dbcs");e=Vn.utils.decode(ls,this.slice(this.l,this.l+2*n)),n*=2;break;case"lpstr-ansi":e=RA(this,this.l),n=4+ro(this,this.l);break;case"lpstr-cp":e=TA(this,this.l),n=4+ro(this,this.l);break;case"lpwstr":e=OA(this,this.l),n=4+2*ro(this,this.l);break;case"lpp4":n=4+ro(this,this.l),e=AA(this,this.l),2&n&&(n+=2);break;case"8lpp4":n=4+ro(this,this.l),e=PA(this,this.l),3&n&&(n+=4-(3&n));break;case"cstr":for(n=0,e="";0!==(a=sg(this,this.l+n++));)o.push(sy(a));e=o.join("");break;case"_wstr":for(n=0,e="";0!==(a=Fc(this,this.l+n));)o.push(sy(a)),n+=2;n+=2,e=o.join("");break;case"dbcs-cont":for(e="",u=this.l,l=0;l<n;++l){if(this.lens&&-1!==this.lens.indexOf(u))return a=sg(this,u),this.l=u+1,s=_y.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),o.join("")+s;o.push(sy(Fc(this,u))),u+=2}e=o.join(""),n*=2;break;case"cpstr":if(typeof Vn<"u"){e=Vn.utils.decode(ls,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(e="",u=this.l,l=0;l!=n;++l){if(this.lens&&-1!==this.lens.indexOf(u))return a=sg(this,u),this.l=u+1,s=_y.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),o.join("")+s;o.push(sy(sg(this,u))),u+=1}e=o.join("");break;default:switch(n){case 1:return r=sg(this,this.l),this.l++,r;case 2:return r=("i"===t?Lse:Fc)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(i=ro(this,this.l),this.l+=4,i):(r=(n>0?Ih:Nse)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return i=8==n?Nx(this,this.l):Nx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:e=xW(this,this.l,n)}}return this.l+=n,e}var Bse=function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255,n[e+2]=t>>>16&255,n[e+3]=t>>>24&255},Gse=function(n,t,e){n[e]=255&t,n[e+1]=t>>8&255,n[e+2]=t>>16&255,n[e+3]=t>>24&255},Vse=function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255};function Hse(n,t,e){var r=0,i=0;if("dbcs"===e){for(i=0;i!=t.length;++i)Vse(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===e){if(typeof Vn<"u"&&874==Ah)for(i=0;i!=t.length;++i){var o=Vn.utils.encode(Ah,t.charAt(i));this[this.l+i]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===e){for(;i<n;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===e){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(t.length,n);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(n){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:r=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:r=4,Bse(this,t,this.l);break;case 8:if(r=8,"f"===e){!function kse(n,t,e){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,a=r?-t:t;isFinite(a)?0==a?i=o=0:(i=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var s=0;s<=5;++s,o/=256)n[e+s]=255&o;n[e+6]=(15&i)<<4|15&o,n[e+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Gse(this,t,this.l)}}return this.l+=r,this}function MW(n,t){var e=xW(this,this.l,n.length>>1);if(e!==n)throw new Error(t+"Expected "+n+" saw "+e);this.l+=n.length>>1}function wo(n,t){n.l=t,n.read_shift=_y,n.chk=MW,n.write_shift=Hse}function Xo(n,t){n.l+=t}function Pe(n){var t=jd(n);return wo(t,0),t}function Ra(){var n=[],t=yn?256:2048,e=function(u){var c=Pe(u);return wo(c,0),c},r=e(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&n.push(r),r=null)},o=function(u){return r&&u<r.length-r.l?r:(i(),r=e(Math.max(u+1,t)))};return{next:o,push:function(u){i(),null==(r=u).l&&(r.l=r.length),o(t)},end:function(){return i(),to(n)},_bufs:n}}function We(n,t,e,r){var o,i=+t;if(!isNaN(i)){r||(r=Ly[i].p||(e||[]).length||0),o=1+(i>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var a=n.next(o);i<=127?a.write_shift(1,i):(a.write_shift(1,128+(127&i)),a.write_shift(1,i>>7));for(var s=0;4!=s;++s){if(!(r>=128)){a.write_shift(1,r);break}a.write_shift(1,128+(127&r)),r>>=7}r>0&&MA(e)&&n.push(e)}}function yy(n,t,e){var r=vr(n);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function IW(n,t,e){var r=vr(n);return r.s=yy(r.s,t.s,e),r.e=yy(r.e,t.s,e),r}function Cy(n,t){if(n.cRel&&n.c<0)for(n=vr(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=vr(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var e=Gt(n);return!n.cRel&&null!=n.cRel&&(e=function Use(n){return n.replace(/^([A-Z])/,"$$$1")}(e)),!n.rRel&&null!=n.rRel&&(e=function Wse(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function IA(n,t){return 0!=n.s.r||n.s.rRel||n.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||n.e.rRel?0!=n.s.c||n.s.cRel||n.e.c!=(t.biff>=12?16383:255)||n.e.cRel?Cy(n.s,t.biff)+":"+Cy(n.e,t.biff):(n.s.rRel?"":"$")+ni(n.s.r)+":"+(n.e.rRel?"":"$")+ni(n.e.r):(n.s.cRel?"":"$")+Mr(n.s.c)+":"+(n.e.cRel?"":"$")+Mr(n.e.c)}function FA(n){return parseInt(function jse(n){return n.replace(/\$(\d+)$/,"$1")}(n),10)-1}function ni(n){return""+(n+1)}function kA(n){for(var t=function zse(n){return n.replace(/^\$([A-Z])/,"$1")}(n),e=0,r=0;r!==t.length;++r)e=26*e+t.charCodeAt(r)-64;return e-1}function Mr(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function hi(n){for(var t=0,e=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function Gt(n){for(var t=n.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(n.r+1)}function Ta(n){var t=n.indexOf(":");return-1==t?{s:hi(n),e:hi(n)}:{s:hi(n.slice(0,t)),e:hi(n.slice(t+1))}}function sn(n,t){return typeof t>"u"||"number"==typeof t?sn(n.s,n.e):("string"!=typeof n&&(n=Gt(n)),"string"!=typeof t&&(t=Gt(t)),n==t?n:n+":"+t)}function Mn(n){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,i=0,o=n.length;for(e=0;r<o&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.s.c=--e,e=0;r<o&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;if(t.s.r=--e,r===o||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,e=0;r!=o&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.e.c=--e,e=0;r!=o&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;return t.e.r=--e,t}function Mu(n,t,e){return null==n||null==n.t||"z"==n.t?"":void 0!==n.w?n.w:("d"==n.t&&!n.z&&e&&e.dateNF&&(n.z=e.dateNF),"e"==n.t?Lc[n.v]||n.v:function FW(n,t){var e="d"==n.t&&t instanceof Date;if(null!=n.z)try{return n.w=ds(n.z,e?no(t):t)}catch{}try{return n.w=ds((n.XF||{}).numFmtId||(e?14:0),e?no(t):t)}catch{return""+t}}(n,null==t?n.v:t))}function qd(n,t){var e=t&&t.sheet?t.sheet:"Sheet1",r={};return r[e]=n,{SheetNames:[e],Sheets:r}}function kW(n,t,e){var r=e||{},i=n?Array.isArray(n):r.dense;null!=Qr&&null==i&&(i=Qr);var o=n||(i?[]:{}),a=0,s=0;if(o&&null!=r.origin){if("number"==typeof r.origin)a=r.origin;else{var l="string"==typeof r.origin?hi(r.origin):r.origin;a=l.r,s=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var c=Mn(o["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),-1==a&&(u.e.r=a=c.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},m=a+d,v=s+h;if(u.s.r>m&&(u.s.r=m),u.s.c>v&&(u.s.c=v),u.e.r<m&&(u.e.r=m),u.e.c<v&&(u.e.c=v),!t[d][h]||"object"!=typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else{if(!r.sheetStubs)continue;p.t="z"}else"number"==typeof p.v?p.t="n":"boolean"==typeof p.v?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Ft[14],r.cellDates?(p.t="d",p.w=ds(p.z,no(p.v))):(p.t="n",p.v=no(p.v),p.w=ds(p.z,p.v))):p.t="s";else p=t[d][h];if(i)o[m]||(o[m]=[]),o[m][v]&&o[m][v].z&&(p.z=o[m][v].z),o[m][v]=p;else{var _=Gt({c:v,r:m});o[_]&&o[_].z&&(p.z=o[_].z),o[_]=p}}}return u.s.c<1e7&&(o["!ref"]=sn(u)),o}function lg(n,t){return kW(null,n,t)}function Gl(n,t){return t||(t=Pe(4)),t.write_shift(4,n),t}function Zo(n){var t=n.read_shift(4);return 0===t?"":n.read_shift(t,"dbcs")}function io(n,t){var e=!1;return null==t&&(e=!0,t=Pe(4+2*n.length)),t.write_shift(4,n.length),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}function Yse(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function LA(n,t){var e=n.l,r=n.read_shift(1),i=Zo(n),o=[],a={t:i,h:i};if(1&r){for(var s=n.read_shift(4),l=0;l!=s;++l)o.push(Yse(n));a.r=o}else a.r=[{ich:0,ifnt:0}];return n.l=e+t,a}var Zse=LA;function Xs(n){var t=n.read_shift(4),e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:e}}function Fh(n,t){return null==t&&(t=Pe(8)),t.write_shift(-4,n.c),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}function kh(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}function Lh(n,t){return null==t&&(t=Pe(4)),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}var Jse=Zo,LW=io;function NA(n){var t=n.read_shift(4);return 0===t||4294967295===t?"":n.read_shift(t,"dbcs")}function Bx(n,t){var e=!1;return null==t&&(e=!0,t=Pe(127)),t.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}var ele=Zo,BA=NA,GA=Bx;function VA(n){var t=n.slice(n.l,n.l+4),e=1&t[0],r=2&t[0];n.l+=4;var i=0===r?Nx([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Ih(t,0)>>2;return e?i/100:i}function NW(n,t){null==t&&(t=Pe(4));var e=0,r=0,i=100*n;if(n==(0|n)&&n>=-(1<<29)&&n<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,e=1),!r)throw new Error("unsupported RkNumber "+n);t.write_shift(-4,((e?i:n)<<2)+(e+2))}function BW(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}var Nh=BW,ug=function tle(n,t){return t||(t=Pe(16)),t.write_shift(4,n.s.r),t.write_shift(4,n.e.r),t.write_shift(4,n.s.c),t.write_shift(4,n.e.c),t};function Qo(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Bh(n,t){return(t||Pe(8)).write_shift(8,n,"f")}function Gx(n,t){if(t||(t=Pe(8)),!n||n.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=n.index?(t.write_shift(1,2),t.write_shift(1,n.index)):null!=n.theme?(t.write_shift(1,6),t.write_shift(1,n.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=n.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),n.rgb&&null==n.theme){var r=n.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var WA={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},jA={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function hle(n){return n.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var Gh=vr(hle([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Lc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jW(n,t){var i,e=function pse(n){for(var t=[],e=Jr(n),r=0;r!==e.length;++r)null==t[n[e[r]]]&&(t[n[e[r]]]=[]),t[n[e[r]]].push(e[r]);return t}(UA),r=[];r[r.length]=ti,r[r.length]=Je("Types",null,{xmlns:Pi.CT,"xmlns:xsd":Pi.xsd,"xmlns:xsi":Pi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Je("Default",null,{Extension:l[0],ContentType:l[1]})}));var o=function(l){n[l]&&n[l].length>0&&(r[r.length]=Je("Override",null,{PartName:("/"==(i=n[l][0])[0]?"":"/")+i,ContentType:jx[l][t.bookType]||jx[l].xlsx}))},a=function(l){(n[l]||[]).forEach(function(u){r[r.length]=Je("Override",null,{PartName:("/"==u[0]?"":"/")+u,ContentType:jx[l][t.bookType]||jx[l].xlsx})})},s=function(l){(n[l]||[]).forEach(function(u){r[r.length]=Je("Override",null,{PartName:("/"==u[0]?"":"/")+u,ContentType:e[l][0]})})};return o("workbooks"),a("sheets"),a("charts"),s("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),a("metadata"),s("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ln={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wy(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function cg(n){var t=[ti,Je("Relationships",null,{xmlns:Pi.RELS})];return Jr(n["!id"]).forEach(function(e){t[t.length]=Je("Relationship",null,n["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ir(n,t,e,r,i,o){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),t<0)for(t=n["!idx"];n["!id"]["rId"+t];++t);if(n["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=e,o?i.TargetMode=o:[ln.HLINK,ln.XPATH,ln.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,t}function UW(n,t,e){return['  <rdf:Description rdf:about="'+n+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Cle(n,t){return['  <rdf:Description rdf:about="'+n+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function zW(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ay.version+"</meta:generator></office:meta></office:document-meta>"}var Nc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $A(n,t,e,r,i){null!=i[n]||null==t||""===t||(i[n]=t,t=dr(t),r[r.length]=e?Je(n,t,e):Co(n,t))}function KW(n,t){var e=t||{},r=[ti,Je("cp:coreProperties",null,{"xmlns:cp":Pi.CORE_PROPS,"xmlns:dc":Pi.dc,"xmlns:dcterms":Pi.dcterms,"xmlns:dcmitype":Pi.dcmitype,"xmlns:xsi":Pi.xsi})],i={};if(!n&&!e.Props)return r.join("");n&&(null!=n.CreatedDate&&$A("dcterms:created","string"==typeof n.CreatedDate?n.CreatedDate:SA(n.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=n.ModifiedDate&&$A("dcterms:modified","string"==typeof n.ModifiedDate?n.ModifiedDate:SA(n.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=Nc.length;++o){var a=Nc[o],s=e.Props&&null!=e.Props[a[1]]?e.Props[a[1]]:n?n[a[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&$A(a[0],s,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Vh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function XW(n){var t=[],e=Je;return n||(n={}),n.Application="SheetJS",t[t.length]=ti,t[t.length]=Je("Properties",null,{xmlns:Pi.EXT_PROPS,"xmlns:vt":Pi.vt}),Vh.forEach(function(r){if(void 0!==n[r[1]]){var i;switch(r[2]){case"string":i=dr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=e(r[0],i))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+dr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ZW(n){var t=[ti,Je("Properties",null,{xmlns:Pi.CUST_PROPS,"xmlns:vt":Pi.vt})];if(!n)return t.join("");var e=1;return Jr(n).forEach(function(i){++e,t[t.length]=Je("property",function Ise(n,t){switch(typeof n){case"string":var e=Je("vt:lpwstr",dr(n));return t&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Je((0|n)==n?"vt:i4":"vt:r8",dr(String(n)));case"boolean":return Je("vt:bool",n?"true":"false")}if(n instanceof Date)return Je("vt:filetime",SA(n));throw new Error("Unable to serialize "+n)}(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:dr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var KA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function rj(n,t){var e=Pe(4),r=Pe(4);switch(e.write_shift(4,80==n?31:n),n){case 3:r.write_shift(-4,t);break;case 5:(r=Pe(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function Ole(n){var e=("string"==typeof n?new Date(Date.parse(n)):n).getTime()/1e3+11644473600,r=e%Math.pow(2,32),i=(e-r)/Math.pow(2,32);i*=1e7;var o=(r*=1e7)/Math.pow(2,32)|0;o>0&&(r%=Math.pow(2,32),i+=o);var a=Pe(8);return a.write_shift(4,r),a.write_shift(4,i),a}(t);break;case 31:case 80:for((r=Pe(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}return to([e,r])}var oj=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lle(n){switch(typeof n){case"boolean":return 11;case"number":return(0|n)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64}return-1}function aj(n,t,e){var r=Pe(8),i=[],o=[],a=8,s=0,l=Pe(8),u=Pe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),o.push(l),i.push(u),a+=8+l.length,!t){(u=Pe(8)).write_shift(4,0),i.unshift(u);var c=[Pe(4)];for(c[0].write_shift(4,n.length),s=0;s<n.length;++s){var d=n[s][0];for((l=Pe(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=to(c),o.unshift(l),a+=8+l.length}for(s=0;s<n.length;++s)if((!t||t[n[s][0]])&&!(oj.indexOf(n[s][0])>-1||YW.indexOf(n[s][0])>-1)&&null!=n[s][1]){var h=n[s][1],p=0;if(t){var m=e[p=+t[n[s][0]]];if("version"==m.p&&"string"==typeof h){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}l=rj(m.t,h)}else{var _=Lle(h);-1==_&&(_=31,h=String(h)),l=rj(_,h)}o.push(l),(u=Pe(8)).write_shift(4,t?p:2+s),i.push(u),a+=8+l.length}var C=8*(o.length+1);for(s=0;s<o.length;++s)i[s].write_shift(4,C),C+=o[s].length;return r.write_shift(4,a),r.write_shift(4,o.length),to([r].concat(i).concat(o))}function lj(n,t,e,r,i,o){var a=Pe(i?68:48),s=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,xt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var l=aj(n,e,r);if(s.push(l),i){var u=aj(i,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+l.length),s.push(u)}return to(s)}function Oa(n,t){return t||(t=Pe(2)),t.write_shift(2,+!!n),t}function Mi(n){return n.read_shift(2,"u")}function Zs(n,t){return t||(t=Pe(2)),t.write_shift(2,n),t}function cj(n,t,e){return e||(e=Pe(2)),e.write_shift(1,"e"==t?+n:+!!n),e.write_shift(1,"e"==t?1:0),e}function xy(n,t,e){var r=n.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",o=ls;e&&e.biff>=8&&(ls=1200),e&&8!=e.biff?12==e.biff&&(i="wstr"):n.read_shift(1)&&(i="dbcs-cont"),e.biff>=2&&e.biff<=5&&(i="cpstr");var s=r?n.read_shift(r,i):"";return ls=o,s}function Hle(n){var t=n.t||"",r=Pe(3);r.write_shift(2,t.length),r.write_shift(1,1);var i=Pe(2*t.length);return i.write_shift(2*t.length,t,"utf16le"),to([r,i])}function dj(n,t,e){return e||(e=Pe(3+2*n.length)),e.write_shift(2,n.length),e.write_shift(1,1),e.write_shift(31,n,"utf16le"),e}function fj(n,t){t||(t=Pe(6+2*n.length)),t.write_shift(4,1+n.length);for(var e=0;e<n.length;++e)t.write_shift(2,n.charCodeAt(e));return t.write_shift(2,0),t}function Kle(n){var t=Pe(512),e=0,r=n.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(e=0;e<a.length;++e)t.write_shift(4,a[e]);if(28==o)fj(r=r.slice(1),t);else if(2&o){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));var s=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(s.length+1)),e=0;e<s.length;++e)t.write_shift(2,s.charCodeAt(e));t.write_shift(2,0),8&o&&fj(i>-1?r.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),e=0;e<r.length-3*l;++e)t.write_shift(1,255&r.charCodeAt(e+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function jh(n,t,e,r){return r||(r=Pe(6)),r.write_shift(2,n),r.write_shift(2,t),r.write_shift(2,e||0),r}function Xle(n,t,e){var r=e.biff>8?4:2;return[n.read_shift(r),n.read_shift(r,"i"),n.read_shift(r,"i")]}function $x(n){var t=n.read_shift(2),e=n.read_shift(2);return{s:{c:n.read_shift(2),r:t},e:{c:n.read_shift(2),r:e}}}function gj(n,t){return t||(t=Pe(8)),t.write_shift(2,n.s.r),t.write_shift(2,n.e.r),t.write_shift(2,n.s.c),t.write_shift(2,n.e.c),t}function ZA(n,t,e){var r=1536,i=16;switch(e.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var o=Pe(i);return o.write_shift(2,r),o.write_shift(2,t),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function lue(n,t){var e=!t||t.biff>=8?2:1,r=Pe(8+e*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(e*n.name.length,n.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Rue(n,t,e,r){var i=e&&5==e.biff;r||(r=Pe(i?3+t.length:5+2*t.length)),r.write_shift(2,n),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function wj(n,t,e,r){var i=e&&5==e.biff;r||(r=Pe(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,t<<4));var o=0;return n.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function tce(n){var t=Pe(24),e=hi(n[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return to([t,Kle(n[1])])}function rce(n){var t=n[1].Tooltip,e=Pe(10+2*(t.length+1));e.write_shift(2,2048);var r=hi(n[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var i=0;i<t.length;++i)e.write_shift(2,t.charCodeAt(i));return e.write_shift(2,0),e}var QA=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Mx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=lg(function e(s,l){var u=[],c=jd(1);switch(l.type){case"base64":c=cs(us(s));break;case"binary":c=cs(s);break;case"buffer":case"array":c=s}wo(c,0);var d=c.read_shift(1),h=!!(136&d),p=!1,m=!1;switch(d){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:p=!0,h=!0;break;case 140:m=!0;break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var v=0,_=521;2==d&&(v=c.read_shift(2)),c.l+=3,2!=d&&(v=c.read_shift(4)),v>1048576&&(v=1e6),2!=d&&(_=c.read_shift(2));var C=c.read_shift(2),w=l.codepage||1252;2!=d&&(c.l+=16,c.read_shift(1),0!==c[c.l]&&(w=n[c[c.l]]),c.l+=1,c.l+=2),m&&(c.l+=36);for(var b=[],E={},S=Math.min(c.length,2==d?521:_-10-(p?264:0)),O=m?32:11;c.l<S&&13!=c[c.l];)switch(E={},E.name=Vn.utils.decode(w,c.slice(c.l,c.l+O)).replace(/[\u0000\r\n].*$/g,""),c.l+=O,E.type=String.fromCharCode(c.read_shift(1)),2!=d&&!m&&(E.offset=c.read_shift(4)),E.len=c.read_shift(1),2==d&&(E.offset=c.read_shift(2)),E.dec=c.read_shift(1),E.name.length&&b.push(E),2!=d&&(c.l+=m?13:14),E.type){case"B":(!p||8!=E.len)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(13!==c[c.l]&&(c.l=_-1),13!==c.read_shift(1))throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=_;var R=0,D=0;for(u[0]=[],D=0;D!=b.length;++D)u[0][D]=b[D].name;for(;v-- >0;)if(42!==c[c.l])for(++c.l,u[++R]=[],D=0,D=0;D!=b.length;++D){var P=c.slice(c.l,c.l+b[D].len);c.l+=b[D].len,wo(P,0);var M=Vn.utils.decode(w,P);switch(b[D].type){case"C":M.trim().length&&(u[R][D]=M.replace(/\s+$/,""));break;case"D":u[R][D]=8===M.length?new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):M;break;case"F":u[R][D]=parseFloat(M.trim());break;case"+":case"I":u[R][D]=m?2147483648^P.read_shift(-4,"i"):P.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[R][D]=!0;break;case"N":case"F":u[R][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[R][D]="##MEMO##"+(m?parseInt(M.trim(),10):P.read_shift(4));break;case"N":(M=M.replace(/\u0000/g,"").trim())&&"."!=M&&(u[R][D]=+M||0);break;case"@":u[R][D]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[R][D]=new Date(864e5*(P.read_shift(4)-2440588)+P.read_shift(4));break;case"Y":u[R][D]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[R][D]=-P.read_shift(-8,"f");break;case"B":if(p&&8==b[D].len){u[R][D]=P.read_shift(8,"f");break}case"G":case"P":P.l+=b[D].len;break;case"0":if("_NullFlags"===b[D].name)break;default:throw new Error("DBF Unsupported data type "+b[D].type)}}else c.l+=C;if(2!=d&&c.l<c.length&&26!=c[c.l++])throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}(s,u),u);return c["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,c}var o={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(s,l){try{return qd(r(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function a(s,l){var u=l||{};if(+u.codepage>=0&&Ks(+u.codepage),"string"==u.type)throw new Error("Cannot write DBF to JS string");var c=Ra(),d=aE(s,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),m=s["!cols"]||[],v=0,_=0,C=0,w=1;for(v=0;v<h.length;++v)if(((m[v]||{}).DBF||{}).name)h[v]=m[v].DBF.name,++C;else if(null!=h[v]){if(++C,"number"==typeof h[v]&&(h[v]=h[v].toString(10)),"string"!=typeof h[v])throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v)for(_=0;_<1024;++_)if(-1==h.indexOf(h[v]+"_"+_)){h[v]+="_"+_;break}}var b=Mn(s["!ref"]),E=[],S=[],O=[];for(v=0;v<=b.e.c-b.s.c;++v){var R="",D="",P=0,M=[];for(_=0;_<p.length;++_)null!=p[_][v]&&M.push(p[_][v]);if(0!=M.length&&null!=h[v]){for(_=0;_<M.length;++_){switch(typeof M[_]){case"number":D="B";break;case"string":default:D="C";break;case"boolean":D="L";break;case"object":D=M[_]instanceof Date?"D":"C"}P=Math.max(P,String(M[_]).length),R=R&&R!=D?"C":D}P>250&&(P=250),"C"==(D=((m[v]||{}).DBF||{}).type)&&m[v].DBF.len>P&&(P=m[v].DBF.len),"B"==R&&"N"==D&&(R="N",O[v]=m[v].DBF.dec,P=m[v].DBF.len),S[v]="C"==R||"N"==D?P:o[R]||0,w+=S[v],E[v]=R}else E[v]="?"}var B=c.next(32);for(B.write_shift(4,318902576),B.write_shift(4,p.length),B.write_shift(2,296+32*C),B.write_shift(2,w),v=0;v<4;++v)B.write_shift(4,0);for(B.write_shift(4,0|(+t[Ah]||3)<<8),v=0,_=0;v<h.length;++v)if(null!=h[v]){var I=c.next(32),U=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,U,"sbcs"),I.write_shift(1,"?"==E[v]?"C":E[v],"sbcs"),I.write_shift(4,_),I.write_shift(1,S[v]||o[E[v]]||0),I.write_shift(1,O[v]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),_+=S[v]||o[E[v]]||0}var le=c.next(264);for(le.write_shift(4,13),v=0;v<65;++v)le.write_shift(4,0);for(v=0;v<p.length;++v){var ie=c.next(w);for(ie.write_shift(1,0),_=0;_<h.length;++_)if(null!=h[_])switch(E[_]){case"L":ie.write_shift(1,null==p[v][_]?63:p[v][_]?84:70);break;case"B":ie.write_shift(8,p[v][_]||0,"f");break;case"N":var te="0";for("number"==typeof p[v][_]&&(te=p[v][_].toFixed(O[_]||0)),C=0;C<S[_]-te.length;++C)ie.write_shift(1,32);ie.write_shift(1,te,"sbcs");break;case"D":p[v][_]?(ie.write_shift(4,("0000"+p[v][_].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(p[v][_].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+p[v][_].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var J=String(null!=p[v][_]?p[v][_]:"").slice(0,S[_]);for(ie.write_shift(1,J,"sbcs"),C=0;C<S[_]-J.length;++C)ie.write_shift(1,32)}}return c.next(1).write_shift(1,26),c.end()}}}(),Oj=function(){var n={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Jr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,p){var m=n[p];return"number"==typeof m?pA(m):m},r=function(h,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return 59==v?h:pA(v)};function o(h,p){var B,m=h.split(/[\n\r]+/),v=-1,_=-1,C=0,w=0,b=[],E=[],S=null,O={},R=[],D=[],P=[],M=0;for(+p.codepage>=0&&Ks(+p.codepage);C!==m.length;++C){M=0;var ie,I=m[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,e),U=I.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")});if(I.length>0)switch(U[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==U[1].charAt(0)&&E.push(I.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,J=!1,ce=!1,de=!1,_e=-1,ue=-1;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"A":case"G":break;case"X":_=parseInt(U[w].slice(1))-1,J=!0;break;case"Y":for(v=parseInt(U[w].slice(1))-1,J||(_=0),B=b.length;B<=v;++B)b[B]=[];break;case"K":'"'===(ie=U[w].slice(1)).charAt(0)?ie=ie.slice(1,ie.length-1):"TRUE"===ie?ie=!0:"FALSE"===ie?ie=!1:isNaN(Bl(ie))?isNaN(og(ie).getDate())||(ie=Ur(ie)):(ie=Bl(ie),null!==S&&rg(S)&&(ie=yA(ie))),typeof Vn<"u"&&"string"==typeof ie&&"string"!=(p||{}).type&&(p||{}).codepage&&(ie=Vn.utils.decode(p.codepage,ie)),te=!0;break;case"E":de=!0;var G=hg(U[w].slice(1),{r:v,c:_});b[v][_]=[b[v][_],G];break;case"S":ce=!0,b[v][_]=[b[v][_],"S5S"];break;case"R":_e=parseInt(U[w].slice(1))-1;break;case"C":ue=parseInt(U[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(te&&(b[v][_]&&2==b[v][_].length?b[v][_][0]=ie:b[v][_]=ie,S=null),ce){if(de)throw new Error("SYLK shared formula cannot have own formula");var re=_e>-1&&b[_e][ue];if(!re||!re[1])throw new Error("SYLK shared formula cannot find base");b[v][_][1]=Xj(re[1],{r:v-_e,c:_-ue})}break;case"F":var W=0;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"X":_=parseInt(U[w].slice(1))-1,++W;break;case"Y":for(v=parseInt(U[w].slice(1))-1,B=b.length;B<=v;++B)b[B]=[];break;case"M":M=parseInt(U[w].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":S=E[parseInt(U[w].slice(1))];break;case"W":for(P=U[w].slice(1).split(" "),B=parseInt(P[0],10);B<=parseInt(P[1],10);++B)M=parseInt(P[2],10),D[B-1]=0===M?{hidden:!0}:{wch:M},Zd(D[B-1]);break;case"C":D[_=parseInt(U[w].slice(1))-1]||(D[_]={});break;case"R":R[v=parseInt(U[w].slice(1))-1]||(R[v]={}),M>0?(R[v].hpt=M,R[v].hpx=Xx(M)):0===M&&(R[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}W<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return R.length>0&&(O["!rows"]=R),D.length>0&&(O["!cols"]=D),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,O]}function a(h,p){var m=function i(h,p){switch(p.type){case"base64":return o(us(h),p);case"binary":return o(h,p);case"buffer":return o(yn&&Buffer.isBuffer(h)?h.toString("binary"):Ud(h),p);case"array":return o(Mh(h),p)}throw new Error("Unrecognized type "+p.type)}(h,p),_=m[1],C=lg(m[0],p);return Jr(_).forEach(function(w){C[w]=_[w]}),C}function l(h,p,m,v){var _="C;Y"+(m+1)+";X"+(v+1)+";K";switch(h.t){case"n":_+=h.v||0,h.f&&!h.F&&(_+=";E"+oP(h.f,{r:m,c:v}));break;case"b":_+=h.v?"TRUE":"FALSE";break;case"e":_+=h.w||h.v;break;case"d":_+='"'+(h.w||h.v)+'"';break;case"s":_+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return _}return n["|"]=254,{to_workbook:function s(h,p){return qd(a(h,p),p)},to_sheet:a,from_sheet:function d(h,p){var C,m=["ID;PWXL;N;E"],v=[],_=Mn(h["!ref"]),w=Array.isArray(h),b="\r\n";m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&function u(h,p){p.forEach(function(m,v){var _="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?_+="0":("number"==typeof m.width&&!m.wpx&&(m.wpx=Dy(m.width)),"number"==typeof m.wpx&&!m.wch&&(m.wch=Ry(m.wpx)),"number"==typeof m.wch&&(_+=Math.round(m.wch)))," "!=_.charAt(_.length-1)&&h.push(_)})}(m,h["!cols"]),h["!rows"]&&function c(h,p){p.forEach(function(m,v){var _="F;";m.hidden?_+="M0;":m.hpt?_+="M"+20*m.hpt+";":m.hpx&&(_+="M"+20*Ty(m.hpx)+";"),_.length>2&&h.push(_+"R"+(v+1))})}(m,h["!rows"]),m.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var E=_.s.r;E<=_.e.r;++E)for(var S=_.s.c;S<=_.e.c;++S){var O=Gt({r:E,c:S});(C=w?(h[E]||[])[S]:h[O])&&(null!=C.v||C.f&&!C.F)&&v.push(l(C,0,E,S))}return m.join(b)+b+v.join(b)+b+"E"+b}}}(),Aj=function(){function t(o,a){for(var s=o.split("\n"),l=-1,u=-1,c=0,d=[];c!==s.length;++c)if("BOT"!==s[c].trim()){if(!(l<0)){for(var h=s[c].trim().split(","),p=h[0],m=h[1],v=s[++c]||"";1&(v.match(/["]/g)||[]).length&&c<s.length-1;)v+="\n"+s[++c];switch(v=v.trim(),+p){case-1:if("BOT"===v){d[++l]=[],u=0;continue}if("EOD"!==v)throw new Error("Unrecognized DIF special command "+v);break;case 0:d[l][u]="TRUE"===v||"FALSE"!==v&&(isNaN(Bl(m))?isNaN(og(m).getDate())?m:Ur(m):Bl(m)),++u;break;case 1:v=(v=v.slice(1,v.length-1)).replace(/""/g,'"'),ly&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),d[l][u++]=""!==v?v:null}if("EOD"===v)break}}else d[++l]=[],u=0;return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function e(o,a){return lg(function n(o,a){switch(a.type){case"base64":return t(us(o),a);case"binary":return t(o,a);case"buffer":return t(yn&&Buffer.isBuffer(o)?o.toString("binary"):Ud(o),a);case"array":return t(Mh(o),a)}throw new Error("Unrecognized type "+a.type)}(o,a),a)}return{to_workbook:function r(o,a){return qd(e(o,a),a)},to_sheet:e,from_sheet:function(){var o=function(l,u,c,d,h){l.push(u),l.push(c+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,u,c,d){l.push(u+","+c),l.push(1==u?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var d,u=[],c=Mn(l["!ref"]),h=Array.isArray(l);o(u,"TABLE",0,1,"sheetjs"),o(u,"VECTORS",0,c.e.r-c.s.r+1,""),o(u,"TUPLES",0,c.e.c-c.s.c+1,""),o(u,"DATA",0,0,"");for(var p=c.s.r;p<=c.e.r;++p){a(u,-1,0,"BOT");for(var m=c.s.c;m<=c.e.c;++m){var v=Gt({r:p,c:m});if(d=h?(l[p]||[])[m]:l[v])switch(d.t){case"n":var _=ly?d.w:d.v;!_&&null!=d.v&&(_=d.v),null==_?a(u,1,0,ly&&d.f&&!d.F?"="+d.f:""):a(u,0,_,"V");break;case"b":a(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(u,1,0,!ly||isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ds(d.z||Ft[14],no(Ur(d.v)))),ly?a(u,0,d.w,"V"):a(u,1,0,d.w);break;default:a(u,1,0,"")}else a(u,1,0,"")}}return a(u,-1,0,"EOD"),u.join("\r\n")}}()}}(),Pj=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){return lg(function e(d,h){for(var p=d.split("\n"),m=-1,v=-1,_=0,C=[];_!==p.length;++_){var w=p[_].trim().split(":");if("cell"===w[0]){var b=hi(w[1]);if(C.length<=b.r)for(m=C.length;m<=b.r;++m)C[m]||(C[m]=[]);switch(m=b.r,v=b.c,w[2]){case"t":C[m][v]=n(w[3]);break;case"v":C[m][v]=+w[3];break;case"vtf":var E=w[w.length-1];case"vtc":C[m][v]="nl"===w[3]?!!+w[4]:+w[4],"vtf"==w[2]&&(C[m][v]=[C[m][v],E])}}}return h&&h.sheetRows&&(C=C.slice(0,h.sheetRows)),C}(d,h),h)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var m,h=[],p=[],v="",_=Ta(d["!ref"]),C=Array.isArray(d),w=_.s.r;w<=_.e.r;++w)for(var b=_.s.c;b<=_.e.c;++b)if(v=Gt({r:w,c:b}),(m=C?(d[w]||[])[b]:d[v])&&null!=m.v&&"z"!==m.t){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var E=no(Ur(m.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=m.w||ds(m.z||Ft[14],E);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join("\n")}return{to_workbook:function i(d,h){return qd(r(d,h),h)},to_sheet:r,from_sheet:function c(d){return[o,a,s,a,u(d),l].join("\n")}}}(),dg=function(){function n(c,d,h,p,m){m.raw?d[h][p]=c:""===c||(d[h][p]="TRUE"===c||"FALSE"!==c&&(isNaN(Bl(c))?isNaN(og(c).getDate())?c:Ur(c):Bl(c)))}var e={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var d={},h=!1,p=0,m=0;p<c.length;++p)34==(m=c.charCodeAt(p))?h=!h:!h&&m in e&&(d[m]=(d[m]||0)+1);for(p in m=[],d)Object.prototype.hasOwnProperty.call(d,p)&&m.push([d[p],p]);if(!m.length)for(p in d=r)Object.prototype.hasOwnProperty.call(d,p)&&m.push([d[p],p]);return m.sort(function(v,_){return v[0]-_[0]||r[v[1]]-r[_[1]]}),e[m.pop()[1]]||44}function a(c,d){return!d||!d.PRN||d.FS||"sep="==c.slice(0,4)||c.indexOf("\t")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?function o(c,d){var h=d||{},p="";null!=Qr&&null==h.dense&&(h.dense=Qr);var m=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};"sep="==c.slice(0,4)?13==c.charCodeAt(5)&&10==c.charCodeAt(6)?(p=c.charAt(4),c=c.slice(7)):13==c.charCodeAt(5)||10==c.charCodeAt(5)?(p=c.charAt(4),c=c.slice(6)):p=i(c.slice(0,1024)):p=h&&h.FS?h.FS:i(c.slice(0,1024));var _=0,C=0,w=0,b=0,E=0,S=p.charCodeAt(0),O=!1,R=0,D=c.charCodeAt(0);c=c.replace(/\r\n/gm,"\n");var P=null!=h.dateNF?function use(n){var t="number"==typeof n?Ft[n]:n;return t=t.replace(Q4,"(\\d+)"),new RegExp("^"+t+"$")}(h.dateNF):null;function M(){var B=c.slice(b,E),I={};if('"'==B.charAt(0)&&'"'==B.charAt(B.length-1)&&(B=B.slice(1,-1).replace(/""/g,'"')),0===B.length)I.t="z";else if(h.raw)I.t="s",I.v=B;else if(0===B.trim().length)I.t="s",I.v=B;else if(61==B.charCodeAt(0))34==B.charCodeAt(1)&&34==B.charCodeAt(B.length-1)?(I.t="s",I.v=B.slice(2,-1).replace(/""/g,'"')):function Ife(n){return 1!=n.length}(B)?(I.t="n",I.f=B.slice(1)):(I.t="s",I.v=B);else if("TRUE"==B)I.t="b",I.v=!0;else if("FALSE"==B)I.t="b",I.v=!1;else if(isNaN(w=Bl(B)))if(!isNaN(og(B).getDate())||P&&B.match(P)){I.z=h.dateNF||Ft[14];var U=0;P&&B.match(P)&&(B=function cse(n,t,e){var r=-1,i=-1,o=-1,a=-1,s=-1,l=-1;(t.match(Q4)||[]).forEach(function(d,h){var p=parseInt(e[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=p;break;case"d":o=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?s=p:i=p}}),l>=0&&-1==s&&i>=0&&(s=i,i=-1);var u=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==u.length&&(u="0"+u),8==u.length&&(u="20"+u);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==a&&-1==s&&-1==l?u:-1==r&&-1==i&&-1==o?c:u+"T"+c}(0,h.dateNF,B.match(P)||[]),U=1),h.cellDates?(I.t="d",I.v=Ur(B,U)):(I.t="n",I.v=no(Ur(B,U))),!1!==h.cellText&&(I.w=ds(I.z,I.v instanceof Date?no(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=B;else I.t="n",!1!==h.cellText&&(I.w=B),I.v=w;if("z"==I.t||(h.dense?(m[_]||(m[_]=[]),m[_][C]=I):m[Gt({c:C,r:_})]=I),D=c.charCodeAt(b=E+1),v.e.c<C&&(v.e.c=C),v.e.r<_&&(v.e.r=_),R==S)++C;else if(C=0,++_,h.sheetRows&&h.sheetRows<=_)return!0}e:for(;E<c.length;++E)switch(R=c.charCodeAt(E)){case 34:34===D&&(O=!O);break;case S:case 10:case 13:if(!O&&M())break e}return E-b>0&&M(),m["!ref"]=sn(v),m}(c,d):lg(function t(c,d){var h=d||{},p=[];if(!c||0===c.length)return p;for(var m=c.split(/[\r\n]/),v=m.length-1;v>=0&&0===m[v].length;)--v;for(var _=10,C=0,w=0;w<=v;++w)-1==(C=m[w].indexOf(" "))?C=m[w].length:C++,_=Math.max(_,C);for(w=0;w<=v;++w){p[w]=[];var b=0;for(n(m[w].slice(0,_).trim(),p,w,b,h),b=1;b<=(m[w].length-_)/10+1;++b)n(m[w].slice(_+10*(b-1),_+10*b).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}(c,d),d)}function s(c,d){var h="",p="string"==d.type?[0,0,0,0]:function bP(n,t){var e="";switch((t||{}).type||"base64"){case"buffer":case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":e=us(n.slice(0,12));break;case"binary":e=n;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}(c,d);switch(d.type){case"base64":h=us(c);break;case"binary":case"string":h=c;break;case"buffer":h=65001==d.codepage?c.toString("utf8"):d.codepage&&typeof Vn<"u"?Vn.utils.decode(d.codepage,c):yn&&Buffer.isBuffer(c)?c.toString("binary"):Ud(c);break;case"array":h=Mh(c);break;default:throw new Error("Unrecognized type "+d.type)}return 239==p[0]&&187==p[1]&&191==p[2]?h=Pr(h.slice(3)):"string"!=d.type&&"buffer"!=d.type&&65001==d.codepage?h=Pr(h):"binary"==d.type&&typeof Vn<"u"&&d.codepage&&(h=Vn.utils.decode(d.codepage,Vn.utils.encode(28591,h))),"socialcalc:version:"==h.slice(0,19)?Pj.to_sheet("string"==d.type?h:Pr(h),d):a(h,d)}return{to_workbook:function l(c,d){return qd(s(c,d),d)},to_sheet:s,from_sheet:function u(c){for(var p,d=[],h=Mn(c["!ref"]),m=Array.isArray(c),v=h.s.r;v<=h.e.r;++v){for(var _=[],C=h.s.c;C<=h.e.c;++C){var w=Gt({r:v,c:C});if((p=m?(c[v]||[])[C]:c[w])&&null!=p.v){for(var b=(p.w||(Mu(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";_.push(b+(0===C?" ":""))}else _.push("          ")}d.push(_.join(""))}return d.join("\n")}}}(),Uh=function(){function n(G,re,W){if(G){wo(G,G.l||0);for(var X=W.Enum||_e;G.l<G.length;){var ge=G.read_shift(2),Ee=X[ge]||X[65535],Ve=G.read_shift(2),he=G.l+Ve,ye=Ee.f&&Ee.f(G,Ve,W);if(G.l=he,re(ye,Ee,ge))return}}}function e(G,re){if(!G)return G;var W=re||{};null!=Qr&&null==W.dense&&(W.dense=Qr);var X=W.dense?[]:{},ge="Sheet1",Ee="",Ve=0,he={},ye=[],st=[],K={s:{r:0,c:0},e:{r:0,c:0}},at=W.sheetRows||0;if(0==G[2]&&(8==G[3]||9==G[3])&&G.length>=16&&5==G[14]&&108===G[15])throw new Error("Unsupported Works 3 for Mac file");if(2==G[2])W.Enum=_e,n(G,function(Qe,mn,bi){switch(bi){case 0:W.vers=Qe,Qe>=4096&&(W.qpro=!0);break;case 6:K=Qe;break;case 204:Qe&&(Ee=Qe);break;case 222:Ee=Qe;break;case 15:case 51:W.qpro||(Qe[1].v=Qe[1].v.slice(1));case 13:case 14:case 16:14==bi&&112==(112&Qe[2])&&(15&Qe[2])>1&&(15&Qe[2])<15&&(Qe[1].z=W.dateNF||Ft[14],W.cellDates&&(Qe[1].t="d",Qe[1].v=yA(Qe[1].v))),W.qpro&&Qe[3]>Ve&&(X["!ref"]=sn(K),he[ge]=X,ye.push(ge),X=W.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ve=Qe[3],ge=Ee||"Sheet"+(Ve+1),Ee="");var Io=W.dense?(X[Qe[0].r]||[])[Qe[0].c]:X[Gt(Qe[0])];if(Io){Io.t=Qe[1].t,Io.v=Qe[1].v,null!=Qe[1].z&&(Io.z=Qe[1].z),null!=Qe[1].f&&(Io.f=Qe[1].f);break}W.dense?(X[Qe[0].r]||(X[Qe[0].r]=[]),X[Qe[0].r][Qe[0].c]=Qe[1]):X[Gt(Qe[0])]=Qe[1]}},W);else{if(26!=G[2]&&14!=G[2])throw new Error("Unrecognized LOTUS BOF "+G[2]);W.Enum=ue,14==G[2]&&(W.qpro=!0,G.l=0),n(G,function(Qe,mn,bi){switch(bi){case 204:ge=Qe;break;case 22:Qe[1].v=Qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Qe[3]>Ve&&(X["!ref"]=sn(K),he[ge]=X,ye.push(ge),X=W.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},ge="Sheet"+((Ve=Qe[3])+1)),at>0&&Qe[0].r>=at)break;W.dense?(X[Qe[0].r]||(X[Qe[0].r]=[]),X[Qe[0].r][Qe[0].c]=Qe[1]):X[Gt(Qe[0])]=Qe[1],K.e.c<Qe[0].c&&(K.e.c=Qe[0].c),K.e.r<Qe[0].r&&(K.e.r=Qe[0].r);break;case 27:Qe[14e3]&&(st[Qe[14e3][0]]=Qe[14e3][1]);break;case 1537:st[Qe[0]]=Qe[1],Qe[0]==Ve&&(ge=Qe[1])}},W)}if(X["!ref"]=sn(K),he[Ee||ge]=X,ye.push(Ee||ge),!st.length)return{SheetNames:ye,Sheets:he};for(var vt={},Rt=[],Ct=0;Ct<st.length;++Ct)he[ye[Ct]]?(Rt.push(st[Ct]||ye[Ct]),vt[st[Ct]]=he[st[Ct]]||he[ye[Ct]]):(Rt.push(st[Ct]),vt[st[Ct]]={"!ref":"A1"});return{SheetNames:Rt,Sheets:vt}}function u(G,re,W){var X=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&20768!=W.vers?(X[0].c=G.read_shift(1),X[3]=G.read_shift(1),X[0].r=G.read_shift(2),G.l+=2):(X[2]=G.read_shift(1),X[0].c=G.read_shift(2),X[0].r=G.read_shift(2)),X}function c(G,re,W){var X=G.l+re,ge=u(G,0,W);if(ge[1].t="s",20768==W.vers){G.l++;var Ee=G.read_shift(1);return ge[1].v=G.read_shift(Ee,"utf8"),ge}return W.qpro&&G.l++,ge[1].v=G.read_shift(X-G.l,"cstr"),ge}function d(G,re,W){var X=Pe(7+W.length);X.write_shift(1,255),X.write_shift(2,re),X.write_shift(2,G),X.write_shift(1,39);for(var ge=0;ge<X.length;++ge){var Ee=W.charCodeAt(ge);X.write_shift(1,Ee>=128?95:Ee)}return X.write_shift(1,0),X}function p(G,re,W){var X=Pe(7);return X.write_shift(1,255),X.write_shift(2,re),X.write_shift(2,G),X.write_shift(2,W,"i"),X}function v(G,re,W){var X=Pe(13);return X.write_shift(1,255),X.write_shift(2,re),X.write_shift(2,G),X.write_shift(8,W,"f"),X}function C(G,re,W){var X=32768&re;return re=(X?G:0)+((re&=-32769)>=8192?re-16384:re),(X?"":"$")+(W?Mr(re):ni(re))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(G){var re=[{c:0,r:0},{t:"n",v:0},0];return re[0].r=G.read_shift(2),re[3]=G[G.l++],re[0].c=G[G.l++],re}function R(G,re,W,X){var ge=Pe(6+X.length);ge.write_shift(2,G),ge.write_shift(1,W),ge.write_shift(1,re),ge.write_shift(1,39);for(var Ee=0;Ee<X.length;++Ee){var Ve=X.charCodeAt(Ee);ge.write_shift(1,Ve>=128?95:Ve)}return ge.write_shift(1,0),ge}function P(G,re){var W=S(G),X=G.read_shift(4),ge=G.read_shift(4),Ee=G.read_shift(2);if(65535==Ee)return 0===X&&3221225472===ge?(W[1].t="e",W[1].v=15):0===X&&3489660928===ge?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ve=32768&Ee;return Ee=(32767&Ee)-16446,W[1].v=(1-2*Ve)*(ge*Math.pow(2,Ee+32)+X*Math.pow(2,Ee)),W}function M(G,re,W,X){var ge=Pe(14);if(ge.write_shift(2,G),ge.write_shift(1,W),ge.write_shift(1,re),0==X)return ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(2,65535),ge;var Ee=0,Ve=0,ye=0;return X<0&&(Ee=1,X=-X),Ve=0|Math.log2(X),2147483648&(ye=(X/=Math.pow(2,Ve-31))>>>0)||(++Ve,ye=(X/=2)>>>0),X-=ye,ye|=2147483648,ye>>>=0,X*=Math.pow(2,32),ge.write_shift(4,X>>>0),ge.write_shift(4,ye),ge.write_shift(2,Ve+=16383+(Ee?32768:0)),ge}function U(G,re){var W=S(G),X=G.read_shift(8,"f");return W[1].v=X,W}function ie(G,re){return 0==G[G.l+re-1]?G.read_shift(re,"cstr"):""}function de(G,re){var W=Pe(5+G.length);W.write_shift(2,14e3),W.write_shift(2,re);for(var X=0;X<G.length;++X){var ge=G.charCodeAt(X);W[W.l++]=ge>127?95:ge}return W[W.l++]=0,W}var _e={0:{n:"BOF",f:Mi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function s(G,re,W){var X={s:{c:0,r:0},e:{c:0,r:0}};return 8==re&&W.qpro?(X.s.c=G.read_shift(1),G.l++,X.s.r=G.read_shift(2),X.e.c=G.read_shift(1),G.l++,X.e.r=G.read_shift(2),X):(X.s.c=G.read_shift(2),X.s.r=G.read_shift(2),12==re&&W.qpro&&(G.l+=2),X.e.c=G.read_shift(2),X.e.r=G.read_shift(2),12==re&&W.qpro&&(G.l+=2),65535==X.s.c&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function h(G,re,W){var X=u(G,0,W);return X[1].v=G.read_shift(2,"i"),X}},14:{n:"NUMBER",f:function m(G,re,W){var X=u(G,0,W);return X[1].v=G.read_shift(8,"f"),X}},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:function _(G,re,W){var X=G.l+re,ge=u(G,0,W);if(ge[1].v=G.read_shift(8,"f"),W.qpro)G.l=X;else{var Ee=G.read_shift(2);(function E(G,re){wo(G,0);for(var W=[],X=0,ge="",Ee="",Ve="",he="";G.l<G.length;){var ye=G[G.l++];switch(ye){case 0:W.push(G.read_shift(8,"f"));break;case 1:Ee=C(re[0].c,G.read_shift(2),!0),ge=C(re[0].r,G.read_shift(2),!1),W.push(Ee+ge);break;case 2:var st=C(re[0].c,G.read_shift(2),!0),K=C(re[0].r,G.read_shift(2),!1);Ee=C(re[0].c,G.read_shift(2),!0),ge=C(re[0].r,G.read_shift(2),!1),W.push(st+K+":"+Ee+ge);break;case 3:if(G.l<G.length)return void console.error("WK1 premature formula end");break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(G.read_shift(2));break;case 6:for(var at="";ye=G[G.l++];)at+=String.fromCharCode(ye);W.push('"'+at.replace(/"/g,'""')+'"');break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:he=W.pop(),Ve=W.pop(),W.push(["AND","OR"][ye-20]+"("+Ve+","+he+")");break;default:if(ye<32&&b[ye])he=W.pop(),Ve=W.pop(),W.push(Ve+b[ye]+he);else{if(!w[ye])return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16));if(69==(X=w[ye][1])&&(X=G[G.l++]),X>W.length)return void console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+W.join("|")+"|");var vt=W.slice(-X);W.length-=X,W.push(w[ye][0]+"("+vt.join(",")+")")}}}1==W.length?re[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")})(G.slice(G.l,G.l+Ee),ge),G.l+=Ee}return ge}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:function te(G,re){var W=G[G.l++];W>re-1&&(W=re-1);for(var X="";X.length<W;)X+=String.fromCharCode(G[G.l++]);return X}},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function O(G,re){var W=S(G);return W[1].t="s",W[1].v=G.read_shift(re-4,"cstr"),W}},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:function D(G,re){var W=S(G);W[1].v=G.read_shift(2);var X=W[1].v>>1;if(1&W[1].v)switch(7&X){case 0:X=5e3*(X>>3);break;case 1:X=500*(X>>3);break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64}return W[1].v=X,W}},25:{n:"FORMULA19",f:function B(G,re){var W=P(G);return G.l+=re-14,W}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function ce(G,re){for(var W={},X=G.l+re;G.l<X;){var ge=G.read_shift(2);if(14e3==ge){for(W[ge]=[0,""],W[ge][0]=G.read_shift(2);G[G.l];)W[ge][1]+=String.fromCharCode(G[G.l]),G.l++;G.l++}}return W}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function I(G,re){var W=S(G),X=G.read_shift(4);return W[1].v=X>>6,W}},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:function le(G,re){var W=U(G);return G.l+=re-10,W}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function J(G,re,W){if(W.qpro&&!(re<21)){var X=G.read_shift(1);return G.l+=17,G.l+=1,G.l+=2,[X,G.read_shift(re-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(G,re){var W=re||{};if(+W.codepage>=0&&Ks(+W.codepage),"string"==W.type)throw new Error("Cannot write WK1 to JS string");var X=Ra(),ge=Mn(G["!ref"]),Ee=Array.isArray(G),Ve=[];nt(X,0,function o(G){var re=Pe(2);return re.write_shift(2,G),re}(1030)),nt(X,6,function l(G){var re=Pe(8);return re.write_shift(2,G.s.c),re.write_shift(2,G.s.r),re.write_shift(2,G.e.c),re.write_shift(2,G.e.r),re}(ge));for(var he=Math.min(ge.e.r,8191),ye=ge.s.r;ye<=he;++ye)for(var st=ni(ye),K=ge.s.c;K<=ge.e.c;++K){ye===ge.s.r&&(Ve[K]=Mr(K));var vt=Ee?(G[ye]||[])[K]:G[Ve[K]+st];vt&&"z"!=vt.t&&("n"==vt.t?(0|vt.v)==vt.v&&vt.v>=-32768&&vt.v<=32767?nt(X,13,p(ye,K,vt.v)):nt(X,14,v(ye,K,vt.v)):nt(X,15,d(ye,K,Mu(vt).slice(0,239))))}return nt(X,1),X.end()},book_to_wk3:function i(G,re){var W=re||{};if(+W.codepage>=0&&Ks(+W.codepage),"string"==W.type)throw new Error("Cannot write WK3 to JS string");var X=Ra();nt(X,0,function a(G){var re=Pe(26);re.write_shift(2,4096),re.write_shift(2,4),re.write_shift(4,0);for(var W=0,X=0,ge=0,Ee=0;Ee<G.SheetNames.length;++Ee){var he=G.Sheets[G.SheetNames[Ee]];if(he&&he["!ref"]){++ge;var ye=Ta(he["!ref"]);W<ye.e.r&&(W=ye.e.r),X<ye.e.c&&(X=ye.e.c)}}return W>8191&&(W=8191),re.write_shift(2,W),re.write_shift(1,ge),re.write_shift(1,X),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(1,1),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(4,0),re}(G));for(var ge=0,Ee=0;ge<G.SheetNames.length;++ge)(G.Sheets[G.SheetNames[ge]]||{})["!ref"]&&nt(X,27,de(G.SheetNames[ge],Ee++));var Ve=0;for(ge=0;ge<G.SheetNames.length;++ge){var he=G.Sheets[G.SheetNames[ge]];if(he&&he["!ref"]){for(var ye=Mn(he["!ref"]),st=Array.isArray(he),K=[],at=Math.min(ye.e.r,8191),vt=ye.s.r;vt<=at;++vt)for(var Rt=ni(vt),Ct=ye.s.c;Ct<=ye.e.c;++Ct){vt===ye.s.r&&(K[Ct]=Mr(Ct));var mn=st?(he[vt]||[])[Ct]:he[K[Ct]+Rt];mn&&"z"!=mn.t&&("n"==mn.t?nt(X,23,M(vt,Ct,Ve,mn.v)):nt(X,22,R(vt,Ct,Ve,Mu(mn).slice(0,239))))}++Ve}}return nt(X,1),X.end()},to_workbook:function t(G,re){switch(re.type){case"base64":return e(cs(us(G)),re);case"binary":return e(cs(G),re);case"buffer":case"array":return e(G,re)}throw"Unsupported type "+re.type}}}(),Lce=/^\s|\s$|[\t\n\r]/;function Ij(n,t){if(!t.bookSST)return"";var e=[ti];e[e.length]=Je("sst",null,{xmlns:Yd[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(null!=n[r]){var i=n[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(Lce)&&(o+=' xml:space="preserve"'),o+=">"+dr(i.t)+"</t>"),e[e.length]=o+="</si>"}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}var Vce=function Xse(n,t){var e=!1;return null==t&&(e=!0,t=Pe(15+4*n.t.length)),t.write_shift(1,0),io(n.t,t),e?t.slice(0,t.l):t};function Hce(n){var t=Ra();We(t,159,function Gce(n,t){return t||(t=Pe(8)),t.write_shift(4,n.Count),t.write_shift(4,n.Unique),t}(n));for(var e=0;e<n.length;++e)We(t,19,Vce(n[e]));return We(t,160),t.end()}function JA(n){var e,o,t=0,r=function Fj(n){if(typeof Vn<"u")return Vn.utils.encode(Ah,n);for(var t=[],e=n.split(""),r=0;r<e.length;++r)t[r]=e[r].charCodeAt(0);return t}(n),i=r.length+1;for((e=jd(i))[0]=r.length,o=1;o!=i;++o)e[o]=r[o-1];for(o=i-1;o>=0;--o)t=((16384&t?1:0)|t<<1&32767)^e[o];return 52811^t}var Bj=function(){function n(i,o){switch(o.type){case"base64":return t(us(i),o);case"binary":return t(i,o);case"buffer":return t(yn&&Buffer.isBuffer(i)?i.toString("binary"):Ud(i),o);case"array":return t(Mh(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){var s=(o||{}).dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,d){Array.isArray(s)&&(s[d]=[]);for(var m,h=/\\\w+\b/g,p=0,v=-1;m=h.exec(c);){if("\\cell"===m[0]){var _=c.slice(p,h.lastIndex-m[0].length);if(" "==_[0]&&(_=_.slice(1)),++v,_.length){var C={v:_,t:"s"};Array.isArray(s)?s[d][v]=C:s[Gt({r:d,c:v})]=C}}p=h.lastIndex}v>u.e.c&&(u.e.c=v)}),s["!ref"]=sn(u),s}return{to_workbook:function e(i,o){return qd(n(i,o),o)},to_sheet:n,from_sheet:function r(i){for(var s,o=["{\\rtf1\\ansi"],a=Mn(i["!ref"]),l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){o.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)o.push("\\cellx"+(c+1));for(o.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var d=Gt({r:u,c});(s=l?(i[u]||[])[c]:i[d])&&(null!=s.v||s.f&&!s.F)&&(o.push(" "+(s.w||(Mu(s),s.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}}}();function Sy(n){for(var t=0,e=1;3!=t;++t)e=256*e+(n[t]>255?255:n[t]<0?0:n[t]);return e.toString(16).toUpperCase().slice(1)}var ea=6;function Dy(n){return Math.floor((n+Math.round(128/ea)/256)*ea)}function Ry(n){return Math.floor((n-5)/ea*100+.5)/100}function qx(n){return Math.round((n*ea+5)/ea*256)/256}function Zd(n){n.width?(n.wpx=Dy(n.width),n.wch=Ry(n.wpx),n.MDW=ea):n.wpx?(n.wch=Ry(n.wpx),n.width=qx(n.wch),n.MDW=ea):"number"==typeof n.wch&&(n.width=qx(n.wch),n.wpx=Dy(n.width),n.MDW=ea),n.customWidth&&delete n.customWidth}var Vj=96;function Ty(n){return 96*n/Vj}function Xx(n){return n*Vj/96}function Hj(n,t){var r,e=[ti,Je("styleSheet",null,{xmlns:Yd[0],"xmlns:vt":Pi.vt})];return n.SSF&&null!=(r=function fde(n){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=n[r]&&(t[t.length]=Je("numFmt",null,{numFmtId:r,formatCode:dr(n[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Je("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(n.SSF))&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function hde(n){var t=[];return t[t.length]=Je("cellXfs",null),n.forEach(function(e){t[t.length]=Je("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Je("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function gde(n,t,e){e||(e=Pe(6+4*t.length)),e.write_shift(2,n),io(t,e);var r=e.length>e.l?e.slice(0,e.l):e;return null==e.l&&(e.l=e.length),r}var nP,yde=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Cde=Xo;function Wj(n,t){t||(t=Pe(84)),nP||(nP=Mx(yde));var e=nP[n.patternType];null==e&&(e=40),t.write_shift(4,e);var r=0;if(40!=e)for(Gx({auto:1},t),Gx({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function jj(n,t,e){return e||(e=Pe(16)),e.write_shift(2,t||0),e.write_shift(2,n.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Oy(n,t){return t||(t=Pe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var bde=Xo;function Lde(n,t){var e=Ra();return We(e,278),function Rde(n,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&++e}),0!=e&&(We(n,615,Gl(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&We(n,44,gde(i,t[i]))}),We(n,616))}}(e,n.SSF),function Tde(n){We(n,611,Gl(1)),We(n,43,function _de(n,t){t||(t=Pe(153)),t.write_shift(2,20*n.sz),function ile(n,t){t||(t=Pe(2)),t.write_shift(1,(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0)),t.write_shift(1,0)}(n,t),t.write_shift(2,n.bold?700:400);var e=0;"superscript"==n.vertAlign?e=1:"subscript"==n.vertAlign&&(e=2),t.write_shift(2,e),t.write_shift(1,n.underline||0),t.write_shift(1,n.family||0),t.write_shift(1,n.charset||0),t.write_shift(1,0),Gx(n.color,t);var r=0;return"major"==n.scheme&&(r=1),"minor"==n.scheme&&(r=2),t.write_shift(1,r),io(n.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(n,612)}(e),function Ode(n){We(n,603,Gl(2)),We(n,45,Wj({patternType:"none"})),We(n,45,Wj({patternType:"gray125"})),We(n,604)}(e),function Ade(n){We(n,613,Gl(1)),We(n,46,function xde(n,t){return t||(t=Pe(51)),t.write_shift(1,0),Oy(0,t),Oy(0,t),Oy(0,t),Oy(0,t),Oy(0,t),t.length>t.l?t.slice(0,t.l):t}()),We(n,614)}(e),function Pde(n){We(n,626,Gl(1)),We(n,47,jj({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(n,627)}(e),function Mde(n,t){We(n,617,Gl(t.length)),t.forEach(function(e){We(n,47,jj(e,0))}),We(n,618)}(e,t.cellXfs),function Ide(n){We(n,619,Gl(1)),We(n,48,function Ede(n,t){return t||(t=Pe(52)),t.write_shift(4,n.xfId),t.write_shift(2,1),t.write_shift(1,+n.builtinId),t.write_shift(1,0),Bx(n.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),We(n,620)}(e),function Fde(n){We(n,505,Gl(0)),We(n,506)}(e),function kde(n){We(n,508,function Sde(n,t,e){var r=Pe(2052);return r.write_shift(4,n),Bx(t,r),Bx(e,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),We(n,509)}(e),We(e,279),e.end()}function rP(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&"string"==typeof n.raw)return n.raw;var e=[ti];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function lfe(){var n=Ra();return We(n,332),We(n,334,Gl(1)),We(n,335,function tfe(n){var t=Pe(12+2*n.name.length);return t.write_shift(4,n.flags),t.write_shift(4,n.version),io(n.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),We(n,336),We(n,339,function ife(n,t){var e=Pe(8+2*t.length);return e.write_shift(4,n),io(t,e),e.slice(0,e.l)}(1,"XLDAPR")),We(n,52),We(n,35,Gl(514)),We(n,4096,Gl(0)),We(n,4097,Zs(1)),We(n,36),We(n,53),We(n,340),We(n,337,function afe(n,t){var e=Pe(8);return e.write_shift(4,n),e.write_shift(4,t?1:0),e}(1,!0)),We(n,51,function rfe(n){var t=Pe(4+8*n.length);t.write_shift(4,n.length);for(var e=0;e<n.length;++e)t.write_shift(4,n[e][0]),t.write_shift(4,n[e][1]);return t}([[1,0]])),We(n,338),We(n,333),n.end()}function zj(){var n=[ti];return n.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),n.join("")}var fg=1024;function $j(n,t){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),i=[Je("xml",null,{"xmlns:v":hs.v,"xmlns:o":hs.o,"xmlns:x":hs.x,"xmlns:mv":hs.mv}).replace(/\/>/,">"),Je("o:shapelayout",Je("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Je("v:shapetype",[Je("v:stroke",null,{joinstyle:"miter"}),Je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];fg<1e3*n;)fg+=1e3;return t.forEach(function(o){var a=hi(o[0]),s={color2:"#BEFF82",type:"gradient"};"gradient"==s.type&&(s.angle="-180");var l="gradient"==s.type?Je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Je("v:fill",l,s);++fg,i=i.concat(["<v:shape"+gy({id:"_x0000_s"+fg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Je("v:shadow",null,{on:"t",obscured:"t"}),Je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Co("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Co("x:AutoFill","False"),Co("x:Row",String(a.r)),Co("x:Column",String(a.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Yj(n){var t=[ti,Je("comments",null,{xmlns:Yd[0]})],e=[];return t.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var o=dr(i.a);-1==e.indexOf(o)&&(e.push(o),t.push("<author>"+o+"</author>")),i.T&&i.ID&&-1==e.indexOf("tc="+i.ID)&&(e.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),0==e.length&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),n.forEach(function(r){var i=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=e.indexOf(dr(l.a))),o.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),o.length<=1)t.push(Co("t",dr(o[0]||"")));else{for(var a="Comment:\n    "+o[0]+"\n",s=1;s<o.length;++s)a+="Reply:\n    "+o[s]+"\n";t.push(Co("t",dr(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function vfe(n,t,e){var r=[ti,Je("ThreadedComments",null,{xmlns:Pi.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var o="";(i[1]||[]).forEach(function(a,s){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};0==s?o=l.id:l.parentId=o,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(Je("threadedComment",Co("text",a.t||""),l))}else delete a.ID})}),r.push("</ThreadedComments>"),r.join("")}var bfe=Zo;function Sfe(n){var t=Ra(),e=[];return We(t,628),We(t,630),n.forEach(function(r){r[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),We(t,632,function xfe(n){return io(n.slice(0,54))}(i.a)))})}),We(t,631),We(t,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=e.indexOf(i.a);var o={s:hi(r[0]),e:hi(r[0])};We(t,635,function wfe(n,t){return null==t&&(t=Pe(36)),t.write_shift(4,n[1].iauthor),ug(n[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([o,i])),i.t&&i.t.length>0&&We(t,637,function Qse(n,t){var e=!1;return null==t&&(e=!0,t=Pe(23+4*n.t.length)),t.write_shift(1,1),io(n.t,t),t.write_shift(4,1),function qse(n,t){t||(t=Pe(4)),t.write_shift(2,n.ich||0),t.write_shift(2,n.ifnt||0)}({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}(i)),We(t,636),delete i.iauthor})}),We(t,634),We(t,629),t.end()}var qj=["xlsb","xlsm","xlam","biff8","xla"],hg=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(r,i,o,a){var s=!1,l=!1;0==o.length?l=!0:"["==o.charAt(0)&&(l=!0,o=o.slice(1,-1)),0==a.length?s=!0:"["==a.charAt(0)&&(s=!0,a=a.slice(1,-1));var u=o.length>0?0|parseInt(o,10):0,c=a.length>0?0|parseInt(a,10):0;return s?c+=t.c:--c,l?u+=t.r:--u,i+(s?"":"$")+Mr(c)+(l?"":"$")+ni(u)}return function(i,o){return t=o,i.replace(n,e)}}(),iP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,oP=function(){return function(t,e){return t.replace(iP,function(r,i,o,a,s,l){var u=kA(a)-(o?0:e.c),c=FA(l)-(s?0:e.r);return i+"R"+(0==c?"":s?c+1:"["+c+"]")+"C"+(0==u?"":o?u+1:"["+u+"]")})}}();function Xj(n,t){return n.replace(iP,function(e,r,i,o,a,s){return r+("$"==i?i+o:Mr(kA(o)+t.c))+("$"==a?a+s:ni(FA(s)+t.r))})}function Ii(n){n.l+=1}function Qd(n,t){var e=n.read_shift(1==t?1:2);return[16383&e,e>>14&1,e>>15&1]}function Zj(n,t,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return Qj(n);12==e.biff&&(r=4)}var i=n.read_shift(r),o=n.read_shift(r),a=Qd(n,2),s=Qd(n,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:s[0],cRel:s[1],rRel:s[2]}}}function Qj(n){var t=Qd(n,2),e=Qd(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function Jj(n,t,e){if(e&&e.biff>=2&&e.biff<=5)return function kfe(n){var t=Qd(n,2),e=n.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}(n);var r=n.read_shift(e&&12==e.biff?4:2),i=Qd(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Lfe(n){var t=n.read_shift(2),e=n.read_shift(2);return{r:t,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function eU(n){var t=1&n[n.l+1];return n.l+=4,[t,1]}function tU(n){return[n.read_shift(1),n.read_shift(1)]}function dhe(n,t){var e=[n.read_shift(1)];if(12==t)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=function pi(n,t){return 1===n.read_shift(t)}(n,1)?"TRUE":"FALSE",12!=t&&(n.l+=7);break;case 37:case 16:e[1]=Lc[n[n.l]],n.l+=12==t?4:8;break;case 0:n.l+=8;break;case 1:e[1]=Qo(n);break;case 2:e[1]=function Wh(n,t,e){if(e.biff>5)return function Ey(n,t,e){var r=n.read_shift(e&&2==e.biff?1:2);return 0===r?(n.l++,""):function Hh(n,t,e){if(e){if(e.biff>=2&&e.biff<=5)return n.read_shift(t,"cpstr");if(e.biff>=12)return n.read_shift(t,"dbcs-cont")}var i=n.read_shift(1);return n.read_shift(t,0===i?"sbcs-cont":"dbcs-cont")}(n,r,e)}(n,0,e);var r=n.read_shift(1);return 0===r?(n.l++,""):n.read_shift(r,e.biff<=4||!n.lens?"cpstr":"sbcs-cont")}(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function fhe(n,t,e){for(var r=n.read_shift(12==e.biff?4:2),i=[],o=0;o!=r;++o)i.push((12==e.biff?Nh:$x)(n,8));return i}function hhe(n,t,e){var r=0,i=0;12==e.biff?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,0==--i&&(i=256));for(var o=0,a=[];o!=r&&(a[o]=[]);++o)for(var s=0;s!=i;++s)a[o][s]=dhe(n,e.biff);return a}function Ay(n,t,e){return n.l+=2,[Lfe(n)]}function aP(n){return n.l+=6,[]}function nU(n){return n.l+=2,[Mi(n),1&n.read_shift(2)]}var Ihe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],rU={1:{n:"PtgExp",f:function ohe(n,t,e){return n.l++,e&&12==e.biff?[n.read_shift(4,"i"),0]:[n.read_shift(2),n.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:Xo},3:{n:"PtgAdd",f:Ii},4:{n:"PtgSub",f:Ii},5:{n:"PtgMul",f:Ii},6:{n:"PtgDiv",f:Ii},7:{n:"PtgPower",f:Ii},8:{n:"PtgConcat",f:Ii},9:{n:"PtgLt",f:Ii},10:{n:"PtgLe",f:Ii},11:{n:"PtgEq",f:Ii},12:{n:"PtgGe",f:Ii},13:{n:"PtgGt",f:Ii},14:{n:"PtgNe",f:Ii},15:{n:"PtgIsect",f:Ii},16:{n:"PtgUnion",f:Ii},17:{n:"PtgRange",f:Ii},18:{n:"PtgUplus",f:Ii},19:{n:"PtgUminus",f:Ii},20:{n:"PtgPercent",f:Ii},21:{n:"PtgParen",f:Ii},22:{n:"PtgMissArg",f:Ii},23:{n:"PtgStr",f:function che(n,t,e){return n.l++,xy(n,0,e)}},26:{n:"PtgSheet",f:function Lhe(n,t,e){return n.l+=5,n.l+=2,n.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function Nhe(n,t,e){return n.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function ahe(n){return n.l++,Lc[n.read_shift(1)]}},29:{n:"PtgBool",f:function lhe(n){return n.l++,0!==n.read_shift(1)}},30:{n:"PtgInt",f:function she(n){return n.l++,n.read_shift(2)}},31:{n:"PtgNum",f:function uhe(n){return n.l++,Qo(n)}},32:{n:"PtgArray",f:function Ufe(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=2==e.biff?6:12==e.biff?14:7,[r]}},33:{n:"PtgFunc",f:function the(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(e&&e.biff<=3?1:2);return[ipe[i],aU[i],r]}},34:{n:"PtgFuncVar",f:function nhe(n,t,e){var r=n[n.l++],i=n.read_shift(1),o=e&&e.biff<=3?[88==r?-1:0,n.read_shift(1)]:function rhe(n){return[n[n.l+1]>>7,32767&n.read_shift(2)]}(n);return[i,(0===o[0]?aU:rpe)[o[1]]]}},35:{n:"PtgName",f:function phe(n,t,e){var r=n.read_shift(1)>>>5&3,o=n.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12}return[r,0,o]}},36:{n:"PtgRef",f:function Qfe(n,t,e){var r=(96&n[n.l])>>5;return n.l+=1,[r,Jj(n,0,e)]}},37:{n:"PtgArea",f:function Gfe(n,t,e){return[(96&n[n.l++])>>5,Zj(n,0,e)]}},38:{n:"PtgMemArea",f:function vhe(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=e&&2==e.biff?3:4,[r,n.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:Xo},40:{n:"PtgMemNoMem",f:Xo},41:{n:"PtgMemFunc",f:function _he(n,t,e){return[n.read_shift(1)>>>5&3,n.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function yhe(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=4,e.biff<8&&n.l--,12==e.biff&&(n.l+=2),[r]}},43:{n:"PtgAreaErr",f:function Hfe(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function Jfe(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=function Nfe(n,t,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return function Bfe(n){var t=n.read_shift(2),e=n.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&e>=128&&(e-=256),{r:t,c:e,cRel:i,rRel:r}}(n);var i=n.read_shift(r>=12?4:2),o=n.read_shift(2),a=(16384&o)>>14,s=(32768&o)>>15;if(o&=16383,1==s)for(;i>524287;)i-=1048576;if(1==a)for(;o>8191;)o-=16384;return{r:i,c:o,cRel:a,rRel:s}}(n,0,e);return[r,i]}},45:{n:"PtgAreaN",f:function jfe(n,t,e){var r=(96&n[n.l++])>>5,i=function Ffe(n,t,e){if(e.biff<8)return Qj(n);var r=n.read_shift(12==e.biff?4:2),i=n.read_shift(12==e.biff?4:2),o=Qd(n,2),a=Qd(n,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}(n,0,e);return[r,i]}},46:{n:"PtgMemAreaN",f:function Bhe(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function Ghe(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},57:{n:"PtgNameX",f:function mhe(n,t,e){return 5==e.biff?function ghe(n){var t=n.read_shift(1)>>>5&3,e=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[t,e,r]}(n):[n.read_shift(1)>>>5&3,n.read_shift(2),n.read_shift(4)]}},58:{n:"PtgRef3d",f:function ehe(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(2);return e&&5==e.biff&&(n.l+=12),[r,i,Jj(n,0,e)]}},59:{n:"PtgArea3d",f:function Vfe(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2,"i");if(e&&5===e.biff)n.l+=12;return[r,i,Zj(n,0,e)]}},60:{n:"PtgRefErr3d",f:function Che(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),o=4;if(e)switch(e.biff){case 5:o=15;break;case 12:o=6}return n.l+=o,[r,i]}},61:{n:"PtgAreaErr3d",f:function Wfe(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),o=8;if(e)switch(e.biff){case 5:n.l+=12,o=6;break;case 12:o=12}return n.l+=o,[r,i]}},255:{}},Hhe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Whe={1:{n:"PtgElfLel",f:nU},2:{n:"PtgElfRw",f:Ay},3:{n:"PtgElfCol",f:Ay},6:{n:"PtgElfRwV",f:Ay},7:{n:"PtgElfColV",f:Ay},10:{n:"PtgElfRadical",f:Ay},11:{n:"PtgElfRadicalS",f:aP},13:{n:"PtgElfColS",f:aP},15:{n:"PtgElfColSV",f:aP},16:{n:"PtgElfRadicalLel",f:nU},25:{n:"PtgList",f:function Fhe(n){n.l+=2;var t=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),o=n.read_shift(2);return{ixti:t,coltype:3&e,rt:Ihe[e>>2&31],idx:r,c:i,C:o}}},29:{n:"PtgSxName",f:function khe(n){return n.l+=2,[n.read_shift(4)]}},255:{}},jhe={0:{n:"PtgAttrNoop",f:function Vhe(n){return n.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function qfe(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=e&&2==e.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function Kfe(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function zfe(n,t,e){n.l+=2;for(var r=n.read_shift(e&&2==e.biff?1:2),i=[],o=0;o<=r;++o)i.push(n.read_shift(e&&2==e.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function $fe(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function ihe(n,t,e){n.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:eU},33:{n:"PtgAttrBaxcel",f:eU},64:{n:"PtgAttrSpace",f:function Xfe(n){return n.read_shift(2),tU(n)}},65:{n:"PtgAttrSpaceSemi",f:function Zfe(n){return n.read_shift(2),tU(n)}},128:{n:"PtgAttrIfError",f:function Yfe(n){var t=255&n[n.l+1]?1:0;return n.l+=2,[t,n.read_shift(2)]}},255:{}};function Py(n,t,e,r){if(r.biff<8)return Xo(n,t);for(var i=n.l+t,o=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=hhe(n,0,r),o.push(e[a][1]);break;case"PtgMemArea":e[a][2]=fhe(n,0,r),o.push(e[a][2]);break;case"PtgExp":r&&12==r.biff&&(e[a][1][1]=n.read_shift(4),o.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return 0!=(t=i-n.l)&&o.push(Xo(n,t)),o}function Uhe(n){for(var t=[],e=0;e<n.length;++e){for(var r=n[e],i=[],o=0;o<r.length;++o){var a=r[o];i.push(a?2===a[0]?'"'+a[1].replace(/"/g,'""')+'"':a[1]:"")}t.push(i.join(","))}return t.join(";")}var zhe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iU(n,t,e){if(!n)return"SH33TJSERR0";if(e.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":n.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(e.biff>8)switch(n[r[0]][0]){case 357:return i=-1==r[1]?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return null!=e.SID?n.SheetNames[e.SID]:"SH33TJSSAME"+n[r[0]][0];default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return n[r[0]][0][3]?(i=-1==r[1]?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function oU(n,t,e){var r=iU(n,t,e);return"#REF"==r?r:function $he(n,t){if(!(n||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}(r,e)}function ta(n,t,e,r,i){var l,u,c,p,o=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},s=[],d=0,h=0,m="";if(!n[0]||!n[0][0])return"";for(var v=-1,_="",C=0,w=n[0].length;C<w;++C){var b=n[0][C];switch(b[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),v>=0){switch(n[0][v][1][0]){case 0:_=ei(" ",n[0][v][1][1]);break;case 1:_=ei("\r",n[0][v][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][v][1][0])}u+=_,v=-1}s.push(u+zhe[b[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":c=yy(b[1][1],a,i),s.push(Cy(c,o));break;case"PtgRefN":c=e?yy(b[1][1],e,i):b[1][1],s.push(Cy(c,o));break;case"PtgRef3d":d=b[1][1],c=yy(b[1][2],a,i),m=oU(r,d,i),s.push(m+"!"+Cy(c,o));break;case"PtgFunc":case"PtgFuncVar":var S=b[1][0],O=b[1][1];S||(S=0);var R=0==(S&=127)?[]:s.slice(-S);s.length-=S,"User"===O&&(O=R.shift()),s.push(O+"("+R.join(",")+")");break;case"PtgBool":s.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":s.push(b[1]);break;case"PtgNum":s.push(String(b[1]));break;case"PtgStr":s.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":p=IW(b[1][1],e?{s:e}:a,i),s.push(IA(p,i));break;case"PtgArea":p=IW(b[1][1],a,i),s.push(IA(p,i));break;case"PtgArea3d":p=b[1][2],m=oU(r,d=b[1][1],i),s.push(m+"!"+IA(p,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgName":var D=(r.names||[])[(h=b[1][2])-1]||(r[0]||[])[h],P=D?D.Name:"SH33TJSNAME"+String(h);P&&"_xlfn."==P.slice(0,6)&&!i.xlfn&&(P=P.slice(6)),s.push(P);break;case"PtgNameX":var B,M=b[1][1];if(h=b[1][2],!(i.biff<=5)){var I="";if(14849==((r[M]||[])[0]||[])[0]||(1025==((r[M]||[])[0]||[])[0]?r[M][h]&&r[M][h].itab>0&&(I=r.SheetNames[r[M][h].itab-1]+"!"):I=r.SheetNames[h-1]+"!"),r[M]&&r[M][h])I+=r[M][h].Name;else if(r[0]&&r[0][h])I+=r[0][h].Name;else{var U=(iU(r,M,i)||"").split(";;");U[h-1]?I=U[h-1]:I+="SH33TJSERRX"}s.push(I);break}M<0&&(M=-M),r[M]&&(B=r[M][h]),B||(B={Name:"SH33TJSERRY"}),s.push(B.Name);break;case"PtgParen":var le="(",ie=")";if(v>=0){switch(_="",n[0][v][1][0]){case 2:le=ei(" ",n[0][v][1][1])+le;break;case 3:le=ei("\r",n[0][v][1][1])+le;break;case 4:ie=ei(" ",n[0][v][1][1])+ie;break;case 5:ie=ei("\r",n[0][v][1][1])+ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][v][1][0])}v=-1}s.push(le+s.pop()+ie);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":s.push("#REF!");break;case"PtgExp":var te={c:e.c,r:e.r};if(r.sharedf[Gt(c={c:b[1][1],r:b[1][0]})]){var J=r.sharedf[Gt(c)];s.push(ta(J,0,te,r,i))}else{var ce=!1;for(l=0;l!=r.arrayf.length;++l)if(!(c.c<(u=r.arrayf[l])[0].s.c||c.c>u[0].e.c||c.r<u[0].s.r||c.r>u[0].e.r)){s.push(ta(u[1],0,te,r,i)),ce=!0;break}ce||s.push(b[1])}break;case"PtgArray":s.push("{"+Uhe(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=C;break;case"PtgMissArg":s.push("");break;case"PtgList":s.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=i.biff&&v>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(n[0][C][0])){var _e=!0;switch((b=n[0][v])[1][0]){case 4:_e=!1;case 0:_=ei(" ",b[1][1]);break;case 5:_e=!1;case 1:_=ei("\r",b[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}s.push((_e?_:"")+s.pop()+(_e?"":_)),v=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function Jx(n,t,e){var r=n.read_shift(4),i=function My(n,t,e){for(var i,o,r=n.l+t,a=[];r!=n.l;)t=r-n.l,i=rU[o=n[n.l]]||rU[Hhe[o]],(24===o||25===o)&&(i=(24===o?Whe:jhe)[n[n.l+1]]),i&&i.f?a.push([i.n,i.f(n,t,e)]):Xo(n,t);return a}(n,r,e),o=n.read_shift(4);return[i,o>0?Py(n,o,i,e):null]}var epe=Jx,eE=Jx,tpe=Jx,npe=Jx,rpe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},aU={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ipe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ope(n){return("of:="+n.replace(iP,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function ape(n){return n.replace(/\./,"!")}var Iy=typeof Map<"u";function uP(n,t,e){var r=0,i=n.length;if(e){if(Iy?e.has(t):Object.prototype.hasOwnProperty.call(e,t))for(var o=Iy?e.get(t):e[t];r<o.length;++r)if(n[o[r]].t===t)return n.Count++,o[r]}else for(;r<i;++r)if(n[r].t===t)return n.Count++,r;return n[i]={t},n.Count++,n.Unique++,e&&(Iy?(e.has(t)||e.set(t,[]),e.get(t).push(i)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(i))),i}function nE(n,t){var e={min:n+1,max:n+1},r=-1;return t.MDW&&(ea=t.MDW),null!=t.width?e.customWidth=1:null!=t.wpx?r=Ry(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(e.width=qx(r),e.customWidth=1):null!=t.width&&(e.width=t.width),t.hidden&&(e.hidden=!0),null!=t.level&&(e.outlineLevel=e.level=t.level),e}function zh(n,t){if(n){var e=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(e=[1,1,1,1,.5,.5]),null==n.left&&(n.left=e[0]),null==n.right&&(n.right=e[1]),null==n.top&&(n.top=e[2]),null==n.bottom&&(n.bottom=e[3]),null==n.header&&(n.header=e[4]),null==n.footer&&(n.footer=e[5])}}function Jd(n,t,e){var r=e.revssf[null!=t.z?t.z:"General"],i=60,o=n.length;if(null==r&&e.ssf)for(;i<392;++i)if(null==e.ssf[i]){Ou(t.z,i),e.ssf[i]=t.z,e.revssf[t.z]=r=i;break}for(i=0;i!=o;++i)if(n[i].numFmtId===r)return i;return n[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function lpe(n,t,e){if(n&&n["!ref"]){var r=Mn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+n["!ref"])}}var xpe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Epe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Lpe(n,t,e,r){if(n.c&&e["!comments"].push([t,n.c]),void 0===n.v&&"string"!=typeof n.f||"z"===n.t&&!n.f)return"";var i="",o=n.t,a=n.v;if("z"!==n.t)switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Lc[n.v];break;case"d":r&&r.cellDates?i=Ur(n.v,-1).toISOString():((n=vr(n)).t="n",i=""+(n.v=no(Ur(n.v)))),typeof n.z>"u"&&(n.z=Ft[14]);break;default:i=n.v}var s=Co("v",dr(i)),l={r:t},u=Jd(r.cellXfs,n,r);switch(0!==u&&(l.s=u),n.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==n.v){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Co("v",""+uP(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str"}if(n.t!=o&&(n.t=o,n.v=a),"string"==typeof n.f&&n.f){var c=n.F&&n.F.slice(0,t.length)==t?{t:"array",ref:n.F}:null;s=Je("f",dr(n.f),c)+(null!=n.v?s:"")}return n.l&&e["!links"].push([t,n.l]),n.D&&(l.cm=1),Je("c",s,l)}function uU(n,t,e,r){var a,i=[ti,Je("worksheet",null,{xmlns:Yd[0],"xmlns:r":Pi.r})],s="",l=e.Sheets[e.SheetNames[n]];null==l&&(l={});var u=l["!ref"]||"A1",c=Mn(u);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=sn(c)}r||(r={}),l["!comments"]=[];var d=[];(function bpe(n,t,e,r,i){var o=!1,a={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[e];try{t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}o=!0,a.codeName=Pu(dr(l))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),s=(s||"")+Je("outlinePr",null,u)}!o&&!s||(i[i.length]=Je("sheetPr",s,a))})(l,e,n,t,i),i[i.length]=Je("dimension",null,{ref:u}),i[i.length]=function kpe(n,t,e,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Je("sheetViews",Je("sheetView",null,i),{})}(0,0,0,e),t.sheetFormat&&(i[i.length]=Je("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function Ape(n,t){for(var r,e=["<cols>"],i=0;i!=t.length;++i)(r=t[i])&&(e[e.length]=Je("col",null,nE(i,r)));return e[e.length]="</cols>",e.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function Bpe(n,t,e,r){var l,_,i=[],o=[],a=Mn(n["!ref"]),s="",u="",c=[],d=0,h=0,p=n["!rows"],m=Array.isArray(n),v={r:u},C=-1;for(h=a.s.c;h<=a.e.c;++h)c[h]=Mr(h);for(d=a.s.r;d<=a.e.r;++d){for(o=[],u=ni(d),h=a.s.c;h<=a.e.c;++h){l=c[h]+u;var w=m?(n[d]||[])[h]:n[l];void 0!==w&&null!=(s=Lpe(w,l,n,t))&&o.push(s)}(o.length>0||p&&p[d])&&(v={r:u},p&&p[d]&&((_=p[d]).hidden&&(v.hidden=1),C=-1,_.hpx?C=Ty(_.hpx):_.hpt&&(C=_.hpt),C>-1&&(v.ht=C,v.customHeight=1),_.level&&(v.outlineLevel=_.level)),i[i.length]=Je("row",o.join(""),v))}if(p)for(;d<p.length;++d)p&&p[d]&&(v={r:d+1},(_=p[d]).hidden&&(v.hidden=1),C=-1,_.hpx?C=Ty(_.hpx):_.hpt&&(C=_.hpt),C>-1&&(v.ht=C,v.customHeight=1),_.level&&(v.outlineLevel=_.level),i[i.length]=Je("row","",v));return i.join("")}(l,t),s.length>0&&(i[i.length]=s)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function Spe(n){var t={sheet:1};return xpe.forEach(function(e){null!=n[e]&&n[e]&&(t[e]="1")}),Epe.forEach(function(e){null!=n[e]&&!n[e]&&(t[e]="0")}),n.password&&(t.password=JA(n.password).toString(16).toUpperCase()),Je("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function Mpe(n,t,e,r){var i="string"==typeof n.ref?n.ref:sn(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var o=e.Workbook.Names,a=Ta(i);a.s.r==a.e.r&&(a.e.r=Ta(t["!ref"]).e.r,i=sn(a));for(var s=0;s<o.length;++s){var l=o[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+e.SheetNames[r]+"'!"+i;break}}return s==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+i}),Je("autoFilter",null,{ref:i})}(l["!autofilter"],l,e,n)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function Cpe(n){if(0===n.length)return"";for(var t='<mergeCells count="'+n.length+'">',e=0;e!=n.length;++e)t+='<mergeCell ref="'+sn(n[e])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var p,h=-1,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},"#"!=v[1].Target.charAt(0)&&(m=ir(r,-1,dr(v[1].Target).replace(/#.*$/,""),ln.HLINK),p["r:id"]="rId"+m),(h=v[1].Target.indexOf("#"))>-1&&(p.location=dr(v[1].Target.slice(h+1))),v[1].Tooltip&&(p.tooltip=dr(v[1].Tooltip)),i[i.length]=Je("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=function Tpe(n){return zh(n),Je("pageMargins",null,n)}(l["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(i[i.length]=Co("ignoredErrors",Je("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(m=ir(r,-1,"../drawings/drawing"+(n+1)+".xml",ln.DRAW),i[i.length]=Je("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=ir(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ln.VML),i[i.length]=Je("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Hpe(n,t,e,r){var i=function Vpe(n,t,e){var r=Pe(145),i=(e["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var o=320;i.hpx?o=20*Ty(i.hpx):i.hpt&&(o=20*i.hpt),r.write_shift(2,o),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var u={r:n,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var d=-1,h=-1,p=c<<10;p<c+1<<10;++p)u.c=p,(Array.isArray(e)?(e[u.r]||[])[u.c]:e[Gt(u)])&&(d<0&&(d=p),h=p);d<0||(++s,r.write_shift(4,d),r.write_shift(4,h))}var v=r.l;return r.l=l,r.write_shift(4,s),r.l=v,r.length>r.l?r.slice(0,r.l):r}(r,e,t);(i.length>17||(t["!rows"]||[])[r])&&We(n,0,i)}var Wpe=Nh,jpe=ug;var Sme=Nh,Dme=ug,dU=["left","right","top","bottom","header","footer"];function jme(n,t,e,r,i,o,a){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=vr(t)).z=t.z||Ft[14],t.v=no(Ur(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:e,c:r};switch(l.s=Jd(i.cellXfs,t,i),t.l&&o["!links"].push([Gt(l),t.l]),t.c&&o["!comments"].push([Gt(l),t.c]),t.t){case"s":case"str":return i.bookSST?(s=uP(i.Strings,t.v,i.revStrings),l.t="s",l.v=s,a?We(n,18,function lme(n,t,e){return null==e&&(e=Pe(8)),Lh(t,e),e.write_shift(4,t.v),e}(0,l)):We(n,7,function ame(n,t,e){return null==e&&(e=Pe(12)),Fh(t,e),e.write_shift(4,t.v),e}(0,l))):(l.t="str",a?We(n,17,function Cme(n,t,e){return null==e&&(e=Pe(8+4*n.v.length)),Lh(t,e),io(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,l)):We(n,6,function _me(n,t,e){return null==e&&(e=Pe(12+4*n.v.length)),Fh(t,e),io(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?We(n,13,function mme(n,t,e){return null==e&&(e=Pe(8)),Lh(t,e),NW(n.v,e),e}(t,l)):We(n,2,function hme(n,t,e){return null==e&&(e=Pe(12)),Fh(t,e),NW(n.v,e),e}(t,l)):a?We(n,16,function dme(n,t,e){return null==e&&(e=Pe(12)),Lh(t,e),Bh(n.v,e),e}(t,l)):We(n,5,function cme(n,t,e){return null==e&&(e=Pe(16)),Fh(t,e),Bh(n.v,e),e}(t,l)),!0;case"b":return l.t="b",a?We(n,15,function eme(n,t,e){return null==e&&(e=Pe(5)),Lh(t,e),e.write_shift(1,n.v?1:0),e}(t,l)):We(n,4,function Qpe(n,t,e){return null==e&&(e=Pe(9)),Fh(t,e),e.write_shift(1,n.v?1:0),e}(t,l)),!0;case"e":return l.t="e",a?We(n,14,function ime(n,t,e){return null==e&&(e=Pe(8)),Lh(t,e),e.write_shift(1,n.v),e.write_shift(2,0),e.write_shift(1,0),e}(t,l)):We(n,3,function nme(n,t,e){return null==e&&(e=Pe(9)),Fh(t,e),e.write_shift(1,n.v),e}(t,l)),!0}return a?We(n,12,function Xpe(n,t,e){return null==e&&(e=Pe(4)),Lh(t,e)}(0,l)):We(n,1,function Ype(n,t,e){return null==e&&(e=Pe(8)),Fh(t,e)}(0,l)),!0}function Jme(n,t,e,r){var i=Ra(),o=e.SheetNames[n],a=e.Sheets[o]||{},s=o;try{e&&e.Workbook&&(s=e.Workbook.Sheets[n].CodeName||s)}catch{}var l=Mn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],We(i,129),(e.vbaraw||a["!outline"])&&We(i,147,function $pe(n,t,e){null==e&&(e=Pe(84+4*n.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),e.write_shift(1,r);for(var i=1;i<3;++i)e.write_shift(1,0);return Gx({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),LW(n,e),e.slice(0,e.l)}(s,a["!outline"])),We(i,148,jpe(l)),function Zme(n,t,e){We(n,133),We(n,137,function Nme(n,t,e){null==e&&(e=Pe(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}(0,e)),We(n,138),We(n,134)}(i,0,e.Workbook),function $me(n,t){!t||!t["!cols"]||(We(n,390),t["!cols"].forEach(function(e,r){e&&We(n,60,function Ime(n,t,e){null==e&&(e=Pe(18));var r=nE(n,t);e.write_shift(-4,n),e.write_shift(-4,n),e.write_shift(4,256*(r.width||10)),e.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),e.write_shift(2,i),e}(r,e))}),We(n,391))}(i,a),function Ume(n,t,e,r){var i=Mn(t["!ref"]||"A1"),a="",s=[];We(n,145);var l=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var c=i.s.r;c<=u;++c){a=ni(c),Hpe(n,t,i,c);var d=!1;if(c<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){c===i.s.r&&(s[h]=Mr(h));var p=l?(t[c]||[])[h]:t[s[h]+a];d=!!p&&jme(n,p,c,h,r,t,d)}}We(n,146)}(i,a,0,t),function Qme(n,t){t["!protect"]&&We(n,535,function Gme(n,t){return null==t&&(t=Pe(66)),t.write_shift(2,n.password?JA(n.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){t.write_shift(4,e[1]?null==n[e[0]]||n[e[0]]?0:1:null!=n[e[0]]&&n[e[0]]?0:1)}),t}(t["!protect"]))}(i,a),function Xme(n,t,e,r){if(t["!autofilter"]){var i=t["!autofilter"],o="string"==typeof i.ref?i.ref:sn(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,s=Ta(o);s.s.r==s.e.r&&(s.e.r=Ta(t["!ref"]).e.r,o=sn(s));for(var l=0;l<a.length;++l){var u=a[l];if("_xlnm._FilterDatabase"==u.Name&&u.Sheet==r){u.Ref="'"+e.SheetNames[r]+"'!"+o;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+o}),We(n,161,ug(Mn(o))),We(n,162)}}(i,a,e,n),function zme(n,t){!t||!t["!merges"]||(We(n,177,function Rme(n,t){return null==t&&(t=Pe(4)),t.write_shift(4,n),t}(t["!merges"].length)),t["!merges"].forEach(function(e){We(n,176,Dme(e))}),We(n,178))}(i,a),function Yme(n,t,e){t["!links"].forEach(function(r){if(r[1].Target){var i=ir(e,-1,r[1].Target.replace(/#.*$/,""),ln.HLINK);We(n,494,function Ome(n,t){var e=Pe(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));ug({s:hi(n[0]),e:hi(n[0])},e),GA("rId"+t,e);var r=n[1].Target.indexOf("#");return io((-1==r?"":n[1].Target.slice(r+1))||"",e),io(n[1].Tooltip||"",e),io("",e),e.slice(0,e.l)}(r,i))}}),delete t["!links"]}(i,a,r),a["!margins"]&&We(i,476,function kme(n,t){return null==t&&(t=Pe(48)),zh(n),dU.forEach(function(e){Bh(n[e],t)}),t}(a["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function Kme(n,t){!t||!t["!ref"]||(We(n,648),We(n,649,function Bme(n){var t=Pe(24);return t.write_shift(4,4),t.write_shift(4,1),ug(n,t),t}(Mn(t["!ref"]))),We(n,650))}(i,a),function qme(n,t,e,r){if(t["!comments"].length>0){var i=ir(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ln.VML);We(n,551,GA("rId"+i)),t["!legacy"]=i}}(i,a,n,r),We(i,130),i.end()}var dP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],dge="][*?/\\".split("");function mU(n,t){if(n.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return dge.forEach(function(r){if(-1!=n.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function vU(n){var t=[ti];t[t.length]=Je("workbook",null,{xmlns:Yd[0],"xmlns:r":Pi.r});var e=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(dP.forEach(function(s){null!=n.Workbook.WBProps[s[0]]&&n.Workbook.WBProps[s[0]]!=s[1]&&(r[s[0]]=n.Workbook.WBProps[s[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Je("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=n.SheetNames.length&&i[o]&&i[o].Hidden;++o);o==n.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=n.SheetNames.length;++o){var a={name:dr(n.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=Je("sheet",null,a)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),null!=s.Sheet&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(t[t.length]=Je("definedName",dr(s.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gge(n,t){return t||(t=Pe(127)),t.write_shift(4,n.Hidden),t.write_shift(4,n.iTabID),GA(n.strRelID,t),io(n.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Dge(n,t){var e=Ra();return We(e,131),We(e,128,function xge(n,t){t||(t=Pe(127));for(var e=0;4!=e;++e)t.write_shift(4,0);return io("SheetJS",t),io(ay.version,t),io(ay.version,t),io("7262",t),t.length>t.l?t.slice(0,t.l):t}()),We(e,153,function _ge(n,t){t||(t=Pe(72));var e=0;return n&&n.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),LW(n&&n.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(n.Workbook&&n.Workbook.WBProps||null)),function Sge(n,t){if(t.Workbook&&t.Workbook.Sheets){for(var e=t.Workbook.Sheets,r=0,i=-1,o=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&-1==i?i=r:1==e[r].Hidden&&-1==o&&(o=r);o>i||(We(n,135),We(n,158,function Ege(n,t){return t||(t=Pe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,n),t.write_shift(4,n),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(i)),We(n,136))}}(e,n),function bge(n,t){We(n,143);for(var e=0;e!=t.SheetNames.length;++e)We(n,156,gge({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]}));We(n,144)}(e,n),We(e,132),e.end()}function Vge(n,t,e,r,i){return(".bin"===t.slice(-4)?Jme:uU)(n,e,r,i)}function jge(n,t,e){return(".bin"===t.slice(-4)?Sfe:Yj)(n,e)}function CU(n){return Je("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+oP(n.Ref,{r:0,c:0})})}function ove(n,t,e,r,i,o,a){if(!n||null==n.v&&null==n.f)return"";var s={};if(n.f&&(s["ss:Formula"]="="+dr(oP(n.f,a))),n.F&&n.F.slice(0,t.length)==t){var l=hi(n.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(n.l&&n.l.Target&&(s["ss:HRef"]=dr(n.l.Target),n.l.Tooltip&&(s["x:HRefScreenTip"]=dr(n.l.Tooltip))),e["!merges"])for(var u=e["!merges"],c=0;c!=u.length;++c)u[c].s.c!=a.c||u[c].s.r!=a.r||(u[c].e.c>u[c].s.c&&(s["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(s["ss:MergeDown"]=u[c].e.r-u[c].s.r));var d="",h="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(n.v);break;case"b":d="Boolean",h=n.v?"1":"0";break;case"e":d="Error",h=Lc[n.v];break;case"d":d="DateTime",h=new Date(n.v).toISOString(),null==n.z&&(n.z=n.z||Ft[14]);break;case"s":d="String",h=function Rse(n){return(n+"").replace(xA,function(e){return bA[e]}).replace(dW,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}(n.v||"")}var p=Jd(r.cellXfs,n,r);s["ss:StyleID"]="s"+(21+p),s["ss:Index"]=a.c+1;var v="z"==n.t?"":'<Data ss:Type="'+d+'">'+(null!=n.v?h:"")+"</Data>";return(n.c||[]).length>0&&(v+=function ive(n){return n.map(function(t){var e=function Tse(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),r=Je("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Je("Comment",r,{"ss:Author":t.a})}).join("")}(n.c)),Je("Cell",v,s)}function ave(n,t){var e='<Row ss:Index="'+(n+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Xx(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function lve(n,t,e){var r=[],o=e.Sheets[e.SheetNames[n]],a=o?function nve(n,t,e,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],a=0;a<i.length;++a){var s=i[a];s.Sheet==e&&(s.Name.match(/^_xlfn\./)||o.push(CU(s)))}return o.join("")}(o,0,n,e):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=o?function sve(n,t,e,r){if(!n["!ref"])return"";var i=Mn(n["!ref"]),o=n["!merges"]||[],a=0,s=[];n["!cols"]&&n["!cols"].forEach(function(_,C){Zd(_);var w=!!_.width,b=nE(C,_),E={"ss:Index":C+1};w&&(E["ss:Width"]=Dy(b.width)),_.hidden&&(E["ss:Hidden"]="1"),s.push(Je("Column",null,E))});for(var l=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var c=[ave(u,(n["!rows"]||[])[u])],d=i.s.c;d<=i.e.c;++d){var h=!1;for(a=0;a!=o.length;++a)if(!(o[a].s.c>d||o[a].s.r>u||o[a].e.c<d||o[a].e.r<u)){(o[a].s.c!=d||o[a].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:d},m=Gt(p);c.push(ove(l?(n[u]||[])[d]:n[m],m,n,t,0,0,p))}}c.push("</Row>"),c.length>2&&s.push(c.join(""))}return s.join("")}(o,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(function rve(n,t,e,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Je("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Je("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Je("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)i.push(Je("Visible",1==r.Workbook.Sheets[e].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<e&&(!r.Workbook.Sheets[o]||r.Workbook.Sheets[o].Hidden);++o);o==e&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Co("ProtectContents","True")),n["!protect"].objects&&i.push(Co("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Co("ProtectScenarios","True")),null==n["!protect"].selectLockedCells||n["!protect"].selectLockedCells?null!=n["!protect"].selectUnlockedCells&&!n["!protect"].selectUnlockedCells&&i.push(Co("EnableSelection","UnlockedCells")):i.push(Co("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),0==i.length?"":Je("WorksheetOptions",i.join(""),{xmlns:hs.x})}(o,0,n,e)),r.join("")}function uve(n,t){t||(t={}),n.SSF||(n.SSF=vr(Ft)),n.SSF&&(ig(),hy(n.SSF),t.revssf=Ix(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF,t.cellXfs=[],Jd(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(function Qge(n,t){var e=[];return n.Props&&e.push(function Rle(n,t){var e=[];return Jr(KA).map(function(r){for(var i=0;i<Nc.length;++i)if(Nc[i][1]==r)return Nc[i];for(i=0;i<Vh.length;++i)if(Vh[i][1]==r)return Vh[i];throw r}).forEach(function(r){if(null!=n[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:n[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(Co(KA[r[1]]||r[1],i))}}),Je("DocumentProperties",e.join(""),{xmlns:hs.o})}(n.Props,t)),n.Custprops&&e.push(function Tle(n,t){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Jr(n).forEach(function(o){if(Object.prototype.hasOwnProperty.call(n,o)){for(var a=0;a<Nc.length;++a)if(o==Nc[a][1])return;for(a=0;a<Vh.length;++a)if(o==Vh[a][1])return;for(a=0;a<e.length;++a)if(o==e[a])return;var s=n[o],l="string";"number"==typeof s?(l="float",s=String(s)):!0===s||!1===s?(l="boolean",s=s?"1":"0"):s=String(s),i.push(Je(cW(o),s,{"dt:dt":l}))}}),t&&Jr(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)&&(!n||!Object.prototype.hasOwnProperty.call(n,o))){var a=t[o],s="string";"number"==typeof a?(s="float",a=String(a)):!0===a||!1===a?(s="boolean",a=a?"1":"0"):a instanceof Date?(s="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Je(cW(o),a,{"dt:dt":s}))}}),"<"+r+' xmlns="'+hs.o+'">'+i.join("")+"</"+r+">"}(n.Props,n.Custprops)),e.join("")}(n,t)),e.push(""),e.push(""),e.push("");for(var r=0;r<n.SheetNames.length;++r)e.push(Je("Worksheet",lve(r,t,n),{"ss:Name":dr(n.SheetNames[r])}));return e[2]=function eve(n,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var o=[];o.push(Je("NumberFormat",null,{"ss:Format":dr(Ft[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};e.push(Je("Style",o.join(""),a))}),Je("Styles",e.join(""))}(0,t),e[3]=function tve(n){if(!((n||{}).Workbook||{}).Names)return"";for(var t=n.Workbook.Names,e=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||e.push(CU(i)))}return Je("Names",e.join(""))}(n),ti+Je("Workbook",e.join(""),{xmlns:hs.ss,"xmlns:o":hs.o,"xmlns:x":hs.x,"xmlns:ss":hs.ss,"xmlns:dt":hs.dt,"xmlns:html":hs.html})}var ky={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var Ly={0:{f:function Gpe(n,t){var e={},r=n.l+t;e.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var o=n.read_shift(1);return n.l=r,7&o&&(e.level=7&o),16&o&&(e.hidden=!0),32&o&&(e.hpt=i/20),e}},1:{f:function Kpe(n){return[Xs(n)]}},2:{f:function fme(n){return[Xs(n),VA(n),"n"]}},3:{f:function tme(n){return[Xs(n),n.read_shift(1),"e"]}},4:{f:function Zpe(n){return[Xs(n),n.read_shift(1),"b"]}},5:{f:function ume(n){return[Xs(n),Qo(n),"n"]}},6:{f:function vme(n){return[Xs(n),Zo(n),"str"]}},7:{f:function ome(n){return[Xs(n),n.read_shift(4),"s"]}},8:{f:function Eme(n,t,e){var r=n.l+t,i=Xs(n);i.r=e["!row"];var a=[i,Zo(n),"str"];if(e.cellFormula){n.l+=2;var s=eE(n,r-n.l,e);a[3]=ta(s,0,i,e.supbooks,e)}else n.l=r;return a}},9:{f:function xme(n,t,e){var r=n.l+t,i=Xs(n);i.r=e["!row"];var a=[i,Qo(n),"n"];if(e.cellFormula){n.l+=2;var s=eE(n,r-n.l,e);a[3]=ta(s,0,i,e.supbooks,e)}else n.l=r;return a}},10:{f:function wme(n,t,e){var r=n.l+t,i=Xs(n);i.r=e["!row"];var a=[i,n.read_shift(1),"b"];if(e.cellFormula){n.l+=2;var s=eE(n,r-n.l,e);a[3]=ta(s,0,i,e.supbooks,e)}else n.l=r;return a}},11:{f:function bme(n,t,e){var r=n.l+t,i=Xs(n);i.r=e["!row"];var a=[i,n.read_shift(1),"e"];if(e.cellFormula){n.l+=2;var s=eE(n,r-n.l,e);a[3]=ta(s,0,i,e.supbooks,e)}else n.l=r;return a}},12:{f:function qpe(n){return[kh(n)]}},13:{f:function pme(n){return[kh(n),VA(n),"n"]}},14:{f:function rme(n){return[kh(n),n.read_shift(1),"e"]}},15:{f:function Jpe(n){return[kh(n),n.read_shift(1),"b"]}},16:{f:function cU(n){return[kh(n),Qo(n),"n"]}},17:{f:function yme(n){return[kh(n),Zo(n),"str"]}},18:{f:function sme(n){return[kh(n),n.read_shift(4),"s"]}},19:{f:LA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function Cge(n,t,e){var r=n.l+t;n.l+=4,n.l+=1;var i=n.read_shift(4),o=ele(n),a=tpe(n,0,e),s=NA(n);n.l=r;var l={Name:o,Ptg:a};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function vde(n,t,e){var r={};r.sz=n.read_shift(2)/20;var i=function rle(n){var t=n.read_shift(1);return n.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(n);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===n.read_shift(2)&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var a=n.read_shift(1);0!=a&&(r.underline=a);var s=n.read_shift(1);s>0&&(r.family=s);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=function nle(n){var t={},r=n.read_shift(1)>>>1,i=n.read_shift(1),o=n.read_shift(2,"i"),a=n.read_shift(1),s=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=Gh[i];u&&(t.rgb=Sy(u));break;case 2:t.rgb=Sy([a,s,l]);break;case 3:t.theme=i}return 0!=o&&(t.tint=o>0?o/32767:o/32768),t}(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Zo(n),r}},44:{f:function mde(n,t){return[n.read_shift(2),Zo(n)]}},45:{f:Cde},46:{f:bde},47:{f:function wde(n,t){var e=n.l+t,r=n.read_shift(2),i=n.read_shift(2);return n.l=e,{ixfe:r,numFmtId:i}}},48:{},49:{f:function Kse(n){return n.read_shift(4,"i")}},50:{},51:{f:function nfe(n){for(var t=[],e=n.read_shift(4);e-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function Tj(n,t,e){if(!e.cellStyles)return Xo(n,t);var r=e&&e.biff>=12?4:2,i=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(2);2==r&&(n.l+=2);var u={s:i,e:o,w:a,ixfe:s,flags:l};return(e.biff>=5||!e.biff)&&(u.level=l>>8&7),u}},62:{f:function gme(n){return[Xs(n),LA(n),"is"]}},63:{f:function dfe(n){var t={};t.i=n.read_shift(4);var e={};e.r=n.read_shift(4),e.c=n.read_shift(4),t.r=Gt(e);var r=n.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function Vme(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function Lme(n){var t=n.read_shift(2);return n.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function zpe(n,t){var e={},r=n[n.l];return++n.l,e.above=!(64&r),e.left=!(128&r),n.l+=18,e.name=Jse(n,t-19),e}},148:{f:Wpe,p:16},151:{f:function Ame(){}},152:{},153:{f:function vge(n,t){var e={},r=n.read_shift(4);e.defaultThemeVersion=n.read_shift(4);var i=t>8?Zo(n):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(65536&r),e.backupFile=!!(64&r),e.checkCompatibility=!!(4096&r),e.date1904=!!(1&r),e.filterPrivacy=!!(8&r),e.hidePivotFieldList=!!(1024&r),e.promptedSolutions=!!(16&r),e.publishItems=!!(2048&r),e.refreshAllConnections=!!(262144&r),e.saveExternalLinkValues=!!(128&r),e.showBorderUnselectedTables=!!(4&r),e.showInkAnnotation=!!(32&r),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(32768&r),e.updateLinks=["userSet","never","always"][r>>8&3],e}},154:{},155:{},156:{f:function mge(n,t){var e={};return e.Hidden=n.read_shift(4),e.iTabID=n.read_shift(4),e.strRelID=BA(n,t-8),e.name=Zo(n),e}},157:{},158:{},159:{T:1,f:function Nce(n){return[n.read_shift(4),n.read_shift(4)]}},160:{T:-1},161:{T:1,f:Nh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Sme},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function efe(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:Zo(n)}}},336:{T:-1},337:{f:function ofe(n){return n.l+=4,0!=n.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:BA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Dj(n,t,e){if(e.biff<8)return function Wue(n,t,e){3==n[n.l+1]&&n[n.l]++;var r=xy(n,0,e);return 3==r.charCodeAt(0)?r.slice(1):r}(n,0,e);for(var r=[],i=n.l+t,o=n.read_shift(e.biff>8?4:2);0!=o--;)r.push(Xle(n,0,e));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function Pme(n,t,e){var r=n.l+t,i=BW(n),o=n.read_shift(1),a=[i];if(a[2]=o,e.cellFormula){var s=epe(n,r-n.l,e);a[1]=s}else n.l=r;return a}},427:{f:function Mme(n,t,e){var r=n.l+t,o=[Nh(n,16)];if(e.cellFormula){var a=npe(n,r-n.l,e);o[1]=a,n.l=r}else n.l=r;return o}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Fme(n){var t={};return dU.forEach(function(e){t[e]=Qo(n)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function Upe(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function Tme(n,t){var e=n.l+t,r=Nh(n,16),i=NA(n),o=Zo(n),a=Zo(n),s=Zo(n);n.l=e;var l={rfx:r,relId:i,loc:o,display:s};return a&&(l.Tooltip=a),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:BA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bfe},633:{T:1},634:{T:-1},635:{T:1,f:function Cfe(n){var t={};t.iauthor=n.read_shift(4);var e=Nh(n,16);return t.rfx=e.s,t.ref=Gt(e.s),n.l+=16,t}},636:{T:-1},637:{f:Zse},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function ige(n,t){return n.l+=10,{name:Zo(n)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Hme(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function nt(n,t,e,r){var i=t;if(!isNaN(i)){var o=r||(e||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,o),o>0&&MA(e)&&n.push(e)}}function Ny(n,t,e){return n||(n=Pe(7)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,0),n.write_shift(1,0),n}function Cve(n,t,e,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?no(Ur(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?nt(n,2,function wce(n,t,e){var r=Pe(9);return Ny(r,n,t),r.write_shift(2,e),r}(e,r,i)):nt(n,3,function yce(n,t,e){var r=Pe(15);return Ny(r,n,t),r.write_shift(8,e,"f"),r}(e,r,i)));case"b":case"e":return void nt(n,5,function _ve(n,t,e,r){var i=Pe(9);return Ny(i,n,t),cj(e,r||"b",i),i}(e,r,t.v,t.t));case"s":case"str":return void nt(n,4,function yve(n,t,e){var r=Pe(8+2*e.length);return Ny(r,n,t),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(e,r,(t.v||"").slice(0,255)))}nt(n,1,Ny(null,e,r))}function Ove(n,t,e,r,i){var o=16+Jd(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)nt(n,6,function Jhe(n,t,e,r,i){var o=jh(t,e,i),a=function Qhe(n){if(null==n){var t=Pe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Bh("number"==typeof n?n:0)}(n.v),s=Pe(6);s.write_shift(2,33),s.write_shift(4,0);for(var u=Pe(n.bf.length),c=0;c<n.bf.length;++c)u[c]=n.bf[c];return to([o,a,s,u])}(t,e,r,0,o));else switch(t.t){case"d":case"n":nt(n,515,function Gue(n,t,e,r){var i=Pe(14);return jh(n,t,r,i),Bh(e,i),i}(e,r,"d"==t.t?no(Ur(t.v)):t.v,o));break;case"b":case"e":nt(n,517,function Nue(n,t,e,r,i,o){var a=Pe(8);return jh(n,t,r,a),cj(e,o,a),a}(e,r,t.v,o,0,t.t));break;case"s":case"str":i.bookSST?nt(n,253,function xue(n,t,e,r){var i=Pe(10);return jh(n,t,r,i),i.write_shift(4,e),i}(e,r,uP(i.Strings,t.v,i.revStrings),o)):nt(n,516,function Sue(n,t,e,r,i){var o=!i||8==i.biff,a=Pe(+o+8+(1+o)*e.length);return jh(n,t,r,a),a.write_shift(2,e.length),o&&a.write_shift(1,1),a.write_shift((1+o)*e.length,e,o?"utf16le":"sbcs"),a}(e,r,(t.v||"").slice(0,255),o,i));break;default:nt(n,513,jh(e,r,o))}else nt(n,513,jh(e,r,o))}function Ave(n,t,e){var c,r=Ra(),i=e.SheetNames[n],o=e.Sheets[i]||{},a=(e||{}).Workbook||{},s=(a.Sheets||[])[n]||{},l=Array.isArray(o),u=8==t.biff,d="",h=[],p=Mn(o["!ref"]||"A1"),m=u?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}nt(r,2057,ZA(0,16,t)),nt(r,13,Zs(1)),nt(r,12,Zs(100)),nt(r,15,Oa(!0)),nt(r,17,Oa(!1)),nt(r,16,Bh(.001)),nt(r,95,Oa(!0)),nt(r,42,Oa(!1)),nt(r,43,Oa(!1)),nt(r,130,Zs(1)),nt(r,128,function Lue(n){var t=Pe(8);return t.write_shift(4,0),t.write_shift(2,n[0]?n[0]+1:0),t.write_shift(2,n[1]?n[1]+1:0),t}([0,0])),nt(r,131,Oa(!1)),nt(r,132,Oa(!1)),u&&function Tve(n,t){if(t){var e=0;t.forEach(function(r,i){++e<=256&&r&&nt(n,125,function uce(n,t){var e=Pe(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,256*n.width),e.write_shift(2,0);var r=0;return n.hidden&&(r|=1),e.write_shift(1,r),e.write_shift(1,r=n.level||0),e.write_shift(2,0),e}(nE(i,r),i))})}}(r,o["!cols"]),nt(r,512,function Oue(n,t){var e=8!=t.biff&&t.biff?2:4,r=Pe(2*e+6);return r.write_shift(e,n.s.r),r.write_shift(e,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}(p,t)),u&&(o["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){d=ni(v);for(var _=p.s.c;_<=p.e.c;++_){v===p.s.r&&(h[_]=Mr(_)),c=h[_]+d;var C=l?(o[v]||[])[_]:o[c];C&&(Ove(r,C,v,_,t),u&&C.l&&o["!links"].push([c,C.l]))}}var w=s.CodeName||s.name||i;return u&&nt(r,574,function _ue(n){var t=Pe(18),e=1718;return n&&n.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((a.Views||[])[0])),u&&(o["!merges"]||[]).length&&nt(r,229,function que(n){var t=Pe(2+8*n.length);t.write_shift(2,n.length);for(var e=0;e<n.length;++e)gj(n[e],t);return t}(o["!merges"])),u&&function Rve(n,t){for(var e=0;e<t["!links"].length;++e){var r=t["!links"][e];nt(n,440,tce(r)),r[1].Tooltip&&nt(n,2048,rce(r))}delete t["!links"]}(r,o),nt(r,442,dj(w)),u&&function Sve(n,t){var e=Pe(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),nt(n,2151,e),(e=Pe(39)).write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),gj(Mn(t["!ref"]||"A1"),e),e.write_shift(4,4),nt(n,2152,e)}(r,o),nt(r,10),r.end()}function Pve(n,t,e){var r=Ra(),i=(n||{}).Workbook||{},o=i.Sheets||[],a=i.WBProps||{},s=8==e.biff,l=5==e.biff;nt(r,2057,ZA(0,5,e)),"xla"==e.bookType&&nt(r,135),nt(r,225,s?Zs(1200):null),nt(r,193,function Nle(n,t){t||(t=Pe(n));for(var e=0;e<n;++e)t.write_shift(1,0);return t}(2)),l&&nt(r,191),l&&nt(r,192),nt(r,226),nt(r,92,function oue(n,t){var e=!t||8==t.biff,r=Pe(e?112:54);for(r.write_shift(8==t.biff?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}(0,e)),nt(r,66,Zs(s?1200:1252)),s&&nt(r,353,Zs(0)),s&&nt(r,448),nt(r,317,function fce(n){for(var t=Pe(2*n),e=0;e<n;++e)t.write_shift(2,e+1);return t}(n.SheetNames.length)),s&&n.vbaraw&&nt(r,211),s&&n.vbaraw&&nt(r,442,dj(a.CodeName||"ThisWorkbook")),nt(r,156,Zs(17)),nt(r,25,Oa(!1)),nt(r,18,Oa(!1)),nt(r,19,Zs(0)),s&&nt(r,431,Oa(!1)),s&&nt(r,444,Zs(0)),nt(r,61,function gue(){var n=Pe(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}()),nt(r,64,Oa(!1)),nt(r,141,Zs(0)),nt(r,34,Oa("true"==function cge(n){return n.Workbook&&n.Workbook.WBProps&&function Lr(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(n.Workbook.WBProps.date1904)?"true":"false"}(n))),nt(r,14,Oa(!0)),s&&nt(r,439,Oa(!1)),nt(r,218,Zs(0)),function xve(n,t,e){nt(n,49,function wue(n,t){var e=n.name||"Arial",r=t&&5==t.biff,o=Pe(r?15+e.length:16+2*e.length);return o.write_shift(2,20*(n.sz||12)),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,e.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),o}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}(r,0,e),function Eve(n,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&nt(n,1054,Rue(i,t[i],e))})}(r,n.SSF,e),function Dve(n,t){for(var e=0;e<16;++e)nt(n,224,wj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){nt(n,224,wj(r,0,t))})}(r,e),s&&nt(r,352,Oa(!1));var c=r.end(),d=Ra();s&&nt(d,140,function oce(n){return n||(n=Pe(4)),n.write_shift(2,1),n.write_shift(2,1),n}()),s&&e.Strings&&function vve(n,t,e,r){var i=r||(e||[]).length||0;if(i<=8224)return nt(n,t,e,i);var o=t;if(!isNaN(o)){for(var a=e.parts||[],s=0,l=0,u=0;u+(a[s]||8224)<=8224;)u+=a[s]||8224,s++;var c=n.next(4);for(c.write_shift(2,o),c.write_shift(2,u),n.push(e.slice(l,l+u)),l+=u;l<i;){for((c=n.next(4)).write_shift(2,60),u=0;u+(a[s]||8224)<=8224;)u+=a[s]||8224,s++;c.write_shift(2,u),n.push(e.slice(l,l+u)),l+=u}}}(d,252,function cue(n,t){var e=Pe(8);e.write_shift(4,n.Count),e.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=Hle(n[i]);var o=to([e].concat(r));return o.parts=[e.length].concat(r.map(function(a){return a.length})),o}(e.Strings)),nt(d,10);var h=d.end(),p=Ra(),m=0,v=0;for(v=0;v<n.SheetNames.length;++v)m+=(s?12:11)+(s?2:1)*n.SheetNames[v].length;var _=c.length+m+h.length;for(v=0;v<n.SheetNames.length;++v)nt(p,133,lue({pos:_,hs:(o[v]||{}).Hidden||0,dt:0,name:n.SheetNames[v]},e)),_+=t[v].length;var w=p.end();if(m!=w.length)throw new Error("BS8 "+m+" != "+w.length);var b=[];return c.length&&b.push(c),w.length&&b.push(w),h.length&&b.push(h),to(b)}function bU(n,t){for(var e=0;e<=n.SheetNames.length;++e){var r=n.Sheets[n.SheetNames[e]];r&&r["!ref"]&&Ta(r["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}var o=t||{};switch(o.biff||2){case 8:case 5:return function Mve(n,t){var e=t||{},r=[];n&&!n.SSF&&(n.SSF=vr(Ft)),n&&n.SSF&&(ig(),hy(n.SSF),e.revssf=Ix(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,wP(e),e.cellXfs=[],Jd(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Ave(i,e,n);return r.unshift(Pve(n,r,e)),to(r)}(n,t);case 4:case 3:case 2:return function bve(n,t){var e=t||{};null!=Qr&&null==e.dense&&(e.dense=Qr);for(var r=Ra(),i=0,o=0;o<n.SheetNames.length;++o)n.SheetNames[o]==e.sheet&&(i=o);if(0==i&&e.sheet&&n.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return nt(r,4==e.biff?1033:3==e.biff?521:9,ZA(0,16,e)),function wve(n,t,e,r){var a,i=Array.isArray(t),o=Mn(t["!ref"]||"A1"),s="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=sn(o)}for(var u=o.s.r;u<=o.e.r;++u){s=ni(u);for(var c=o.s.c;c<=o.e.c;++c){u===o.s.r&&(l[c]=Mr(c)),a=l[c]+s;var d=i?(t[u]||[])[c]:t[a];d&&Cve(n,d,u,c)}}}(r,n.Sheets[n.SheetNames[i]],0,e),nt(r,10),r.end()}(n,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function EU(n,t,e,r){for(var i=n["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var s=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>e||i[u].s.c>a||i[u].e.r<e||i[u].e.c<a)){if(i[u].s.r<e||i[u].s.c<a){s=-1;break}s=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(s<0)){var c=Gt({r:e,c:a}),d=r.dense?(n[e]||[])[a]:n[c],h=d&&null!=d.v&&(d.h||fW(d.w||(Mu(d),d.w)||""))||"",p={};s>1&&(p.rowspan=s),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",null!=d.v&&(p["data-v"]=d.v),null!=d.z&&(p["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+c,o.push(Je("td",h,p))}}return"<tr>"+o.join("")+"</tr>"}var SU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',DU="</body></html>";function TU(n,t){var e=t||{},i=null!=e.footer?e.footer:DU,o=[null!=e.header?e.header:SU],a=Ta(n["!ref"]);e.dense=Array.isArray(n),o.push(function RU(n,t,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var s=a.s.r;s<=a.e.r;++s)o.push(EU(n,a,s,e));return o.push("</table>"+i),o.join("")}function OU(n,t,e){var r=e||{};null!=Qr&&(r.dense=Qr);var i=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var a="string"==typeof r.origin?hi(r.origin):r.origin;i=a.r,o=a.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:i,c:o}};if(n["!ref"]){var c=Ta(n["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),-1==i&&(u.e.r=i=c.e.r+1)}var d=[],h=0,p=n["!rows"]||(n["!rows"]=[]),m=0,v=0,_=0,C=0,w=0,b=0;for(n["!cols"]||(n["!cols"]=[]);m<s.length&&v<l;++m){var E=s[m];if(PU(E)){if(r.display)continue;p[v]={hidden:!0}}var S=E.children;for(_=C=0;_<S.length;++_){var O=S[_];if(!r.display||!PU(O)){var R=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):gW(O.innerHTML),D=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<d.length;++h){var P=d[h];P.s.c==C+o&&P.s.r<v+i&&v+i<=P.e.r&&(C=P.e.c+1-o,h=-1)}b=+O.getAttribute("colspan")||1,((w=+O.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:v+i,c:C+o},e:{r:v+i+(w||1)-1,c:C+o+(b||1)-1}});var M={t:"s",v:R},B=O.getAttribute("data-t")||O.getAttribute("t")||"";null!=R&&(0==R.length?M.t=B||"z":r.raw||0==R.trim().length||"s"==B||("TRUE"===R?M={t:"b",v:!0}:"FALSE"===R?M={t:"b",v:!1}:isNaN(Bl(R))?isNaN(og(R).getDate())||(M={t:"d",v:Ur(R)},r.cellDates||(M={t:"n",v:no(M.v)}),M.z=r.dateNF||Ft[14]):M={t:"n",v:Bl(R)})),void 0===M.z&&null!=D&&(M.z=D);var I="",U=O.getElementsByTagName("A");if(U&&U.length)for(var le=0;le<U.length&&(!U[le].hasAttribute("href")||"#"==(I=U[le].getAttribute("href")).charAt(0));++le);I&&"#"!=I.charAt(0)&&(M.l={Target:I}),r.dense?(n[v+i]||(n[v+i]=[]),n[v+i][C+o]=M):n[Gt({c:C+o,r:v+i})]=M,u.e.c<C+o&&(u.e.c=C+o),C+=b}}++v}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,v-1+i),n["!ref"]=sn(u),v>=l&&(n["!fullref"]=sn((u.e.r=s.length-m+v-1+i,u))),n}function AU(n,t){return OU((t||{}).dense?[]:{},n,t)}function PU(n){var t="",e=function kve(n){return n.ownerDocument.defaultView&&"function"==typeof n.ownerDocument.defaultView.getComputedStyle?n.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(n);return e&&(t=e(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),"none"===t}var Nve=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+gy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return ti+t}}(),LU=function(){var n=function(o){return dr(o).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(o,a,s){var l=[];l.push('      <table:table table:name="'+dr(a.SheetNames[s])+'" table:style-name="ta1">\n');var u=0,c=0,d=Ta(o["!ref"]||"A1"),h=o["!merges"]||[],p=0,m=Array.isArray(o);if(o["!cols"])for(c=0;c<=d.e.c;++c)l.push("        <table:table-column"+(o["!cols"][c]?' table:style-name="co'+o["!cols"][c].ods+'"':"")+"></table:table-column>\n");var _=o["!rows"]||[];for(u=0;u<d.s.r;++u)l.push("        <table:table-row"+(_[u]?' table:style-name="ro'+_[u].ods+'"':"")+"></table:table-row>\n");for(;u<=d.e.r;++u){for(l.push("        <table:table-row"+(_[u]?' table:style-name="ro'+_[u].ods+'"':"")+">\n"),c=0;c<d.s.c;++c)l.push(t);for(;c<=d.e.c;++c){var C=!1,w={},b="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>c||h[p].s.r>u||h[p].e.c<c||h[p].e.r<u)){(h[p].s.c!=c||h[p].s.r!=u)&&(C=!0),w["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,w["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(C)l.push("          <table:covered-table-cell/>\n");else{var E=Gt({r:u,c}),S=m?(o[u]||[])[c]:o[E];if(S&&S.f&&(w["table:formula"]=dr(ope(S.f)),S.F&&S.F.slice(0,E.length)==E)){var O=Ta(S.F);w["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,w["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(S){switch(S.t){case"b":b=S.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=S.v?"true":"false";break;case"n":b=S.w||String(S.v||0),w["office:value-type"]="float",w["office:value"]=S.v||0;break;case"s":case"str":b=null==S.v?"":S.v,w["office:value-type"]="string";break;case"d":b=S.w||Ur(S.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Ur(S.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(t);continue}var R=n(b);if(S.l&&S.l.Target){var D=S.l.Target;"#"!=(D="#"==D.charAt(0)?"#"+ape(D.slice(1)):D).charAt(0)&&!D.match(/^\w+:/)&&(D="../"+D),R=Je("text:a",R,{"xlink:href":D.replace(/&/g,"&amp;")})}l.push("          "+Je("table:table-cell",Je("text:p",R,{}),w)+"\n")}else l.push(t)}}l.push("        </table:table-row>\n")}return l.push("      </table:table>\n"),l.join("")};return function(a,s){var l=[ti],u=gy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=gy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==s.bookType?(l.push("<office:document"+u+c+">\n"),l.push(zW().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+">\n"),function(o,a){o.push(" <office:automatic-styles>\n"),o.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),o.push('   <number:month number:style="long"/>\n'),o.push("   <number:text>/</number:text>\n"),o.push('   <number:day number:style="long"/>\n'),o.push("   <number:text>/</number:text>\n"),o.push("   <number:year/>\n"),o.push("  </number:date-style>\n");var s=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"])for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var d=u["!cols"][c];if(null==d.width&&null==d.wpx&&null==d.wch)continue;Zd(d),d.ods=s;var h=u["!cols"][c].wpx+"px";o.push('  <style:style style:name="co'+s+'" style:family="table-column">\n'),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+'"/>\n'),o.push("  </style:style>\n"),++s}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"])for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var d=u["!rows"][c].hpx+"px";o.push('  <style:style style:name="ro'+l+'" style:family="table-row">\n'),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+'"/>\n'),o.push("  </style:style>\n"),++l}}),o.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),o.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),o.push("  </style:style>\n"),o.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),o.push(" </office:automatic-styles>\n")}(l,a),l.push("  <office:body>\n"),l.push("    <office:spreadsheet>\n");for(var d=0;d!=a.SheetNames.length;++d)l.push(r(a.Sheets[a.SheetNames[d]],a,d));return l.push("    </office:spreadsheet>\n"),l.push("  </office:body>\n"),l.push("fods"==s.bookType?"</office:document>":"</office:document-content>"),l.join("")}}();function NU(n,t){if("fods"==t.bookType)return LU(n,t);var e=wA(),r="",i=[],o=[];return hn(e,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),hn(e,r="content.xml",LU(n,t)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),hn(e,r="styles.xml",Nve(n,t)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),hn(e,r="meta.xml",ti+zW()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),hn(e,r="manifest.rdf",function wle(n){var t=[ti];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var e=0;e!=n.length;++e)t.push(UW(n[e][0],n[e][1])),t.push(Cle("",n[e][0]));return t.push(UW("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(o)),i.push([r,"application/rdf+xml"]),hn(e,r="META-INF/manifest.xml",function yle(n){var t=[ti];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var e=0;e<n.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+n[e][0]+'" manifest:media-type="'+n[e][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),e}function $h(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Bve(n){return typeof TextEncoder<"u"?(new TextEncoder).encode(n):cs(Pu(n))}function ef(n){var t=n.reduce(function(i,o){return i+o.length},0),e=new Uint8Array(t),r=0;return n.forEach(function(i){e.set(i,r),r+=i.length}),e}function By(n,t){var e=t?t[0]:0,r=127&n[e];e:if(n[e++]>=128&&(r|=(127&n[e])<<7,n[e++]<128||(r|=(127&n[e])<<14,n[e++]<128)||(r|=(127&n[e])<<21,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,28),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,35),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,42),++e,n[e++]<128)))break e;return t&&(t[0]=e),r}function or(n){var t=new Uint8Array(7);t[0]=127&n;var e=1;e:if(n>127){if(t[e-1]|=128,t[e]=n>>7&127,++e,n<=16383||(t[e-1]|=128,t[e]=n>>14&127,++e,n<=2097151)||(t[e-1]|=128,t[e]=n>>21&127,++e,n<=268435455)||(t[e-1]|=128,t[e]=n/256>>>21&127,++e,n<=34359738367)||(t[e-1]|=128,t[e]=n/65536>>>21&127,++e,n<=4398046511103))break e;t[e-1]|=128,t[e]=n/16777216>>>21&127,++e}return t.slice(0,e)}function ri(n){var t=0,e=127&n[t];e:if(n[t++]>=128){if(e|=(127&n[t])<<7,n[t++]<128||(e|=(127&n[t])<<14,n[t++]<128)||(e|=(127&n[t])<<21,n[t++]<128))break e;e|=(127&n[t])<<28}return e}function Xn(n){for(var t=[],e=[0];e[0]<n.length;){var s,r=e[0],i=By(n,e),o=7&i,a=0;if(0==(i=Math.floor(i/8)))break;switch(o){case 0:for(var l=e[0];n[e[0]++]>=128;);s=n.slice(l,e[0]);break;case 5:s=n.slice(e[0],e[0]+(a=4)),e[0]+=a;break;case 1:s=n.slice(e[0],e[0]+(a=8)),e[0]+=a;break;case 2:a=By(n,e),s=n.slice(e[0],e[0]+a),e[0]+=a;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(r))}var u={data:s,type:o};null==t[i]?t[i]=[u]:t[i].push(u)}return t}function ao(n){var t=[];return n.forEach(function(e,r){e.forEach(function(i){i.data&&(t.push(or(8*r+i.type)),2==i.type&&t.push(or(i.data.length)),t.push(i.data))})}),ef(t)}function Qs(n){for(var t,e=[],r=[0];r[0]<n.length;){var i=By(n,r),o=Xn(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:ri(o[1][0].data),messages:[]};o[2].forEach(function(s){var l=Xn(s.data),u=ri(l[3][0].data);a.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),null!=(t=o[3])&&t[0]&&(a.merge=ri(o[3][0].data)>>>0>0),e.push(a)}return e}function mg(n){var t=[];return n.forEach(function(e){var r=[];r[1]=[{data:or(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:or(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:or(a.data.length)}],r[2].push({data:ao(a.meta),type:2})});var o=ao(r);t.push(or(o.length)),t.push(o),i.forEach(function(a){return t.push(a)})}),ef(t)}function Wve(n,t){if(0!=n)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var e=[0],r=By(t,e),i=[];e[0]<t.length;){var o=3&t[e[0]];if(0!=o){var l=0,u=0;if(1==o?(u=4+(t[e[0]]>>2&7),l=(224&t[e[0]++])<<3,l|=t[e[0]++]):(u=1+(t[e[0]++]>>2),2==o?(l=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(l=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[ef(i)],0==l)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}else{var a=t[e[0]++]>>2;if(a<60)++a;else{var s=a-59;a=t[e[0]],s>1&&(a|=t[e[0]+1]<<8),s>2&&(a|=t[e[0]+2]<<16),s>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=s}i.push(t.slice(e[0],e[0]+a)),e[0]+=a}}var c=ef(i);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function Js(n){for(var t=[],e=0;e<n.length;){var r=n[e++],i=n[e]|n[e+1]<<8|n[e+2]<<16;t.push(Wve(r,n.slice(e+=3,e+i))),e+=i}if(e!==n.length)throw new Error("data is not a valid framed stream!");return ef(t)}function gg(n){for(var t=[],e=0;e<n.length;){var r=Math.min(n.length-e,268435455),i=new Uint8Array(4);t.push(i);var o=or(r),a=o.length;t.push(o),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(n.slice(e,e+r)),a+=r,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,e+=r}return ef(t)}function vP(n,t){var e=new Uint8Array(32),r=$h(e),i=12,o=0;switch(e[0]=5,n.t){case"n":e[1]=2,function Hve(n,t,e){var r=Math.floor(0==e?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,i=e/Math.pow(10,r-6176);n[t+15]|=r>>7,n[t+14]|=(127&r)<<1;for(var o=0;i>=1;++o,i/=256)n[t+o]=255&i;n[t+15]|=e>=0?0:128}(e,i,n.v),o|=1,i+=16;break;case"b":e[1]=6,r.setFloat64(i,n.v?1:0,!0),o|=2,i+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[1]=3,r.setUint32(i,t.indexOf(n.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,o,!0),e.slice(0,i)}function _P(n,t){var e=new Uint8Array(32),r=$h(e),i=12,o=0;switch(e[0]=3,n.t){case"n":e[2]=2,r.setFloat64(i,n.v,!0),o|=32,i+=8;break;case"b":e[2]=6,r.setFloat64(i,n.v?1:0,!0),o|=32,i+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[2]=3,r.setUint32(i,t.indexOf(n.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,o,!0),e.slice(0,i)}function na(n){return By(Xn(n)[1][0].data)}function Qve(n,t,e){var r,i,o,a;if(null==(r=n[6])||!r[0]||null==(i=n[7])||!i[0])throw"Mutation only works on post-BNC storages!";if((null==(a=null==(o=n[8])?void 0:o[0])?void 0:a.data)&&ri(n[8][0].data)>0)throw"Math only works with normal offsets";for(var l=0,u=$h(n[7][0].data),c=0,d=[],h=$h(n[4][0].data),p=0,m=[],v=0;v<t.length;++v)if(null!=t[v]){var _,C;switch(u.setUint16(2*v,c,!0),h.setUint16(2*v,p,!0),typeof t[v]){case"string":_=vP({t:"s",v:t[v]},e),C=_P({t:"s",v:t[v]},e);break;case"number":_=vP({t:"n",v:t[v]},e),C=_P({t:"n",v:t[v]},e);break;case"boolean":_=vP({t:"b",v:t[v]},e),C=_P({t:"b",v:t[v]},e);break;default:throw new Error("Unsupported value "+t[v])}d.push(_),c+=_.length,m.push(C),p+=C.length,++l}else u.setUint16(2*v,65535,!0),h.setUint16(2*v,65535);for(n[2][0].data=or(l);v<n[7][0].data.length/2;++v)u.setUint16(2*v,65535,!0),h.setUint16(2*v,65535,!0);return n[6][0].data=ef(d),n[3][0].data=ef(m),l}function wP(n){!function VU(n){return function(e){for(var r=0;r!=n.length;++r){var i=n[r];void 0===e[i[0]]&&(e[i[0]]=i[1]),"n"===i[2]&&(e[i[0]]=Number(e[i[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function o_e(n,t){return"ods"==t.bookType?NU(n,t):"numbers"==t.bookType?function Jve(n,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ta(e["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(sn(r)));var o=aE(e,{range:r,header:1}),a=["~Sh33tJ5~"];o.forEach(function(W){return W.forEach(function(X){"string"==typeof X&&a.push(X)})});var s={},l=[],u=xt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(W,X){return[W,u.FullPaths[X]]}).forEach(function(W){var X=W[0],ge=W[1];2==X.type&&X.name.match(/\.iwa/)&&Qs(Js(X.content)).forEach(function(ye){l.push(ye.id),s[ye.id]={deps:[],location:ge,type:ri(ye.messages[0].meta[1][0].data)}})}),l.sort(function(W,X){return W-X});var c=l.filter(function(W){return W>1}).map(function(W){return[W,or(W)]});u.FileIndex.map(function(W,X){return[W,u.FullPaths[X]]}).forEach(function(W){var X=W[0];X.name.match(/\.iwa/)&&Qs(Js(X.content)).forEach(function(Ve){Ve.messages.forEach(function(he){c.forEach(function(ye){Ve.messages.some(function(st){return 11006!=ri(st.meta[1][0].data)&&function Gve(n,t){e:for(var e=0;e<=n.length-t.length;++e){for(var r=0;r<t.length;++r)if(n[e+r]!=t[r])continue e;return!0}return!1}(st.data,ye[1])})&&s[ye[0]].deps.push(Ve.id)})})})});for(var m,h=xt.find(u,s[1].location),p=Qs(Js(h.content)),v=0;v<p.length;++v){var _=p[v];1==_.id&&(m=_)}var C=na(Xn(m.messages[0].data)[1][0].data);for(p=Qs(Js((h=xt.find(u,s[C].location)).content)),v=0;v<p.length;++v)(_=p[v]).id==C&&(m=_);for(C=na(Xn(m.messages[0].data)[2][0].data),p=Qs(Js((h=xt.find(u,s[C].location)).content)),v=0;v<p.length;++v)(_=p[v]).id==C&&(m=_);for(C=na(Xn(m.messages[0].data)[2][0].data),p=Qs(Js((h=xt.find(u,s[C].location)).content)),v=0;v<p.length;++v)(_=p[v]).id==C&&(m=_);var w=Xn(m.messages[0].data);w[6][0].data=or(r.e.r+1),w[7][0].data=or(r.e.c+1);for(var b=na(w[46][0].data),E=xt.find(u,s[b].location),S=Qs(Js(E.content)),O=0;O<S.length&&S[O].id!=b;++O);if(S[O].id!=b)throw"Bad ColumnRowUIDMapArchive";var R=Xn(S[O].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=r.e.c;++D){var P=[];P[1]=P[2]=[{type:0,data:or(D+420690)}],R[1].push({type:2,data:ao(P)}),R[2].push({type:0,data:or(D)}),R[3].push({type:0,data:or(D)})}R[4]=[],R[5]=[],R[6]=[];for(var M=0;M<=r.e.r;++M)(P=[])[1]=P[2]=[{type:0,data:or(M+726270)}],R[4].push({type:2,data:ao(P)}),R[5].push({type:0,data:or(M)}),R[6].push({type:0,data:or(M)});S[O].messages[0].data=ao(R),E.content=gg(mg(S)),E.size=E.content.length,delete w[46];var B=Xn(w[4][0].data);B[7][0].data=or(r.e.r+1);var U=na(Xn(B[1][0].data)[2][0].data);if((S=Qs(Js((E=xt.find(u,s[U].location)).content)))[0].id!=U)throw"Bad HeaderStorageBucket";var le=Xn(S[0].messages[0].data);for(M=0;M<o.length;++M){var ie=Xn(le[2][0].data);ie[1][0].data=or(M),ie[4][0].data=or(o[M].length),le[2][M]={type:le[2][0].type,data:ao(ie)}}S[0].messages[0].data=ao(le),E.content=gg(mg(S)),E.size=E.content.length;var te=na(B[2][0].data);if((S=Qs(Js((E=xt.find(u,s[te].location)).content)))[0].id!=te)throw"Bad HeaderStorageBucket";for(le=Xn(S[0].messages[0].data),D=0;D<=r.e.c;++D)(ie=Xn(le[2][0].data))[1][0].data=or(D),ie[4][0].data=or(r.e.r+1),le[2][D]={type:le[2][0].type,data:ao(ie)};S[0].messages[0].data=ao(le),E.content=gg(mg(S)),E.size=E.content.length;var J=na(B[4][0].data);!function(){for(var ge,W=xt.find(u,s[J].location),X=Qs(Js(W.content)),Ee=0;Ee<X.length;++Ee){var Ve=X[Ee];Ve.id==J&&(ge=Ve)}var he=Xn(ge.messages[0].data);he[3]=[];var ye=[];a.forEach(function(at,vt){ye[1]=[{type:0,data:or(vt)}],ye[2]=[{type:0,data:or(1)}],ye[3]=[{type:2,data:Bve(at)}],he[3].push({type:2,data:ao(ye)})}),ge.messages[0].data=ao(he);var K=gg(mg(X));W.content=K,W.size=W.content.length}();var ce=Xn(B[3][0].data),de=ce[1][0];delete ce[2];var _e=Xn(de.data),ue=na(_e[2][0].data);!function(){for(var ge,W=xt.find(u,s[ue].location),X=Qs(Js(W.content)),Ee=0;Ee<X.length;++Ee){var Ve=X[Ee];Ve.id==ue&&(ge=Ve)}var he=Xn(ge.messages[0].data);delete he[6],delete ce[7];var ye=new Uint8Array(he[5][0].data);he[5]=[];for(var st=0,K=0;K<=r.e.r;++K){var at=Xn(ye);st+=Qve(at,o[K],a),at[1][0].data=or(K),he[5].push({data:ao(at),type:2})}he[1]=[{type:0,data:or(r.e.c+1)}],he[2]=[{type:0,data:or(r.e.r+1)}],he[3]=[{type:0,data:or(st)}],he[4]=[{type:0,data:or(r.e.r+1)}],ge.messages[0].data=ao(he);var Rt=gg(mg(X));W.content=Rt,W.size=W.content.length}(),de.data=ao(_e),B[3][0].data=ao(ce),w[4][0].data=ao(B),m.messages[0].data=ao(w);var re=gg(mg(p));return h.content=re,h.size=h.content.length,u}(n,t):"xlsb"==t.bookType?function a_e(n,t){fg=1024,n&&!n.SSF&&(n.SSF=vr(Ft)),n&&n.SSF&&(ig(),hy(n.SSF),t.revssf=Ix(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Iy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xlsb"==t.bookType?"bin":"xml",r=qj.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};wP(t=t||{});var o=wA(),a="",s=0;if(t.cellXfs=[],Jd(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),hn(o,a="docProps/core.xml",KW(n.Props,t)),i.coreprops.push(a),ir(t.rels,2,a,ln.CORE_PROPS),a="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var l=[],u=0;u<n.SheetNames.length;++u)2!=(n.Workbook.Sheets[u]||{}).Hidden&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}else n.Props.SheetNames=n.SheetNames;for(n.Props.Worksheets=n.Props.SheetNames.length,hn(o,a,XW(n.Props)),i.extprops.push(a),ir(t.rels,3,a,ln.EXT_PROPS),n.Custprops!==n.Props&&Jr(n.Custprops||{}).length>0&&(hn(o,a="docProps/custom.xml",ZW(n.Custprops)),i.custprops.push(a),ir(t.rels,4,a,ln.CUST_PROPS)),s=1;s<=n.SheetNames.length;++s){var c={"!id":{}},d=n.Sheets[n.SheetNames[s-1]];if(hn(o,a="xl/worksheets/sheet"+s+"."+e,Vge(s-1,a,t,n,c)),i.sheets.push(a),ir(t.wbrels,-1,"worksheets/sheet"+s+"."+e,ln.WS[0]),d){var p=d["!comments"],m=!1,v="";p&&p.length>0&&(hn(o,v="xl/comments"+s+"."+e,jge(p,v,t)),i.comments.push(v),ir(c,-1,"../comments"+s+"."+e,ln.CMNT),m=!0),d["!legacy"]&&m&&hn(o,"xl/drawings/vmlDrawing"+s+".vml",$j(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}c["!id"].rId1&&hn(o,wy(a),cg(c))}return null!=t.Strings&&t.Strings.length>0&&(hn(o,a="xl/sharedStrings."+e,function Wge(n,t,e){return(".bin"===t.slice(-4)?Hce:Ij)(n,e)}(t.Strings,a,t)),i.strs.push(a),ir(t.wbrels,-1,"sharedStrings."+e,ln.SST)),hn(o,a="xl/workbook."+e,function Gge(n,t,e){return(".bin"===t.slice(-4)?Dge:vU)(n,e)}(n,a,t)),i.workbooks.push(a),ir(t.rels,1,a,ln.WB),hn(o,a="xl/theme/theme1.xml",rP(n.Themes,t)),i.themes.push(a),ir(t.wbrels,-1,"theme/theme1.xml",ln.THEME),hn(o,a="xl/styles."+e,function Hge(n,t,e){return(".bin"===t.slice(-4)?Lde:Hj)(n,e)}(n,a,t)),i.styles.push(a),ir(t.wbrels,-1,"styles."+e,ln.STY),n.vbaraw&&r&&(hn(o,a="xl/vbaProject.bin",n.vbaraw),i.vba.push(a),ir(t.wbrels,-1,"vbaProject.bin",ln.VBA)),hn(o,a="xl/metadata."+e,function Uge(n){return(".bin"===n.slice(-4)?lfe:zj)()}(a)),i.metadata.push(a),ir(t.wbrels,-1,"metadata."+e,ln.XLMETA),hn(o,"[Content_Types].xml",jW(i,t)),hn(o,"_rels/.rels",cg(t.rels)),hn(o,"xl/_rels/workbook."+e+".rels",cg(t.wbrels)),delete t.revssf,delete t.ssf,o}(n,t):function HU(n,t){fg=1024,n&&!n.SSF&&(n.SSF=vr(Ft)),n&&n.SSF&&(ig(),hy(n.SSF),t.revssf=Ix(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Iy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",r=qj.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};wP(t=t||{});var o=wA(),a="",s=0;if(t.cellXfs=[],Jd(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),hn(o,a="docProps/core.xml",KW(n.Props,t)),i.coreprops.push(a),ir(t.rels,2,a,ln.CORE_PROPS),a="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var l=[],u=0;u<n.SheetNames.length;++u)2!=(n.Workbook.Sheets[u]||{}).Hidden&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}else n.Props.SheetNames=n.SheetNames;n.Props.Worksheets=n.Props.SheetNames.length,hn(o,a,XW(n.Props)),i.extprops.push(a),ir(t.rels,3,a,ln.EXT_PROPS),n.Custprops!==n.Props&&Jr(n.Custprops||{}).length>0&&(hn(o,a="docProps/custom.xml",ZW(n.Custprops)),i.custprops.push(a),ir(t.rels,4,a,ln.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,s=1;s<=n.SheetNames.length;++s){var d={"!id":{}},h=n.Sheets[n.SheetNames[s-1]];if(hn(o,a="xl/worksheets/sheet"+s+"."+e,uU(s-1,t,n,d)),i.sheets.push(a),ir(t.wbrels,-1,"worksheets/sheet"+s+"."+e,ln.WS[0]),h){var m=h["!comments"],v=!1,_="";if(m&&m.length>0){var C=!1;m.forEach(function(w){w[1].forEach(function(b){1==b.T&&(C=!0)})}),C&&(hn(o,_="xl/threadedComments/threadedComment"+s+"."+e,vfe(m,c,t)),i.threadedcomments.push(_),ir(d,-1,"../threadedComments/threadedComment"+s+"."+e,ln.TCMNT)),hn(o,_="xl/comments"+s+"."+e,Yj(m)),i.comments.push(_),ir(d,-1,"../comments"+s+"."+e,ln.CMNT),v=!0}h["!legacy"]&&v&&hn(o,"xl/drawings/vmlDrawing"+s+".vml",$j(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&hn(o,wy(a),cg(d))}return null!=t.Strings&&t.Strings.length>0&&(hn(o,a="xl/sharedStrings."+e,Ij(t.Strings,t)),i.strs.push(a),ir(t.wbrels,-1,"sharedStrings."+e,ln.SST)),hn(o,a="xl/workbook."+e,vU(n)),i.workbooks.push(a),ir(t.rels,1,a,ln.WB),hn(o,a="xl/theme/theme1.xml",rP(n.Themes,t)),i.themes.push(a),ir(t.wbrels,-1,"theme/theme1.xml",ln.THEME),hn(o,a="xl/styles."+e,Hj(n,t)),i.styles.push(a),ir(t.wbrels,-1,"styles."+e,ln.STY),n.vbaraw&&r&&(hn(o,a="xl/vbaProject.bin",n.vbaraw),i.vba.push(a),ir(t.wbrels,-1,"vbaProject.bin",ln.VBA)),hn(o,a="xl/metadata."+e,zj()),i.metadata.push(a),ir(t.wbrels,-1,"metadata."+e,ln.XLMETA),c.length>1&&(hn(o,a="xl/persons/person.xml",function yfe(n){var t=[ti,Je("personList",null,{xmlns:Pi.TCMNT,"xmlns:x":Yd[0]}).replace(/[\/]>/,">")];return n.forEach(function(e,r){t.push(Je("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(c)),i.people.push(a),ir(t.wbrels,-1,"persons/person.xml",ln.PEOPLE)),hn(o,"[Content_Types].xml",jW(i,t)),hn(o,"_rels/.rels",cg(t.rels)),hn(o,"xl/_rels/workbook.xml.rels",cg(t.wbrels)),delete t.revssf,delete t.ssf,o}(n,t)}function jU(n,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return py(t.file,xt.write(n,{type:yn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xt.write(n,t)}function ku(n,t,e){e||(e="");var r=e+n;switch(t.type){case"base64":return uy(Pu(r));case"binary":return Pu(r);case"string":return n;case"file":return py(t.file,r,"utf8");case"buffer":return yn?Mc(r,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(r):ku(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function iE(n,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",r=0;r<n.length;++r)e+=String.fromCharCode(n[r]);return"base64"==t.type?uy(e):"string"==t.type?Pr(e):e;case"file":return py(t.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+t.type)}}function oE(n,t){(function Rx(){Ks(1200),function kae(){Dx(1252)}()})(),function gU(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");!function fge(n,t,e){n.forEach(function(r,i){mU(r);for(var o=0;o<i;++o)if(r==n[o])throw new Error("Duplicate Sheet Name: "+r);if(e){var a=t&&t[i]&&t[i].CodeName||r;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}(n.SheetNames,n.Workbook&&n.Workbook.Sheets||[],!!n.vbaraw);for(var e=0;e<n.SheetNames.length;++e)lpe(n.Sheets[n.SheetNames[e]],0,e)}(n);var e=vr(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),"array"==e.type){e.type="binary";var r=oE(n,e);return e.type="array",cy(r)}var i=0;if(e.sheet&&(i="number"==typeof e.sheet?e.sheet:n.SheetNames.indexOf(e.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return ku(uve(n,e),e);case"slk":case"sylk":return ku(Oj.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"htm":case"html":return ku(TU(n.Sheets[n.SheetNames[i]],e),e);case"txt":return function m_e(n,t){switch(t.type){case"base64":return uy(n);case"binary":case"string":return n;case"file":return py(t.file,n,"binary");case"buffer":return yn?Mc(n,"binary"):n.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(qU(n.Sheets[n.SheetNames[i]],e),e);case"csv":return ku(DP(n.Sheets[n.SheetNames[i]],e),e,"\ufeff");case"dif":return ku(Aj.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"dbf":return iE(QA.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"prn":return ku(dg.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"rtf":return ku(Bj.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"eth":return ku(Pj.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"fods":return ku(NU(n,e),e);case"wk1":return iE(Uh.sheet_to_wk1(n.Sheets[n.SheetNames[i]],e),e);case"wk3":return iE(Uh.book_to_wk3(n,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),iE(bU(n,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),function p_e(n,t){var e=t||{};return jU(function gve(n,t){var e=t||{},r=xt.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return xt.utils.cfb_add(r,i,bU(n,e)),8==e.biff&&(n.Props||n.Custprops)&&function mve(n,t){var a,e=[],r=[],i=[],o=0,s=J4(WA,"n"),l=J4(jA,"n");if(n.Props)for(a=Jr(n.Props),o=0;o<a.length;++o)(Object.prototype.hasOwnProperty.call(s,a[o])?e:Object.prototype.hasOwnProperty.call(l,a[o])?r:i).push([a[o],n.Props[a[o]]]);if(n.Custprops)for(a=Jr(n.Custprops),o=0;o<a.length;++o)Object.prototype.hasOwnProperty.call(n.Props||{},a[o])||(Object.prototype.hasOwnProperty.call(s,a[o])?e:Object.prototype.hasOwnProperty.call(l,a[o])?r:i).push([a[o],n.Custprops[a[o]]]);var u=[];for(o=0;o<i.length;++o)oj.indexOf(i[o][0])>-1||YW.indexOf(i[o][0])>-1||null!=i[o][1]&&u.push(i[o]);r.length&&xt.utils.cfb_add(t,"/\x05SummaryInformation",lj(r,ky.SI,l,jA)),(e.length||u.length)&&xt.utils.cfb_add(t,"/\x05DocumentSummaryInformation",lj(e,ky.DSI,s,WA,u.length?u:null,ky.UDI))}(n,r),8==e.biff&&n.vbaraw&&function Tfe(n,t){t.FullPaths.forEach(function(e,r){if(0!=r){var i=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&xt.utils.cfb_add(n,i,t.FileIndex[r].content)}})}(r,xt.read(n.vbaraw,{type:"string"==typeof n.vbaraw?"binary":"buffer"})),r}(n,e),e)}(n,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function f_e(n,t){var e=vr(t||{});return function UU(n,t){var e={},r=yn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=r;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=n.FullPaths?xt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):n.generate(e);if(typeof Deno<"u"&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(cy(i))}return t.password&&typeof encrypt_agile<"u"?jU(encrypt_agile(i,t.password),t):"file"===t.type?py(t.file,i):"string"==t.type?Pr(i):i}(o_e(n,e),e)}(n,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function $U(n,t,e,r,i,o,a,s){var l=ni(e),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!a||n[e])for(var p=t.s.c;p<=t.e.c;++p){var m=a?n[e][p]:n[r[p]+l];if(void 0!==m&&void 0!==m.t){var v=m.v;switch(m.t){case"z":if(null==v)break;continue;case"e":v=0==v?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(null!=o[p]){if(null==v)if("e"==m.t&&null===v)h[o[p]]=null;else if(void 0!==u)h[o[p]]=u;else{if(!c||null!==v)continue;h[o[p]]=null}else h[o[p]]=c&&("n"!==m.t||"n"===m.t&&!1!==s.rawNumbers)?v:Mu(m,v,s);null!=v&&(d=!1)}}else{if(void 0===u)continue;null!=o[p]&&(h[o[p]]=u)}}return{row:h,isempty:d}}function aE(n,t){if(null==n||null==n["!ref"])return[];var e={t:"n",v:0},r=0,i=1,o=[],a=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=null!=u.range?u.range:n["!ref"];switch(1===u.header?r=1:"A"===u.header?r=2:Array.isArray(u.header)?r=3:null==u.header&&(r=0),typeof c){case"string":l=Mn(c);break;case"number":(l=Mn(n["!ref"])).s.r=c;break;default:l=c}r>0&&(i=0);var d=ni(l.s.r),h=[],p=[],m=0,v=0,_=Array.isArray(n),C=l.s.r,w=0,b={};_&&!n[C]&&(n[C]=[]);var E=u.skipHidden&&n["!cols"]||[],S=u.skipHidden&&n["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(E[w]||{}).hidden)switch(h[w]=Mr(w),e=_?n[C][w]:n[h[w]+d],r){case 1:o[w]=w-l.s.c;break;case 2:o[w]=h[w];break;case 3:o[w]=u.header[w-l.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),s=a=Mu(e,null,u),v=b[a]||0){do{s=a+"_"+v++}while(b[s]);b[a]=v,b[s]=1}else b[a]=1;o[w]=s}for(C=l.s.r+i;C<=l.e.r;++C)if(!(S[C]||{}).hidden){var O=$U(n,l,C,h,r,o,_,u);(!1===O.isempty||(1===r?!1!==u.blankrows:u.blankrows))&&(p[m++]=O.row)}return p.length=m,p}var KU=/"/g;function YU(n,t,e,r,i,o,a,s){for(var l=!0,u=[],c="",d=ni(e),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=s.dense?(n[e]||[])[h]:n[r[h]+d];if(null==p)c="";else if(null!=p.v){l=!1,c=""+(s.rawNumbers&&"n"==p.t?p.v:Mu(p,null,s));for(var m=0,v=0;m!==c.length;++m)if((v=c.charCodeAt(m))===i||v===o||34===v||s.forceQuotes){c='"'+c.replace(KU,'""')+'"';break}"ID"==c&&(c='"ID"')}else null==p.f||p.F?c="":(l=!1,(c="="+p.f).indexOf(",")>=0&&(c='"'+c.replace(KU,'""')+'"'));u.push(c)}return!1===s.blankrows&&l?null:u.join(a)}function DP(n,t){var e=[],r=t??{};if(null==n||null==n["!ref"])return"";var i=Mn(n["!ref"]),o=void 0!==r.FS?r.FS:",",a=o.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),u=new RegExp(("|"==o?"\\|":o)+"+$"),c="",d=[];r.dense=Array.isArray(n);for(var h=r.skipHidden&&n["!cols"]||[],p=r.skipHidden&&n["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(h[m]||{}).hidden||(d[m]=Mr(m));for(var v=0,_=i.s.r;_<=i.e.r;++_)(p[_]||{}).hidden||null!=(c=YU(n,i,_,d,a,l,o,r))&&(r.strip&&(c=c.replace(u,"")),(c||!1!==r.blankrows)&&e.push((v++?s:"")+c));return delete r.dense,e.join("")}function qU(n,t){t||(t={}),t.FS="\t",t.RS="\n";var e=DP(n,t);if(typeof Vn>"u"||"string"==t.type)return e;var r=Vn.utils.encode(1200,e,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function XU(n,t,e){var r=e||{},i=+!r.skipHeader,o=n||{},a=0,s=0;if(o&&null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var l="string"==typeof r.origin?hi(r.origin):r.origin;a=l.r,s=l.c}var u,c={s:{c:0,r:0},e:{c:s,r:a+t.length-1+i}};if(o["!ref"]){var d=Mn(o["!ref"]);c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==a&&(c.e.r=(a=d.e.r+1)+t.length-1+i)}else-1==a&&(a=0,c.e.r=t.length-1+i);var h=r.header||[],p=0;t.forEach(function(v,_){Jr(v).forEach(function(C){-1==(p=h.indexOf(C))&&(h[p=h.length]=C);var w=v[C],b="z",E="",S=Gt({c:s+p,r:a+_+i});u=Gy(o,S),!w||"object"!=typeof w||w instanceof Date?("number"==typeof w?b="n":"boolean"==typeof w?b="b":"string"==typeof w?b="s":w instanceof Date?(b="d",r.cellDates||(b="n",w=no(w)),E=r.dateNF||Ft[14]):null===w&&r.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,E&&(u.z=E)):o[S]=u={t:b,v:w},E&&(u.z=E)):o[S]=w})}),c.e.c=Math.max(c.e.c,s+h.length-1);var m=ni(a);if(i)for(p=0;p<h.length;++p)o[Mr(p+s)+m]={t:"s",v:h[p]};return o["!ref"]=sn(c),o}function Gy(n,t,e){if("string"==typeof t){if(Array.isArray(n)){var r=hi(t);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return Gy(n,Gt("number"!=typeof t?t:{r:t,c:e||0}))}function ZU(n,t,e){return t?(n.l={Target:t},e&&(n.l.Tooltip=e)):delete n.l,n}var OP={encode_col:Mr,encode_row:ni,encode_cell:Gt,encode_range:sn,decode_col:kA,decode_row:FA,split_cell:function $se(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:hi,decode_range:Ta,format_cell:Mu,sheet_add_aoa:kW,sheet_add_json:XU,sheet_add_dom:OU,aoa_to_sheet:lg,json_to_sheet:function __e(n,t){return XU(null,n,t)},table_to_sheet:AU,table_to_book:function Fve(n,t){return qd(AU(n,t),t)},sheet_to_csv:DP,sheet_to_txt:qU,sheet_to_json:aE,sheet_to_html:TU,sheet_to_formulae:function v_e(n){var e,t="",r="";if(null==n||null==n["!ref"])return[];var s,i=Mn(n["!ref"]),o="",a=[],l=[],u=Array.isArray(n);for(s=i.s.c;s<=i.e.c;++s)a[s]=Mr(s);for(var c=i.s.r;c<=i.e.r;++c)for(o=ni(c),s=i.s.c;s<=i.e.c;++s)if(t=a[s]+o,r="",void 0!==(e=u?(n[c]||[])[s]:n[t])){if(null!=e.F){if(t=e.F,!e.f)continue;r=e.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}l[l.length]=t+"="+r}return l},sheet_to_row_object_array:aE,sheet_get_cell:Gy,book_new:function RP(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function TP(n,t,e,r){var i=1;if(!e)for(;i<=65535&&-1!=n.SheetNames.indexOf(e="Sheet"+i);++i,e=void 0);if(!e||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(e)>=0){var o=e.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var a=o&&o[1]||e;for(++i;i<=65535&&-1!=n.SheetNames.indexOf(e=a+i);++i);}if(mU(e),n.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return n.SheetNames.push(e),n.Sheets[e]=t,e},book_set_sheet_visibility:function C_e(n,t,e){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=function y_e(n,t){if("number"==typeof t){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var e=n.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(n,t);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}n.Workbook.Sheets[r].Hidden=e},cell_set_number_format:function w_e(n,t){return n.z=t,n},cell_set_hyperlink:ZU,cell_set_internal_link:function b_e(n,t,e){return ZU(n,"#"+t,e)},cell_add_comment:function x_e(n,t,e){n.c||(n.c=[]),n.c.push({t,a:e||"SheetJS"})},sheet_set_array_formula:function E_e(n,t,e,r){for(var i="string"!=typeof t?t:Mn(t),o="string"==typeof t?t:sn(t),a=i.s.r;a<=i.e.r;++a)for(var s=i.s.c;s<=i.e.c;++s){var l=Gy(n,a,s);l.t="n",l.F=o,delete l.v,a==i.s.r&&s==i.s.c&&(l.f=e,r&&(l.D=!0))}return n},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};class tf{exportAsExcelFile(t,e,r){var i,o=OP.book_new();for(i=0;i<e.length;i++){var s=OP.json_to_sheet(e[i]);OP.book_append_sheet(o,s,t[i])}oE(o,{bookType:"xlsx",type:"array"}),function g_e(n,t,e){var r=e||{};r.type="file",r.file=t,function SP(n){if(!n.bookType){var e=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(n.bookType=e.slice(1)),n.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[n.bookType]||n.bookType}}(r),oE(n,r)}(o,r+"_export_"+Rb(new Date,"yyyyMMddHHmmss","en")+".xlsx")}}tf.\u0275fac=function(t){return new(t||tf)},tf.\u0275prov=$e({token:tf,factory:tf.\u0275fac});class A_e{constructor(t){this.componentParent=t}}class AP{constructor(t){this.context=new A_e(t)}}var me=(()=>{return(n=me||(me={}))[n.ClePrimaire=1]="ClePrimaire",n[n.Chaine=2]="Chaine",n[n.Entier=3]="Entier",n[n.CleEtrangere=4]="CleEtrangere",n[n.Date=5]="Date",n[n.Booleen=6]="Booleen",n[n.VoirDocDb=7]="VoirDocDb",n[n.DefDocDb=8]="DefDocDb",n[n.VoirDocFs=9]="VoirDocFs",n[n.DefDocFs=10]="DefDocFs",n[n.Flottant=11]="Flottant",n[n.DateHeure=12]="DateHeure",n[n.Dependances=13]="Dependances",n[n.Select=14]="Select",me;var n})(),ke=(()=>{return(n=ke||(ke={}))[n.NonModifiable=1]="NonModifiable",n[n.Modifiable=2]="Modifiable",n[n.Obligatoire=3]="Obligatoire",ke;var n})();class Be{constructor(t,e,r,i,o,a,s,l){this.m_nom_col=t,this.m_lib_col=e,this.m_type_col=r,this.m_visible=i,this.m_modifiable=o,this.m_inser_excel=a,this.m_inser_ecran=s,this.m_largeur=l}EstModifiable(){var t=!1;return(this.m_modifiable==ke.Modifiable||this.m_modifiable==ke.Obligatoire)&&(t=!0),t}NomTablePourCbo(){return this.m_nom_col.substring(3)}}var bo=(()=>{return(n=bo||(bo={}))[n.Entier=1]="Entier",n[n.Chaine=2]="Chaine",n[n.Date=3]="Date",n[n.Booleen=4]="Booleen",n[n.Flottant=5]="Flottant",bo;var n})();class QU{constructor(t,e){this.m_nom_col=t,this.m_type_col=e}}class vg{constructor(t,e){this.m_num_col=t,this.m_val=e}}class PP{constructor(t){this.m_cellules=t}RecupererVal(t){var e,r;for(r=0;r<this.m_cellules.length;r++)this.m_cellules[r].m_num_col==t&&(e=this.m_cellules[r].m_val);return e}}class Gc{constructor(t,e,r,i,o,a,s,l,u,c,d){this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.width=l,this.cellClass=u,this.headerClass=c,this.cellEditorPopup=d,this.wrapText=!0,this.autoHeight=!0,this.wrapText=!0,this.autoHeight=!0,this.cellStyle={"padding-left":0,"padding-right":0}}}class P_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!0),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.width=l,this.cellClass=u,this.headerClass=c,this.cellEditor="cboEditor",this.cellEditorParams=null,this.editable=!1}}class M_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!0),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.width=l,this.cellClass=u,this.headerClass=c,this.cellEditor="agSelectCellEditor",this.cellEditorParams=null}}class I_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellEditor="dateEditor",this.editable=!1}}class F_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellEditor="datetimeEditor",this.editable=!1}}class JU extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellRenderer="btnVoirDocRenderer"}}class e8 extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellRenderer="btnDefDocRenderer"}}class k_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellRenderer="btnDependancesRenderer",this.editable=!1}}class L_e extends Gc{constructor(t,e,r,i,o,a,s,l,u,c){super(t,e,r,i,o,a,s,l,u,c,!1),this.field=t,this.headerName=e,this.sortable=r,this.filter=i,this.hide=o,this.resizable=a,this.editable=s,this.cellClass=u,this.headerClass=c,this.cellRenderer="boolRenderer",this.editable=!1}}class lE{constructor(){this.m_start_object="{",this.m_end_object="}",this.m_start_array="[",this.m_end_array="]",this.m_colonnes_sql=new Array(0),this.m_nb_val=0,this.m_tab_val=new Array(0),this.m_nb_lig=0,this.m_lignes=new Array(0),this.m_type_cnx="",this.m_tampon="",this.m_string_json="",this.m_tab_json=new Array(0),this.m_tampon_bd="",this.m_ind=0}SpecifierTypeCnx(t){this.m_type_cnx=t}WriteStartObject(){this.m_tampon+=this.m_start_object}WriteEndObject(){this.m_tampon+=this.m_end_object}WritePropertyName(t){this.m_tampon+=t+":"}WritePropertyNumber(t){this.m_tampon+=t+":"}WriteValue(t){this.m_tampon+=t}WriteStartArray(){this.m_tampon+=this.m_start_array}WriteEndArray(){this.m_tampon+=this.m_end_array}WriteSeparateurLigCol(){this.m_tampon+=","}TranscrireEnJSonUneTable(t,e){var r,i,o;for(this.m_tampon="",this.WriteStartObject(),this.WritePropertyName("t"),this.WriteValue("1"),this.WriteStartArray(),r=0;r<1;r++){this.WriteStartObject();var a=t.length;for(this.WritePropertyName("c"),this.WriteValue(""+a),this.WriteStartArray(),i=0;i<a;i++)this.WriteStartObject(),this.WritePropertyName(t[i].m_nom_col),this.WriteValue(""+t[i].m_type_col),this.WriteEndObject();this.WriteEndArray(),this.WriteSeparateurLigCol();var s=e.length;for(this.WritePropertyName("l"),this.WriteValue(""+s),this.WriteStartArray(),i=0;i<e.length;i++){for(this.WriteStartObject(),this.WritePropertyName("v"),this.WriteValue(""+e[i].m_cellules.length),this.WriteStartArray(),o=0;o<e[i].m_cellules.length;o++){this.WriteStartObject(),this.WritePropertyName(""+e[i].m_cellules[o].m_num_col);var l=e[i].m_cellules[o].m_val,u=l;3===t[e[i].m_cellules[o].m_num_col].m_type_col&&(u=10==l.length?l.substring(0,4)+l.substring(5,7)+l.substring(8):19==l.length?l.substring(0,4)+l.substring(5,7)+l.substring(8,10)+l.substring(11,13)+l.substring(14,16)+l.substring(17,19):l),this.WriteValue(u),this.WriteEndObject()}this.WriteEndArray(),this.WriteEndObject()}this.WriteEndArray(),this.WriteEndObject()}return this.WriteEndArray(),this.WriteEndObject(),this.m_tampon}MessageException(t){return"Erreur: "+t+" \xe0 l'indice "+this.m_ind}LireNomPropriete(){var t,e;for(t=0,e="";0==t;)":"==this.m_tampon_bd[this.m_ind]?t=1:e+=this.m_tampon_bd[this.m_ind],this.m_ind++;return e}LireValPropriete(){var t,e;for(t=0,e="";0==t;)"}"==this.m_tampon_bd[this.m_ind]?t=1:(e+="\t"==this.m_tampon_bd[this.m_ind]?" ":this.m_tampon_bd[this.m_ind],this.m_ind++);return e}LireEntier(){for(var r,t=0,e=0;0==t;)"0"==(r=this.m_tampon_bd[this.m_ind])||"1"==r||"2"==r||"3"==r||"4"==r||"5"==r||"6"==r||"7"==r||"8"==r||"9"==r?(e*=10,e+=+r,this.m_ind++):t=1;return e}Tabd(t){return this.m_tampon_bd.substring(this.m_ind,this.m_ind+1)}DecoderTableJSon(t){var r,i,o,a,s,u,c,p,m,_;if(console.log("JSON.Debut de DecoderTableJSon("+t+")"),this.m_nb_val=0,this.m_tab_val=new Array(0),this.m_tampon_bd=t,this.m_ind=0,this.Tabd(this.m_ind)!=this.m_start_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but");if(this.m_ind++,"t"!=this.LireNomPropriete())return this.MessageException("DecoderTableJSon: Pas de propri\xe9t\xe9 tables ('t')");if(this.LireEntier(),this.Tabd(this.m_ind)!=this.m_start_array)return this.MessageException("DecoderTableJSon: Pas de d\xe9but du tableau des tables");for(this.m_ind++,r=0;0==r;)if(this.Tabd(this.m_ind)==this.m_end_array)r=1;else{if(this.Tabd(this.m_ind)!=this.m_start_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but de table");if(this.m_ind++,"c"!=this.LireNomPropriete())return this.MessageException("DecoderTableJSon: Pas de propri\xe9t\xe9 colonnes d'une table ('c')");if(p=this.LireEntier(),this.Tabd(this.m_ind)!=this.m_start_array)return this.MessageException("DecoderTableJSon: Pas de d\xe9but du tableau des colonnes");for(this.m_ind++,this.m_colonnes_sql=new Array(p),i=0,m=0;0==i;)if(this.Tabd(this.m_ind)==this.m_end_array)i=1;else{if(this.Tabd(this.m_ind)!=this.m_start_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but de colonne");if(this.m_ind++,o=this.LireNomPropriete(),a=this.LireEntier(),this.m_colonnes_sql[m]=new QU(o,a),m++,this.Tabd(this.m_ind)!=this.m_end_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de fin de colonne");this.m_ind++}if(this.Tabd(this.m_ind)!=this.m_end_array)return this.MessageException("DecoderTableJSon: Pas de fin du tableau des colonnes");if(this.m_ind++,","!=this.Tabd(this.m_ind))return this.MessageException("DecoderTableJSon: Pas de s\xe9parateur :");if(this.m_ind++,"l"!=this.LireNomPropriete())return this.MessageException("DecoderTableJSon: Pas de propri\xe9t\xe9 lignes d'une table ('l')");if(this.m_nb_lig=this.LireEntier(),this.Tabd(this.m_ind)!=this.m_start_array)return this.MessageException("DecoderTableJSon: Pas de d\xe9but du tableau des lignes");for(this.m_ind++,s=0,_=0,this.m_lignes=new Array(this.m_nb_lig);0==s;)if(this.Tabd(this.m_ind)==this.m_end_array)s=1;else{if(this.Tabd(this.m_ind)!=this.m_start_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but de ligne");if(this.m_ind++,"v"!=this.LireNomPropriete())return this.MessageException("DecoderTableJSon: Pas de propri\xe9t\xe9 cellules d'une ligne d'une table ('v')");var w=this.LireEntier(),b=new Array(w);if(this.Tabd(this.m_ind)!=this.m_start_array)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but du tableau des valeurs de la ligne");this.m_ind++,u=0;for(var E=0;0==u;)if(this.Tabd(this.m_ind)==this.m_end_array)u=1;else{if(this.Tabd(this.m_ind)!=this.m_start_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de d\xe9but d'une valeur de la ligne");if(this.m_ind++,m=this.LireEntier(),":"!=this.Tabd(this.m_ind))return this.MessageException("DecoderTableJSon: Pas de s\xe9parateur entre num\xe9ro de colonne et valeur");if(this.m_ind++,c=this.LireValPropriete(),this.Tabd(this.m_ind)!=this.m_end_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de fin d'une valeur de la ligne");this.m_ind++,b[E++]=new vg(m,c)}if(this.Tabd(this.m_ind)!=this.m_end_array)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de fin du tableau des valeurs de la ligne");if(this.m_ind++,this.Tabd(this.m_ind)!=this.m_end_object)return this.MessageException("DecoderTableJSon: Pas de caract\xe8re de fin de ligne");this.m_ind++,this.m_lignes[_]=new PP(b),_++}if(this.Tabd(this.m_ind)!=this.m_end_array)return this.MessageException("DecoderTableJSon: Pas de fin du tableau des lignes");if(this.m_ind++,this.Tabd(this.m_ind)!=this.m_end_object)return this.MessageException("DecoderTableJSon: Pas de fin d'une table");this.m_ind++}return this.Tabd(this.m_ind)!=this.m_end_array?this.MessageException("DecoderTableJSon: Pas de fin du tableau des tables"):(this.m_ind++,this.Tabd(this.m_ind)!=this.m_end_object?this.MessageException("DecoderTableJSon: Pas de caract\xe8re de fin"):"OK")}FormaterValeur(t,e){var r="";switch(t){case me.ClePrimaire:r=e;break;case me.Chaine:r='"'+e.replace(/"/g,'\\"')+'"';break;case me.Entier:case me.Flottant:case me.CleEtrangere:r=e;break;case me.Date:if(8==e.length){var i=e.substring(0,4),o=e.substring(4,6),a=e.substring(6);e='"'+i+"-"+o+"-"+a+'"'}else 10==e.length&&(e='"'+e+'"');r=e;break;case me.DateHeure:i=e.substring(0,4),o=e.substring(4,6),a=e.substring(6,8);var s="00",l="00",u="00";e.length>=10&&(s=e.substring(8,10)),e.length>=12&&(l=e.substring(10,12)),e.length>=14&&(u=e.substring(12,14)),r=e='"'+i+"-"+o+"-"+a+"T"+s+":"+l+":"+u+'"';break;case me.Booleen:case me.VoirDocDb:case me.DefDocDb:case me.VoirDocFs:case me.DefDocFs:r=e}return r}DonnerStringJSon(t,e,r,i,o){var a,s,l,u,c,h,p,m,v,_,C,w,E,b=-1;if(void 0===e)return"";for(a=r.length,C=t.length,w=e.length,s=0;s<w;s++)"etat"==e[s].m_nom_col&&(b=s);this.m_string_json="[",this.m_tab_json=new Array(0);var O=!0;for(s=0;s<a;s++){for(c=r[s].m_cellules.length,E=!1,l=0;l<c;l++)r[s].m_cellules[l].m_num_col==b&&"D"==r[s].m_cellules[l].m_val&&(E=!0);if(!E){O?O=!1:this.m_string_json+=",",this.m_string_json+="{";var R=!0;for(l=0;l<C;l++){var d=!1;if(h=t[l].m_nom_col,m=t[l].m_type_col,_=t[l].m_lib_col,p=-1,o?t[l].m_inser_excel:t[l].m_inser_ecran){for(u=0;u<w;u++)h==e[u].m_nom_col&&(p=u);for(R?R=!1:this.m_string_json+=",",u=0;u<c;u++)if(r[s].m_cellules[u].m_num_col==p){d=!0,v=r[s].m_cellules[u].m_val,this.m_string_json+=i?'"'+_+'":':'"'+h+'":';var D=this.FormaterValeur(m,v);this.m_string_json+=D}d||(this.m_string_json+=i?'"'+_+'":""':'"'+h+'":""')}}this.m_string_json+="}"}}return this.m_string_json+="]",this.m_string_json}DonnerStringFormulaireJSon(t,e,r,i,o){var l,u,c,d,h,p,m,_,w,a=t.length,s=r.length,b=-1;for(_=!0,this.m_string_json="[",l=0;l<s;l++)for(d=r[l].m_cellules.length,u=0;u<a;u++)if(p=t[u].m_nom_col,w=t[u].m_lib_col,m=t[u].m_type_col,o?t[u].m_inser_excel:t[u].m_inser_ecran){for(c=0;c<e.length;c++)p==e[c].m_nom_col&&(b=c);for(_?_=!1:this.m_string_json+=",",this.m_string_json+='{"Donn\xe9e":"'+w+'","Valeur":',h=!1,c=0;c<d;c++)if(r[l].m_cellules[c].m_num_col==b){h=!0;var E=this.FormaterValeur(m,r[l].m_cellules[c].m_val);this.m_string_json+=E}h||(this.m_string_json+='""'),this.m_string_json+="}"}return this.m_string_json+="]",this.m_string_json}}class mi{constructor(t){this.httpClient=t,this.m_retour_brut="",this.m_contenu_blob="",this.m_buffer_blob=null,this.m_colonnes_sql=null,this.m_lignes=null,this.m_fini=!1,this.m_etape_finie=!1,this.m_octet_debut=0,this.m_taille_blob=0,this.m_taille_bloc=0,this.m_taille_lue=0,this.m_ecran=null,this.m_pourcent_telechargement=0,this.m_fin_telechargement=!1,this.lire_ensemble_de_tables="LireEnsembleDeTables.php?sql=",this.lire_blob="LireBlob.php?params=",this.lire_partiel_blob="LirePartielBlob.php?params=",this.lire_taille_blob="LireTailleBlob.php?params=",this.lire_une_valeur="LireUneValeur.php?sql=",this.ecrire_blob="EcrireBlob.php?params=",this.ecrire_table="EcrireTable.php?sql=",this.exec_sql="ExecSql.php?sql=",this.lire_taille_fic="LireTailleFic.php?params=",this.lire_partiel_fic="LirePartielFic.php?params=",this.lire_fic="LireFic.php?nom_fic="}SpecifierEcran(t){this.m_ecran=t}LireValeur(t){const e=Ie.FaireUrl();return new Promise((i,o)=>{this.httpClient.get(e+this.lire_une_valeur+t,{responseType:"text"}).toPromise().then(s=>{this.m_retour_brut=s,i(s)},s=>{o(s.message)})})}LireTable(t){const e=Ie.FaireUrl();return new Promise((i,o)=>{null==e?o("URL non d\xe9fini"):this.httpClient.get(e+this.lire_ensemble_de_tables+t,{responseType:"text"}).toPromise().then(s=>{var l=""+s;if(l.startsWith("{t:")){var h,u=new lE,d=(u.DecoderTableJSon(l),u.m_colonnes_sql.length);for(this.m_colonnes_sql=new Array(d),h=0;h<d;h++)this.m_colonnes_sql[h]=new QU(u.m_colonnes_sql[h].m_nom_col,u.m_colonnes_sql[h].m_type_col);var p=u.m_lignes.length;for(this.m_lignes=new Array(p),h=0;h<p;h++)this.m_lignes[h]=u.m_lignes[h];this.m_retour_brut=s,i("OK")}else l.startsWith("Erreur")||(l="Erreur: "+s),o(l)},s=>{o("Erreur: "+s)})})}LireTailleBlob(t,e,r,i){const o=Ie.FaireUrl();return new Promise((s,l)=>{this.httpClient.get(o+this.lire_taille_blob+(t+"|")+e+"|"+r+"|"+i,{responseType:"text"}).toPromise().then(h=>{null!=h?(this.m_taille_blob=+h,s("OK")):l("Erreur: taille du BLOB non d\xe9finie")},h=>{l("Erreur: "+h.message)})})}LirePartielBlob(t,e,r,i,o,a){const s=Ie.FaireUrl();return new Promise((u,c)=>{var d="|";this.httpClient.get(s+this.lire_partiel_blob+(t+d+e+d+r+d+i+d+o+d+a),{responseType:"text"}).toPromise().then(m=>{this.m_retour_brut=m,u("OK")},m=>{c("Erreur: "+m.message)})})}delay(t){return new Promise(e=>setTimeout(e,t))}LireBlob(t,e,r,i){var o=this;return Ar(function*(){const a=Ie.FaireUrl();var s="|",l=t+s+e+s+r+s+i;o.m_buffer_blob=new Uint8Array(o.m_taille_blob),o.m_taille_bloc=1e4,o.m_taille_lue=0,o.m_octet_debut=0,o.m_pourcent_telechargement=0,o.m_fin_telechargement=!1;for(var c=!1,d=!0;!c;){for(;!d;)yield o.delay(10);d=!1,o.httpClient.get(a+"LirePartielBlob.php?params="+l+s+o.m_octet_debut+s+o.m_taille_bloc,{responseType:"text"}).toPromise().then(p=>{if(d=!0,o.m_retour_brut=p,null!=o.m_retour_brut){const v=new Uint8Array(atob(o.m_retour_brut).split("").map(_=>_.charCodeAt(0)));o.m_buffer_blob.set(v,o.m_octet_debut),o.m_octet_debut+=v.length,o.m_pourcent_telechargement=100*o.m_octet_debut/o.m_taille_blob,null!=o.m_ecran&&(o.m_ecran.m_pourcent_telechargement=o.m_pourcent_telechargement),o.m_octet_debut>=o.m_taille_blob&&(c=!0,o.m_fin_telechargement=!0,null!=o.m_ecran&&(o.m_ecran.m_fin_telechargement=!0))}},p=>{c=!0})}})()}LireTailleFic(t){const e=Ie.FaireUrl();return new Promise((i,o)=>{this.httpClient.get(e+this.lire_taille_fic+t,{responseType:"text"}).toPromise().then(l=>{null!=l?(this.m_taille_blob=+l,i("OK")):o("Erreur: taille de fichier non d\xe9finie")},l=>{o("Erreur: "+l.message)})})}LirePartielFic(t,e,r){const i=Ie.FaireUrl();return new Promise((a,s)=>{this.httpClient.get(i+this.lire_partiel_fic+(t+"|")+e+"|"+r,{responseType:"text"}).toPromise().then(d=>{this.m_retour_brut=d,a("OK")},d=>{s("Erreur: "+d.message)})})}LireFic(t){var e=this;return Ar(function*(){const r=Ie.FaireUrl();var o=t;e.m_buffer_blob=new Uint8Array(e.m_taille_blob),e.m_taille_bloc=1e4,e.m_taille_lue=0,e.m_octet_debut=0,e.m_pourcent_telechargement=0,e.m_fin_telechargement=!1;for(var a=!1,s=!0;!a;){for(;!s;)yield e.delay(10);s=!1,e.httpClient.get(r+"LirePartielFic.php?params="+o+"|"+e.m_octet_debut+"|"+e.m_taille_bloc,{responseType:"text"}).toPromise().then(u=>{if(s=!0,e.m_retour_brut=u,null!=e.m_retour_brut){const d=new Uint8Array(atob(e.m_retour_brut).split("").map(h=>h.charCodeAt(0)));e.m_buffer_blob.set(d,e.m_octet_debut),e.m_octet_debut+=d.length,e.m_pourcent_telechargement=100*e.m_octet_debut/e.m_taille_blob,null!=e.m_ecran&&(e.m_ecran.m_pourcent_telechargement=e.m_pourcent_telechargement),e.m_octet_debut>=e.m_taille_blob&&(a=!0,e.m_fin_telechargement=!0,null!=e.m_ecran&&(e.m_ecran.m_fin_telechargement=!0))}},u=>{a=!0})}})()}EcrireBlob(t,e,r,i,o){const a=Ie.FaireUrl();return new Promise((l,u)=>{this.httpClient.post(a+this.ecrire_blob+(t+"|")+e+"|"+r+"|"+i,o,{responseType:"text"}).toPromise().then(p=>{l(""+p)},p=>{u("Erreur: "+p.message)})})}EcrireTable(t,e){const r=Ie.FaireUrl();return new Promise((o,a)=>{var s=r+this.ecrire_table+t;console.log("EcrireTable: url_req="+s),console.log("EcrireTable: contenu=[[["+e+"]]]"),this.httpClient.post(s,e,{responseType:"text"}).toPromise().then(l=>{var u=""+l;console.log("EcrireTable: retour de http="+u),u.startsWith("Erreur")?o(u):o("OK")},l=>{var u="Erreur: "+l.message;console.log("Erreur="+u),a(u)})})}ExecSql(t){const e=Ie.FaireUrl();return new Promise((i,o)=>{this.httpClient.post(e+this.exec_sql+t,null,{responseType:"text"}).toPromise().then(s=>{var l=""+s;l.startsWith("Erreur")?i(l):i("OK")},s=>{o("Erreur: "+s.message)})})}DonnerTypeMime(t){var e="";switch(t){case".bmp":e="image/bmp";break;case".csv":e="text/csv";break;case".doc":e="application/msword";break;case".docx":e="application/vndopenxmlformats-officedocument.wordprocessingml.document";break;case".gif":e="image/gif";break;case".htm":case".html":e="text/html";break;case".jpeg":case".jpg":e="image/jpeg";break;case".mp3":e="audio/mpeg";break;case".pdf":e="application/pdf";break;case".txt":e="text/txt";break;case".xls":case".xlsx":e="application/vnd.ms-excel";break;case".fdc":e="application/octet-stream"}return e}ValCelluleParNom(t,e){var r=this.NumeroColonneSql(e);return this.ValCelluleParNum(t,r)}ValCelluleParNum(t,e){var r;for(r=0;r<this.m_lignes[t].m_cellules.length;r++)if(this.m_lignes[t].m_cellules[r].m_num_col==e){var i=this.m_lignes[t].m_cellules[r].m_val;if(this.m_colonnes_sql[e].m_type_col===bo.Date&&8==i.length){var o=i.substring(0,4),a=i.substring(4,6),s=i.substring(6);i=o+"-"+a+"-"+s}return i}}NumeroColonneSql(t){var e,r=-1;for(e=0;e<this.m_colonnes_sql.length;e++)this.m_colonnes_sql[e].m_nom_col==t&&(r=e);return r}}mi.\u0275fac=function(t){return new(t||mi)(Te(eo))},mi.\u0275prov=$e({token:mi,factory:mi.\u0275fac});class nf{constructor(t=0,e="",r=!1){this.m_id=t,this.m_lib=e,this.m_selected=r}}class xo{constructor(t,e){this.httpClient=t,this.m_nom_table=e,this.m_liste_items=new Array(0)}GenererListe(t){return new Promise((r,i)=>{try{var o=new mi(this.httpClient);o.LireTable(t).then(a=>{if((""+a).startsWith("Erreur"))i(a);else{var l=o.m_lignes.length;this.m_liste_items=new Array(l+1);var c,u=new nf(0,"");for(this.m_liste_items[0]=u,c=0;c<l;c++){var d=o.m_lignes[c].m_cellules[0].m_val,h=o.m_lignes[c].m_cellules[1].m_val;o.m_colonnes_sql[1].m_type_col===bo.Date&&(h=h.substring(0,4)+"-"+h.substring(4,6)+"-"+h.substring(6)),u=new nf(d,h),this.m_liste_items[c+1]=new nf(d,h)}r("OK")}},a=>{i(a)})}catch(a){console.log("Erreur: "+a.message+"\n"+a.stack)}})}GenererListeStd(){return this.GenererListe("exec AZinit_cbo '"+this.m_nom_table+"'")}InitialiserListe(t){var i,e=t.length;for(this.m_liste_items=new Array(e+1),new nf(0,""),this.m_liste_items[0]=new nf(0,""),i=0;i<e;i++){var o=i+1,a=t[i];new nf(o,a),this.m_liste_items[i+1]=new nf(o,a)}}}class MP{constructor(t=null,e=new Array(0),r=""){this.m_ecran=t,this.m_liste_items=e,this.m_nom_table=r}}function N_e(n,t){if(1&n&&(q(0,"option",11),se(1),Y()),2&n){const e=t.index,r=Nt(2);qe("value",r.m_cbo_prs.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_prs.m_liste_items[e].m_lib)}}function B_e(n,t){if(1&n&&(q(0,"option",11),se(1),Y()),2&n){const e=t.index,r=Nt(2);qe("value",r.m_cbo_fonte.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_fonte.m_liste_items[e].m_lib)}}function G_e(n,t){if(1&n){const e=wc();q(0,"div")(1,"form",2)(2,"div",3)(3,"label",4),se(4," Nom: "),Y(),q(5,"select",5),Wr(6,N_e,2,2,"option",6),Y(),q(7,"label",7),se(8," Mot de passe: "),Y(),ji(9,"input",8),q(10,"label",4),se(11," Taille des textes: "),Y(),q(12,"select",9),Wr(13,B_e,2,2,"option",6),Y(),q(14,"button",10),Fe("click",function(){return lr(e),ur(Nt().onConnexion())}),q(15,"label"),se(16,"Connexion"),Y()(),q(17,"label"),se(18),Y()()()()}if(2&n){const e=Nt();oe(1),qe("formGroup",e.formConnexion),oe(4),$n(e.m_classe_fonte),oe(1),qe("ngForOf",e.m_cbo_prs.m_liste_items),oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(1),qe("ngForOf",e.m_cbo_fonte.m_liste_items),oe(2),$n(e.m_classe_fonte),oe(3),ht(e.m_msg_err)}}const V_e=function(){return["references","cmpt"]},H_e=function(){return["references","typublic"]},W_e=function(){return["references","instr"]},j_e=function(){return["references","theme"]},U_e=function(){return["references","lieu"]},z_e=function(){return["references","ville"]};function $_e(n,t){if(1&n){const e=wc();q(0,"div",12)(1,"ul",13)(2,"li")(3,"label"),se(4,"R\xe9f\xe9rences"),Y(),q(5,"ul")(6,"li")(7,"a",14),se(8,"Comptines"),Y()(),q(9,"li")(10,"a",14),se(11,"Publics"),Y()(),q(12,"li")(13,"a",14),se(14,"Instruments"),Y()(),q(15,"li")(16,"a",14),se(17,"Th\xe8mes"),Y()(),q(18,"li")(19,"a",14),se(20,"Lieux"),Y()(),q(21,"li")(22,"a",14),se(23,"Villes"),Y()()()(),q(24,"li")(25,"label"),se(26,"Minipoil"),Y(),q(27,"ul")(28,"li")(29,"a",15),se(30,"S\xe9ances"),Y()(),q(31,"li")(32,"a",16),se(33,"Interventions"),Y()(),ji(34,"li",17),q(35,"li")(36,"a",18),se(37,"Fichiers"),Y()(),q(38,"li")(39,"a",19),se(40,"SQL"),Y()(),q(41,"li")(42,"a",20),se(43,"Carte"),Y()(),q(44,"li")(45,"a",21),se(46,"Stats"),Y()()()(),q(47,"button",22),Fe("click",function(){return lr(e),ur(Nt().onDeConnexion())}),q(48,"label"),se(49,"D\xe9connexion"),Y()(),q(50,"label",23),se(51),Y()()()}if(2&n){const e=Nt();oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(52,V_e)),oe(2),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(53,H_e)),oe(2),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(54,W_e)),oe(2),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(55,j_e)),oe(2),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(56,U_e)),oe(2),$n(e.m_classe_fonte),oe(1),qe("routerLink",yh(57,z_e)),oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(4),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(3),$n(e.m_classe_fonte),oe(4),$n(e.m_classe_fonte),oe(3),ht(e.m_compteur)}}class Er{constructor(t,e,r){this.httpClient=t,this.router=e,this.formBuilder=r,this.m_phase_connexion=!1,this.m_cbo_prs=null,this.m_cbo_fonte=null,this.formConnexion=null,this.accesBdService=null,this.m_compteur=0,this.m_msg_err="",this.m_classe_fonte="",this.m_classe_compteur="",this.m_tailles_fontes=["tres_petite","moyenne","tres_grande"],Ie.m_serveur_bd="serveurbd",this.ClasseCompteur();var i=Ie.m_id_prs_login;if(i>0){this.m_phase_connexion=!1,this.ValiderIdPrs(i,"AZAZAZ");var o=Ie.m_num_ecran_appele,l=this.UrlEcran(o,Ie.m_num_bloc_appele);null==l?(this.m_msg_err="Erreur: \xe9cran inconnu: "+o,console.log(this.m_msg_err)):this.router.navigate([l])}else this.m_phase_connexion=!0,this.formConnexion=this.formBuilder.group({m_cbo_prs:0,m_mdp:"",m_cbo_fonte:2}),this.m_cbo_fonte=new xo(this.httpClient,"fontes"),this.m_cbo_fonte.InitialiserListe(this.m_tailles_fontes),this.m_cbo_prs=new xo(this.httpClient,"prs_login"),this.DefServeur()}ngOnInit(){}ValiderUtilisateur(){var t=this;return Ar(function*(){for(Ie.m_compteur_initialise=!0;;)t.m_compteur=Ie.m_compteur++,Ie.m_compteur>600&&(t.onDeConnexion(),Ie.m_compteur=0),yield t.delay(1e3);return new Promise((e,r)=>{e(!0)})})()}DefServeur(){var t=Ie.m_serveur_bd;"String"==t.constructor.name&&(Ie.m_serveur_bd=t,this.m_cbo_prs=new xo(this.httpClient,"prs_login"),this.m_cbo_prs.GenererListeStd().then(e=>{console.log(e)}))}ValiderIdPrs(t,e){if(t>0){var r="exec AZvalider_prs_mdp "+t+",'"+e+"'";new mi(this.httpClient).LireValeur(r).then(o=>{var u,s=(""+o).split("|",3),l=new Array(3);for(u=0;u<3;u++)l[u]=+s[u];l[0]>0?(this.m_msg_err="",Ie.m_renderer.removeClass(Ie.m_app_doc.body,Ie.m_classe_fonte),this.m_classe_fonte=Ie.m_classe_fonte,Ie.m_renderer.addClass(Ie.m_app_doc.body,Ie.m_classe_fonte),Ie.m_nivo_lec=l[0],Ie.m_nivo_ecr=l[1],Ie.m_nivo_exp=l[2],Ie.m_compteur=0,this.m_phase_connexion=!1,0==Ie.m_compteur_initialise&&this.ValiderUtilisateur()):this.m_msg_err="Mot de passe incorrect"},o=>{this.m_msg_err=o})}}onConnexion(){var t=this.formConnexion.get("m_cbo_prs").value;if(t>0){var e=this.formConnexion.get("m_mdp").value,r=this.formConnexion.get("m_cbo_fonte").value-1,i=this.m_tailles_fontes[r];Ie.m_id_prs_login=t,Ie.m_classe_fonte=i,this.ValiderIdPrs(t,e)}}onDeConnexion(){Ie.m_id_prs_login=-1,Ie.m_compteur=0,this.m_phase_connexion=!0,this.formConnexion.get("m_cbo_prs").setValue(0),this.formConnexion.get("m_mdp").setValue(""),this.router.navigateByUrl("/")}delay(t){return new Promise(e=>setTimeout(e,t))}static NumEcran(t){var r,e="";switch(t){case"seance":e="1|1";break;case"seance_cmpt":e="1|2";break;case"interv":e="2|1";break;default:if(t.startsWith("dependances"))for(r=0;r<Er.tab_nom_tab_pour_dependances.length;r++)t=="dependances/"+Er.tab_nom_tab_pour_dependances[r]&&(e="2|"+r);else{for(r=0;r<Er.tab_bloc_adm_ref.length;r++)t==Er.tab_bloc_adm_ref[r]&&(e="0|"+r);for(r=0;r<Er.tab_bloc_ref.length;r++)t==Er.tab_bloc_ref[r]&&(e="1|"+r)}}return e}static AppelerHref(t,e){var r=this.NumEcran(t);if(""!=r){var i=Ie.NumClasseFonte(Ie.m_classe_fonte),a=Ie.m_url+"?p="+Ie.m_id_prs_login+"|"+r+"|"+e+"|"+i;console.log("MenuComponent.AppelerHref: url="+a),window.open(a,"_blank")}}UrlEcran(t,e){var r=Er.tab_ecrans[t];return 0==t&&(r+="/"+Er.tab_bloc_adm_ref[e]),1==t&&(r+="/"+Er.tab_bloc_ref[e]),3==t&&(r+="/"+Er.tab_ecrans[4]),console.log(r),r}static NomTablePourDependances(t){return Er.tab_nom_tab_pour_dependances[t]}ClasseCompteur(){switch(Ie.m_classe_fonte){case"tres_petite":this.m_classe_compteur="compteur_tres_petite";break;case"petite":this.m_classe_compteur="compteur_petite";break;case"moyenne":default:this.m_classe_compteur="compteur_moyenne";break;case"grande":this.m_classe_compteur="compteur_grande";break;case"tres_grande":this.m_classe_compteur="compteur_tres_grande"}}}Er.tab_bloc_adm_ref=["type_bloc","type_champ","type_ecr","adm_ecrs"],Er.tab_ecrans=["adm_references","references","dependances","seance","interv","adm_blocs"],Er.tab_bloc_ref=["cmpt","publics","instr","lieu","ville"],Er.tab_nom_tab_pour_dependances=["cmpt","publics","instr","lieu","ville","interv"],Er.\u0275fac=function(t){return new(t||Er)(pe(eo),pe(Ea),pe($a))},Er.\u0275cmp=Bn({type:Er,selectors:[["app-menu"]],decls:2,vars:2,consts:[[4,"ngIf"],["id","wrap",4,"ngIf"],[3,"formGroup"],[1,"form-group","form-connexion"],["for","lblnom_prs",2,"width","50px"],["formControlName","m_cbo_prs","id","m_cbo_prs"],[3,"value",4,"ngFor","ngForOf"],["for","lblmdp",2,"width","50px"],["type","password","id","m_mdp","name","m_mdp","formControlName","m_mdp","autocomplete","on",1,"form-control",2,"width","50px"],["formControlName","m_cbo_fonte","id","m_cbo_fonte"],[1,"connexion-bouton",3,"click"],[3,"value"],["id","wrap"],[1,"navbar"],[3,"routerLink"],["routerLink","/seance"],["routerLink","/interv"],[1,"sep"],["routerLink","fic"],["routerLink","req"],["routerLink","carte"],["routerLink","stt"],[1,"deconnexion-bouton",3,"click"],[1,"compteur"]],template:function(t,e){1&t&&(Wr(0,G_e,19,16,"div",0),Wr(1,$_e,52,58,"div",1)),2&t&&(qe("ngIf",e.m_phase_connexion),oe(1),qe("ngIf",!e.m_phase_connexion))},dependencies:[Tc,bh,cx,Ru,Gd,Vd,Su,Ac,kl,Du,$s,Ll],styles:["#wrap[_ngcontent-%COMP%]{width:100%;height:25px;margin:0;z-index:99;position:relative;background-color:#111}.navbar[_ngcontent-%COMP%]{height:25px;padding:0;margin:0;position:absolute;display:flex;justify-content:flex-start;align-items:center}.navbar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:99}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:25px;width:auto;float:left;text-align:center;list-style:none;background-color:#444;width:150px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;text-align:center;color:#fff;display:block}.navbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:24px;text-decoration:none;color:#fff;display:block;background-color:#111}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{transition:.3s;line-height:24px}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#214621}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover{background-color:#444}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none;height:25px;margin:0;padding:1px 0}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#444}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3a1a1}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#111;vertical-align:top;border-radius:5px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#640f0f}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#c83232}.compteur[_ngcontent-%COMP%]{width:50px;float:left;text-align:center;font-size:xx-small;color:#666}.compteur_tres_petite[_ngcontent-%COMP%]{height:auto;width:50px;float:left;text-align:center;font-size:xx-small;color:#666;padding:0}.compteur_petite[_ngcontent-%COMP%]{height:auto;width:50px;float:left;text-align:center;font-size:x-small;color:#666;padding:0}.compteur_moyenne[_ngcontent-%COMP%]{height:auto;width:50px;float:left;text-align:center;font-size:medium;color:#666;padding:0}.compteur_grande[_ngcontent-%COMP%]{height:auto;width:50px;float:left;text-align:center;font-size:large;color:#666;padding:0}.compteur_tres_grande[_ngcontent-%COMP%]{height:auto;width:50px;float:left;text-align:center;font-size:x_large;color:#666;padding:0}.sep[_ngcontent-%COMP%]{height:10px!important}"]});var t8=Ke(327);class _g{constructor(){this.params=null,this.label="",this.inactif=!1,this.m_classe_fonte=""}agInit(t){this.params=t,this.inactif=!(t.value>0&&2==Ie.m_nivo_exp),this.m_classe_fonte=Ie.m_classe_fonte,this.label=this.params.label||null}refresh(t){return!0}onCliquer(t){this.params.onClick instanceof Function&&this.params.onClick({event:t,ligne_cliquee:this.params.node.data})}}_g.\u0275fac=function(t){return new(t||_g)},_g.\u0275cmp=Bn({type:_g,selectors:[["app-btn-voir-doc-renderer"]],decls:2,vars:5,consts:[["type","button",3,"disabled","click"]],template:function(t,e){1&t&&(q(0,"button",0),Fe("click",function(i){return e.onCliquer(i)}),se(1),Y()),2&t&&(Ue(" ",e.m_classe_fonte," "),qe("disabled",e.inactif),oe(1),ht(e.label))},encapsulation:2});class yg{constructor(){this.params=null,this.inactif=!1,this.label="",this.m_classe_fonte=""}agInit(t){this.params=t,this.inactif=!(this.params.value>0&&2==Ie.m_nivo_ecr),this.m_classe_fonte=Ie.m_classe_fonte,this.label=this.params.label||null}refresh(t){return!0}onCliquer(t){this.params.onClick instanceof Function&&this.params.onClick({event:t,ligne_cliquee:this.params.node.data})}}yg.\u0275fac=function(t){return new(t||yg)},yg.\u0275cmp=Bn({type:yg,selectors:[["app-btn-def-doc-renderer"]],decls:2,vars:4,consts:[["type","file","id","selectedFile",2,"display","none",3,"change"],["type","button","value","D\xe9finir","onclick","document.getElementById('selectedFile').click();",3,"disabled"]],template:function(t,e){1&t&&(q(0,"input",0),Fe("change",function(i){return e.onCliquer(i)}),Y(),ji(1,"input",1)),2&t&&(oe(1),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.inactif))},encapsulation:2});class Vy{constructor(){this.params=null,this.label="",this.m_classe_fonte=""}agInit(t){this.params=t,this.m_classe_fonte=Ie.m_classe_fonte,this.label=this.params.label||null}refresh(t){return!0}onCliquer(t){this.params.onClick instanceof Function&&this.params.onClick({event:t,ligne_cliquee:this.params.node.data})}}Vy.\u0275fac=function(t){return new(t||Vy)},Vy.\u0275cmp=Bn({type:Vy,selectors:[["app-btn-dependances-renderer"]],decls:2,vars:3,consts:[["type","button",3,"click"]],template:function(t,e){1&t&&(q(0,"button",0),Fe("click",function(i){return e.onCliquer(i)}),se(1,"D\xe9pendances"),Y()),2&t&&Ue(" ",e.m_classe_fonte," ")},encapsulation:2});class Hy{constructor(){this.params=null,this.bool_val=!1,this.modifiable="",this.m_classe_fonte=""}agInit(t){this.params=t,this.bool_val=this.params.value,0==t.modifiable&&(this.modifiable="pointer-events: none"),this.m_classe_fonte=Ie.m_classe_fonte}refresh(t){return!0}onCliquer(t){this.params.onClick instanceof Function&&this.params.onClick({event:t,checked:t.target.checked,ligne_cliquee:this.params.node.data,nom_col_cliquee:this.params.nom_col_cliquee})}}Hy.\u0275fac=function(t){return new(t||Hy)},Hy.\u0275cmp=Bn({type:Hy,selectors:[["app-bool-renderer"]],decls:2,vars:4,consts:[["type","checkbox",3,"ngModel","change"],["inputBox",""]],template:function(t,e){1&t&&(q(0,"input",0,1),Fe("change",function(i){return e.onCliquer(i)}),Y()),2&t&&(Ws(e.modifiable),qe("ngModel",e.bool_val))},dependencies:[dx,kl,tA],encapsulation:2});const K_e=["input"];class Wy{constructor(){this.ma_date="",this.params=null,this.m_classe_fonte="",this.modifiable=""}agInit(t){this.params=t,this.m_classe_fonte=t.colDef.cellClass,this.ma_date=t.value,0==t.modifiable&&(this.modifiable="pointer-events: none")}refresh(t){return!0}changeEvent(t){this.ma_date=""+t.target.value,this.params.onClick instanceof Function&&this.params.onClick({event:t,date_saisie:this.ma_date,ligne_cliquee:this.params.node.data,nom_col_cliquee:this.params.nom_col_cliquee})}getValue(){return this.ma_date}isCancelAfterEnd(){return!1}ngAfterViewInit(){}}Wy.\u0275fac=function(t){return new(t||Wy)},Wy.\u0275cmp=Bn({type:Wy,selectors:[["app-date-editor"]],viewQuery:function(t,e){if(1&t&&E_(K_e,5,ba),2&t){let r;Dd(r=Rd())&&(e.input=r.first)}},decls:1,vars:7,consts:[["type","date",3,"value","change"]],template:function(t,e){1&t&&(q(0,"input",0),Fe("change",function(i){return e.changeEvent(i)}),Y()),2&t&&(Ws(e.modifiable),$n(e.m_classe_fonte),p_("value",e.ma_date))},encapsulation:2});const Y_e=["input"];class jy{constructor(){this.ma_date="",this.params=null,this.m_classe_fonte="",this.modifiable=""}agInit(t){this.params=t,this.m_classe_fonte=t.colDef.cellClass,0==t.modifiable&&(this.modifiable="pointer-events: none"),this.ma_date=19!=t.value.length?t.value+":00":t.value}refresh(t){return!0}changeEvent(t){this.ma_date=19!=t.target.value.length?t.target.value+":00":""+t.target.value,this.params.onClick instanceof Function&&this.params.onClick({event:t,date_saisie:this.ma_date,ligne_cliquee:this.params.node.data,nom_col_cliquee:this.params.nom_col_cliquee})}getValue(){return this.ma_date}isCancelAfterEnd(){return!1}ngAfterViewInit(){}}jy.\u0275fac=function(t){return new(t||jy)},jy.\u0275cmp=Bn({type:jy,selectors:[["app-date-editor"]],viewQuery:function(t,e){if(1&t&&E_(Y_e,5,ba),2&t){let r;Dd(r=Rd())&&(e.input=r.first)}},decls:1,vars:4,consts:[["type","datetime-local",3,"value","change"]],template:function(t,e){1&t&&(q(0,"input",0),Fe("change",function(i){return e.changeEvent(i)}),Y()),2&t&&($n(e.m_classe_fonte),p_("value",e.ma_date))},encapsulation:2});const q_e=["input"];function X_e(n,t){if(1&n&&(q(0,"option",3),se(1),Y()),2&n){const e=t.$implicit;$n(Nt().m_classe_fonte),p_("value",e.m_id),qe("selected",1==e.m_selected),oe(1),ht(e.m_lib)}}class Cg{constructor(){this.m_id=0,this.m_classe_fonte="",this.params=null,this.m_vals=null,this.m_nom_table=""}agInit(t){this.params=t,this.m_classe_fonte=t.colDef.cellClass,this.m_nom_table=t.colDef.cellEditorParams.m_nom_table,this.m_id=t.value;var r,e=t.colDef.cellEditorParams.m_liste_items.length;for(this.m_vals=new Array(e),r=0;r<e;r++){var i=t.colDef.cellEditorParams.m_liste_items[r];this.m_vals[r]=new nf(i.m_id,i.m_lib,!1),this.m_vals[r].m_id==this.m_id&&(this.m_vals[r].m_selected=!0)}}refresh(t){return!0}changeEvent(t){this.params.onClick instanceof Function&&(this.m_id=t.target.value,this.params.onClick({event:t,id:this.m_id,ligne_cliquee:this.params.node.data,nom_col_cliquee:this.params.nom_col_cliquee}))}getValue(){return this.m_id}isCancelAfterEnd(){return!1}ngAfterViewInit(){}onCliquerHREF(t){Er.AppelerHref(this.m_nom_table,this.m_id)}isPopup(){return!0}}Cg.\u0275fac=function(t){return new(t||Cg)},Cg.\u0275cmp=Bn({type:Cg,selectors:[["app-cbo-editor"]],viewQuery:function(t,e){if(1&t&&E_(q_e,5,ba),2&t){let r;Dd(r=Rd())&&(e.input=r.first)}},decls:4,vars:7,consts:[[3,"change"],[3,"value","class","selected",4,"ngFor","ngForOf"],[3,"click"],[3,"value","selected"]],template:function(t,e){1&t&&(q(0,"select",0),Fe("change",function(i){return e.changeEvent(i)}),Wr(1,X_e,2,6,"option",1),Y(),q(2,"button",2),Fe("click",function(i){return e.onCliquerHREF(i)}),se(3,"?"),Y()),2&t&&($n(e.m_classe_fonte),oe(1),qe("ngForOf",e.m_vals),oe(1),$n(e.m_classe_fonte))},dependencies:[Tc,Gd,Vd],encapsulation:2});class Fi{constructor(t,e,r,i,o,a,s,l,u,c){this.httpClient=t,this.m_ecran=e,this.m_nom_table=r,this.m_nom_bloc=i,this.m_lib_bloc=o,this.m_type_bloc=a,this.m_sql_select=s,this.m_sql_update=l,this.m_nom_cle_primaire=u,this.m_colonnes_ecran=c,this.m_lignes=new Array(0),this.m_colonnes_sql=new Array(0),this.m_modif=!1,this.m_taille_blob=0,this.m_buffer_blob=null,this.m_taille_bloc=0,this.m_taille_lue=0,this.m_octet_debut=0,this.m_fini=!1,this.m_etape_finie=!1,this.contenu_fic=null,this.fic=null}InitGridApi(t,e){this.gridApi=t,this.gridColumnApi=e}LargeurColonne(t){var e=1;switch(Ie.m_classe_fonte){case"tres_petite":e=.8;break;case"petite":e=1;break;case"moyenne":e=1.2;break;case"grande":e=1.5;break;case"tres_grande":e=1.8}return t*e}ClassesEntete(t){var e=new Array(2);return e[0]=this.m_ecran.m_classe_fonte,e[1]=t.m_modifiable==ke.Obligatoire?"obligatoire":t.m_modifiable==ke.NonModifiable?"non_modifiable":"modifiable",e}InitColDefs(){var t=this;return Ar(function*(){var r,e=0;for(r=0;r<t.m_colonnes_ecran.length;r++)(i=t.m_colonnes_ecran[r]).m_inser_ecran&&e++;var o=new Array(e);t.m_coldefs=new Array(o.length);var a=0;for(r=0;r<t.m_colonnes_ecran.length;r++){var i,s=t.LargeurColonne((i=t.m_colonnes_ecran[r]).m_largeur),l=t.m_ecran.m_classe_fonte,u=t.ClassesEntete(i);if(i.m_inser_ecran){switch(i.m_type_col){case me.CleEtrangere:o[a]=new P_e(i.m_nom_col,i.m_lib_col,!0,!0,!i.m_visible,!0,i.EstModifiable(),s,l,u);var c=i.NomTablePourCbo();console.log("nom table="+c);var d=!1;for((h=new xo(t.httpClient,c)).GenererListeStd().then(m=>{o[a].valueFormatter=t.formatterCbo(h.m_liste_items),o[a].cellRenderer=Cg,o[a].cellEditorParams=new MP(t.m_ecran,h.m_liste_items,c),o[a].cellRendererParams={onClick:t.onCboClick.bind(t),nom_col_cliquee:i.m_nom_col},d=!0},m=>{t.m_ecran.MessageErreur(m+"\xa7sql\xa7data\xa7pile"),d=!0});!d;)yield t.delay(50);break;case me.Select:var h;for(o[a]=new M_e(i.m_nom_col,i.m_lib_col,!0,!0,!i.m_visible,!0,i.EstModifiable(),s,l,u),c=i.NomTablePourCbo(),d=!1,(h=new xo(t.httpClient,c)).GenererListeStd().then(m=>{var v=h.m_liste_items.length,_=new Array(v),C=0;for(C=0;C<v;C++)_[C]=h.m_liste_items[C].m_lib;o[a].cellEditorParams={values:_},o[a].valueFormatter=t.formatterCbo(h.m_liste_items),o[a].cellRenderer=Cg,o[a].cellRendererParams={onClick:t.onCboClick.bind(t),nom_col_cliquee:i.m_nom_col},d=!0},m=>{t.m_ecran.MessageErreur(m+"\xa7sql\xa7data\xa7pile"),d=!0});!d;)yield t.delay(50);break;case me.Date:o[a]=new I_e(i.m_nom_col,i.m_lib_col,!0,!0,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=Wy,o[a].cellRendererParams={onClick:t.onDateClick.bind(t),nom_col_cliquee:i.m_nom_col,modifiable:i.EstModifiable()};break;case me.DateHeure:o[a]=new F_e(i.m_nom_col,i.m_lib_col,!0,!0,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=jy,o[a].cellRendererParams={onClick:t.onDateHeureClick.bind(t),nom_col_cliquee:i.m_nom_col,modifiable:i.EstModifiable()};break;case me.VoirDocDb:o[a]=new JU(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=_g,o[a].cellRendererParams={onClick:t.onBtnVoirDocDbClick.bind(t),label:"VoirDb"};break;case me.DefDocDb:o[a]=new e8(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=yg,o[a].cellRendererParams={onClick:t.onBtnDefDocDbClick.bind(t),label:"D\xe9finirDb"};break;case me.VoirDocFs:o[a]=new JU(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=_g,o[a].cellRendererParams={onClick:t.onBtnVoirDocFsClick.bind(t),label:"Voir"};break;case me.DefDocFs:o[a]=new e8(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=yg,o[a].cellRendererParams={onClick:t.onBtnDefDocFsClick.bind(t),label:"D\xe9finir"};break;case me.Dependances:o[a]=new k_e(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=Vy,o[a].cellRendererParams={onClick:t.onBtnDependancesClick.bind(t),label:"D\xe9pendances"};break;case me.Booleen:o[a]=new L_e(i.m_nom_col,i.m_lib_col,!0,!1,!i.m_visible,!0,i.EstModifiable(),s,l,u),o[a].cellRenderer=Hy,o[a].cellRendererParams={onClick:t.onBoolClick.bind(t),nom_col_cliquee:i.m_nom_col,modifiable:i.EstModifiable()};break;default:o[a]=new Gc(i.m_nom_col,i.m_lib_col,!0,!0,!i.m_visible,!0,i.EstModifiable(),s,l,u,!1)}t.m_coldefs[a]=o[a],a++}}})()}onBtnVoirDoc(t,e){var r=this.NumLig(t),i=this.ValCelluleParNom(r,"id_type_ficWITH"),o=this.m_ecran.DefNomFic().replace(/\'/g,"_").replace(/ /g,"_"),a=this.ValCelluleParNom(r,"nom_doc"),l=o+"_"+this.ValCelluleParNom(r,"id_type_docWITH");void 0!==a&&a.length>0&&(l+="_"+a);var u=new mi(this.httpClient),c=u.DonnerTypeMime(i);return 0==c.length?this.m_ecran.MessageErreur("Erreur: type de fichier inconnu: "+i):u.LireTailleBlob(e,this.m_nom_table,t,i).then(d=>{u.SpecifierEcran(this.m_ecran);var h=""+d;h.startsWith("Erreur")?this.m_ecran.MessageErreur(h+"\xa7sql\xa7data\xa7pile"):u.LireBlob(e,this.m_nom_table,t,i).then(p=>{const m=new Blob([u.m_buffer_blob],{type:c});var v=Rb(new Date,"yyyyMMddHHmmss","en");t8.saveAs(m,l+"_export_"+v+i)},p=>{this.m_ecran.MessageErreur((h=""+p)+"\xa7sql\xa7data\xa7pile")})},d=>{this.m_ecran.MessageErreur(d+"\xa7sql\xa7data\xa7pile")}),this.ReinitialiserCompteur(),"OK"}onBtnVoirDocDbClick(t){return this.onBtnVoirDoc(t.ligne_cliquee[this.m_nom_cle_primaire],"db")}onBtnVoirDocFsClick(t){return this.onBtnVoirDoc(t.ligne_cliquee[this.m_nom_cle_primaire],"fs")}onBtnDefDoc(t,e,r){var i=this;return Ar(function*(){i.ReinitialiserCompteur();var a=!0;if(i.NumLig(t)<0)i.m_ecran.MessageErreur("Il faut d'abord sauver la ligne"),a=!1;else if(null==e)i.m_ecran.MessageErreur("Fichier non d\xe9fini"),a=!1;else if(e.size>15e4){for(i.m_ecran.m_retour_modal="",i.m_ecran.MessageBox("Fichier tr\xe8s gros (taille max=100000 octets): voulez-vous continuer ?");""==i.m_ecran.m_retour_modal;)yield i.delay(500);"Cancel"==i.m_ecran.m_retour_modal&&(a=!1)}if(a){let l=new FileReader,u=i;l.onloadend=function(c){u.contenu_fic=(""+l.result).split(",")[1];var d=u.fic.type,h="";switch(d){case"application/excel":h=".xls";break;case"application/msword":h=".doc";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/vndopenxmlformats-officedocument.wordprocessingml.document":h=".docx";break;case"image/bmp":h=".bmp";break;case"text/csv":h=".csv";break;case"image/gif":h=".gif";break;case"image/jpeg":h=".jpg";break;case"text/html":h=".html";break;case"application/pdf":h=".pdf";break;case"text/plain":h=".txt";break;case"application/octet-stream":const v=e.name,_=v.indexOf(".");if(_>0){const C=v.substring(_);new mi(u.httpClient).LireValeur("select id_type_fic from type_fic where code_type_fic='"+C+"'").then(w=>{var b=""+w;b.startsWith("Erreur")?u.m_ecran.MessageErreur(b+"\xa7sql\xa7data\xa7pile"):b.length>0&&(h=C)},w=>{u.m_ecran.MessageErreur(w+"\xa7sql\xa7data\xa7pile")})}}if(0==h.length)u.m_ecran.MessageErreur("Erreur: le type de fichier n'est pas connu: "+d);else{var m=u.m_nom_table;new mi(u.httpClient).EcrireBlob(r,m,t,h,u.contenu_fic).then(_=>{var C=""+_;C.startsWith("Erreur")?u.m_ecran.MessageErreur(C+"\xa7sql\xa7data\xa7pile"):(u.m_ecran.RafraichirEcran(),u.m_ecran.MessageBox("OK"))},_=>{u.m_ecran.MessageErreur("retour de EcrireBlob="+_.message)})}},l.readAsDataURL(i.fic)}return i.ReinitialiserCompteur(),"OK"})()}onBtnDefDocDbOuFsClick(t,e){var r=t.ligne_cliquee[this.m_nom_cle_primaire],i=t.event.srcElement;null!=i.files&&(this.fic=i.files[0],this.onBtnDefDoc(r,this.fic,e))}onBtnDefDocDbClick(t){this.onBtnDefDocDbOuFsClick(t,"db")}onBtnDefDocFsClick(t){this.onBtnDefDocDbOuFsClick(t,"fs")}onBtnDependancesClick(t){console.log("debut de onBtnDefDocClick");var e=t.ligne_cliquee[this.m_nom_cle_primaire];return console.log("id= "+e+" m_nom_table= "+this.m_nom_table),Er.AppelerHref("dependances/"+this.m_nom_table,e),"OK"}onBoolClick(t){return this.ModifValeurChamp(t.nom_col_cliquee,t.ligne_cliquee[this.m_nom_cle_primaire],t.checked),"OK"}onDateClick(t){return this.ModifValeurChamp(t.nom_col_cliquee,t.ligne_cliquee[this.m_nom_cle_primaire],t.date_saisie),"OK"}onDateHeureClick(t){return this.ModifValeurChamp(t.nom_col_cliquee,t.ligne_cliquee[this.m_nom_cle_primaire],t.date_saisie),"OK"}onCboClick(t){return this.ModifValeurChamp(t.nom_col_cliquee,t.ligne_cliquee[this.m_nom_cle_primaire],t.id),"OK"}formatterCbo(t){return e=>{var r;for(r=0;r<t.length;r++)if(t[r].m_id==e.value)return t[r].m_lib;return"id="+e.value}}delay(t){return new Promise(e=>setTimeout(e,t))}ValCelluleParNum(t,e){var r;for(r=0;r<this.m_lignes[t].m_cellules.length;r++)if(this.m_lignes[t].m_cellules[r].m_num_col==e){var i=this.m_lignes[t].m_cellules[r].m_val;if(this.m_colonnes_sql[e].m_type_col===bo.Date&&8==i.length){var o=i.substring(0,4),a=i.substring(4,6),s=i.substring(6);i=o+"-"+a+"-"+s}return i}}ValCelluleParNom(t,e){var r=this.NumeroColonneSql(e);return this.ValCelluleParNum(t,r)}EcrireVal(t,e,r){var i=this.NumCel(t,e);if(i>=0)this.m_lignes[t].m_cellules[i].m_val=r;else{var o=new vg(e,r);this.m_lignes[t].m_cellules.push(o)}}NumeroColonneSql(t){var e,r=-1;for(e=0;e<this.m_colonnes_sql.length;e++)this.m_colonnes_sql[e].m_nom_col==t&&(r=e);return r}NumeroColonneSqlClePrimaire(){return this.NumeroColonneSql(this.m_nom_cle_primaire)}NumeroColonneEcran(t){var e,r=-1;for(e=0;e<this.m_colonnes_ecran.length;e++)this.m_colonnes_ecran[e].m_nom_col==t&&(r=e);return r}NumeroColonneSqlParLibCol(t){var e,r="";for(e=0;e<this.m_colonnes_ecran.length;e++)this.m_colonnes_ecran[e].m_lib_col==t&&(r=this.m_colonnes_ecran[e].m_nom_col);return this.NumeroColonneSql(r)}NumeroColDef(t){var e,r=-1;for(e=0;e<this.m_coldefs.length;e++)this.m_coldefs[e].field==t&&(r=e);return r}NumLig(t){var r,e=this.NumeroColonneSql(this.m_nom_cle_primaire);for(r=0;r<this.m_lignes.length;r++)if(this.ValCelluleParNum(r,e)==t)return r;return-1}NumCel(t,e){var r;for(r=0;r<this.m_lignes[t].m_cellules.length;r++)if(this.m_lignes[t].m_cellules[r].m_num_col==e)return r;return-1}DonnerStringJSon(t,e){return(new lE).DonnerStringJSon(this.m_colonnes_ecran,this.m_colonnes_sql,this.m_lignes,t,e)}DonnerStringFormulaireJSon(t,e){return(new lE).DonnerStringFormulaireJSon(this.m_colonnes_ecran,this.m_colonnes_sql,this.m_lignes,t,e)}SupprimerUneLigne(t){console.log("Suppr2");var e=this.NumLig(t),r=this.NumeroColonneSql("etat"),i=this.ValCelluleParNum(e,r);if(console.log(i),"I"===i){this.m_lignes.splice(e,1);var o,a=!1;for(o=0;o<this.m_lignes.length;o++)("U"==(i=this.ValCelluleParNum(o,r))||"D"==i||"I"==i)&&(a=!0),console.log(a);this.m_modif=a}else t<-Ie.m_nb_max_lig_creees?this.m_ecran.MessageErreur("Ligne non modifiable"):(console.log("Suppr3"),this.EcrireVal(e,r,"D"),console.log("suppr4"),this.m_modif=!0)}SupprimerToutesLesLignes(){this.m_lignes=new Array(0)}ReinitialiserCompteur(){Ie.m_compteur=0}ChargerBloc(t,e,r){return new Promise((o,a)=>{try{var s=new mi(this.httpClient);s.LireTable(t).then(l=>{var u,c,d=""+l;if(d.startsWith("Erreur"))a(d);else{for(this.m_colonnes_sql=new Array(s.m_colonnes_sql.length),u=0;u<s.m_colonnes_sql.length;u++)for(this.m_colonnes_sql[u]=s.m_colonnes_sql[u],c=0;c<this.m_colonnes_ecran.length;c++)this.m_colonnes_ecran[c].m_nom_col==this.m_colonnes_sql[u].m_nom_col&&this.m_colonnes_ecran[c].m_type_col===me.Date&&this.m_colonnes_sql[u].m_type_col==bo.Chaine&&(this.m_colonnes_sql[u].m_type_col=bo.Date);const m=" 00:00:00.000";for(this.m_lignes=new Array(s.m_lignes.length),u=0;u<s.m_lignes.length;u++){for(c=0;c<s.m_lignes[u].m_cellules.length;c++)if(this.m_colonnes_sql[s.m_lignes[u].m_cellules[c].m_num_col].m_type_col===bo.Date){var p=s.m_lignes[u].m_cellules[c].m_val;p.endsWith(m)&&(s.m_lignes[u].m_cellules[c].m_val=p.substring(0,p.length-m.length))}this.m_lignes[u]=s.m_lignes[u]}o("OK")}},l=>{a(l)})}catch(l){this.m_ecran.MessageErreur("Erreur: "+l.message+"\n"+l.stack)}})}PreparerAffichageBloc(t,e){return"G"==this.m_type_bloc?this.DonnerStringJSon(t,e):this.DonnerStringFormulaireJSon(t,e)}AfficherBloc(t,e){var r=this;return Ar(function*(){var o,i=r.PreparerAffichageBloc(t,e);r.gridApi.setColumnDefs(r.m_coldefs),o=i.length>0?JSON.parse(i):new Array(0),yield r.delay(300),r.gridApi.setRowData(o)})()}CreerUneLigne(){var t=0;if(void 0===this.m_colonnes_sql)this.m_ecran.MessageErreur("Il faut d'abord initialiser l'\xe9cran en faisant une recherche");else{var r,i,e=this.NumeroColonneSql(this.m_nom_cle_primaire);for(r=0;r<this.m_lignes.length;r++)for(i=0;i<this.m_lignes[r].m_cellules.length;i++)if(this.m_lignes[r].m_cellules[i].m_num_col==e){var o=this.m_lignes[r].m_cellules[i].m_val;o<t&&o>-Ie.m_nb_max_lig_creees&&(t=o)}t--;var s=new Array(2),l=this.NumeroColonneSql("etat");s[0]=new vg(l,"I"),s[1]=new vg(e,t);var u=new PP(s);this.m_lignes.push(u),this.m_modif=!0}return t}Sauver(){var t=new Promise((e,r)=>{var a,s,l,i=0,o=this.NumeroColonneSql("etat");for(a=0;a<this.m_lignes.length;a++)("U"==(u=this.ValCelluleParNum(a,o))||"D"==u||"I"==u)&&i++;if(0==i)e("OK");else{var c=0;for(a=0;a<this.m_colonnes_sql.length;a++)this.m_sql_update.includes(d="@"+this.m_colonnes_sql[a].m_nom_col+"@")&&c++;var h=new Array(c),p=0;for(a=0;a<this.m_colonnes_sql.length;a++){var d;this.m_sql_update.includes(d="@"+this.m_colonnes_sql[a].m_nom_col+"@")&&(h[p++]=this.m_colonnes_sql[a])}var m=new Array(i),v=0;for(a=0;a<this.m_lignes.length;a++){var u;if("U"==(u=this.ValCelluleParNum(a,o))||"D"==u||"I"==u){var _=0;for(s=0;s<this.m_lignes[a].m_cellules.length;s++)for(d=this.m_colonnes_sql[p=this.m_lignes[a].m_cellules[s].m_num_col].m_nom_col,l=0;l<h.length;l++)h[l].m_nom_col==d&&_++;var C=new Array(_),w=0;for(s=0;s<this.m_lignes[a].m_cellules.length;s++)for(d=this.m_colonnes_sql[p=this.m_lignes[a].m_cellules[s].m_num_col].m_nom_col,l=0;l<h.length;l++)h[l].m_nom_col==d&&(C[w++]=new vg(l,this.m_lignes[a].m_cellules[s].m_val));m[v++]=new PP(C)}}var b=new lE,E=new mi(this.httpClient),S=b.TranscrireEnJSonUneTable(h,m);E.EcrireTable(this.m_sql_update,S).then(O=>{console.log("apres then: nom_bloc="+this.m_nom_bloc+", res="+O);var R=""+O;R.startsWith("Erreur")?(this.m_ecran.MessageErreur(R+"\xa7sql\xa7data\xa7pile"),r(R)):(this.m_modif=!1,e("OK"))})}});return this.ReinitialiserCompteur(),t}ForcerValeurChamp(t,e,r,i){this.ModifValeurChamp(e,r,i),this.gridApi.getRowNode(t).setDataValue(e,i)}ModifValeurChamp(t,e,r){if(e<-Ie.m_nb_max_lig_creees)this.m_ecran.MessageErreur("Ligne non modifiable");else{var i=this.NumLig(e),o=this.NumeroColonneSql(t),a=!0;switch(this.m_colonnes_sql[o].m_type_col){case bo.Date:if(10!=r.length&&19!=r.length)a=!1;else{r.substring(0,4),r.substring(4,5);var u=+r.substring(5,7),d=(r.substring(7,8),+r.substring(8,10));19==r.length&&(r.substring(10,11),r.substring(11,13),r.substring(13,14),r.substring(14,16),r.substring(16,17),r.substring(17,19)),(u<=0||u>12||d<=0||d>31)&&(a=!1)}break;case bo.Booleen:r=r?"1":"0"}if(a){if("maitre"!=this.m_nom_bloc){this.m_modif=!0;var b=this.NumeroColonneSql("etat"),E=this.ValCelluleParNum(i,b);(void 0===E||""==E)&&this.EcrireVal(i,b,"U"),this.m_ecran.ToucherBlocActif()}this.EcrireVal(i,o,r)}else this.m_ecran.MessageErreur("Erreur: format incorrect")}this.ReinitialiserCompteur()}PersonnaliserCelluleCbo(t,e){var r=this;return Ar(function*(){console.log("Bloc.PersonnaliserCelluleCbo("+t+","+e+")");var i=r.NumLig(t),o=r.NumeroColonneEcran(e);console.log("num_lig="+i+"; num_col="+o);var a=r.m_colonnes_ecran[o].m_type_col;if(console.log("onRowClickDetail: type_col="+a),a==me.CleEtrangere){var s=r.m_ecran.RequeteCombobox(r.m_nom_bloc,i,e);if(s==r.m_ecran.m_derniere_req_specifique?s="":r.m_ecran.m_derniere_req_specifique=s,s.length>0){var l=!1,u=new xo(r.httpClient,e);for(u.GenererListe(s).then(c=>{var d;for(d=0;d<r.m_coldefs.length;d++)if(r.m_coldefs[d].field==e){r.gridApi.setColumnDefs([]);const h=e.substring(3);r.m_coldefs[d].cellEditorParams=new MP(r.m_ecran,u.m_liste_items,h),r.gridApi.setColumnDefs(r.m_coldefs)}l=!0},c=>{r.m_ecran.MessageErreur(c+"\xa7sql\xa7data\xa7pile"),l=!0});!l;)yield r.delay(50)}}})()}RestaurerCelluleCbo(t){var e=this;return Ar(function*(){var r=e.NumeroColonneEcran(t);if(e.m_colonnes_ecran[r].m_type_col==me.CleEtrangere){var o=e.m_colonnes_ecran[r].NomTablePourCbo(),a=!1,s=new xo(e.httpClient,o);for(s.GenererListeStd().then(l=>{var u;for(u=0;u<e.m_coldefs.length;u++)if(e.m_coldefs[u].field==t){const c=t.substring(3);e.m_coldefs[u].cellEditorParams=new MP(e.m_ecran,s.m_liste_items,c),e.gridApi.setColumnDefs(e.m_coldefs)}a=!0},l=>{e.m_ecran.MessageErreur(l+"\xa7sql\xa7data\xa7pile"),a=!0});!a;)yield e.delay(50)}})()}}class ki{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(e=>e.id!==t)}open(t){this.modals.find(r=>r.id===t).open()}close(t){this.modals.find(r=>r.id===t).close()}}ki.\u0275fac=function(t){return new(t||ki)},ki.\u0275prov=$e({token:ki,factory:ki.\u0275fac,providedIn:"root"});class Hl{constructor(t,e,r){switch(this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_nom_ecran="",this.formRecherche=null,this.m_msg_err="",this.m_sql_err="",this.m_data_err="",this.m_pile_err="",this.m_msg_info="",this.m_retour_modal="",this.m_tab_col_nom_fic=new Array(0),this.m_nom_col_cliquee="",this.m_classe_fonte="",this.m_hauteur_entete=0,this.m_interdit_ecr=!1,this.m_interdit_exp=!1,this.m_hauteur_ligne_grille=0,this.m_derniere_req_specifique="",this.m_classe_label_onglet_principal="",this.m_cbo_tmp=null,this.m_classe_grille="",this.m_classe_entete="",this.m_titre="",this.m_blocs=new Array(0),this.m_num_bloc_actif=-1,this.m_classe_boutons=new Array(0),this.m_classe_bouton_actif="",this.m_undoRedoCellEditing=!0,this.m_undoRedoCellEditingLimit=20,this.m_pourcent_telechargement=0,this.m_fin_telechargement=!1,this.formOngletPrincipal=null,this.m_classe_fonte=Ie.m_classe_fonte,this.ReinitialiserCompteur(),Ie.m_classe_fonte){case"tres_petite":this.m_hauteur_entete=20,this.m_classe_grille="ag-theme-alpine-pm-tp",this.m_classe_entete="entete_tres_petite";break;case"petite":this.m_hauteur_entete=30,this.m_classe_grille="ag-theme-alpine-pm-p",this.m_classe_entete="entete_petite";break;case"moyenne":this.m_hauteur_entete=35,this.m_classe_grille="ag-theme-alpine-pm-m",this.m_classe_entete="entete_moyenne";break;case"grande":this.m_hauteur_entete=40,this.m_classe_grille="ag-theme-alpine-pm-g",this.m_classe_entete="entete_grande";break;case"tres_grande":this.m_hauteur_entete=45,this.m_classe_grille="ag-theme-alpine-pm-tg",this.m_classe_entete="entete_tres_grande";break;default:this.m_hauteur_entete=25,this.m_classe_grille="ag-theme-alpine-pm-m",this.m_classe_entete="entete_moyenne"}this.m_interdit_ecr=2!=Ie.m_nivo_ecr,this.m_interdit_exp=2!=Ie.m_nivo_exp,this.m_classe_label_onglet_principal="label_onglet_principal_"+Ie.m_classe_fonte}Init(){var e=Ie.m_id_prs_login>0,r=document.getElementById("ecran");null!=r&&(e?(r.style.visibility="visible",this.ReinitialiserCompteur()):r.style.visibility="hidden")}InitColDefs(){var t;for(t=0;t<this.m_blocs.length;t++)this.m_blocs[t].InitColDefs(),this.m_classe_boutons[t]="btn_onglet_inactif_"+Ie.m_classe_fonte}RequeteRecherche(){return""}LancerUneRecherche(t){return new Promise((r,i)=>{console.log("Ecran.LancerUneRecherche"),this.ReinitialiserCompteur();var o=this.RequeteRecherche().replace("@id_prs_login@",""+Ie.m_id_prs_login);console.log("apres appel de RequeteRecherche: req_sql="+o),this.m_blocs[t].ChargerBloc(o,!1,!1).then(a=>{var s=""+a;s.startsWith("Erreur")?i(s):r("OK")},a=>{i("Erreur: "+a)})})}AfficherBlocMaitre(){}AfficherApresRecherche(){}NumBlocPourRecherche(){return 0}onBtnRecherche(){var t=this;return Ar(function*(){var r,e=!1;for(r=0;r<t.m_blocs.length;r++)t.m_blocs[r].m_modif&&(e=!0);var i=!0;if(e){for(t.m_retour_modal="",t.MessageBox("L'objet courant est modifi?");""==t.m_retour_modal;)yield t.delay(500);"Cancel"==t.m_retour_modal&&(i=!1)}if(i){var o=t.NumBlocPourRecherche();t.LancerUneRecherche(o).then(a=>{t.AfficherApresRecherche()},a=>{t.MessageErreur(a)})}})()}delay(t){return new Promise(e=>setTimeout(e,t))}ReinitialiserCompteur(){Ie.m_compteur=0}MessageErreur(t){var e=t.split("\xa7");this.m_msg_err=e[0],this.m_sql_err=e[1],this.m_data_err=e[2],this.m_pile_err=e[3],this.modalService.open("erreur")}MessageBox(t){this.m_retour_modal="",this.m_msg_info=t,this.modalService.open("info")}DefNomFic(){return""}RafraichirEcran(){}onFocusIn(t){var e;null!=(e=t.srcElement.getAttribute("col-id"))&&(this.m_nom_col_cliquee=e)}RequeteCombobox(t,e,r){return""}ApresModifValeurChamp(t,e,r,i,o){}ForcerValeurChamp(t,e,r,i,o){var a;for(a=0;a<this.m_blocs.length;a++)this.m_blocs[a].m_nom_bloc==e&&this.m_blocs[a].ForcerValeurChamp(t,i,r,o)}closeModal(t){this.modalService.close(t)}closeModalbis(t,e){this.m_retour_modal=e,this.modalService.close(t)}ToucherBlocActif(){var t=this.ToucherBloc(this.m_num_bloc_actif);this.m_classe_bouton_actif=t}ToucherBloc(t){var e=this.m_blocs[t].m_modif?"btn_onglet_actif_modif":"btn_onglet_actif";return this.m_classe_boutons[this.m_num_bloc_actif]=e+="_"+Ie.m_classe_fonte,e}onViderCriteres(){}PreparerChainePourSql(t){return"'"+t.replace(/\'/g,"''")+"'"}PreparerDatePourSql(t){return"'"+t+"'"}ModifValeurChamp(t,e,r){e<-Ie.m_nb_max_lig_creees?this.MessageErreur("Ligne non modifiable"):(this.m_blocs[this.m_num_bloc_actif].ModifValeurChamp(t,e,r),this.ToucherBlocActif())}onInverserSelection(t){var e;if(null!=this.m_blocs[t]&&null!=this.m_blocs[t].m_colonnes_sql)for(e=0;e<this.m_blocs[t].m_colonnes_sql.length;e++){if("SelectId"==this.m_blocs[t].m_colonnes_sql[e].m_nom_col){var r=e;for(e=0;e<this.m_blocs[t].m_lignes.length;e++){var i=this.m_blocs[t].ValCelluleParNum(e,r);this.m_blocs[t].EcrireVal(e,r,i="1"==i?"0":"1")}}this.m_blocs[t].AfficherBloc(!1,!1)}this.ReinitialiserCompteur()}onCellClick(t){var e=t.colDef.field;null!=e&&(this.m_nom_col_cliquee=e)}AfficherOngletFormulaire(t){var e,r=this.m_blocs[t];for(e=0;e<r.m_colonnes_ecran.length;e++)if(1==r.m_colonnes_ecran[e].m_visible&&1==r.m_colonnes_ecran[e].m_inser_ecran){var a,i=r.m_colonnes_ecran[e].m_nom_col,o="m_"+i;this.m_blocs[t].m_lignes.length>0?(a=r.ValCelluleParNom(0,i),r.m_colonnes_ecran[e].m_type_col==me.Booleen&&(0==a?a=!1:1==a&&(a=!0))):a=void 0,this.formOngletPrincipal.get(o).setValue(a)}}TransfererOngletFormulaire(t){var e,r=this.m_blocs[t];for(e=0;e<r.m_colonnes_ecran.length;e++)if(1==r.m_colonnes_ecran[e].m_visible&&1==r.m_colonnes_ecran[e].m_inser_ecran&&"F"==r.m_type_bloc){var i=r.m_colonnes_ecran[e].m_nom_col,o="m_"+i,a=r.NumeroColonneSql(i),s=this.formOngletPrincipal.get(o).value;void 0===s||r.EcrireVal(0,a,s)}}onModifValFormulaire(t){var e=t.target,r=e.name,i=e.value,o=this.m_num_bloc_actif;if(this.m_blocs[o].NumeroColonneSql(r)<0)this.MessageErreur("Element inconnu: "+r);else{var l=this.m_blocs[o].ValCelluleParNom(0,this.m_blocs[o].m_nom_cle_primaire);this.ModifValeurChamp(r,l,i)}}onAdressesMail(){var e,t="",r=this.m_blocs[0],i=-1,o=-1,a=-1,s=-1,l="";for(e=0;e<r.m_colonnes_ecran.length;e++)switch(r.m_colonnes_ecran[e].m_nom_col){case Ie.m_nom_col_select_id:i=e;break;case"nom_prs":o=e;break;case"prenom_prs":a=e;break;case"ad_elec":s=e}if(i>=0&&o>=0&&a>=0&&s>=0){for(e=0;e<r.m_lignes.length;e++)"1"==r.m_lignes[e].m_cellules[i].m_val&&(t+=r.m_lignes[e].m_cellules[o].m_val+" "+r.m_lignes[e].m_cellules[a].m_val+"<"+r.m_lignes[e].m_cellules[s].m_val+">;");l=t}else l="La requ?te ne permet pas de g?n?rer une liste d'adresses mail";this.MessageBox(l),this.ReinitialiserCompteur()}InitBlocs(){return new Promise((e,r)=>{try{var o=new mi(this.httpClient);o.LireTable("exec AZlire_config_ecr 'prs'").then(a=>{var s,u=""+a;if(u.startsWith("Erreur"))console.log("requete mal executee: nb_cols="+o.m_colonnes_sql.length),r(u);else{console.log("requete executee: nb_cols="+o.m_colonnes_sql.length),console.log("nb_lignes="+o.m_lignes.length);var c=0,d=0;for(s=0;s<o.m_lignes.length;s++)(d=o.ValCelluleParNom(s,"num_bloc"))>c&&(c=d);var h=c+1;for(this.m_blocs=new Array(h),console.log("max_num_bloc="+c),d=0;d<h;d++){var p=0,m=0;for(s=0;s<o.m_lignes.length;s++)o.ValCelluleParNom(s,"num_bloc")==d&&(m=o.ValCelluleParNom(s,"num_champ"))>p&&(p=m);var _=p+1;console.log("bloc numero "+d+": max_num_champs="+p);var C=new Array(_),w="",b="",E="",S="",O="",R="",D="";for(s=0;s<o.m_lignes.length;s++)if(o.ValCelluleParNom(s,"num_bloc")==d){console.log("ligne numero "+s),console.log(o.m_lignes[s]),""==w&&(w=o.ValCelluleParNom(s,"code_type_bloc"),b=o.ValCelluleParNom(s,"nom_bloc"),E=o.ValCelluleParNom(s,"lib_bloc"),S=o.ValCelluleParNom(s,"nom_table"),O=o.ValCelluleParNom(s,"sql_select"),R=o.ValCelluleParNom(s,"sql_update"),D=o.ValCelluleParNom(s,"nom_cle_primaire")),m=o.ValCelluleParNom(s,"num_champ");var P=o.ValCelluleParNom(s,"nom_champ"),M=o.ValCelluleParNom(s,"lib_champ"),B=o.ValCelluleParNom(s,"code_type_champ"),I=o.ValCelluleParNom(s,"visible");console.log("nom_ch="+P+", visible="+I);var U=o.ValCelluleParNom(s,"code_type_modif_champ"),le=o.ValCelluleParNom(s,"inser_excel"),ie=o.ValCelluleParNom(s,"inser_ecran"),te=o.ValCelluleParNom(s,"lg_champ"),J=me.Entier;switch(B){case"B":J=me.Booleen;break;case"C":J=me.Chaine;break;case"D":J=me.Date;break;case"E":J=me.Entier;break;case"F":J=me.Flottant;break;case"H":J=me.DateHeure;break;case"CP":J=me.ClePrimaire;break;case"CE":J=me.CleEtrangere;break;case"Dp":J=me.Dependances;break;case"DD":J=me.DefDocDb;break;case"DF":J=me.DefDocFs;break;case"VD":J=me.VoirDocDb;break;case"VF":J=me.VoirDocFs}var ce=ke.Modifiable;switch(U){case"M":ce=ke.Modifiable;break;case"N":ce=ke.NonModifiable;break;case"O":ce=ke.Obligatoire}var de=new Be(P,M,J,I,ce,le,ie,te);C[m]=de,console.log("bloc "+d+": champ "+m+"="+P)}this.m_blocs[d]=new Fi(this.httpClient,this,S,b,E,w,O,R,D,C)}this.InitColDefs(),e("OK")}},a=>{var s=a;r(s),console.log("erreur dans AZlire_config_ecr:"+s)})}catch(a){this.MessageErreur("Erreur: "+a.message+"\n"+a.stack),r("KO")}})}}Hl.\u0275fac=function(t){return new(t||Hl)(Te(eo),Te($a),Te(ki))},Hl.\u0275prov=$e({token:Hl,factory:Hl.\u0275fac});class rf extends Hl{constructor(t,e,r,i){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.activatedRoute=i,this.m_nb_lignes=0,this.gridApi=null,this.gridColumnApi=null,this.m_grid_api_initialisee=!1,this.m_grid_options=null,this.m_idx_detail=-1,this.m_grid_options=new AP(this)}ngOnInit(){this.activatedRoute.params.forEach(t=>{var e=""+this.activatedRoute.snapshot.paramMap.get("nom_ecran");this.ChangementDeGrille(e),this.InitColDefs(),this.Init()})}onColumnResized(t){this.gridApi.resetRowHeights()}onGridReady(t){var e;for(this.gridApi=t.api,this.gridColumnApi=t.columnApi,e=0;e<this.m_blocs.length;e++)this.m_blocs[e].InitGridApi(t.api,t.columnApi);this.m_grid_api_initialisee=!0,Ie.m_id_appele>0&&this.onBtnRecherche()}ChangementDeGrille(t){var e=this;return Ar(function*(){var r;for(r=0;r<e.m_blocs.length;r++)e.m_blocs[r].m_nom_bloc==t&&(e.m_num_bloc_actif=r,e.m_titre=e.m_blocs[e.m_num_bloc_actif].m_lib_bloc,e.m_grid_api_initialisee&&e.AfficherBloc(!1,!1));e.ReinitialiserCompteur()})()}RequeteRecherche(){var t="";return this.m_num_bloc_actif>=0&&(t=this.m_blocs[this.m_num_bloc_actif].m_sql_select),t}PreparerBloc(){return new Promise((e,r)=>{e("OK")})}AfficherApresRecherche(){this.m_nb_lignes=this.m_blocs[this.m_num_bloc_actif].m_lignes.length,this.PreparerBloc().then(t=>{Ie.m_id_appele>0&&(this.m_idx_detail=this.m_blocs[this.m_num_bloc_actif].NumLig(Ie.m_id_appele)),this.AfficherBloc(!1,!1),this.ToucherBlocActif()},t=>{this.MessageErreur(t+"\xa7sql\xa7data\xa7EcranGrilleService.onBtnRecherche: retour de PreparerBloc")})}NumBlocPourRecherche(){return this.m_num_bloc_actif}AfficherBloc(t,e){var r=this;return Ar(function*(){r.m_blocs[r.m_num_bloc_actif].AfficherBloc(t,e),r.ToucherBlocActif(),r.m_nb_lignes=r.m_blocs[r.m_num_bloc_actif].m_lignes.length,r.m_idx_detail>=0&&(r.gridApi.forEachNode(i=>{i.rowIndex==r.m_idx_detail&&i.setSelected(!0)}),r.gridApi.ensureIndexVisible(r.m_idx_detail),r.m_idx_detail=-1)})()}DefNomFic(){var t="";return this.m_num_bloc_actif>=0&&(t=this.m_blocs[this.m_num_bloc_actif].m_lib_bloc),t}onExcel(){var t=[this.m_blocs[this.m_num_bloc_actif].m_lib_bloc],e=this.m_blocs[this.m_num_bloc_actif].DonnerStringJSon(!0,!0),r=[JSON.parse(e)],i=this.DefNomFic();(new tf).exportAsExcelFile(t,r,i),this.ReinitialiserCompteur()}onCreer(){var t=this;return Ar(function*(){console.log("Vivien"),console.log(t.m_grid_api_initialisee),0==t.m_grid_api_initialisee?t.MessageErreur("Non"):(t.m_blocs[t.m_num_bloc_actif].CreerUneLigne(),t.AfficherBloc(!1,!1))})()}onSupprimer(){var t=this;return Ar(function*(){console.log("Suppr");const r=t.gridApi.getSelectedRows()[0];null==r?t.MessageErreur("Il faut d'abord s\xe9lectionner une ligne \xe0 supprimer."):(console.log("Suppr1"),t.m_blocs[t.m_num_bloc_actif].SupprimerUneLigne(r[t.m_blocs[t.m_num_bloc_actif].m_nom_cle_primaire]),t.AfficherBloc(!1,!1))})()}onSauver(){var t=this;return Ar(function*(){try{t.m_blocs[t.m_num_bloc_actif].Sauver().then(e=>{var r=""+e;r.startsWith("Erreur")?t.MessageErreur(r+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver"):(t.ToucherBlocActif(),t.AfficherBloc(!1,!1))},e=>{t.MessageErreur(e+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver")})}catch(e){t.MessageErreur("Erreur: "+e.message+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver")}})()}onCellValueChanged(t){var e="",r=-1;try{var i=""+t.newValue;if(void 0===t.newValue&&(i=""),i!=""+t.oldValue){var a=this.m_blocs[this.m_num_bloc_actif].m_colonnes_ecran[1].m_nom_col;e=t.column.colId;var u=this.gridApi.getSelectedRows()[0];this.ModifValeurChamp(e,r=u[a],i)}}catch(c){this.MessageErreur("Erreur: "+c.message+"\xa7sql\xa7nom_col_modifiee="+e+",id_cle_primaire="+r+"\xa7EcranGrilleService.onCellValueChanged")}}onRowClick(t){var r=this.gridApi.getSelectedRows()[0][this.m_blocs[this.m_num_bloc_actif].m_nom_cle_primaire];console.log("EG.onRowClick nom_col_cliquee="+this.m_nom_col_cliquee),"dep"==this.m_nom_col_cliquee&&this.m_blocs[this.m_num_bloc_actif].PersonnaliserCelluleCbo(r,this.m_nom_col_cliquee),this.m_grid_options.columnDefs=this.m_blocs[this.m_num_bloc_actif].m_coldefs,this.gridApi.setColumnDefs(this.m_blocs[this.m_num_bloc_actif].m_coldefs)}RafraichirEcran(){this.AfficherBloc(!1,!1),this.gridApi.setColumnDefs(this.m_blocs[this.m_num_bloc_actif].m_coldefs)}}rf.\u0275fac=function(t){return new(t||rf)(Te(eo),Te($a),Te(ki),Te(Eu))},rf.\u0275prov=$e({token:rf,factory:rf.\u0275fac});class Ya{constructor(t,e){this.modalService=t,this.el=e,this.id="",this.element=null,this.element=e.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",t=>{"jw-modal"===t.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}function af(n){return null==n||""===n?null:n}function Ge(n,t){return void 0===t&&(t=!1),null!=n&&(""!==n||t)}function yt(n){return!Ge(n)}function ps(n){return null==n||0===n.length}function IP(n){return null!=n&&"function"==typeof n.toString?n.toString():null}function tl(n){if(void 0!==n){if(null===n||""===n)return null;if("number"==typeof n)return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function Lu(n){if(void 0!==n)return null!==n&&""!==n&&("boolean"==typeof n?n:/true/i.test(n))}function Kh(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}Ya.\u0275fac=function(t){return new(t||Ya)(pe(ki),pe(kr))},Ya.\u0275cmp=Bn({type:Ya,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:["*"],decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(t,e){1&t&&(KT(),q(0,"div",0)(1,"div",1),YT(2),Y()(),ji(3,"div",2))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;inset:0;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;inset:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}\n"],encapsulation:2});var tye=Object.freeze({__proto__:null,makeNull:af,exists:Ge,missing:yt,missingOrEmpty:ps,toStringOrNull:IP,attrToNumber:tl,attrToBoolean:Lu,attrToString:function Q_e(n){if(null!=n&&""!==n)return n},referenceCompare:function J_e(n,t){return null==n&&null==t||!(null==n&&null!=t||null!=n&&null==t)&&n===t},jsonEquals:function eye(n,t){return(n?JSON.stringify(n):null)===(t?JSON.stringify(t):null)},defaultComparator:function FP(n,t,e){void 0===e&&(e=!1);var r=null==n,i=null==t;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if("string"!=typeof n||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}},values:Kh}),nye=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=IP(t);for(var r=0;;){var i=void 0;if(t?(i=t,0!==r&&(i+="_"+r)):e?(i=e,0!==r&&(i+="_"+r)):i=""+r,!this.existingKeys[i])return this.existingKeys[i]=!0,i;r++}},n}();function er(n,t){null!=n&&(Array.isArray(n)?n.forEach(function(e,r){return t(""+r,e)}):Object.keys(n).forEach(function(e){return t(e,n[e])}))}function kP(n){for(var t={},e=Object.keys(n),r=0;r<e.length;r++){var i=e[r];t[i]=n[i]}return t}function uE(n,t){if(n){var e=n,r={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],a=wg(o)&&o.constructor===Object;r[i]=a?uE(o):o}}),r}}function n8(n,t){return n[t]}function r8(n,t,e){n[t]=e}function i8(n,t,e,r){var i=n8(n,e);void 0!==i&&r8(t,e,r?r(i):i)}function o8(n){var t={};return n.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(r){return t[r]=null})}),Object.keys(t)}function Wl(n){if(!n)return[];var t=Object;if("function"==typeof t.values)return t.values(n);var e=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&e.push(n[r]);return e}function ms(n,t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),Ge(t)&&er(t,function(i,o){var a=n[i];a!==o&&(r&&null==a&&null!=o&&"object"==typeof o&&o.constructor===Object&&(n[i]=a={}),wg(o)&&wg(a)&&!Array.isArray(a)?ms(a,o,e,r):(e||void 0!==o)&&(n[i]=o))})}function cE(n,t,e){if(t&&n){if(!e)return n[t];for(var r=t.split("."),i=n,o=0;o<r.length;o++){if(null==i)return;i=i[r[o]]}return i}}function s8(n,t){Object.keys(n).forEach(function(i){"object"==typeof n[i]&&(n[i]=void 0)});var e=Object.getPrototypeOf(n),r={};Object.keys(e).forEach(function(i){"function"==typeof e[i]&&(r[i]={value:function(){console.warn("AG Grid: "+t+" function "+i+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(n,r)}function wg(n){return"object"==typeof n&&null!==n}var lye=Object.freeze({__proto__:null,iterateObject:er,cloneObject:kP,deepCloneObject:function rye(n){return JSON.parse(JSON.stringify(n))},deepCloneDefinition:uE,getProperty:n8,setProperty:r8,copyPropertiesIfPresent:function iye(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];e.forEach(function(i){return i8(n,t,i)})},copyPropertyIfPresent:i8,getAllKeysInObjects:o8,getAllValuesInObject:Wl,mergeDeep:ms,missingOrEmptyObject:function oye(n){return yt(n)||0===Object.keys(n).length},get:function aye(n,t,e){if(null==n)return e;for(var r=t.split("."),i=n;r.length>1;)if(null==(i=i[r.shift()]))return e;return i[r[0]]??e},set:function sye(n,t,e){if(null!=n){for(var r=t.split("."),i=n;r.length>1;)if(null==(i=i[r.shift()]))return;i[r[0]]=e}},deepFreeze:function a8(n){return Object.freeze(n),Kh(n).forEach(function(t){(wg(t)||"function"==typeof t)&&a8(t)}),n},getValueUsingField:cE,removeAllReferences:s8,isNonNullObject:wg}),l8={};function pn(n,t){l8[t]||(n(),l8[t]=!0)}function dE(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&2===t.length?t[1].trim():null}function fE(n){return!!(n&&n.constructor&&n.call&&n.apply)}function u8(n){c8(n,400)}var LP=[],NP=!1;function BP(n){LP.push(n),!NP&&(NP=!0,window.setTimeout(function(){var t=LP.slice();LP.length=0,NP=!1,t.forEach(function(e){return e()})},0))}function c8(n,t){void 0===t&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function sf(n,t,e){var r;return void 0===e&&(e=!1),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this,s=e&&!r;window.clearTimeout(r),r=window.setTimeout(function(){r=null,e||n.apply(a,i)},t),s&&n.apply(a,i)}}function GP(n,t){var e=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=(new Date).getTime();a-e<t||(e=a,n.apply(this,r))}}function d8(n,t,e,r){void 0===e&&(e=100);var i=(new Date).getTime(),o=null,a=!1,s=function(){var l=(new Date).getTime()-i>e;(n()||l)&&(t(),a=!0,null!=o&&(window.clearInterval(o),o=null),l&&r&&console.warn(r))};s(),a||(o=window.setInterval(s,10))}function f8(n){n&&n()}var dye=Object.freeze({__proto__:null,doOnce:pn,getFunctionName:dE,isFunction:fE,executeInAWhile:u8,executeNextVMTurn:BP,executeAfter:c8,debounce:sf,throttle:GP,waitUntil:d8,compose:function uye(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(r,i){return i(r)},e)}},callIfPresent:f8,noop:function(){}}),fye=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return Kh(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),Ge(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),er(this.beanWrappers,function(r,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,i.bean.name),s=function hye(n,t){var e=[null].concat(t);return new(n.bind.apply(n,e))}(i.bean,a);i.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r;return r=t.prototype.constructor?dE(t.prototype.constructor):""+t,void console.error("Context item "+r+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){var a=i.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){er(i.autowireMethods,function(a,s){if("agConstructor"!==a){var l=e.getBeansForParameters(s,o);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);null!=r;){var i=r.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},n.prototype.getBeansForParameters=function(t,e){var r=this,i=[];return t&&er(t,function(o,a){var s=r.lookupBeanInstance(e,a);i[Number(o)]=s}),i},n.prototype.lookupBeanInstance=function(t,e,r){if(void 0===r&&(r=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(r||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},n.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(i){return r.callLifeCycleMethodsOnBean(i,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var i={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=r&&(i[l]=!0)})}),Object.keys(i).forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy"),"function"==typeof r.destroy&&r.destroy()}),[]):[]},n}();function h8(n,t,e){var r=Yh(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function Xe(n,t,e){var r=Yh(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function Eo(n,t,e){var r=Yh(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function dt(n){return function(t){Yh(t).beanName=n}}function F(n){return function(t,e,r){p8(t,n,!1,0,e,null)}}function Hn(n){return function(t,e,r){p8(t,n,!0,0,e,null)}}function p8(n,t,e,r,i,o){if(null!==t)if("number"!=typeof o){var a=Yh(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Aa(n){return function(t,e,r){var o,i="function"==typeof t?t:t.constructor;if("number"==typeof r){var a=void 0;e?(o=Yh(i),a=e):(o=Yh(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][r]=n}}}function Yh(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var hE=function(){return hE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},hE.apply(this,arguments)},m8=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pE=function(n,t){return function(e,r){t(e,r,n)}},lf=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,r,i){if(void 0===i&&(i=null),this.frameworkOverrides=r,this.gridOptionsWrapper=e,i){var o=e.useAsyncEvents();this.addGlobalListener(i,o)}},n.prototype.getListeners=function(t,e,r){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&r&&i.set(t,o=new Set),o},n.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},n.prototype.addEventListener=function(t,e,r){void 0===r&&(r=!1),this.getListeners(t,r,!0).add(e)},n.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=!1);var i=this.getListeners(t,r,!1);i&&(i.delete(e),0===i.size)&&(r?this.allAsyncListeners:this.allSyncListeners).delete(t)},n.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsWrapper&&(e=hE(hE({},t),{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r=this,i=t.type,a=this.getListeners(i,e,!1);a&&a.forEach(function(u){e?r.dispatchAsync(function(){return u(t)}):u(t)}),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(l){e?r.dispatchAsync(function(){return r.frameworkOverrides.dispatchEvent(i,function(){return l(i,t)},!0)}):r.frameworkOverrides.dispatchEvent(i,function(){return l(i,t)},!0)})},n.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},m8([pE(0,Aa("loggerFactory")),pE(1,Aa("gridOptionsWrapper")),pE(2,Aa("frameworkOverrides")),pE(3,Aa("globalEventListener"))],n.prototype,"setBeans",null),m8([dt("eventService")],n)}(),fe=function(){function n(){}return n.ROW_BUFFER_SIZE=10,n.LAYOUT_INTERVAL=500,n.BATCH_WAIT_MILLIS=50,n.EXPORT_TYPE_DRAG_COPY="dragCopy",n.EXPORT_TYPE_CLIPBOARD="clipboard",n.EXPORT_TYPE_EXCEL="excel",n.EXPORT_TYPE_CSV="csv",n.ROW_MODEL_TYPE_INFINITE="infinite",n.ROW_MODEL_TYPE_VIEWPORT="viewport",n.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",n.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",n.ALWAYS="always",n.ONLY_WHEN_GROUPING="onlyWhenGrouping",n.PINNED_TOP="top",n.PINNED_BOTTOM="bottom",n.DOM_LAYOUT_NORMAL="normal",n.DOM_LAYOUT_PRINT="print",n.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",n.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",n.SOURCE_PASTE="paste",n.PINNED_RIGHT="right",n.PINNED_LEFT="left",n.SORT_ASC="asc",n.SORT_DESC="desc",n.INPUT_SELECTOR="input, select, button, textarea",n.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",n.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",n}(),At=(()=>{return(n=At||(At={})).CommunityCoreModule="@ag-grid-community/core",n.CommunityAllModules="@ag-grid-community/all",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.EnterpriseAllModules="@ag-grid-enterprise/all",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue",n.PolymerModule="@ag-grid-community/polymer",At;var n})(),Vt=function(){function n(){}return n.register=function(t,e){void 0===e&&(e=!0),n.modulesMap[t.moduleName]=t,void 0===n.moduleBased?n.moduleBased=e:n.moduleBased!==e&&pn(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.registerModules=function(t,e){void 0===e&&(e=!0),t&&t.forEach(function(r){return n.register(r,e)})},n.assertRegistered=function(t,e){return!!this.isRegistered(t)||(i=n.moduleBased?"AG Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",pn(function(){console.warn(i)},e+t),!1);var i},n.isRegistered=function(t){return!!n.modulesMap[t]},n.getRegisteredModules=function(){return Kh(n.modulesMap)},n.isPackageBased=function(){return!n.moduleBased},n.modulesMap={},n}(),VP=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pye=0,Cn=function(){function n(t,e,r,i){this.instanceId=pye++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new lf,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=i,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){void 0!==t.sort?(t.sort===fe.SORT_ASC||t.sort===fe.SORT_DESC)&&(this.sort=t.sort):(t.initialSort===fe.SORT_ASC||t.initialSort===fe.SORT_DESC)&&(this.sort=t.initialSort);var e=tl(t.sortIndex),r=tl(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==r&&(this.sortIndex=r);var i=Lu(t.hide),o=Lu(t.initialHide);this.visible=void 0!==i?!i:!o,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var a=tl(t.flex),s=tl(t.initialFlex);void 0!==a?this.flex=a:void 0!==s&&(this.flex=s)},n.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_COL_DEF_CHANGED,"api"))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},n.prototype.initDotNotation=function(){var t=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=Ge(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Ge(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){return!(yt(this.colDef)||yt(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.validate=function(){var t=this.colDef;function e(a,s,l){pn(function(){l?console.warn(a,l):pn(function(){return console.warn(a)},s)},s)}this.gridOptionsWrapper.isRowModelDefault()&&!Vt.isRegistered(At.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(a){Ge(t[a])&&(Vt.isPackageBased()?e("AG Grid: "+a+" is only valid in ag-grid-enterprise, your column definition should not have "+a,"ColumnRowGroupingMissing"+a):e("AG Grid: "+a+" is only valid with AG Grid Enterprise Module "+At.RowGroupingModule+" - your column definition should not have "+a,"ColumnRowGroupingMissing"+a))}),Vt.isRegistered(At.RichSelectModule)||("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&(Vt.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+At.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(a){Ge(t[a])&&e("AG Grid: "+a+" is not possible when doing tree data, your column definition should not have "+a,"TreeDataCannotRowGroup")}),Ge(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),t.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},n.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},n.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!Lu(this.colDef.suppressFillHandle)},n.prototype.isAutoHeight=function(){return!!Lu(this.colDef.autoHeight)},n.prototype.isAutoHeaderHeight=function(){return!!Lu(this.colDef.autoHeaderHeight)},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!Lu(this.colDef.resizable)},n.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},n.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_MOVING_CHANGED,e))},n.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_SORT_CHANGED,e)))},n.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_MENU_VISIBLE_CHANGED,e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortAscending=function(){return this.sort===fe.SORT_ASC},n.prototype.isSortDescending=function(){return this.sort===fe.SORT_DESC},n.prototype.isSortNone=function(){return yt(this.sort)},n.prototype.isSorting=function(){return Ge(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t},n.prototype.setAggFunc=function(t){this.aggFunc=t},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_LEFT_CHANGED,e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,r){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_FILTER_ACTIVE_CHANGED,e)));var i=this.createColumnEvent(n.EVENT_FILTER_CHANGED,e);r&&ms(i,r),this.eventService.dispatchEvent(i)},n.prototype.setPinned=function(t){this.pinned=!0===t||t===fe.PINNED_LEFT?fe.PINNED_LEFT:t===fe.PINNED_RIGHT?fe.PINNED_RIGHT:null},n.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_FIRST_RIGHT_PINNED_CHANGED,e)))},n.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_LAST_LEFT_PINNED_CHANGED,e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned===fe.PINNED_LEFT||this.pinned===fe.PINNED_RIGHT},n.prototype.isPinnedLeft=function(){return this.pinned===fe.PINNED_LEFT},n.prototype.isPinnedRight=function(){return this.pinned===fe.PINNED_RIGHT},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){void 0===e&&(e="api");var r=!0===t;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_VISIBLE_CHANGED,e)))},n.prototype.isVisible=function(){return this.visible},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.getColId()},n.prototype.getUniqueId=function(){return this.getId()},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},n.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},n.prototype.getColSpan=function(t){if(yt(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},n.prototype.getRowSpan=function(t){if(yt(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},n.prototype.setActualWidth=function(t,e,r){void 0===e&&(e="api"),void 0===r&&(r=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e))},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_WIDTH_CHANGED,t))},n.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},n.prototype.setMinimum=function(t){void 0===t&&(t="api"),Ge(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_ROW_GROUP_CHANGED,e)))},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_PIVOT_CHANGED,e)))},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(n.EVENT_VALUE_CHANGED,e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},n.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},n.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},n.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},n.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},n.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},n.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",VP([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),VP([F("columnUtils")],n.prototype,"columnUtils",void 0),VP([Xe],n.prototype,"initialise",null),n}();function g8(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0;e<n.length;e++){var r=n[e];if(Ge(r))return r}return null}function ar(n){if(n&&n.length)return n[n.length-1]}function uf(n,t,e){return null==n&&null==t||null!=n&&null!=t&&n.length===t.length&&n.every(function(r,i){return e?e(r,t[i]):t[i]===r})}function v8(n){return n.sort(function(t,e){return t-e})}function ra(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function HP(n,t){t.forEach(function(e){return ra(n,e)})}function Uy(n,t,e){n.splice(e,0,t)}function WP(n,t,e){HP(n,t),t.slice().reverse().forEach(function(r){return Uy(n,r,e)})}function gs(n,t){return n.indexOf(t)>-1}function _8(n){return[].concat.apply([],n)}function jP(n,t){null==t||null==n||t.forEach(function(e){return n.push(e)})}var bye=Object.freeze({__proto__:null,firstExistingValue:g8,existsAndNotEmpty:function mye(n){return null!=n&&n.length>0},last:ar,areEqual:uf,compareArrays:function gye(n,t){return uf(n,t)},shallowCompare:function vye(n,t){return uf(n,t)},sortNumerically:v8,removeRepeatsFromArray:function _ye(n,t){if(n)for(var e=n.length-2;e>=0;e--)n[e]===t&&n[e+1]===t&&n.splice(e+1,1)},removeFromArray:ra,removeAllFromArray:HP,insertIntoArray:Uy,insertArrayIntoArray:function yye(n,t,e){if(null!=n&&null!=t)for(var r=t.length-1;r>=0;r--)Uy(n,t[r],e)},moveInArray:WP,includes:gs,flatten:_8,pushAll:jP,toStrings:function Cye(n){return n.map(IP)},forEachReverse:function wye(n,t){if(null!=n)for(var e=n.length-1;e>=0;e--)t(n[e],e)}}),ia=function(){function n(t,e,r,i){this.displayedChildren=[],this.localEventService=new lf,this.groupId=e,this.instanceId=r,this.providedColumnGroup=t,this.pinned=i}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.instanceId)},n.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof n&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=ar(this.displayedChildren).getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Cn?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Cn?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},n.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(i){if(!(i instanceof n)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case n.HEADER_GROUP_SHOW_OPEN:e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case n.HEADER_GROUP_SHOW_CLOSED:e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.HEADER_GROUP_SHOW_OPEN="open",n.HEADER_GROUP_SHOW_CLOSED="closed",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),n}(),ii=function(){function n(t,e,r,i){this.localEventService=new lf,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=i}return n.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.children=void 0,this.expandable=void 0},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED})},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof Cn?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(Cn.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))})},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(s.isVisible()){var l=s.getColumnGroupShow();l===ia.HEADER_GROUP_SHOW_OPEN?(t=!0,r=!0):l===ia.HEADER_GROUP_SHOW_CLOSED?(e=!0,r=!0):(t=!0,e=!0)}}var u=t&&e&&r;this.expandable!==u&&(this.expandable=u,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDABLE_CHANGED}))}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(i){i instanceof n&&i.isPadding()?e(i.children):t.push(i)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",n}(),Eye={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},y8="__ag_Grid_Stop_Propagation",Sye=["touchstart","touchend","touchmove","touchcancel"],UP={};function bg(n){n[y8]=!0}function Nu(n){return!0===n[y8]}var n,zP=(n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof UP[e])return UP[e];var r=document.createElement(n[e]||"div");return UP[e="on"+e]=e in r});function mE(n,t,e){for(var r=t.target;r;){var i=n.getDomData(r,e);if(i)return i;r=r.parentElement}return null}function gE(n,t){return!(!t||!n)&&$P(t).indexOf(n)>=0}function C8(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function $P(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:C8(n)}function w8(n,t,e,r){var i=gs(Sye,e);n&&n.addEventListener&&n.addEventListener(t,e,r,i?{passive:!0}:void 0)}var Tye=Object.freeze({__proto__:null,stopPropagationForAgGrid:bg,isStopPropagationForAgGrid:Nu,isEventSupported:zP,getCtrlForEvent:mE,addChangeListener:function Dye(n,t){n.addEventListener("changed",t),n.addEventListener("paste",t),n.addEventListener("input",t)},isElementInEventPath:gE,createEventPath:C8,addAgGridEventPath:function Rye(n){n.__agGridEventPath=$P(n)},getEventPath:$P,addSafePassiveEventListener:w8}),zy=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ze=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new lf),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,r){var i=this;if(!this.destroyed){t instanceof HTMLElement?w8(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var o=function(){return t.removeEventListener(e,r),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},n.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(i){return r.destroyBean(i,e)}),[]},n.EVENT_DESTROYED="destroyed",zy([F("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),zy([F("context")],n.prototype,"context",void 0),zy([F("eventService")],n.prototype,"eventService",void 0),zy([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),zy([Eo],n.prototype,"destroy",null),n}(),Oye=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KP=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Aye=function(n,t){return function(e,r){t(e,r,n)}},Pye=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Oye(t,n),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,i){var o=new nye,a=this.extractExistingTreeData(i),s=a.existingCols,l=a.existingGroups;o.addExistingKeys(a.existingColKeys);var c=this.recursivelyCreateColumns(e,0,r,s,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var h=this.balanceColumnTree(c,0,d,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,h,function(m,v){m instanceof ii&&m.setupExpandable(),m.setOriginalParent(v)}),{columnTree:h,treeDept:d}},t.prototype.extractExistingTreeData=function(e){var r=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof ii)i.push(a);else{var l=a;o.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,r){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(r,o)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var o=r,a=this.findDepth(e)-1;a>=0;a--){var s=new ii(null,"FAKE_PATH_"+r.getId()+"}_"+a,!0,a);this.context.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return o},t.prototype.findDepth=function(e){for(var r=0,i=e;i&&i[0]&&i[0]instanceof ii;)r++,i=i[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof ii){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,i,o);u.setChildren(c),a.push(u)}else{for(var d=void 0,h=void 0,p=i-1;p>=r;p--){var m=o.getUniqueKey(null,null),v=this.createMergedColGroupDef(null),_=new ii(v,m,!0,r);this.context.createBean(_),h&&h.setChildren([_]),h=_,d||(d=h)}if(d&&h){if(a.push(d),e.some(function(w){return w instanceof ii})){h.setChildren([l]);continue}h.setChildren(e);break}a.push(l)}}return a},t.prototype.findMaxDept=function(e,r){for(var i=r,o=0;o<e.length;o++){var a=e[o];if(a instanceof ii){var l=this.findMaxDept(a.getChildren(),r+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,r,i,o,a,s){var l=this;return(e||[]).map(function(u){return l.isColumnGroup(u)?l.createColumnGroup(i,u,r,o,a,s):l.createColumn(i,u,o,a)})},t.prototype.createColumnGroup=function(e,r,i,o,a,s){var d,l=this.createMergedColGroupDef(r),u=a.getUniqueKey(l.groupId||null,null),c=this.findExistingGroup(r,s);c?((d=c).reset(l,i),ra(s,c)):(d=new ii(l,u,!1,i),this.context.createBean(d));var h=this.recursivelyCreateColumns(l.children,i+1,e,o,a,s);return d.setChildren(h),d},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(r,e),this.checkForDeprecatedItems(r),r},t.prototype.createColumn=function(e,r,i,o){var a=this.mergeColDefs(r);this.checkForDeprecatedItems(a);var s=this.findExistingColumn(r,i);if(i&&s&&ra(i,s),s)s.setColDef(a,r),this.applyColumnState(s,a);else{var l=o.getUniqueKey(a.colId,a.field);s=new Cn(a,r,l,e),this.context.createBean(s)}return s},t.prototype.applyColumnState=function(e,r){var i=tl(r.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){var a=tl(r.width);if(null!=a)e.setActualWidth(a);else{var s=e.getActualWidth();e.setActualWidth(s)}}void 0!==r.sort&&e.setSort(r.sort==fe.SORT_ASC||r.sort==fe.SORT_DESC?r.sort:void 0);var l=tl(r.sortIndex);void 0!==l&&e.setSortIndex(l);var u=Lu(r.hide);void 0!==u&&e.setVisible(!u),void 0!==r.pinned&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){return(r||[]).find(function(i){var o=i.getUserProvidedColDef();if(!o)return!1;var s=null!=e.field;return null!=e.colId?i.getId()===e.colId:s?o.field===e.field:o===e})},t.prototype.findExistingGroup=function(e,r){return r.find(function(i){return!(!i.getColGroupDef()||null==e.groupId||i.getId()!==e.groupId)})},t.prototype.mergeColDefs=function(e){var r={},i=this.gridOptionsWrapper.getDefaultColDef();ms(r,i,!1,!0);var o=e.type;o||(o=i&&i.type),o&&this.assignColumnTypes(o,r),ms(r,e,!1,!0);var a=this.gridOptionsWrapper.getAutoGroupColumnDef(),s=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return e.rowGroup&&a&&s&&ms(r,{sort:a.sort,initialSort:a.initialSort},!1,!0),r},t.prototype.assignColumnTypes=function(e,r){var i=[];if(e instanceof Array)e.some(function(l){return"string"!=typeof l})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=e;else{if("string"!=typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");i=e.split(",")}var a=Object.assign({},Eye);er(this.gridOptionsWrapper.getColumnTypes()||{},function(l,u){l in a?console.warn("AG Grid: the column type '"+l+"' is a default column type and cannot be overridden."):a[l]=u}),i.forEach(function(l){var u=a[l.trim()];u?ms(r,u,!1,!0):console.warn("AG Grid: colDef.type '"+l+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var r=e;void 0!==r.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==r.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==r.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==r.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==r.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(r.suppressRowGroup||r.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),r.displayName&&(console.warn("AG Grid: Found displayName "+r.displayName+", please use headerName instead, displayName is deprecated."),r.headerName=r.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},KP([F("columnUtils")],t.prototype,"columnUtils",void 0),KP([Aye(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),KP([dt("columnFactory")],t)}(ze),H=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_CHANGED="rowDataChanged",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_KEY_PRESS="cellKeyPress",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_KEYBOARD_FOCUS="keyboardFocus",n.EVENT_MOUSE_FOCUS="mouseFocus",n.EVENT_STORE_UPDATED="storeUpdated",n}(),b8=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var r,e=this.existingIds[t];return this.existingIds[t]=r="number"!=typeof e?0:e+1,r},n}(),Mye=/[&<>"']/g,Iye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function x8(n){return null==n?null:n.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}function E8(n){return null==n?null:n.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function YP(n){return n[0].toUpperCase()+n.substr(1).toLowerCase()}function Bu(n,t){if(null==n)return null;var e=n.toString().toString();return t?e:e.replace(Mye,function(r){return Iye[r]})}function qP(n){return n&&null!=n?n.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" "):null}var kye=Object.freeze({__proto__:null,utf8_encode:function Fye(n){var t=String.fromCharCode;function i(d,h){return t(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&10!==d)return"_x"+d.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&d))return t(d);var m="";return 4294965248&d?4294901760&d?4292870144&d||(m=t(d>>18&7|240),m+=i(d,12),m+=i(d,6)):(function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}(d),m=t(d>>12&15|224),m+=i(d,6)):m=t(d>>6&31|192),m+t(63&d|128)}for(var a=function e(d){var h=[];if(!d)return[];for(var v,_,p=d.length,m=0;m<p;)(v=d.charCodeAt(m++))>=55296&&v<=56319&&m<p?56320==(64512&(_=d.charCodeAt(m++)))?h.push(((1023&v)<<10)+(1023&_)+65536):(h.push(v),m--):h.push(v);return h}(n),s=a.length,l=-1,c="";++l<s;)c+=o(a[l]);return c},camelCaseToHyphen:x8,hyphenToCamelCase:E8,capitalise:YP,escapeString:Bu,camelCaseToHumanText:qP});function Vc(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}var Bye=Object.freeze({__proto__:null,convertToMap:Vc,mapById:function Lye(n,t){var e=new Map;return n.forEach(function(r){return e.set(t(r),r)}),e},keys:function Nye(n){var t=[];return n.forEach(function(e,r){return t.push(r)}),t}}),Gye=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},S8=function(){function n(){}return n.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],n.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],n.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],n.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],n.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],n.ALL_PROPERTIES=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Gye(arguments[t]));return n}(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.NUMBER_PROPERTIES,n.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],n.BOOLEAN_PROPERTIES),n.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],n}(),Hye=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},D8=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Hye(arguments[t]));return n},Hc=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],n.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","enableChartToolPanelsButton","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],n.FUNCTION_PROPERTIES=D8(n.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupSortComparator","defaultGroupOrderComparator","rowDragText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"]),n.ALL_PROPERTIES=D8(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.NUMBER_PROPERTIES,n.FUNCTION_PROPERTIES,n.BOOLEAN_PROPERTIES),n.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],n}(),XP=function(){return XP=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},XP.apply(this,arguments)},Wye=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},R8=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Wye(arguments[t]));return n},Wc=function(){function n(){}return n.getEventCallbacks=function(){return n.EVENT_CALLBACKS||(n.EVENT_CALLBACKS=n.EVENTS.map(function(t){return n.getCallbackForEvent(t)})),n.EVENT_CALLBACKS},n.copyAttributesToGridOptions=function(t,e,r){"object"!=typeof t&&(t={});var i=t,o=function(a){return typeof e[a]<"u"};return o("groupAggFiltering")&&"function"!=typeof e.groupAggFiltering&&(i.groupAggFiltering=n.toBoolean(e.groupAggFiltering),delete e.groupAggFiltering),R8(n.ARRAY_PROPERTIES,n.STRING_PROPERTIES,n.OBJECT_PROPERTIES,n.FUNCTION_PROPERTIES,n.getEventCallbacks()).filter(o).forEach(function(a){return i[a]=e[a]}),n.BOOLEAN_PROPERTIES.filter(o).forEach(function(a){return i[a]=n.toBoolean(e[a])}),n.NUMBER_PROPERTIES.filter(o).forEach(function(a){return i[a]=n.toNumber(e[a])}),t},n.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},n.processOnChange=function(t,e,r,i){if(t){var o=XP({},t),a=e,s=function(c){return o[c]};s("groupAggFiltering")&&(a.groupAggFiltering="function"==typeof o.groupAggFiltering?o.groupAggFiltering:n.toBoolean(o.groupAggFiltering),delete o.groupAggFiltering),s("groupDisplayType")&&"string"==typeof o.groupDisplayType.currentValue&&(r.setGroupDisplayType(o.groupDisplayType.currentValue),delete o.groupDisplayType),o.domLayout&&(r.setDomLayout(o.domLayout.currentValue),delete o.domLayout),o.rowClass&&(r.setRowClass(o.rowClass.currentValue),delete o.rowClass),o.paginationPageSize&&(r.paginationSetPageSize(n.toNumber(o.paginationPageSize.currentValue)),delete o.paginationPageSize),o.rowGroupPanelShow&&(r.setRowGroupPanelShow(o.rowGroupPanelShow.currentValue),delete o.rowGroupPanelShow),o.groupRemoveSingleChildren&&(r.setGroupRemoveSingleChildren(n.toBoolean(o.groupRemoveSingleChildren.currentValue)),delete o.groupRemoveSingleChildren),o.groupRemoveLowestSingleChildren&&(r.setGroupRemoveLowestSingleChildren(n.toBoolean(o.groupRemoveLowestSingleChildren.currentValue)),delete o.groupRemoveLowestSingleChildren),o.suppressRowDrag&&(r.setSuppressRowDrag(n.toBoolean(o.suppressRowDrag.currentValue)),delete o.suppressRowDrag),o.suppressMoveWhenRowDragging&&(r.setSuppressMoveWhenRowDragging(n.toBoolean(o.suppressMoveWhenRowDragging.currentValue)),delete o.suppressMoveWhenRowDragging),o.suppressRowClickSelection&&(r.setSuppressRowClickSelection(n.toBoolean(o.suppressRowClickSelection.currentValue)),delete o.suppressRowClickSelection),o.suppressClipboardPaste&&(r.setSuppressClipboardPaste(n.toBoolean(o.suppressClipboardPaste.currentValue)),delete o.suppressClipboardPaste),o.headerHeight&&(r.setHeaderHeight(n.toNumber(o.headerHeight.currentValue)),delete o.headerHeight),o.pivotHeaderHeight&&(r.setPivotHeaderHeight(n.toNumber(o.pivotHeaderHeight.currentValue)),delete o.pivotHeaderHeight),o.groupHeaderHeight&&(r.setGroupHeaderHeight(n.toNumber(o.groupHeaderHeight.currentValue)),delete o.groupHeaderHeight),o.pivotGroupHeaderHeight&&(r.setPivotGroupHeaderHeight(n.toNumber(o.pivotGroupHeaderHeight.currentValue)),delete o.pivotGroupHeaderHeight),o.floatingFiltersHeight&&(r.setFloatingFiltersHeight(n.toNumber(o.floatingFiltersHeight.currentValue)),delete o.floatingFiltersHeight),o.functionsReadOnly&&(r.setFunctionsReadOnly(n.toBoolean(o.functionsReadOnly.currentValue)),delete o.functionsReadOnly),R8(n.ARRAY_PROPERTIES,n.OBJECT_PROPERTIES,n.STRING_PROPERTIES,n.getEventCallbacks()).filter(s).forEach(function(c){return a[c]=o[c].currentValue}),n.BOOLEAN_PROPERTIES.filter(s).forEach(function(c){return a[c]=n.toBoolean(o[c].currentValue)}),n.NUMBER_PROPERTIES.filter(s).forEach(function(c){return a[c]=n.toNumber(o[c].currentValue)}),o.enableCellTextSelection&&(r.setEnableCellTextSelection(n.toBoolean(o.enableCellTextSelection.currentValue)),delete o.enableCellTextSelection),o.quickFilterText&&(r.setQuickFilter(o.quickFilterText.currentValue),delete o.quickFilterText),o.autoGroupColumnDef&&(r.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.columnDefs&&(r.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),o.defaultColDef&&(r.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.pivotMode&&(i.setPivotMode(n.toBoolean(o.pivotMode.currentValue)),delete o.pivotMode);var l=r;Object.keys(o).forEach(function(c){var d="set"+c.charAt(0).toUpperCase()+c.substring(1);l[d]&&l[d](t[c].currentValue)});var u={type:H.EVENT_COMPONENT_STATE_CHANGED};er(t,function(c,d){u[c]=d}),r.dispatchEvent(u)}},n.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},n.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},n.EVENTS=[],n.PUBLIC_EVENTS=[],n.EXCLUDED_INTERNAL_EVENTS=[],n.STRING_PROPERTIES=Hc.STRING_PROPERTIES,n.OBJECT_PROPERTIES=Hc.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=Hc.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=Hc.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=Hc.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=Hc.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=Hc.ALL_PROPERTIES,n}();Wc.EVENTS=Kh(H),Wc.EXCLUDED_INTERNAL_EVENTS=[H.EVENT_SCROLLBAR_WIDTH_CHANGED,H.EVENT_CHECKBOX_CHANGED,H.EVENT_HEIGHT_SCALE_CHANGED,H.EVENT_BODY_HEIGHT_CHANGED,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,H.EVENT_SCROLL_VISIBILITY_CHANGED,H.EVENT_COLUMN_HOVER_CHANGED,H.EVENT_FLASH_CELLS,H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,H.EVENT_DISPLAYED_ROWS_CHANGED,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,H.EVENT_POPUP_TO_FRONT,H.EVENT_KEYBOARD_FOCUS,H.EVENT_MOUSE_FOCUS,H.EVENT_STORE_UPDATED,H.EVENT_COLUMN_PANEL_ITEM_DRAG_START,H.EVENT_COLUMN_PANEL_ITEM_DRAG_END,H.EVENT_FILL_START,H.EVENT_FILL_END,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,H.EVENT_FULL_WIDTH_ROW_FOCUSED,H.EVENT_HEADER_HEIGHT_CHANGED,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED],Wc.PUBLIC_EVENTS=Wc.EVENTS.filter(function(n){return!gs(Wc.EXCLUDED_INTERNAL_EVENTS,n)});var ZP,QP,JP,eM,tM,nM,rM,iM,oM,vE,T8=function(){function n(){}return n.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var o=n.DEFAULT_BY_KEY[i];o?e.push(o):console.warn("AG Grid: the key "+i+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(n.DEFAULT_BY_KEY).join(","))}),0===e.length?null:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var i=null;if("string"==typeof r){var o=n.DEFAULT_BY_KEY[r];if(!o)return void console.warn("AG Grid: the key "+r+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(n.DEFAULT_BY_KEY).join(","));i=o}else i=r;e.push(i)}),e},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},n}();function O8(){if(vE)return vE;var e,r,n=navigator.userAgent,t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(t[1]))return{name:"IE",version:r=null!=(e=/\brv[ :]+(\d+)/g.exec(n)||[])[1]?parseFloat(e[1]):0};if("Chrome"===t[1]&&null!=(e=n.match(/\bOPR|Edge\/(\d+)/)))return{name:"Opera",version:r=null!=e[1]?parseFloat(e[1]):0};t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=n.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]);var i=t[0];return r=null!=t[1]?parseFloat(t[1]):0,vE={name:i,version:r}}function _E(){return void 0===JP&&(JP=!function Uye(){return void 0===QP&&(QP=/*@cc_on!@*/
!!document.documentMode),QP}()&&!!window.StyleMedia),JP}function qh(){return void 0===ZP&&(ZP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ZP}function $y(){if(void 0===eM){var n=window;eM=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return eM}function aM(){if(void 0===tM){var n=window;tM=typeof n.InstallTrigger<"u"}return tM}function sM(){return void 0===nM&&(nM=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),nM}function cf(){return void 0===rM&&(rM=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),rM}function yE(){return!qh()||O8().version>=15}function CE(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||aM())?t.toString():null}function A8(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=2*n;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;n=r}return document.body.removeChild(e),n}function P8(){return null==oM&&M8(),oM}function M8(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(oM=e,iM=0===e)}function I8(){return null==iM&&M8(),iM}function F8(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function k8(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var $ye=Object.freeze({__proto__:null,getBrowserInfo:O8,isBrowserEdge:_E,isBrowserSafari:qh,isBrowserChrome:$y,isBrowserFirefox:aM,isMacOsUserAgent:sM,isIOSUserAgent:cf,browserSupportsPreventScroll:yE,getTabIndex:CE,getMaxDivHeight:A8,getScrollbarWidth:P8,isInvisibleScrollbar:I8,hasOverflowScrolling:function zye(){var n,t,e=["webkit","moz","o","ms"],r=document.createElement("div"),o=!1;document.getElementsByTagName("body")[0].appendChild(r),r.setAttribute("style",e.map(function(c){return"-"+c+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var s=window.getComputedStyle(r);if("touch"===s.overflowScrolling&&(o=!0),!o)try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=l.next();!u.done;u=l.next())if("touch"===s[u.value+"OverflowScrolling"]){o=!0;break}}catch(c){n={error:c}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}return r.parentNode&&r.parentNode.removeChild(r),o},getBodyWidth:F8,getBodyHeight:k8});function L8(n,t,e){var r={},i=n.filter(function(o){return!t.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return r[o]=N8(o,e)}),r}function N8(n,t,e,r){var i=r?G8:B8,o=t.map(function(a){return{value:a,relevance:i(n.toLowerCase(),a.toLocaleLowerCase())}});return o.sort(function(a,s){return s.relevance-a.relevance}),e&&(o=o.filter(function(a){return 0!==a.relevance})),o.map(function(a){return a.value})}function lM(n){var r,i,o,t=n.toLowerCase(),e=new Array(t.length-1);for(r=i=0,o=e.length;i<=o;r=i+=1)e[r]=t.slice(r,r+2);return e}function B8(n,t){if(0===n.length&&0===t.length)return 0;var a,s,e=lM(n),r=lM(t),i=e.length+r.length,o=0;for(a=0,s=e.length;a<s;a++){var c,l=e[a],u=void 0;for(u=0,c=r.length;u<c;u++)l===r[u]&&o++}return o>0?2*o/i:0}function G8(n,t){for(var e=n.replace(/\s/g,""),r=t.replace(/\s/g,""),i=0,o=0,a=0;a<e.length;a++){var s=r.indexOf(e[a],o);-1!==s&&(i+=100-100*(o=s)/1e4*100)}return i}var Kye=Object.freeze({__proto__:null,fuzzyCheckStrings:L8,fuzzySuggestions:N8,get_bigrams:lM,string_distances:B8,string_weighted_distances:G8});function xg(n,t){return n.toString().padStart(t,"0")}function V8(n,t){for(var e=[],r=n;r<=t;r++)e.push(r);return e}function wE(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function uM(n,t,e){return"number"!=typeof n?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var Qye=Object.freeze({__proto__:null,padStartWidthZeros:xg,createArrayOfNumbers:V8,isNumeric:wE,cleanNumber:function Yye(n){return"string"==typeof n&&(n=parseInt(n,10)),"number"==typeof n?Math.floor(n):null},decToHex:function qye(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(255&n),n>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function Xye(n,t,e){return"number"!=typeof n?"":uM(Math.round(100*n)/100,t,e)},formatNumberCommas:uM,sum:function Zye(n){return null==n?null:n.reduce(function(t,e){return t+e},0)}}),bE=function(){return bE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},bE.apply(this,arguments)},df=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H8=function(n,t){return function(e,r){t(e,r,n)}},Jye=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},cM=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Jye(arguments[t]));return n};function Re(n){return!0===n||"true"===n}function dM(n){return"number"==typeof n?n:"string"==typeof n?parseInt(n,10):void 0}function W8(n,t){var e=parseInt(n,10);return wE(e)&&e>0?e:t}var xE,rt=function(){function n(){this.propertyEventService=new lf,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var t;return t=n,n.prototype.agWire=function(e,r){this.gridOptions.api=e,this.gridOptions.columnApi=r,this.checkForDeprecated(),this.checkForViolations()},n.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},n.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=T8.parse(this.gridOptions.sideBar));var r=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),r),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var i=function(a){return"AG Grid: '"+a+"' is not supported on the Server-Side Row Model"};Ge(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),Ge(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),Ge(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}Re(this.gridOptions.enableRangeSelection)?Vt.assertRegistered(At.RangeSelectionModule,"enableRangeSelection"):(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&(this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one."),this.isMasterDetail()&&console.warn("AG Grid: groupRowsSticky and masterDetail do not work with each other, you need to pick one."),this.isPagination()&&console.warn("AG Grid: groupRowsSticky and pagination do not work with each other, you need to pick one."));var o=function(a){e.gridOptions.icons&&e.gridOptions.icons[a]&&console.warn("gridOptions.icons."+a+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};o("radioButtonOff"),o("radioButtonOn"),o("checkboxChecked"),o("checkboxUnchecked"),o("checkboxIndeterminate"),this.getScrollbarWidth()},n.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(r){var i=Object.getOwnPropertyNames(r),o=cM(S8.ALL_PROPERTIES,S8.FRAMEWORK_PROPERTIES);e.checkProperties(i,o,o,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},n.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),r=cM(Hc.ALL_PROPERTIES,Hc.FRAMEWORK_PROPERTIES,Kh(H).map(function(o){return Wc.getCallbackForEvent(o)})),i=cM(r,["api","columnApi"]);this.checkProperties(e,i,r,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},n.prototype.checkProperties=function(e,r,i,o,a){var s=L8(e,r,i);er(s,function(l,u){console.warn("ag-grid: invalid "+o+" property '"+l+"' did you mean any of these: "+u.slice(0,8).join(", "))}),Object.keys(s).length>0&&console.warn("ag-grid: to see all the valid "+o+" properties please check: "+a)},n.prototype.mergeGridCommonParams=function(e){var r=this;return e?function(o){var a=bE(bE({},o),{api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()});return e(a)}:e},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,r){var i=e[this.getDomDataKey()];return i?i[r]:void 0},n.prototype.setDomData=function(e,r,i){var o=this.getDomDataKey(),a=e[o];yt(a)&&(e[o]=a={}),a[r]=i},n.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},n.prototype.isSuppressRowDeselection=function(){return Re(this.gridOptions.suppressRowDeselection)},n.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},n.prototype.isRowMultiSelectWithClick=function(){return Re(this.gridOptions.rowMultiSelectWithClick)},n.prototype.getContext=function(){return this.gridOptions.context},n.prototype.isPivotMode=function(){return Re(this.gridOptions.pivotMode)},n.prototype.isSuppressExpandablePivotGroups=function(){return Re(this.gridOptions.suppressExpandablePivotGroups)},n.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},n.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},n.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===fe.ROW_MODEL_TYPE_INFINITE},n.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===fe.ROW_MODEL_TYPE_VIEWPORT},n.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===fe.ROW_MODEL_TYPE_SERVER_SIDE},n.prototype.isRowModelDefault=function(){return yt(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===fe.ROW_MODEL_TYPE_CLIENT_SIDE},n.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},n.prototype.isSuppressFocusAfterRefresh=function(){return Re(this.gridOptions.suppressFocusAfterRefresh)},n.prototype.isSuppressBrowserResizeObserver=function(){return Re(this.gridOptions.suppressBrowserResizeObserver)},n.prototype.isSuppressMaintainUnsortedOrder=function(){return Re(this.gridOptions.suppressMaintainUnsortedOrder)},n.prototype.isSuppressClearOnFillReduction=function(){return Re(this.gridOptions.suppressClearOnFillReduction)},n.prototype.isShowToolPanel=function(){return Re(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.isSuppressTouch=function(){return Re(this.gridOptions.suppressTouch)},n.prototype.isMaintainColumnOrder=function(){return Re(this.gridOptions.maintainColumnOrder)},n.prototype.isSuppressRowTransform=function(){return Re(this.gridOptions.suppressRowTransform)},n.prototype.isSuppressColumnStateEvents=function(){return Re(this.gridOptions.suppressColumnStateEvents)},n.prototype.isAllowDragFromColumnsToolPanel=function(){return Re(this.gridOptions.allowDragFromColumnsToolPanel)},n.prototype.useAsyncEvents=function(){return!Re(this.gridOptions.suppressAsyncEvents)},n.prototype.isEnableCellChangeFlash=function(){return Re(this.gridOptions.enableCellChangeFlash)},n.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},n.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},n.prototype.isGroupSelectsChildren=function(){return Re(this.gridOptions.groupSelectsChildren)},n.prototype.isSuppressRowHoverHighlight=function(){return Re(this.gridOptions.suppressRowHoverHighlight)},n.prototype.isColumnHoverHighlight=function(){return Re(this.gridOptions.columnHoverHighlight)},n.prototype.isGroupSelectsFiltered=function(){return Re(this.gridOptions.groupSelectsFiltered)},n.prototype.isGroupHideOpenParents=function(){return Re(this.gridOptions.groupHideOpenParents)},n.prototype.isGroupMaintainOrder=function(){return Re(this.gridOptions.groupMaintainOrder)},n.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},n.prototype.isColumnsSortingCoupledToGroup=function(){var e,r=this.getAutoGroupColumnDef();return this.isRowModelDefault()&&!(null!==(e=r)&&void 0!==e&&e.comparator)},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Re(this.gridOptions.groupHideOpenParents)},n.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},n.prototype.isRowGroupPanelSuppressSort=function(){return Re(this.gridOptions.rowGroupPanelSuppressSort)},n.prototype.isGroupRowsSticky=function(){return Re(this.gridOptions.groupRowsSticky)},n.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},n.prototype.isGroupRemoveSingleChildren=function(){return Re(this.gridOptions.groupRemoveSingleChildren)},n.prototype.isGroupRemoveLowestSingleChildren=function(){return Re(this.gridOptions.groupRemoveLowestSingleChildren)},n.prototype.isGroupIncludeFooter=function(){return Re(this.gridOptions.groupIncludeFooter)},n.prototype.isGroupIncludeTotalFooter=function(){return Re(this.gridOptions.groupIncludeTotalFooter)},n.prototype.isGroupSuppressBlankHeader=function(){return Re(this.gridOptions.groupSuppressBlankHeader)},n.prototype.isSuppressRowClickSelection=function(){return Re(this.gridOptions.suppressRowClickSelection)},n.prototype.isSuppressCellFocus=function(){return Re(this.gridOptions.suppressCellFocus)},n.prototype.isSuppressMultiSort=function(){return Re(this.gridOptions.suppressMultiSort)},n.prototype.isAlwaysMultiSort=function(){return Re(this.gridOptions.alwaysMultiSort)},n.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},n.prototype.isPivotSuppressAutoColumn=function(){return Re(this.gridOptions.pivotSuppressAutoColumn)},n.prototype.isSuppressDragLeaveHidesColumns=function(){return Re(this.gridOptions.suppressDragLeaveHidesColumns)},n.prototype.isSuppressRowGroupHidesColumns=function(){return Re(this.gridOptions.suppressRowGroupHidesColumns)},n.prototype.isSuppressScrollOnNewData=function(){return Re(this.gridOptions.suppressScrollOnNewData)},n.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Re(this.gridOptions.suppressScrollWhenPopupsAreOpen)},n.prototype.isRowDragEntireRow=function(){return Re(this.gridOptions.rowDragEntireRow)},n.prototype.getRowDragText=function(e){if(e){var r=e.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptions.rowDragText},n.prototype.isSuppressRowDrag=function(){return Re(this.gridOptions.suppressRowDrag)},n.prototype.isRowDragManaged=function(){return Re(this.gridOptions.rowDragManaged)},n.prototype.isSuppressMoveWhenRowDragging=function(){return Re(this.gridOptions.suppressMoveWhenRowDragging)},n.prototype.isRowDragMultiRow=function(){return Re(this.gridOptions.rowDragMultiRow)},n.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||fe.DOM_LAYOUT_NORMAL;return-1===[fe.DOM_LAYOUT_PRINT,fe.DOM_LAYOUT_AUTO_HEIGHT,fe.DOM_LAYOUT_NORMAL].indexOf(e)?(pn(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+fe.DOM_LAYOUT_NORMAL+", "+fe.DOM_LAYOUT_AUTO_HEIGHT+" and "+fe.DOM_LAYOUT_PRINT)},"warn about dom layout values"),fe.DOM_LAYOUT_NORMAL):e},n.prototype.isSuppressHorizontalScroll=function(){return Re(this.gridOptions.suppressHorizontalScroll)},n.prototype.isSuppressMaxRenderedRowRestriction=function(){return Re(this.gridOptions.suppressMaxRenderedRowRestriction)},n.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Re(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},n.prototype.isAlwaysShowHorizontalScroll=function(){return Re(this.gridOptions.alwaysShowHorizontalScroll)},n.prototype.isAlwaysShowVerticalScroll=function(){return Re(this.gridOptions.alwaysShowVerticalScroll)},n.prototype.isDebounceVerticalScrollbar=function(){return Re(this.gridOptions.debounceVerticalScrollbar)},n.prototype.isSuppressLoadingOverlay=function(){return Re(this.gridOptions.suppressLoadingOverlay)},n.prototype.isSuppressNoRowsOverlay=function(){return Re(this.gridOptions.suppressNoRowsOverlay)},n.prototype.isSuppressFieldDotNotation=function(){return Re(this.gridOptions.suppressFieldDotNotation)},n.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},n.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},n.prototype.isFunctionsPassive=function(){return Re(this.gridOptions.functionsPassive)},n.prototype.isSuppressChangeDetection=function(){return Re(this.gridOptions.suppressChangeDetection)},n.prototype.isSuppressAnimationFrame=function(){return Re(this.gridOptions.suppressAnimationFrame)},n.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},n.prototype.isCacheQuickFilter=function(){return Re(this.gridOptions.cacheQuickFilter)},n.prototype.isUnSortIcon=function(){return Re(this.gridOptions.unSortIcon)},n.prototype.isSuppressMenuHide=function(){return Re(this.gridOptions.suppressMenuHide)},n.prototype.isEnterMovesDownAfterEdit=function(){return Re(this.gridOptions.enterMovesDownAfterEdit)},n.prototype.isEnterMovesDown=function(){return Re(this.gridOptions.enterMovesDown)},n.prototype.isUndoRedoCellEditing=function(){return Re(this.gridOptions.undoRedoCellEditing)},n.prototype.getUndoRedoCellEditingLimit=function(){return dM(this.gridOptions.undoRedoCellEditingLimit)},n.prototype.isEnableCellEditingOnBackspace=function(){return Re(this.gridOptions.enableCellEditingOnBackspace)},n.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},n.prototype.getRowClass=function(){return this.gridOptions.rowClass},n.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},n.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},n.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},n.prototype.isServerSideInfiniteScroll=function(){return Re(this.gridOptions.serverSideInfiniteScroll)},n.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},n.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},n.prototype.getPopupParent=function(){return this.gridOptions.popupParent},n.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},n.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},n.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},n.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},n.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},n.prototype.getInitialGroupOrderComparator=function(){var e=this.gridOptions,r=e.initialGroupOrderComparator,i=e.defaultGroupOrderComparator;return r?this.mergeGridCommonParams(r):i?function(o){return i(o.nodeA,o.nodeB)}:void 0},n.prototype.getIsFullWidthCellFunc=function(){var e=this.gridOptions,r=e.isFullWidthRow,i=e.isFullWidthCell;return r?this.mergeGridCommonParams(r):i?function(o){return i(o.rowNode)}:void 0},n.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},n.prototype.isEmbedFullWidthRows=function(){return Re(this.gridOptions.embedFullWidthRows)||Re(this.gridOptions.deprecatedEmbedFullWidthRows)},n.prototype.isDetailRowAutoHeight=function(){return Re(this.gridOptions.detailRowAutoHeight)},n.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},n.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},n.prototype.getApi=function(){return this.gridOptions.api},n.prototype.getColumnApi=function(){return this.gridOptions.columnApi},n.prototype.isReadOnlyEdit=function(){return Re(this.gridOptions.readOnlyEdit)},n.prototype.isImmutableData=function(){var e=null!=this.gridOptions.getRowId,r=Re(this.gridOptions.immutableData);return!Re(this.gridOptions.resetRowDataOnUpdate)&&(e||r)},n.prototype.isEnsureDomOrder=function(){return Re(this.gridOptions.ensureDomOrder)},n.prototype.isEnableCharts=function(){return!!Re(this.gridOptions.enableCharts)&&Vt.assertRegistered(At.GridChartsModule,"enableCharts")},n.prototype.isEnableChartToolPanelsButton=function(){return Re(this.gridOptions.enableChartToolPanelsButton)},n.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},n.prototype.isSingleClickEdit=function(){return Re(this.gridOptions.singleClickEdit)},n.prototype.isSuppressClickEdit=function(){return Re(this.gridOptions.suppressClickEdit)},n.prototype.isStopEditingWhenCellsLoseFocus=function(){return Re(this.gridOptions.stopEditingWhenCellsLoseFocus)},n.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},n.prototype.getMaxConcurrentDatasourceRequests=function(){var e=dM(this.gridOptions.maxConcurrentDatasourceRequests);return null==e?2:e<=0?void 0:e},n.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},n.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},n.prototype.getPaginationPageSize=function(){return dM(this.gridOptions.paginationPageSize)},n.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Re(this.gridOptions.paginateChildRows)},n.prototype.getCacheBlockSize=function(){return W8(this.gridOptions.cacheBlockSize)},n.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},n.prototype.getServerSideInitialRowCount=function(){var e=this.gridOptions.serverSideInitialRowCount;return"number"==typeof e&&e>0?e:1},n.prototype.isPurgeClosedRowNodes=function(){return Re(this.gridOptions.purgeClosedRowNodes)},n.prototype.isSuppressPaginationPanel=function(){return Re(this.gridOptions.suppressPaginationPanel)},n.prototype.getRowData=function(){return this.gridOptions.rowData},n.prototype.isEnableRtl=function(){return Re(this.gridOptions.enableRtl)},n.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},n.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},n.prototype.isAngularCompileRows=function(){return Re(this.gridOptions.angularCompileRows)},n.prototype.isAngularCompileFilters=function(){return Re(this.gridOptions.angularCompileFilters)},n.prototype.isDebug=function(){return Re(this.gridOptions.debug)},n.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},n.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},n.prototype.getDatasource=function(){return this.gridOptions.datasource},n.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},n.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},n.prototype.isAccentedSort=function(){return Re(this.gridOptions.accentedSort)},n.prototype.isEnableBrowserTooltips=function(){return Re(this.gridOptions.enableBrowserTooltips)},n.prototype.isEnableCellExpressions=function(){return Re(this.gridOptions.enableCellExpressions)},n.prototype.isEnableGroupEdit=function(){return Re(this.gridOptions.enableGroupEdit)},n.prototype.isSuppressMiddleClickScrolls=function(){return Re(this.gridOptions.suppressMiddleClickScrolls)},n.prototype.isPreventDefaultOnContextMenu=function(){return Re(this.gridOptions.preventDefaultOnContextMenu)},n.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Re(this.gridOptions.suppressPreventDefaultOnMouseWheel)},n.prototype.isSuppressColumnVirtualisation=function(){return Re(this.gridOptions.suppressColumnVirtualisation)},n.prototype.isSuppressRowVirtualisation=function(){return Re(this.gridOptions.suppressRowVirtualisation)},n.prototype.isSuppressContextMenu=function(){return Re(this.gridOptions.suppressContextMenu)},n.prototype.isAllowContextMenuWithControlKey=function(){return Re(this.gridOptions.allowContextMenuWithControlKey)},n.prototype.isSuppressCopyRowsToClipboard=function(){return Re(this.gridOptions.suppressCopyRowsToClipboard)},n.prototype.isSuppressCopySingleCellRanges=function(){return Re(this.gridOptions.suppressCopySingleCellRanges)},n.prototype.isCopyHeadersToClipboard=function(){return Re(this.gridOptions.copyHeadersToClipboard)},n.prototype.isCopyGroupHeadersToClipboard=function(){return Re(this.gridOptions.copyGroupHeadersToClipboard)},n.prototype.isSuppressClipboardPaste=function(){return Re(this.gridOptions.suppressClipboardPaste)},n.prototype.isSuppressLastEmptyLineOnPaste=function(){return Re(this.gridOptions.suppressLastEmptyLineOnPaste)},n.prototype.isPagination=function(){return Re(this.gridOptions.pagination)},n.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Re(this.gridOptions.suppressEnterpriseResetOnNewColumns)},n.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},n.prototype.getAsyncTransactionWaitMillis=function(){return Ge(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:fe.BATCH_WAIT_MILLIS},n.prototype.isSuppressMovableColumns=function(){return Re(this.gridOptions.suppressMovableColumns)},n.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Re(this.gridOptions.animateRows)},n.prototype.isSuppressColumnMoveAnimation=function(){return Re(this.gridOptions.suppressColumnMoveAnimation)},n.prototype.isSuppressAggFuncInHeader=function(){return Re(this.gridOptions.suppressAggFuncInHeader)},n.prototype.isSuppressAggAtRootLevel=function(){return Re(this.gridOptions.suppressAggAtRootLevel)},n.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Re(this.gridOptions.suppressAggFilteredOnly)},n.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return Re(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},n.prototype.isShowOpenedGroup=function(){return Re(this.gridOptions.showOpenedGroup)},n.prototype.isReactUi=function(){return Re(this.gridOptions.reactUi)},n.prototype.isSuppressReactUi=function(){return Re(this.gridOptions.suppressReactUi)},n.prototype.isEnableRangeSelection=function(){return Vt.isRegistered(At.RangeSelectionModule)&&Re(this.gridOptions.enableRangeSelection)},n.prototype.isEnableRangeHandle=function(){return Re(this.gridOptions.enableRangeHandle)},n.prototype.isEnableFillHandle=function(){return Re(this.gridOptions.enableFillHandle)},n.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(pn(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},n.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},n.prototype.isSuppressMultiRangeSelection=function(){return Re(this.gridOptions.suppressMultiRangeSelection)},n.prototype.isPaginationAutoPageSize=function(){return Re(this.gridOptions.paginationAutoPageSize)},n.prototype.isRememberGroupStateWhenNewData=function(){return Re(this.gridOptions.rememberGroupStateWhenNewData)},n.prototype.getIcons=function(){return this.gridOptions.icons},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.mergeGridCommonParams(e):Re(e)?function(){return!0}:void 0},n.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},n.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},n.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},n.prototype.isMasterDetail=function(){return!!Re(this.gridOptions.masterDetail)&&Vt.assertRegistered(At.MasterDetailModule,"masterDetail")},n.prototype.isKeepDetailRows=function(){return Re(this.gridOptions.keepDetailRows)},n.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return Ge(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},n.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},n.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},n.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},n.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},n.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},n.prototype.isSuppressAutoSize=function(){return Re(this.gridOptions.suppressAutoSize)},n.prototype.isEnableCellTextSelection=function(){return Re(this.gridOptions.enableCellTextSelection)},n.prototype.isSuppressParentsInRowNodes=function(){return Re(this.gridOptions.suppressParentsInRowNodes)},n.prototype.isSuppressClipboardApi=function(){return Re(this.gridOptions.suppressClipboardApi)},n.prototype.isFunctionsReadOnly=function(){return Re(this.gridOptions.functionsReadOnly)},n.prototype.isEnableCellTextSelect=function(){return Re(this.gridOptions.enableCellTextSelection)},n.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},n.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},n.prototype.getDefaultExportParams=function(e){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+YP(e)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===e&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===e&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},n.prototype.isSuppressCsvExport=function(){return Re(this.gridOptions.suppressCsvExport)},n.prototype.isAllowShowChangeAfterFilter=function(){return Re(this.gridOptions.allowShowChangeAfterFilter)},n.prototype.isSuppressExcelExport=function(){return Re(this.gridOptions.suppressExcelExport)},n.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Re(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},n.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},n.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},n.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},n.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},n.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},n.prototype.getGroupRowAggFunc=function(){var e=this.gridOptions,r=e.getGroupRowAgg,i=e.groupRowAggNodes;return r?this.mergeGridCommonParams(r):i?function(o){return i(o.nodes)}:void 0},n.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},n.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},n.prototype.getRowIdFunc=function(){var e=this.gridOptions,r=e.getRowId,i=e.getRowNodeId;return r?this.mergeGridCommonParams(r):i?function(o){return i(o.data)}:void 0},n.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},n.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},n.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},n.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},n.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},n.prototype.isTreeData=function(){return!!Re(this.gridOptions.treeData)&&Vt.assertRegistered(At.RowGroupingModule,"Tree Data")},n.prototype.isValueCache=function(){return Re(this.gridOptions.valueCache)},n.prototype.isValueCacheNeverExpires=function(){return Re(this.gridOptions.valueCacheNeverExpires)},n.prototype.isDeltaSort=function(){return Re(this.gridOptions.deltaSort)},n.prototype.isAggregateOnlyChangedColumns=function(){return Re(this.gridOptions.aggregateOnlyChangedColumns)},n.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},n.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},n.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},n.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},n.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},n.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},n.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},n.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},n.prototype.getViewportRowModelPageSize=function(){return W8(this.gridOptions.viewportRowModelPageSize,5)},n.prototype.getViewportRowModelBufferSize=function(){return function o0e(n,t){return n>=0?n:t}(this.gridOptions.viewportRowModelBufferSize,5)},n.prototype.isServerSideSortAllLevels=function(){var e=Re(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):e},n.prototype.isServerSideFilterAllLevels=function(){var e=Re(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):e},n.prototype.isServerSideSortOnServer=function(){var e=Re(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):e},n.prototype.isServerSideFilterOnServer=function(){var e=Re(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&e?(pn(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):e},n.prototype.getPostSortFunc=function(){var e=this.gridOptions,r=e.postSortRows,i=e.postSort;return r?this.mergeGridCommonParams(r):i?function(o){return i(o.nodes)}:void 0},n.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},n.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},n.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},n.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},n.prototype.getChartToolPanelsDef=function(){return this.gridOptions.chartToolPanelsDef},n.prototype.getClipboardDelimiter=function(){return Ge(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},n.prototype.setProperty=function(e,r,i){void 0===i&&(i=!1);var o=this.gridOptions[e];(i||o!==r)&&(this.gridOptions[e]=r,this.propertyEventService.dispatchEvent({type:e,currentValue:r,previousValue:o}))},n.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},n.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},n.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},n.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},n.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},n.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},n.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},n.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},n.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},n.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},n.prototype.getTooltipDelay=function(e){var r=this.gridOptions,a="show"===e?r.tooltipShowDelay:r.tooltipHideDelay,s=YP(e);return Ge(a)?(a<0&&pn(function(){return console.warn("ag-grid: tooltip"+s+"Delay should not be lower than 0")},"tooltip"+s+"DelayWarn"),Math.max(200,a)):null},n.prototype.isTooltipMouseTrack=function(){return Re(this.gridOptions.tooltipMouseTrack)},n.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Re(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&Ge(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Ge(e)?e:document},n.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(Ge(e)&&e>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var r=this.getFromTheme(null,"headerCellMinWidth");return Ge(r)?Math.max(r,t.MIN_COL_WIDTH):t.MIN_COL_WIDTH},n.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},n.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},n.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(pn(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=fe.ROW_BUFFER_SIZE,e},n.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},n.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var r="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:P8();null!=r&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:H.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var r=function(a,s,l){null!=e[a]&&(console.warn("AG Grid: since version "+l+", '"+a+"' is deprecated / renamed, please use the new property name '"+s+"' instead."),null==e[s]&&(e[s]=e[a]))};if(r("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),r("deltaRowDataMode","immutableData","23.1.x"),r("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),r("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),r("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var i=e.groupRowRendererParams;e.groupRowInnerRenderer&&(i.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(i.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(i.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(e.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),e.groupDisplayType="custom"),e.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),e.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),e.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),e.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator),r("processSecondaryColDef","processPivotResultColDef","28.0.x"),r("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),e.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),e.serverSideInfiniteScroll="partial"===e.serverSideStoreType),r("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},n.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},n.prototype.treeDataViolations=function(){this.isRowModelDefault()&&yt(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(yt(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),yt(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},n.prototype.getLocaleTextFunc=function(){var e=this,r=this.gridOptions,i=r.localeText,o=r.getLocaleText;return o?function(s,l,u){var c={key:s,defaultValue:l,variableValues:u,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()};return o(c)}:r.localeTextFunc||function(s,l,u){var c=i&&i[s];if(c&&u&&u.length)for(var d=0;!(d>=u.length)&&-1!==c.indexOf("${variable}");)c=c.replace("${variable}",u[d++]);return c??l}},n.prototype.globalEventHandler=function(e,r){if(!this.destroyed){var i=Wc.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](r)}},n.prototype.setRowHeightVariable=function(e){var i=e+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||yt(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},n.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},n.prototype.getRowHeightForNode=function(e,r,i){if(void 0===r&&(r=!1),null==i&&(i=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:i,estimated:!0};var o={node:e,data:e.data},a=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(o);if(this.isNumeric(a))return 0===a&&pn(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,a),estimated:!1}}return e.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},n.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},n.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},n.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},n.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},n.prototype.getFromTheme=function(e,r){var i=this.environment.getTheme().theme;return i&&0===i.indexOf("ag-theme")?this.environment.getSassVariable(i,r):e},n.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},n.prototype.matchesGroupDisplayType=function(e,r){var i=["groupRows","multipleColumns","custom","singleColumn"];return i.indexOf(r)<0?(console.warn("AG Grid: '"+r+"' is not a valid groupDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):r===e},n.prototype.matchesTreeDataDisplayType=function(e,r){var i=["auto","custom"];return i.indexOf(r)<0?(console.warn("AG Grid: '"+r+"' is not a valid treeDataDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):r===e},n.MIN_COL_WIDTH=10,n.PROP_HEADER_HEIGHT="headerHeight",n.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",n.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",n.PROP_GROUP_DISPLAY_TYPE="groupDisplayType",n.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",n.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",n.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",n.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",n.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",n.PROP_TAB_TO_NEXT_CELL="tabToNextCell",n.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",n.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",n.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",n.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",n.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",n.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",n.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",n.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",n.PROP_GET_ROW_CLASS="getRowClass",n.PROP_GET_ROW_STYLE="getRowStyle",n.PROP_GET_ROW_HEIGHT="getRowHeight",n.PROP_POPUP_PARENT="popupParent",n.PROP_DOM_LAYOUT="domLayout",n.PROP_ROW_CLASS="rowClass",n.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",n.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",n.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",n.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",n.PROP_GET_CHILD_COUNT="getChildCount",n.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",n.PROP_GET_ROW_NODE_ID="getRowNodeId",n.PROP_GET_ROW_ID="getRowId",n.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",n.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",n.PROP_IS_ROW_SELECTABLE="isRowSelectable",n.PROP_IS_ROW_MASTER="isRowMaster",n.PROP_POST_SORT="postSort",n.PROP_POST_SORT_ROWS="postSortRows",n.PROP_GET_DOCUMENT="getDocument",n.PROP_POST_PROCESS_POPUP="postProcessPopup",n.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",n.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",n.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",n.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",n.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",n.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",n.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",n.PROP_SEND_TO_CLIPBOARD="sendToClipboard",n.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",n.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",n.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",n.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",n.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",n.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",n.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",n.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",n.PROP_AUTO_GROUP_COLUMN_DEF="autoGroupColumnDef",n.PROP_DEFAULT_COL_DEF="defaultColDef",df([F("gridOptions")],n.prototype,"gridOptions",void 0),df([F("eventService")],n.prototype,"eventService",void 0),df([F("environment")],n.prototype,"environment",void 0),df([F("eGridDiv")],n.prototype,"eGridDiv",void 0),df([H8(0,Aa("gridApi")),H8(1,Aa("columnApi"))],n.prototype,"agWire",null),df([Eo],n.prototype,"destroy",null),df([Xe],n.prototype,"init",null),t=df([dt("gridOptionsWrapper")],n)}(),a0e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),So=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},s0e=function(n,t){return function(e,r){t(e,r,n)}},j8=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u0e=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Xh=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(u0e(arguments[t]));return n},c0e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.flexColsCalculatedAtLestOnce=!1,e}return a0e(t,n),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var r=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_GROUP_DISPLAY_TYPE,function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_AUTO_GROUP_COLUMN_DEF,function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DEFAULT_COL_DEF,function(){return e.onDefaultColDefChanged()})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.setColumnDefs=function(e,r){void 0===r&&(r="api");var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,r)},t.prototype.createColumnsFromColumnDefs=function(e,r){var i=this;void 0===r&&(r="api");var o=e?this.compareColumnStatesAndRaiseEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,l=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),o&&o(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:H.EVENT_NEW_COLUMNS_LOADED})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:H.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;r&&(this.gridColumns.sort(function(i,o){var a=r.indexOf(i),s=r.indexOf(o),l=a>=0,u=s>=0;return l&&u?a-s:l?1:u?-1:e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,i=[];null!=r;)i.push(r),r=this.getDisplayedColAfter(r);return i},t.prototype.checkViewportColumns=function(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:H.EVENT_VIRTUAL_COLUMNS_CHANGED})},t.prototype.setViewportPosition=function(e,r){(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,r){void 0===r&&(r="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:H.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,r){if(yt(this.secondaryColumns))return null;var i=this.getPrimaryColumn(r),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn;uf(s,e)&&l===i&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,i;this.gridOptionsWrapper.isEnableRtl()?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?ar(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?ar(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===r,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var r=this,i=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,u=void 0===l?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),p=a??h;0!==d;)d=0,this.actionOnGridColumns(i,function(m){if(c.indexOf(m)>=0)return!1;var v=r.autoWidthCalculator.getPreferredWidthForColumn(m,h);if(v>0){var _=r.normaliseColumnWidth(m,v);m.setActualWidth(_,u),c.push(m),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(i,s),this.fireColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,r,i,o){void 0===o&&(o=null),e&&e.length&&this.eventService.dispatchEvent({type:H.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:r,source:i})},t.prototype.autoSizeColumn=function(e,r,i){void 0===i&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r){var i,o,a,s,c,l=new Set;this.getGridColumns(e).forEach(function(w){for(var b=w.getParent();b&&b!=r;)b.isPadding()||l.add(b),b=b.getParent()});try{for(var h=j8(l),p=h.next();!p.done;p=h.next()){var m=p.value;try{for(var v=(a=void 0,j8(this.ctrlsService.getHeaderRowContainerCtrls())),_=v.next();!_.done&&!(c=_.value.getHeaderCtrlForColumn(m));_=v.next());}catch(w){a={error:w}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}c&&c.resizeLeafColumnsToFit()}}catch(w){i={error:w}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return[]},t.prototype.autoSizeAllColumns=function(e,r){void 0===r&&(r="api");var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:r})},t.prototype.getColumnsFromTree=function(e){var r=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Cn?r.push(s):s instanceof ii&&i(s.getChildren())}};return i(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,r,i,o){for(var u,a=[],s=null,l=function(d){var w,h=r[d],p=r.length-d,m=Math.min(h.getColSpan(e),p),v=[h];if(m>1){for(var _=m-1,C=1;C<=_;C++)v.push(r[d+C]);d+=_}i?(w=!1,v.forEach(function(E){i(E)&&(w=!0)})):w=!0,w&&(0===a.length&&s&&o&&o(h)&&a.push(s),a.push(h)),s=h,u=d},c=0;c<r.length;c++)l(c),c=u;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(a){var s=a.getLeft();return Ge(s)&&s>r.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,i=r+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200;return!(r<o&&i<o||r>a&&i>a)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(void 0===s&&(s="api"),e&&!ps(e)){var u=!1;e.forEach(function(d){var h=l.getPrimaryColumn(d);if(h){if(i){if(r.indexOf(h)>=0)return;r.push(h)}else{if(r.indexOf(h)<0)return;ra(r,h)}o(h),u=!0}}),u&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:a,columns:r,column:1===r.length?r[0]:null,source:s}))}},t.prototype.setRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,i){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,i),e&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&this.setColumnVisible(r,!1,i),!e&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&this.setColumnVisible(r,!0,i))},t.prototype.addRowGroupColumn=function(e,r){void 0===r&&(r="api"),e&&this.addRowGroupColumns([e],r)},t.prototype.addRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),H.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),H.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumn=function(e,r){void 0===r&&(r="api"),e&&this.removeRowGroupColumns([e],r)},t.prototype.addPivotColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,r)},H.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){void 0===r&&(r="api"),this.setPrimaryColumnList(e,this.pivotColumns,H.EVENT_COLUMN_PIVOT_CHANGED,function(i,o){o.setPivotActive(i,r)},r)},t.prototype.addPivotColumn=function(e,r){void 0===r&&(r="api"),this.addPivotColumns([e],r)},t.prototype.removePivotColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,r)},H.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.removePivotColumn=function(e,r){void 0===r&&(r="api"),this.removePivotColumns([e],r)},t.prototype.setPrimaryColumnList=function(e,r,i,o,a){var s=this;r.length=0,Ge(e)&&e.forEach(function(l){var u=s.getPrimaryColumn(l);u&&r.push(u)}),(this.primaryColumns||[]).forEach(function(l){var u=r.indexOf(l)>=0;o(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.fireColumnEvent(i,r,a)},t.prototype.setValueColumns=function(e,r){void 0===r&&(r="api"),this.setPrimaryColumnList(e,this.valueColumns,H.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,i){if(e!==r.isValueActive()&&(r.setValueActive(e,i),e&&!r.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(o)}},t.prototype.addValueColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),H.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.addValueColumn=function(e,r){void 0===r&&(r="api"),e&&this.addValueColumns([e],r)},t.prototype.removeValueColumn=function(e,r){void 0===r&&(r="api"),this.removeValueColumns([e],r)},t.prototype.removeValueColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),H.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var i=e.getMinWidth();Ge(i)&&r<i&&(r=i);var o=e.getMaxWidth();return Ge(o)&&e.isGreaterThanMax(r)&&(r=o),r},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,i,o){var a=this;void 0===o&&(o="api");var s=[];e.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u&&(s.push({width:l.newWidth,ratios:[1],columns:[u]}),"shift"===a.gridOptionsWrapper.getColResizeDefault()&&(r=!r),r)){var d=a.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[d]})}}),0!==s.length&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var i=e.width,o=0,a=0,s=!0;return e.columns.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();Ge(h)&&h>0?a+=h:s=!1}),i>=o&&(!s||i<=a)},t.prototype.resizeColumnSets=function(e){var r=this,i=e.resizeSets,o=e.finished,a=e.source;if(!i||i.every(function(m){return r.checkMinAndMaxWidthsForSet(m)})){var u=[],c=[];i.forEach(function(m){var v=m.width,_=m.columns,C=m.ratios,w={},b={};_.forEach(function(D){return c.push(D)});for(var E=!0,S=0,O=function(){if(++S>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";E=!1;var D=[],P=0,M=v;_.forEach(function(I,U){b[I.getId()]?M-=w[I.getId()]:(D.push(I),P+=C[U])});var B=1/P;D.forEach(function(I,U){var ie;U===D.length-1?ie=M:(ie=Math.round(C[U]*v*B),M-=ie);var te=I.getMinWidth(),J=I.getMaxWidth();Ge(te)&&ie<te?(ie=te,b[I.getId()]=!0,E=!0):Ge(J)&&J>0&&ie>J&&(ie=J,b[I.getId()]=!0,E=!0),w[I.getId()]=ie})};E&&"break"!==O(););_.forEach(function(D){var P=w[D.getId()];D.getActualWidth()!==P&&(D.setActualWidth(P,a),u.push(D))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(h);(d||o)&&this.fireColumnResizedEvent(p,o,a,h)}else o&&this.fireColumnResizedEvent(i&&i.length>0?i[0].columns:null,o,a)},t.prototype.setColumnAggFunc=function(e,r,i){if(void 0===i&&(i="api"),e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(r),this.fireColumnEvent(H.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.fireColumnEvent=function(e,r,i){this.eventService.dispatchEvent({type:e,columns:r,column:r&&1==r.length?r[0]:null,source:i})},t.prototype.moveRowGroupColumn=function(e,r,i){void 0===i&&(i="api");var o=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,o),this.eventService.dispatchEvent({type:H.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:i})},t.prototype.moveColumns=function(e,r,i){if(void 0===i&&(i="api"),this.columnAnimationService.start(),r>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var o=this.getGridColumns(e);!this.doesMovePassRules(o,r)||(WP(this.gridColumns,o,r),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:H.EVENT_COLUMN_MOVED,columns:o,column:1===o.length?o[0]:null,toIndex:r,source:i}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,r){var i=this.getProposedColumnOrder(e,r);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,r){var i=this.gridColumns.slice();return WP(i,e,r),i},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;!e||e.length<=1||e.filter(function(o){return r.gridColumns.indexOf(o)<0}).length>0||e.sort(function(o,a){return r.gridColumns.indexOf(o)-r.gridColumns.indexOf(a)})},t.prototype.doesMovePassLockedPositions=function(e){var r=0,i=!0;return e.forEach(function(a){var s=function(a){return a?!0===a||"left"===a?0:2:1}(a.getColDef().lockPosition);s<r&&(i=!1),r=s}),i},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof ii){var o=i,a=o.getColGroupDef();if(a&&a.marryChildren){var l=[];o.getLeafColumns().forEach(function(p){var m=e.indexOf(p);l.push(m)}),Math.max.apply(Math,l)-Math.min.apply(Math,l)>o.getLeafColumns().length-1&&(r=!1)}}}),r},t.prototype.moveColumn=function(e,r,i){void 0===i&&(i="api"),this.moveColumns([e],r,i)},t.prototype.moveColumnByIndex=function(e,r,i){void 0===i&&(i="api"),this.moveColumn(this.gridColumns[e],r,i)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&r.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case fe.PINNED_LEFT:return this.leftWidth;case fe.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=r,this.rightWidth=i,this.eventService.dispatchEvent({type:H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case fe.PINNED_LEFT:return this.getDisplayedLeftColumns();case fe.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return ps(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return ps(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,r,i){void 0===i&&(i="api"),this.setColumnsVisible([e],r,i)},t.prototype.setColumnsVisible=function(e,r,i){void 0===r&&(r=!1),void 0===i&&(i="api"),this.applyColumnState({state:e.map(function(o){return{colId:"string"==typeof o?o:o.getColId(),hide:!r}})},i)},t.prototype.setColumnPinned=function(e,r,i){void 0===i&&(i="api"),e&&this.setColumnsPinned([e],r,i)},t.prototype.setColumnsPinned=function(e,r,i){var o;void 0===i&&(i="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),o=!0===r||r===fe.PINNED_LEFT?fe.PINNED_LEFT:r===fe.PINNED_RIGHT?fe.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o&&(a.setPinned(o),!0)},i,function(){return{type:H.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,r,i,o){var a=this;if(!ps(e)){var s=[];if(e.forEach(function(u){var c=a.getGridColumn(u);c&&!1!==r(c)&&s.push(c)}),s.length&&(this.updateDisplayedColumns(i),Ge(o)&&o)){var l=o();l.columns=s,l.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i>0?r[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i<r.length-1?r[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a="After"===r?ar(o):o[0],s="getDisplayedCol"+r;;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var i=e.getParent();!(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=r);)i=i.getParent();return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,Xh([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.getPrimaryAndAutoGroupCols=function(){var e;return(e=[]).concat.apply(e,Xh([this.primaryColumns||[],this.groupAutoColumns||[]]))},t.prototype.getPrimaryAndSecondaryColumns=function(){var e;return(e=[]).concat.apply(e,Xh([this.primaryColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=null!=e.getSort()?e.getSort():null,s=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l}},t.prototype.getColumnState=function(){if(yt(this.primaryColumns)||!this.isAlive())return[];var r=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=Vc(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){return(r.has(i.colId)?r.get(i.colId):-1)-(r.has(o.colId)?r.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var r=this.getColumnsFromTree(this.primaryColumnTree),i=[],o=1e3,a=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),r&&(s=s.concat(r)),s.forEach(function(l){var u=function(R,D){return R??D??null},c=l.getColDef(),d=u(c.sort,c.initialSort),h=u(c.sortIndex,c.initialSortIndex),p=u(c.hide,c.initialHide),m=u(c.pinned,c.initialPinned),v=u(c.width,c.initialWidth),_=u(c.flex,c.initialFlex),C=u(c.rowGroupIndex,c.initialRowGroupIndex),w=u(c.rowGroup,c.initialRowGroup);null==C&&(null==w||0==w)&&(C=null,w=null);var b=u(c.pivotIndex,c.initialPivotIndex),E=u(c.pivot,c.initialPivot);null==b&&(null==E||0==E)&&(b=null,E=null);var S=u(c.aggFunc,c.initialAggFunc),O={colId:l.getColId(),sort:d,sortIndex:h,hide:p,pinned:m,width:v,flex:_,rowGroup:w,rowGroupIndex:C,pivot:E,pivotIndex:b,aggFunc:S};yt(C)&&w&&(O.rowGroupIndex=o++),yt(b)&&E&&(O.pivotIndex=a++),i.push(O)}),this.applyColumnState({state:i,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,r){var i=this;if(ps(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=i.compareColumnStatesAndRaiseEvents(r);i.autoGroupsNeedBuilding=!0;var p=c.slice(),m={},v={},_=[],C=[],w=0,b=i.rowGroupColumns.slice(),E=i.pivotColumns.slice();u.forEach(function(D){var P=D.colId||"";if(P.startsWith(fe.GROUP_AUTO_COLUMN_ID))return _.push(D),void C.push(D);var B=d(P);B?(i.syncColumnWithStateItem(B,D,e.defaultState,m,v,!1,r),ra(p,B)):(C.push(D),w+=1)});var S=function(D){return i.syncColumnWithStateItem(D,null,e.defaultState,m,v,!1,r)};p.forEach(S);var O=function(D,P,M,B){var I=D[M.getId()],U=D[B.getId()],le=null!=I,ie=null!=U;if(le&&ie)return I-U;if(le)return-1;if(ie)return 1;var te=P.indexOf(M),J=P.indexOf(B),ce=te>=0;return ce&&J>=0?te-J:ce?-1:1};i.rowGroupColumns.sort(O.bind(i,m,b)),i.pivotColumns.sort(O.bind(i,v,E)),i.updateGridColumns();var R=i.groupAutoColumns?i.groupAutoColumns.slice():[];return _.forEach(function(D){var P=i.getAutoColumn(D.colId);ra(R,P),i.syncColumnWithStateItem(P,D,e.defaultState,null,null,!0,r)}),R.forEach(S),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(r),i.dispatchEverythingChanged(r),h(),{unmatchedAndAutoStates:C,unmatchedCount:w}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||Ge(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),0===l},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(e.applyOrder&&e.state){var i=[],o={};e.state.forEach(function(s){if(s.colId&&!o[s.colId]){var l=r.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId();null!=o[l]||(l.startsWith(fe.GROUP_AUTO_COLUMN_ID)?Uy(i,s,a++):i.push(s))}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=i}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var r=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){if(!r.gridOptionsWrapper.isSuppressColumnStateEvents()){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(C,w,b,E){uf(w.map(E),b.map(E))||r.eventService.dispatchEvent({type:C,columns:b,column:1===b.length?b[0]:null,source:e})},u=function(C){var w=[];return s.forEach(function(b){var E=a[b.getColId()];E&&C(E,b)&&w.push(b)}),w},c=function(C){return C.getColId()};l(H.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,r.rowGroupColumns,c),l(H.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,r.pivotColumns,c),u(function(C,w){var b=null!=C.aggFunc,E=b!=w.isValueActive(),S=b&&C.aggFunc!=w.getAggFunc();return E||S}).length>0&&r.fireColumnEvent(H.EVENT_COLUMN_VALUE_CHANGED,r.valueColumns,e),r.fireColumnResizedEvent(u(function(C,w){return C.width!=w.getActualWidth()}),!0,e),r.raiseColumnPinnedEvent(u(function(C,w){return C.pinned!=w.getPinned()}),e),r.raiseColumnVisibleEvent(u(function(C,w){return C.hide==w.isVisible()}),e),u(function(C,w){return C.sort!=w.getSort()||C.sortIndex!=w.getSortIndex()}).length>0&&r.sortController.dispatchSortChangedEvents(e),r.raiseColumnMovedEvent(o,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,r){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()});this.eventService.dispatchEvent({type:H.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:r})}},t.prototype.getCommonValue=function(e,r){if(e&&0!=e.length){for(var i=r(e[0]),o=1;o<e.length;o++)if(i!==r(e[o]))return;return i}},t.prototype.raiseColumnVisibleEvent=function(e,r){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()});this.eventService.dispatchEvent({type:H.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:r})}},t.prototype.raiseColumnMovedEvent=function(e,r){var i=this,o=this.getColumnState(),a={};o.forEach(function(h){return a[h.colId]=h});var s={};e.forEach(function(h){a[h.colId]&&(s[h.colId]=!0)});var l=e.filter(function(h){return s[h.colId]}),u=o.filter(function(h){return s[h.colId]}),c=[];u.forEach(function(h,p){var m=l&&l[p];if(m&&m.colId!==h.colId){var v=i.getGridColumn(m.colId);v&&c.push(v)}}),c.length&&this.eventService.dispatchEvent({type:H.EVENT_COLUMN_MOVED,columns:c,column:null,source:r})},t.prototype.syncColumnWithStateItem=function(e,r,i,o,a,s,l){if(e){var u=function(P,M){var B={value1:void 0,value2:void 0},I=!1;return r&&(void 0!==r[P]&&(B.value1=r[P],I=!0),Ge(M)&&void 0!==r[M]&&(B.value2=r[M],I=!0)),!I&&i&&(void 0!==i[P]&&(B.value1=i[P]),Ge(M)&&void 0!==i[M]&&(B.value2=i[M])),B},c=u("hide").value1;void 0!==c&&e.setVisible(!c,l);var d=u("pinned").value1;void 0!==d&&e.setPinned(d);var h=this.columnUtils.calculateColMinWidth(e.getColDef()),p=u("flex").value1;if(void 0!==p&&e.setFlex(p),e.getFlex()<=0){var v=u("width").value1;null!=v&&null!=h&&v>=h&&e.setActualWidth(v,l)}var _=u("sort").value1;void 0!==_&&e.setSort(_===fe.SORT_DESC||_===fe.SORT_ASC?_:void 0,l);var C=u("sortIndex").value1;if(void 0!==C&&e.setSortIndex(C),!s&&e.isPrimary()){var w=u("aggFunc").value1;void 0!==w&&("string"==typeof w?(e.setAggFunc(w),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(Ge(w)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),ra(this.valueColumns,e))));var b=u("rowGroup","rowGroupIndex"),E=b.value1,S=b.value2;(void 0!==E||void 0!==S)&&("number"==typeof S||E?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&"number"==typeof S&&(o[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),ra(this.rowGroupColumns,e)));var O=u("pivot","pivotIndex"),R=O.value1,D=O.value2;(void 0!==R||void 0!==D)&&("number"==typeof D||R?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&"number"==typeof D&&(a[e.getId()]=D)):e.isPivotActive()&&(e.setPivotActive(!1,l),ra(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var i=[];return e&&e.forEach(function(o){var a=r(o);a&&i.push(a)}),i},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,i){if(!e)return null;if("string"==typeof e&&i[e])return i[e];for(var o=0;o<r.length;o++)if(this.columnsMatch(r[o],e))return r[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var r=e.getColDef().showRowGroup;if(!r)return null;if(!0===r)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(r);return i?[i]:null},t.prototype.getAutoColumn=function(e){var r=this;return this.groupAutoColumns&&Ge(this.groupAutoColumns)&&!yt(this.groupAutoColumns)&&this.groupAutoColumns.find(function(i){return r.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,r){var i=e===r,o=e.getColDef()===r,a=e.getColId()==r;return i||o||a},t.prototype.getDisplayNameForColumn=function(e,r,i){if(void 0===i&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,r);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,i){var o=r?r.getColGroupDef():null;return o?this.getHeaderName(o,null,e,r,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,i,o,a){var s=e.headerValueGetter;if(s){var l={colDef:e,column:r,columnGroup:i,providedColumnGroup:o,location:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof s?s(l):"string"==typeof s?this.expressionService.evaluate(s,l):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?qP(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return r;var s,i=e.getColDef().pivotValueColumn,a=null;if(Ge(i)){var l=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,u=void 0!==e.getColDef().pivotTotalColumnIds;if(l&&!u)return r;a=i?i.getAggFunc():null,s=!0}else{var c=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var h="string"==typeof a?a:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(h,h)+"("+r+")"}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof ia)return e;var i=this.getAllDisplayedTrees(),o="number"==typeof r,a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof ia){var l=s;(o?e===l.getGroupId()&&r===l.getInstanceId():e===l.getGroupId())&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},function(i){return null!=i.initialAggFunc&&""!=i.initialAggFunc}),this.valueColumns.forEach(function(i){var o=i.getColDef();null!=o.aggFunc&&""!=o.aggFunc?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,r,i,o,a,s,l){void 0===e&&(e=[]),void 0===r&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var m=e.indexOf(p)<0,v=p.getColDef(),_=Lu(s(v)),C=Lu(l(v)),w=tl(o(v)),b=tl(a(v));(void 0!==_?_:void 0!==w?null!==w&&w>=0:m?void 0!==C?C:void 0!==b&&null!=b&&b>=0:r.indexOf(p)>=0)&&((m?null!=w||null!=b:null!=w)?u.push(p):c.push(p))});var d=function(p){var m=o(p.getColDef()),v=a(p.getColDef());return m??v};u.sort(function(p,m){var v=d(p),_=d(m);return v===_?0:v<_?-1:1});var h=[].concat(u);return r.forEach(function(p){c.indexOf(p)>=0&&h.push(p)}),c.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),r.forEach(function(p){h.indexOf(p)<0&&i(p,!1)}),h.forEach(function(p){r.indexOf(p)<0&&i(p,!0)}),h},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof ii){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof ii&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var i=this;void 0===r&&(r="api"),this.columnAnimationService.start();var o=[];e.forEach(function(a){var l=a.open,u=i.getProvidedColumnGroup(a.groupId);u&&u.isExpanded()!==l&&(i.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),o.forEach(function(a){i.eventService.dispatchEvent({type:H.EVENT_COLUMN_GROUP_OPENED,columnGroup:a})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,r,i){var o;void 0===i&&(i="api"),o=e instanceof ii?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:r}],i)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof ii&&i.getId()===e&&(r=i)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&yt(this.secondaryColumns)?this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&gs(e.groupAutoColumns,i),a=e.valueColumns&&gs(e.valueColumns,i);return o||a}):this.gridColumns.filter(function(i){return e.groupAutoColumns&&gs(e.groupAutoColumns,i)||i.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(i){Ge(i.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var r=function(i){var o=i.getColDef(),a=o.showRowGroup;o&&Ge(a)&&(e.groupDisplayColumns.push(i),"string"==typeof a?e.groupDisplayColumnsMap[a]=i:!0===a&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(r),this.groupAutoColumns&&this.groupAutoColumns.forEach(r)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return Ge(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var i=this;void 0===r&&(r="api");var o=e&&e.length>0;if(o||!yt(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),i=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(r||i){var o=function(a){a.forEach(function(s){if(Ge(s.children)){var u=s;i&&i(u),o(u.children)}else r&&r(s)})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,r=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return void 0!==e.gridColumnsMap[u.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&i){var s=Vc(this.groupAutoColumns.map(function(u){return[u,!0]}));i=i.filter(function(u){return!s.has(u)}),i=Xh(this.groupAutoColumns,i)}this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),uf(r,this.gridBalancedTree)||this.eventService.dispatchEvent({type:H.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(o){return o.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();e!==fe.ROW_MODEL_TYPE_CLIENT_SIDE&&e!==fe.ROW_MODEL_TYPE_SERVER_SIDE&&pn(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},t.prototype.orderGridColsLike=function(e){if(!yt(e)){var r=Vc(e.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(i=!1)}),!i){var o=Vc(this.gridColumns.map(function(c){return[c,!0]})),a=e.filter(function(c){return o.has(c)}),s=Vc(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(d){for(var h=[];!h.length&&d;)d.getLeafColumns().forEach(function(_){var C=u.indexOf(_)>=0,w=h.indexOf(_)<0;C&&w&&h.push(_)}),d=d.getOriginalParent();if(h.length){var m=h.map(function(_){return u.indexOf(_)}),v=Math.max.apply(Math,Xh(m));Uy(u,c,v+1)}else u.push(c)}else u.push(c)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.placeLockedColumns=function(e){var r=[],i=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;"right"===s?o.push(a):"left"===s||!0===s?r.push(a):i.push(a)}),Xh(r,i,o)},t.prototype.addAutoGroupToGridColumns=function(){if(!yt(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:H.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,e)})}else{var l=0;a.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}HP(i,a)}),i.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){r instanceof ia&&r.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof Cn&&r.push(i)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var i;switch(e){case fe.PINNED_LEFT:i=this.viewportRowLeft[r];break;case fe.PINNED_RIGHT:i=this.viewportRowRight[r];break;default:i=this.viewportRowCenter[r]}return yt(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var r=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Cn)c=!0===e[u.getId()];else{var h=u.getDisplayedChildren();h&&(c=r(h,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var r=this.viewportColumns.map(function(o){return o.getId()+"-"+(o.getPinned()||"normal")}).join("#"),i=this.viewportColumnsHash!==r;return i&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var r=this;void 0===e&&(e={});var i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;e.resizingCols&&e.resizingCols.forEach(function(E){var S=r.displayedColumnsCenter.indexOf(E);o<S&&(o=S)});var a=function(E){var S=r.displayedColumnsCenter.indexOf(E)>o;return E.getFlex()&&S},s=this.displayedColumnsCenter.filter(function(E){return!a(E)}),l=this.displayedColumnsCenter.filter(function(E){return a(E)}),u=[];if(!l.length)return[];var d,c=[];e:for(;;){var h=l.reduce(function(E,S){return E+S.getFlex()},0);d=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var p=0;p<l.length;p++){var m=l[p],v=d*m.getFlex()/h,_=0,C=m.getMinWidth(),w=m.getMaxWidth();if(Ge(C)&&v<C?_=C:Ge(w)&&v>w&&(_=w),_){m.setActualWidth(_,i),ra(l,m),u.push(m),s.push(m);continue e}c[p]=Math.round(v)}break}var b=d;return l.forEach(function(E,S){E.setActualWidth(Math.min(c[S],b),i),u.push(E),b-=c[S]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(u,!0,i,l),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),l},t.prototype.sizeColumnsToFit=function(e,r,i,o){void 0===r&&(r="sizeColumnsToFit");var a,s,l,u,d,h,m,C={};o&&(null===(s=null===(a=o)||void 0===a?void 0:a.columnLimits)||void 0===s||s.forEach(function(G){var re=G.key,W=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}(G,["key"]);C["string"==typeof re?re:re.getColId()]=W}));var w=this.getAllDisplayedColumns(),b=e===this.getWidthOfColsInList(w);if(!(e<=0||!w.length||b)){var E=[],S=[];w.forEach(function(G){!0===G.getColDef().suppressSizeToFit?S.push(G):E.push(G)});var O=E.slice(0),R=!1,D=function(G){ra(E,G),S.push(G)};for(E.forEach(function(G){return G.resetActualWidth(r)});!R;){R=!0;var P=e-this.getWidthOfColsInList(S);if(P<=0)E.forEach(function(G){var re,W,ge,Ee=(null===(W=null===(re=C)||void 0===re?void 0:re[G.getId()])||void 0===W?void 0:W.minWidth)??(null===(ge=o)||void 0===ge?void 0:ge.defaultMinWidth);"number"!=typeof Ee?G.setMinimum(r):G.setActualWidth(Ee)});else for(var M=P/this.getWidthOfColsInList(E),B=P,I=E.length-1;I>=0;I--){var U=E[I],le=null===(l=C)||void 0===l?void 0:l[U.getId()],ie=(null===(u=le)||void 0===u?void 0:u.minWidth)??(null===(d=o)||void 0===d?void 0:d.defaultMinWidth),te=(null===(h=le)||void 0===h?void 0:h.maxWidth)??(null===(m=o)||void 0===m?void 0:m.defaultMaxWidth),J=U.getMinWidth()??0,ce=U.getMaxWidth()??Number.MAX_VALUE,de="number"==typeof ie&&ie>J?ie:U.getMinWidth(),_e="number"==typeof te&&te<ce?te:U.getMaxWidth(),ue=Math.round(U.getActualWidth()*M);Ge(de)&&ue<de?(ue=de,D(U),R=!1):Ge(_e)&&ue>_e?(ue=_e,D(U),R=!1):0===I&&(ue=B),U.setActualWidth(ue,r,!0),B-=ue}}O.forEach(function(G){G.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!i&&this.fireColumnResizedEvent(O,!0,r)}},t.prototype.buildDisplayedTrees=function(e){var r=[],i=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":i.push(s);break;default:o.push(s)}});var a=new b8;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,a,fe.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,a,fe.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){r instanceof ia&&r.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||r||e)this.groupAutoColumns=null;else{var s=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=s,!0}return!1},t.prototype.autoColsEqual=function(e,r){return uf(e,r,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(r){return r.getColDef().floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var i=0;i<r.length;i++){var o=this[r[i]]();if(o.length)return e?ar(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,r){e.setAutoHeaderHeight(r)&&this.eventService.dispatchEvent({type:H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Xh([e],r))},So([F("expressionService")],t.prototype,"expressionService",void 0),So([F("columnFactory")],t.prototype,"columnFactory",void 0),So([F("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),So([F("ctrlsService")],t.prototype,"ctrlsService",void 0),So([F("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),So([F("columnUtils")],t.prototype,"columnUtils",void 0),So([F("columnAnimationService")],t.prototype,"columnAnimationService",void 0),So([F("autoGroupColService")],t.prototype,"autoGroupColService",void 0),So([Hn("aggFuncService")],t.prototype,"aggFuncService",void 0),So([Hn("valueCache")],t.prototype,"valueCache",void 0),So([Hn("animationFrameService")],t.prototype,"animationFrameService",void 0),So([F("rowModel")],t.prototype,"rowModel",void 0),So([F("sortController")],t.prototype,"sortController",void 0),So([F("columnDefFactory")],t.prototype,"columnDefFactory",void 0),So([Xe],t.prototype,"init",null),So([s0e(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),So([dt("columnModel")],t)}(ze),d0e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h0e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return d0e(t,n),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var o,r=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),a=tl(e.width),s=tl(e.initialWidth);return o=null!=a?a:null!=s?s:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(o,i),r)},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];c instanceof ii?(a(c.getChildren(),l+1),i[l]=c):c===e&&(o=!0)}};return a(r,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,i){var o=this;r&&r.forEach(function(a){a instanceof ii&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof ia&&i.depthFirstAllColumnTreeSearch(o.getChildren(),r),r(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof ia&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),r),r(o)})},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("columnUtils")],t),t}(ze),p0e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g0e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return p0e(t,n),t.prototype.createDisplayedGroups=function(e,r,i,o,a){var u,c,s=this,l=[],d=this.mapOldGroupsById(a);return e.forEach(function(h){for(var p=s.getOriginalPathForColumn(r,h),m=[],v=!c,_=0;_<p.length;_++)if(v||p[_]!==c[_]){var C=s.createColumnGroup(p[_],i,d,o);m[_]=C,0==_?l.push(C):m[_-1].addChild(C)}else m[_]=u[_];0===m.length?l.push(h):ar(m).addChild(h),u=m,c=p}),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,r,i,o){var a=e.getGroupId(),s=r.getInstanceIdForKey(a),u=i[ia.createUniqueId(a,s)];return u&&u.getProvidedColumnGroup()!==e&&(u=null),Ge(u)?u.reset():(u=new ia(e,a,s,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var r={},i=function(o){o.forEach(function(a){if(a instanceof ia){var s=a;r[a.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var i=this;e.forEach(function(o){if(o.setParent(r),o instanceof ia){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];c instanceof ii?(a(c.getChildren(),l+1),i[l]=c):c===r&&(o=!0)}};return a(e,0),o?i:(console.warn("AG Grid: could not get path"),null)},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("displayedGroupCreator")],t),t}(ze),v0e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y0e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return v0e(t,n),t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(i){return r.addComponent(i)})},t.prototype.addComponent=function(e){var i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("agStackComponentsRegistry")],t),t}(ze),U8=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ky=function(){function n(t,e,r,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,i||0))}return n.fromString=function(t){if(t.indexOf("#")>=0)return n.fromHexString(t);var e=n.nameToHex[t];if(e)return n.fromHexString(e);if(t.indexOf("rgb")>=0)return n.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},n.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+16*i})}if(e.length>=3&&e.every(function(i){return i>=0}))return 3===e.length&&e.push(255),e},n.fromHexString=function(t){var e=n.parseHex(t);if(e){var r=U8(e,4);return new n(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},n.stringToRgba=function(t){for(var e=U8([NaN,NaN],2),r=e[0],i=e[1],o=0;o<t.length;o++){var a=t[o];if(r||"("!==a){if(")"===a){i=o;break}}else r=o}var s=r&&i&&t.substring(r+1,i);if(s){var l=s.split(","),u=[];for(o=0;o<l.length;o++){var c=l[o],d=parseFloat(c);if(isNaN(d))return;c.indexOf("%")>=0?(d=Math.max(0,Math.min(100,d)),d/=100):3===o?d=Math.max(0,Math.min(1,d)):(d=Math.max(0,Math.min(255,d)),d/=255),u.push(d)}return u}},n.fromRgbaString=function(t){var e=n.stringToRgba(t);if(e){if(3===e.length)return new n(e[0],e[1],e[2]);if(4===e.length)return new n(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},n.fromArray=function(t){if(4===t.length)return new n(t[0],t[1],t[2],t[3]);if(3===t.length)return new n(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},n.fromHSB=function(t,e,r,i){void 0===i&&(i=1);var o=n.HSBtoRGB(t,e,r);return new n(o[0],o[1],o[2],i)},n.padHex=function(t){return 1===t.length?"0"+t:t},n.prototype.toHexString=function(){var t="#"+n.padHex(Math.round(255*this.r).toString(16))+n.padHex(Math.round(255*this.g).toString(16))+n.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=n.padHex(Math.round(255*this.a).toString(16))),t},n.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},n.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},n.prototype.toHSB=function(){return n.RGBtoHSB(this.r,this.g,this.b)},n.RGBtoHSB=function(t,e,r){var i=Math.min(t,e,r),o=Math.max(t,e,r),s=NaN;if(i!==o){var l=o-i,u=(o-t)/l,c=(o-e)/l,d=(o-r)/l;s=t===o?d-c:e===o?2+u-d:4+c-u,(s/=6)<0&&(s+=1)}return[360*s,0!==o?(o-i)/o:0,o]},n.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,a=0;if(0===e)i=o=a=r;else{var s=6*(t-Math.floor(t)),l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),d=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=d,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=d;break;case 3:i=u,o=c,a=r;break;case 4:i=d,o=u,a=r;break;case 5:i=r,o=u,a=c}}return[i,o,a]},n.prototype.derive=function(t,e,r,i){var o=n.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&r>1&&(a=.05);var s=((o[0]+t)%360+360)%360,l=Math.max(Math.min(o[1]*e,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=n.HSBtoRGB(s,l,a);return c.push(u),n.fromArray(c)},n.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},n.prototype.darker=function(){return this.derive(0,1,.7,1)},n.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),n}(),w0e=Object.freeze({__proto__:null,stringToArray:function C0e(n,t){void 0===t&&(t=",");var e=[],r=function(h){return"\r"===h||"\n"===h},i=!1;if(""===n)return[[""]];for(var a,s,l,o=function(h,p,m){var v=n[m-1],_=n[m],C=n[m+1],w=function(){e[h]||(e[h]=[]),e[h][p]||(e[h][p]="")};if(w(),'"'===_){if(i)return'"'===C?(e[h][p]+='"',m++):i=!1,a=h,s=p,l=m,"continue";if(void 0===v||v===t||r(v))return i=!0,a=h,s=p,l=m,"continue"}if(!i){if(_===t)return p++,w(),a=h,s=p,l=m,"continue";if(r(_))return p=0,h++,w(),"\r"===_&&"\n"===C&&m++,a=h,s=p,l=m,"continue"}e[h][p]+=_,a=h,s=p,l=m},u=0,c=0,d=0;d<n.length;d++)o(u,c,d),u=a,c=s,d=l;return e}});function fM(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e=t.call(n,fe.INPUT_SELECTOR),r=t.call(n,fe.FOCUSABLE_EXCLUDE),i=Sg(n);return e&&!r&&i}function _r(n,t){n.classList.toggle("ag-hidden",!t)}function z8(n,t){n.classList.toggle("ag-invisible",!t)}function Eg(n,t){var e="disabled",r=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};r(n),wM(n.querySelectorAll("input"),function(i){return r(i)})}function Zh(n,t,e){for(var r=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,"number"==typeof e){if(++r>e)break}else if(n===e)break}return!1}function Qh(n){var t=window.getComputedStyle(n),r=t.width,i=t.paddingTop,o=t.paddingRight,a=t.paddingBottom,s=t.paddingLeft,l=t.marginTop,u=t.marginRight,c=t.marginBottom,d=t.marginLeft,h=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(r),paddingTop:parseFloat(i),paddingRight:parseFloat(o),paddingBottom:parseFloat(a),paddingLeft:parseFloat(s),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(c),marginLeft:parseFloat(d),boxSizing:h}}function Yy(n){var t=Qh(n);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function EE(n){var t=Qh(n);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function hM(n){var t=Qh(n);return Math.ceil(n.offsetHeight+(t.marginBottom+t.marginTop))}function SE(n){var t=Qh(n);return Math.ceil(n.offsetWidth+(t.marginLeft+t.marginRight))}function qy(){if("boolean"==typeof xE)return xE;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(n),n.scrollLeft=1,xE=0===Math.floor(n.scrollLeft),document.body.removeChild(n),xE}function Xy(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),$y()&&!qy()&&(e=n.scrollWidth-n.clientWidth-e)),e}function DE(n,t,e){e&&(qy()?t*=-1:(qh()||$y())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function vs(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Jh(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Sg(n){return null!==n.offsetParent}function so(n){var t=document.createElement("div");return t.innerHTML=(n||"").trim(),t.firstChild}function pM(n){return n&&n.clientHeight?n.clientHeight:0}function mM(n){return n&&n.clientWidth?n.clientWidth:0}function gM(n,t,e){if(!e||e.nextSibling!==t){var r=document.activeElement,i=t.contains(r);e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t),i&&r&&yE()&&r.focus({preventScroll:!0})}}function vM(n,t){for(var e=0;e<t.length;e++){var r=t[e],i=n.children[e];i!==r&&n.insertBefore(r,i)}}function $8(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function _M(n,t){t&&Object.keys(t).forEach(function(e){var r=E8(e);r&&(n.style[r]=t[e])})}function yM(n){return n.clientWidth<n.scrollWidth}function K8(n){return n.clientHeight<n.scrollHeight}function Zy(n,t){"flex"===t?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Gu(n,t)}function Gu(n,t){t=CM(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function ep(n,t){t=CM(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function CM(n){return"number"==typeof n?n+"px":n}function Y8(n){return"function"==typeof Node?n instanceof Node:n&&"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName}function q8(n){return"function"==typeof HTMLElement?n instanceof HTMLElement:n&&wg(n)&&1===n.nodeType&&"string"==typeof n.nodeName}function Qy(n){return Y8(n)||q8(n)}function X8(n){if(null==n)return[];var t=[];return wM(n,function(e){return t.push(e)}),t}function Z8(n,t){if(n)for(var e=0;e<n.length;e++){var r=n[e];t(r.name,r.value)}}function Jy(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e.toString())}function wM(n,t){if(null!=n)for(var e=0;e<n.length;e++)t(n[e])}var O0e=Object.freeze({__proto__:null,radioCssClass:function b0e(n,t,e){for(var r=n.parentElement,i=r&&r.firstChild;i;)t&&i.classList.toggle(t,i===n),e&&i.classList.toggle(e,i!==n),i=i.nextSibling},isFocusableFormField:fM,setDisplayed:_r,setVisible:z8,setDisabled:Eg,isElementChildOfClass:Zh,getElementSize:Qh,getInnerHeight:Yy,getInnerWidth:EE,getAbsoluteHeight:hM,getAbsoluteWidth:SE,isRtlNegativeScroll:qy,getScrollLeft:Xy,setScrollLeft:DE,clearElement:vs,removeElement:function x0e(n,t){Jh(n.querySelector(t))},removeFromParent:Jh,isVisible:Sg,loadTemplate:so,appendHtml:function E0e(n,t){n.lastChild?n.insertAdjacentHTML("afterbegin",t):n.innerHTML=t},getElementAttribute:function S0e(n,t){return n.attributes&&n.attributes[t]?n.attributes[t].value:null},offsetHeight:pM,offsetWidth:mM,ensureDomOrder:gM,setDomChildOrder:vM,insertWithDomOrder:$8,prependDC:function D0e(n,t){Ge(n.firstChild)?n.insertBefore(t,n.firstChild):n.appendChild(t)},addStylesToElement:_M,isHorizontalScrollShowing:yM,isVerticalScrollShowing:K8,setElementWidth:Zy,setFixedWidth:Gu,setElementHeight:function R0e(n,t){"flex"===t?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):ep(n,t)},setFixedHeight:ep,formatSize:CM,isNode:Y8,isElement:q8,isNodeOrElement:Qy,copyNodeList:X8,iterateNamedNodeMap:Z8,setCheckboxState:function T0e(n,t){"boolean"==typeof t?(n.checked=t,n.indeterminate=!1):n.indeterminate=!0},addOrRemoveAttribute:Jy,nodeListForEach:wM}),k0e=Object.freeze({__proto__:null,getNameOfClass:function A0e(n){var e=n.toString(),r=/function (.{1,})\(/.exec(e);return r&&r.length>1?r[1]:""},findLineByLeastSquares:function P0e(n){var t=n.length,e=0;if(t<=1)return n;for(var r=0;r<n.length;r++){var i=n[r],o=i.toString().split("e-");o.length>1?e=Math.max(e,parseInt(o[1],10)):Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,d=0;d<t;d++)a+=d,s+=c=n[d],u+=d*d,l+=d*c;var h=(t*l-a*s)/(t*u-a*a),p=s/t-h*a/t,m=[];for(d=0;d<=t;d++)m.push(parseFloat((d*h+p).toFixed(e)));return m},cssStyleObjectToMarkup:function M0e(n){if(!n)return"";var t=[];return er(n,function(e,r){var i=x8(e);t.push(i+": "+r+";")}),t.join(" ")},message:function I0e(n){var t=document.createElement("div"),e=document.querySelector("#__ag__message");t.innerHTML=n,e||(e=so('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(e)),e.insertBefore(t,e.children[0])},bindCellRendererToHtmlElement:function F0e(n,t){n.then(function(e){var r=e.getGui();null!=r&&("object"==typeof r?t.appendChild(r):t.innerHTML=r)})}});function $i(n,t,e){n.setAttribute(Q8(t),e.toString())}function ff(n,t){n.removeAttribute(Q8(t))}function Q8(n){return"aria-"+n}function oa(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function J8(n){return n.isSortAscending()?"ascending":n.isSortDescending()?"descending":"none"}function e5(n){return parseInt(n.getAttribute("aria-level"),10)}function t5(n){return parseInt(n.getAttribute("aria-posinset"),10)}function tp(n,t){var e="label";null!=t&&""!==t?$i(n,e,t):ff(n,e)}function bM(n,t){var e="labelledby";t?$i(n,e,t):ff(n,e)}function n5(n,t){var e="description";t?$i(n,e,t):ff(n,e)}function xM(n,t){var e="describedby";t?$i(n,e,t):ff(n,e)}function r5(n,t){$i(n,"level",t)}function EM(n,t){$i(n,"disabled",t)}function SM(n,t){t?$i(n,"hidden",!0):ff(n,"hidden")}function _s(n,t){$i(n,"expanded",t)}function o5(n){ff(n,"expanded")}function DM(n,t){$i(n,"setsize",t)}function RM(n,t){$i(n,"posinset",t)}function a5(n,t){$i(n,"multiselectable",t)}function s5(n,t){$i(n,"rowcount",t)}function TM(n,t){$i(n,"rowindex",t)}function l5(n,t){$i(n,"colcount",t)}function OM(n,t){$i(n,"colindex",t)}function u5(n,t){$i(n,"colspan",t)}function c5(n,t){$i(n,"sort",t)}function d5(n){ff(n,"sort")}function Dg(n,t){var e="selected";t?$i(n,e,t):ff(n,e)}function f5(n,t){$i(n,"checked",void 0===t?"mixed":t)}var N0e=Object.freeze({__proto__:null,setAriaRole:oa,getAriaSortState:J8,getAriaLevel:e5,getAriaPosInSet:t5,getAriaDescribedBy:function L0e(n){return n.getAttribute("aria-describedby")||""},setAriaLabel:tp,setAriaLabelledBy:bM,setAriaDescription:n5,setAriaDescribedBy:xM,setAriaLevel:r5,setAriaDisabled:EM,setAriaHidden:SM,setAriaExpanded:_s,removeAriaExpanded:o5,setAriaSetSize:DM,setAriaPosInSet:RM,setAriaMultiSelectable:a5,setAriaRowCount:s5,setAriaRowIndex:TM,setAriaColCount:l5,setAriaColIndex:OM,setAriaColSpan:u5,setAriaSort:c5,removeAriaSort:d5,setAriaSelected:Dg,setAriaChecked:f5}),AM=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function e0(n,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(i){return xg(i,2)}).join(e);return t&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(i){return xg(i,2)}).join(":")),r}var PM=function(n){if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function RE(n,t){void 0===t&&(t="YYYY-MM-DD");var e=xg(n.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return""+n.getFullYear()},MMMM:function(){return r[n.getMonth()]},MMM:function(){return r[n.getMonth()].slice(0,3)},MM:function(){return xg(n.getMonth()+1,2)},Mo:function(){return""+(n.getMonth()+1)+PM(n.getMonth()+1)},M:function(){return""+(n.getMonth()+1)},Do:function(){return""+n.getDate()+PM(n.getDate())},DD:function(){return xg(n.getDate(),2)},D:function(){return""+n.getDate()},dddd:function(){return i[n.getDay()]},ddd:function(){return i[n.getDay()].slice(0,3)},dd:function(){return i[n.getDay()].slice(0,2)},do:function(){return""+n.getDay()+PM(n.getDay())},d:function(){return""+n.getDay()}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function hf(n){if(!n)return null;var t=AM(n.split(" "),2),e=t[0],r=t[1];if(!e)return null;var i=e.split("-").map(function(m){return parseInt(m,10)});if(3!==i.filter(function(m){return!isNaN(m)}).length)return null;var o=AM(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||"00:00:00"===r)return u;var c=AM(r.split(":").map(function(m){return parseInt(m,10)}),3),d=c[0],h=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),p>=0&&p<60&&u.setSeconds(p),u}var B0e=Object.freeze({__proto__:null,serialiseDate:e0,dateToFormattedString:RE,parseDateTimeFromString:hf}),h5={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function nl(n,t,e){var r=gi(n,t,e);if(r&&r.className.indexOf("ag-icon")>-1)return r;var i=document.createElement("span");return i.appendChild(r),i}function gi(n,t,e,r){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[n]),t&&!i){var a=t.getIcons();a&&(i=a[n])}if(!i){var l=document.createElement("span"),u=h5[n];return u||(r?u=n:(console.warn("AG Grid: Did not find icon "+n),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),oa(l,"presentation"),l}var s=void 0;if("function"==typeof i)s=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");s=i}return"string"==typeof s?so(s):Qy(s)?s:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var G0e=Object.freeze({__proto__:null,iconNameClassMap:h5,createIcon:nl,createIconNoSpan:gi}),Le=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.V="KeyV",n.D="KeyD",n.Z="KeyZ",n.Y="KeyY",n}(),V0e="Del",H0e=46,W0e=65,j0e=67,U0e=86,z0e=68,$0e=90,K0e=89;function p5(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var t=1===n.key.length,e=function Y0e(n){return _E()&&n.key===V0e&&n.charCode===H0e}(n);return t||e}function TE(n,t,e,r,i){var o=n.getSuppressKeyboardEventFunc(),a=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o&&!a)return!1;var s={event:t,editing:i,column:r,api:n.getApi(),node:e,data:e.data,colDef:r.getColDef(),context:n.getContext(),columnApi:n.getColumnApi()};return!(!a||!a(s))||!!o&&o(s)}function m5(n,t,e,r){var i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;return!!Ge(o)&&!!o({api:n.getApi(),columnApi:n.getColumnApi(),context:n.getContext(),colDef:i,column:r,headerRowIndex:e,event:t})}function g5(n){var e;switch(n.keyCode){case W0e:e=Le.A;break;case j0e:e=Le.C;break;case U0e:e=Le.V;break;case z0e:e=Le.D;break;case $0e:e=Le.Z;break;case K0e:e=Le.Y;break;default:e=n.code}return e}function v5(n,t){return void 0===t&&(t=!1),n===Le.DELETE||!t&&n===Le.BACKSPACE&&sM()}var q0e=Object.freeze({__proto__:null,isEventFromPrintableCharacter:p5,isUserSuppressingKeyboardEvent:TE,isUserSuppressingHeaderKeyboardEvent:m5,normaliseQwertyAzerty:g5,isDeleteKey:v5});function MM(n,t,e){if(0===e)return!1;var r=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY);return Math.max(r,i)<=e}var X0e=Object.freeze({__proto__:null,areEventsNear:MM}),J0e=Object.freeze({__proto__:null,sortRowNodesByOrder:function Z0e(n,t){if(!n)return!1;for(var e=function(s,l){var u=t[s.id],c=t[l.id],d=void 0!==u,h=void 0!==c;return d&&h?u-c:d||h?d?1:-1:s.__objectId-l.__objectId},o=!1,a=0;a<n.length-1;a++)if(e(n[a],n[a+1])>0){o=!0;break}return!!o&&(n.sort(e),!0)},traverseNodesWithKey:function Q0e(n,t){var e=[];!function r(i){i&&i.forEach(function(o){if(o.group||o.hasChildren()){e.push(o.key);var a=e.join("|");t(o,a),r(o.childrenAfterGroup),e.pop()}})}(n)}});function IM(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var eCe=Object.freeze({__proto__:null,convertToSet:IM}),oi=function(){return oi=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},oi.apply(this,arguments)},St=oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi(oi({},k0e),N0e),bye),$ye),w0e),B0e),O0e),Tye),dye),Kye),tye),G0e),q0e),Bye),X0e),Qye),lye),J0e),eCe),kye),Rg=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}(),np=(()=>(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"}(np||(np={})),np))(),Pa=function(){function n(t){var e=this;this.status=np.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return n.all=function(t){return new n(function(e){var r=t.length,i=new Array(r);t.forEach(function(o,a){o.then(function(s){i[a]=s,0==--r&&e(i)})})})},n.resolve=function(t){return void 0===t&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(r){e.status===np.RESOLVED?r(t(e.resolution)):e.waiters.push(function(i){return r(t(i))})})},n.prototype.resolveNow=function(t,e){return this.status===np.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=np.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}(),nCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FM=function(){return FM=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},FM.apply(this,arguments)},t0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rl=(()=>(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"}(rl||(rl={})),rl))(),kM=function(n){function t(e){var r=n.call(this)||this;return r.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,r.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,r.SHOW_QUICK_TOOLTIP_DIFF=1e3,r.FADE_OUT_TOOLTIP_TIMEOUT=1e3,r.state=rl.NOTHING,r.tooltipInstanceCount=0,r.tooltipMouseTrack=!1,r.parentComp=e,r}return nCe(t,n),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!cf()&&this.state==rl.NOTHING){var r=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.lastMouseEvent=e,this.state=rl.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===rl.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=rl.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===rl.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=rl.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(function(){r(),e.getContext().destroyBean(i)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=FM({},this.parentComp.getTooltipParams());if(Ge(e.value)){this.state=rl.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(r)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,r){if(this.state!==rl.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(r);else{var o=r.getGui();this.tooltipComp=r,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom");var a=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t0([F("popupService")],t.prototype,"popupService",void 0),t0([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t0([F("columnApi")],t.prototype,"columnApi",void 0),t0([F("gridApi")],t.prototype,"gridApi",void 0),t0([Xe],t.prototype,"postConstruct",null),t}(ze),rCe=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1)r.forEach(function(a){return e.addCssClass(a)});else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},n.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1)r.forEach(function(a){return e.removeCssClass(a)});else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},n.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},n.prototype.addOrRemoveCssClass=function(t,e){var r=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1)return void i.forEach(function(s){return r.addOrRemoveCssClass(s,e)})}if(this.cssClassStates[t]!==e&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},n}(),iCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LM=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oCe=new Rg,tn=function(n){function t(e){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=oCe.next(),r.cssClassManager=new rCe(function(){return r.eGui}),e&&r.setTemplate(e),r}return iCe(t,n),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var r=this;this.tooltipText!=e&&(this.tooltipText&&(r.usingBrowserTooltips?r.getGui().removeAttribute("title"):r.tooltipFeature=r.destroyBean(r.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(r.usingBrowserTooltips?r.getGui().setAttribute("title",r.tooltipText):r.tooltipFeature=r.createBean(new kM(r)))))},t.prototype.createChildComponentsFromTags=function(e,r){var i=this;X8(e.childNodes).forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){u.getGui()&&i.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,e,a)}else a.childNodes&&i.createChildComponentsFromTags(a,r)}})},t.prototype.createComponentFromElement=function(e,r,i){var o=e.nodeName,a=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},t.prototype.copyAttributesFromNode=function(e,r){Z8(e.attributes,function(i,o){return r.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,r,i){var o=e.getGui();r.replaceChild(o,i),r.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===r&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);null!=r;){var i=r.__agComponentMetaData,o=dE(r.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return e(a)}),r=Object.getPrototypeOf(r)}},t.prototype.setTemplate=function(e,r){var i=so(e);this.setTemplateFromElement(i,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return r[i.attributeName]=l};if(i.refSelector&&e.eGui.getAttribute("ref")===i.refSelector)o(e.eGui);else{var s=e.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){null!=e&&(r||(r=this.eGui),Qy(e)?r.appendChild(e):r.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,z8(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,_r(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r){var i=this;this.eGui.addEventListener(e,r),this.addDestroyFunc(function(){return i.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",LM([F("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),LM([h8],t.prototype,"preConstructOnComponent",null),LM([h8],t.prototype,"createChildComponentsPreConstruct",null),t}(ze);function Ne(n){return _5.bind(this,"[ref="+n+"]",n)}function _5(n,t,e,r,i){null!==n?"number"!=typeof i?function aCe(n,t,e){var r=function sCe(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}(n,dE(n.constructor));r[t]||(r[t]=[]),r[t].push(e)}(e,"querySelectors",{attributeName:r,querySelector:n,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var lCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uCe=function(n){function t(){return n.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return lCe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+i("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var r=this;e?this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);r.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},y5([Ne("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),y5([F("columnModel")],t.prototype,"columnModel",void 0),t}(tn),C5=function(){function n(t,e,r,i){var o=this;this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(r).newAgStackInstance().then(function(l){o.alive?(o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(l)})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){_r(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},n.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},n}(),NM=function(){return NM=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},NM.apply(this,arguments)},w5=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},n.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(s){return!!s.some(function(l){return null!=e[l]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+s+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(s){return s===e})||[]);var o=e.test,a=NM({},e);null!=o&&null==e.predicate&&(a.predicate=function(s,l){return o(s[0],l)},delete a.test),a.hideFilterInput&&null==a.numberOfInputs&&(a.numberOfInputs=0,delete a.hideFilterInput),t.customFilterOptions[e.displayKey]=a}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}(),cCe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},dCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),BM=function(){return BM=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},BM.apply(this,arguments)},b5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pf=function(n){function t(e,r){void 0===r&&(r={});var i=n.call(this)||this;return i.eFocusableElement=e,i.callbacks=r,i.callbacks=BM({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},r),i}return dCe(t,n),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(i){if(!i.defaultPrevented&&!Nu(i)){if(r.callbacks.shouldStopEventPropagation(i))return void bg(i);i.key===Le.TAB?r.callbacks.onTabKeyDown(i):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",b5([F("focusService")],t.prototype,"focusService",void 0),b5([Xe],t.prototype,"postConstruct",null),t}(ze),fCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OE=function(n){function t(e){var r=n.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.appliedModel=null,r}return fCe(t,n),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new pf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(i,e),(r=this.getGui())&&r.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,r=this.providedFilterParams.buttons;if(!(!r||r.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel"),IM(r).forEach(function(a){return function(a){var s,l;switch(a){case"apply":s=e.translate("applyFilter"),l=function(d){return e.onBtApply(!1,!1,d)};break;case"clear":s=e.translate("clearFilter"),l=function(){return e.onBtClear()};break;case"reset":s=e.translate("resetFilter"),l=function(){return e.onBtReset()};break;case"cancel":s=e.translate("cancelFilter"),l=function(d){e.onBtCancel(d)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var c=so('<button\n                    type="'+("apply"===a?"submit":"button")+'"\n                    ref="'+a+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+s+"\n                </button>");i.appendChild(c),e.addManagedListener(c,"click",l)}(a)}),this.getGui().appendChild(i)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=sf(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){r.updateUiVisibility(),r.applyModel()})},t.prototype.onBtCancel=function(e){var r=this,i=this.getModel(),o=function(){r.onUiChanged(!1,"prevent"),r.providedFilterParams.closeOnApply&&r.close(e)};null!=i?this.setModelIntoUi(i).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var r=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(r,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,r,i){void 0===e&&(e=!1),void 0===r&&(r=!1),i&&i.preventDefault(),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!r&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var o,i=e&&e.key;("Enter"===i||"Space"===i)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var i=this.isModelValid(this.getModelFromUi());Eg(this.getRefElement("applyFilterButton"),!i)}e&&!r||"immediately"===r?this.onBtApply(e):(!this.applyActive&&!r||"debounce"===r)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,cCe[e])},t.prototype.getCellValue=function(e){var r=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:r.api,colDef:r.colDef,column:r.column,columnApi:r.columnApi,context:r.context,data:e.data,getValue:function(u){return e.data[u]},node:e})},x5([F("rowModel")],t.prototype,"rowModel",void 0),x5([Xe],t.prototype,"postConstruct",null),t}(tn),hCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),GM=function(n){function t(e,r){var i=n.call(this,r)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return hCe(t,n),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,i=e.label,o=e.labelWidth,a=e.labelAlignment;null!=r&&this.setLabelSeparator(r),null!=i&&this.setLabel(i),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){vs(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),oa(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),oa(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||Zy(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return Eg(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(tn),mCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jc=function(n){function t(e,r,i){var o=n.call(this,e,r)||this;return o.className=i,o}return mCe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Gu(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e||(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.EVENT_CHANGED="valueChange",t}(GM),gCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E5=function(n){function t(e,r,i,o){var a=n.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(o?'role="'+o+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',r)||this;return a.pickerIcon=i,a.isPickerDisplayed=!1,a.isDestroyingPicker=!1,a.skipClick=!1,a}return gCe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var r=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",r),xM(this.eWrapper,r);var i=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",function(s){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&Sg(e.pickerComponent.getGui())&&o.contains(s.target)&&(e.skipClick=!0)}),this.addManagedListener(o,"keydown",function(s){switch(s.key){case Le.UP:case Le.DOWN:case Le.ENTER:case Le.SPACE:i();case Le.ESCAPE:e.isPickerDisplayed&&s.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var a=gi(this.pickerIcon,this.gridOptionsWrapper);a&&this.eIcon.appendChild(a)}},t.prototype.refreshLabel=function(){Ge(this.getLabel())?bM(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),n.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return tp(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return Zy(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},AE([Ne("eLabel")],t.prototype,"eLabel",void 0),AE([Ne("eWrapper")],t.prototype,"eWrapper",void 0),AE([Ne("eDisplayField")],t.prototype,"eDisplayField",void 0),AE([Ne("eIcon")],t.prototype,"eIcon",void 0),t}(jc),vCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S5=function(n){function t(e){void 0===e&&(e="default");var r=n.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return vCe(t,n),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case Le.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case Le.DOWN:case Le.UP:var o=r===Le.DOWN,a=void 0;if(e.preventDefault(),this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}else a=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(a)}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){var r=e.value,o=Bu(e.text||r);return this.options.push({value:r,text:o}),this.renderOption(r,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,i){RM(r,i+1),DM(r,e.length)})},t.prototype.renderOption=function(e,r){var i=this,o=document.createElement("div");oa(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+r+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===e});if(-1!==i){var o=this.options[i];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(i){return i.value===e.value});-1!==r&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Dg(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Dg(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:jc.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"init",null),t}(tn),yCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),D5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R5=function(n){function t(e){return n.call(this,e,"ag-select","smallDown","listbox")||this}return yCe(t,n),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new S5("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,S5.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,jc.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,r=this.listComponent.getGui(),i=this.gridOptionsWrapper.getDocument(),o=this.addManagedListener(i.body,"wheel",function(u){!r.contains(u.target)&&e.hideList&&e.hideList()}),a=this.addManagedListener(r,"focusout",function(u){!r.contains(u.relatedTarget)&&e.hideList&&e.hideList()}),s=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,a(),o(),e.isAlive()&&(_s(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:s("ariaLabelSelectField","Select Field")});return l&&(this.hideList=l.hideFunc),this.isPickerDisplayed=!0,Zy(r,SE(this.eWrapper)),_s(this.eWrapper,!0),r.style.maxHeight=Yy(this.popupService.getPopupParent())+"px",r.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:r,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,i){return this.value===e?this:(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,r)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),n.prototype.destroy.call(this)},D5([F("popupService")],t.prototype,"popupService",void 0),D5([Xe],t.prototype,"init",null),t}(E5),CCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),VM=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uc=function(n){function t(e,r,i,o){void 0===i&&(i="text"),void 0===o&&(o="input");var a=n.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",r)||this;return a.inputType=i,a.displayFieldTag=o,a}return CCe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,r=e.width,i=e.value;null!=r&&this.setWidth(r),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){Ge(this.getLabel())?bM(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),n.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return Zy(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Jy(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return tp(this.eInput,e),this},t.prototype.setDisabled=function(e){return Eg(this.eInput,e),n.prototype.setDisabled.call(this,e)},VM([Ne("eLabel")],t.prototype,"eLabel",void 0),VM([Ne("eWrapper")],t.prototype,"eWrapper",void 0),VM([Ne("eInput")],t.prototype,"eInput",void 0),t}(jc),wCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Do=(()=>(function(n){n[n.One=0]="One",n[n.Two=1]="Two"}(Do||(Do={})),Do))(),zr=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return wCe(t,n),t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);return r?r.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Do.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Do.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Do.One),condition2:this.createCondition(Do.Two)}:this.createCondition(Do.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var s,i=!e.operator,o=!r.operator;if(!i&&o||i&&!o)return!1;if(i)s=this.areSimpleModelsEqual(e,r);else{var c=e,d=r;s=c.operator===d.operator&&this.areSimpleModelsEqual(c.condition1,d.condition1)&&this.areSimpleModelsEqual(c.condition2,d.condition2)}return s},t.prototype.setModelIntoUi=function(e){if(e.operator){var i=e,o="OR"===i.operator;this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(i.condition1.type),this.eType2.setValue(i.condition2.type),this.setConditionIntoUi(i.condition1,Do.One),this.setConditionIntoUi(i.condition2,Do.Two)}else{var a=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(a.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(a,Do.One),this.setConditionIntoUi(null,Do.Two)}return Pa.resolve()},t.prototype.doesFilterPass=function(e){var r=this,i=this.getModel();if(null==i)return!0;var o=i.operator,a=[];return o?a.push(i.condition1,i.condition2):a.push(i),a[o&&"OR"===o?"some":"every"](function(u){return r.individualConditionPasses(e,u)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.optionsFactory=new w5,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return gs(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,r=this.optionsFactory.getFilterOptions(),i=[this.eType1,this.eType2];r.forEach(function(o){var a="string"==typeof o?e.createBoilerplateListOption(o):e.createCustomListOption(o);i.forEach(function(s){return s.addOption(a)})}),i.forEach(function(o){return o.setDisabled(r.length<=1)})},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:i?this.gridOptionsWrapper.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Do.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Do.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,i=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(o,a){var s=e.isConditionVisible(a),l=e.isConditionDisabled(a);o.forEach(function(u){u instanceof Uc||u instanceof R5?(u.setDisabled(l),u.setDisplayed(s)):(Eg(u,l),_r(u,s))})}),i.forEach(function(o,a){_r(o,e.isConditionBodyVisible(a))}),this.forEachInput(function(o,a,s,l){e.setElementDisplayed(o,a<l),e.setElementDisabled(o,e.isConditionDisabled(s))}),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var r=this.getInputs()[0][0];if(!r)return;r instanceof Uc&&r.getInputElement().focus()}},t.prototype.getPlaceholderText=function(e,r){var i=this.translate(e);if(fE(this.filterPlaceholder)){var o=this.filterPlaceholder,a=0===r?this.eType1.getValue():this.eType2.getValue();i=o({filterOptionKey:a,filterOption:this.translate(a),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,r=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof Uc){var l=0===o&&s>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",u=0===o&&s>1?r("ariaFilterFromValue","Filter from value"):0===o?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(l,a)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,r,i){e instanceof Uc&&e.setValue(null!=r?String(r):null,i)},t.prototype.setElementDisplayed=function(e,r){e instanceof tn&&_r(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof tn&&Eg(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof Uc&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this,i=this.getInputs();this.getConditionTypes().forEach(function(o,a){for(var s=r.getNumberOfInputs(o),l=0;l<i[a].length;l++){var u=i[a][l];null!=u&&e(u,l,a,s)}})},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!(!this.isReadOnly()&&this.isConditionVisible(e))||0!==e&&!this.isConditionUiComplete(e-1)},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var r=this.getConditionTypes()[e];return this.getNumberOfInputs(r)>0},t.prototype.isConditionUiComplete=function(e){return!(this.getConditionTypes()[e]===t.EMPTY||this.getValues(e).some(function(i){return null==i}))},t.prototype.resetUiToDefaults=function(e){var r=this,o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),a="ag-simple-filter-and-or-"+this.getCompId(),s=this.optionsFactory.getDefaultOption();return this.eType1.setValue(s,e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(o).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(a).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(a).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(l){r.setElementValue(l,null,e),r.setElementDisabled(l,r.isReadOnly())}),this.resetPlaceholder(),Pa.resolve()},t.prototype.setConditionIntoUi=function(e,r){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,u){l===r&&i.setElementValue(a,null!=o[s]?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(i,o,a,s){r.setElementValue(i,0===o&&0===a?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var r=function(){return e.onUiChanged()};this.eType1.onValueChange(r),this.eType2.onValueChange(r),this.eJoinOperatorOr.onValueChange(r),this.eJoinOperatorAnd.onValueChange(r),this.forEachInput(function(i){e.attachElementOnChange(i,r)})}},t.prototype.individualConditionPasses=function(e,r){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type);return this.evaluateCustomFilter(a,o,i)??(null==i?this.evaluateNullValue(r.type):this.evaluateNonNullValue(o,i,r,e))},t.prototype.evaluateCustomFilter=function(e,r,i){if(null!=e){var o=e.predicate;if(null!=o&&!r.some(function(a){return null==a}))return o(r,i)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",rp([Ne("eOptions1")],t.prototype,"eType1",void 0),rp([Ne("eOptions2")],t.prototype,"eType2",void 0),rp([Ne("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),rp([Ne("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),rp([Ne("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),rp([Ne("eCondition1Body")],t.prototype,"eCondition1Body",void 0),rp([Ne("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(OE),bCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lo=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return bCe(t,n),t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,i){var o=this.comparator(),a=null!=e[0]?o(e[0],r):0;switch(i.type){case t.EQUALS:return 0===a;case t.NOT_EQUAL:return 0!==a;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:var s=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0;case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(zr),xCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HM=function(){return HM=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},HM.apply(this,arguments)},n0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T5=1e3,O5=1/0,A5=function(n){function t(){var e=n.call(this,"dateFilter")||this;return e.minValidYear=T5,e.maxValidYear=O5,e}return xCe(t,n),t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.dateFrom,o=r.dateTo,a=r.type;return[i&&hf(i)||null,o&&hf(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){return null==r||r<e?-1:r>e?1:0},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.dateFilterParams=e;var r=function(i,o){if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?o:Number(e[i]);console.warn("AG Grid: DateFilter "+i+" is not a number")}return o};this.minValidYear=r("minValidYear",T5),this.maxValidYear=r("maxValidYear",O5),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,r=function(i){return new C5(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},i)};this.dateCondition1FromComp=r(this.eCondition1PanelFrom),this.dateCondition1ToComp=r(this.eCondition1PanelTo),this.dateCondition2FromComp=r(this.eCondition2PanelFrom),this.dateCondition2ToComp=r(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(i){return i.destroy()})})},t.prototype.setElementValue=function(e,r,i){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===Do.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+r+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+r+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+r+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var r=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var o=!0;return this.forEachInput(function(a,s,l,u){l!==e||!o||s>=u||(o=o&&function(a){return null!=a&&a.getUTCFullYear()>=r.minValidYear&&a.getUTCFullYear()<=r.maxValidYear}(a.getDate()))}),o},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=e0(o[0])),o.length>1&&(i.dateTo=e0(o[1])),HM({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(r),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var r=[];return this.forEachInput(function(i,o,a,s){e===a&&o<s&&r.push(i.getDate())}),r},t.DEFAULT_FILTER_OPTIONS=[lo.EQUALS,lo.GREATER_THAN,lo.LESS_THAN,lo.NOT_EQUAL,lo.IN_RANGE,lo.BLANK,lo.NOT_BLANK],n0([Ne("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),n0([Ne("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),n0([Ne("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),n0([Ne("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),n0([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(lo),ECe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ECe(t,n),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(null!=e.operator){var i=e,o=i||{},s=o.condition2,l=this.getTextFromModel(o.condition1),u=this.getTextFromModel(s);return[l,i.operator,u].join(" ")}if(e.type===zr.BLANK||e.type===zr.NOT_BLANK)return this.gridOptionsWrapper.getLocaleTextFunc()(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),p=h||{},m=p.displayKey,v=p.displayName;return m&&v&&0===p.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(m,v),v):this.conditionToString(d,h)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.condition1:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new w5,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},t.prototype.doesFilterHaveSingleInput=function(e){var i=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==i||1==i},t.prototype.isTypeEditable=function(e){var r=[zr.IN_RANGE,zr.EMPTY,zr.BLANK,zr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(tn),SCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WM=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DCe=function(n){function t(){return n.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return SCe(t,n),t.prototype.getDefaultFilterOptions=function(){return A5.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,r){var i=e.type,a=i==zr.IN_RANGE||2===(r||{}).numberOfInputs,s=hf(e.dateFrom),l=hf(e.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat;return a?(null!==s?RE(s,u):"null")+"-"+(null!==l?RE(l,u):"null"):null!=s?RE(s,u):""+i},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){_r(this.eDateWrapper,e),_r(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){if(!this.isEventFromFloatingFilter(r)){n.prototype.setLastTypeFromModel.call(this,e);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?hf(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,i=e0(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var a=hf(i);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.createDateComponent=function(){var e=this,r=OE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i={onDateChanged:sf(this.onDateChanged.bind(this),r),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new C5(this.getContext(),this.userComponentFactory,i,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},WM([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),WM([Ne("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),WM([Ne("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(P5),RCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),OCe=function(n){function t(){return n.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return RCe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsWrapper.getDocument(),o=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(o.type="date"),this.addManagedListener(o,"mousedown",function(){r.eDateInput.isDisabled()||o.focus()}),this.addManagedListener(o,"input",function(u){u.target===i.activeElement&&(r.eDateInput.isDisabled()||e.onDateChanged())});var a=e.filterParams||{},s=a.minValidYear,l=a.maxValidYear;s&&(o.min=s+"-01-01"),l&&(o.max=l+"-12-31")},t.prototype.getDate=function(){return hf(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(e0(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:$y()||aM()},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Ne("eDateInput")],t.prototype,"eDateInput",void 0),t}(tn),ACe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},M5=function(n){function t(){return n.call(this,"numberFilter")||this}return ACe(t,n),t.prototype.mapValuesFromModel=function(e){var r=e||{};return[r.filter??null,r.filterTo??null].slice(0,this.getNumberOfInputs(r.type))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e;var r=this.getAllowedCharPattern();if(r){var i={allowedCharPattern:r};this.resetTemplate({"eValue-index0-1":i,"eValue-index1-1":i,"eValue-index0-2":i,"eValue-index1-2":i})}n.prototype.setParams.call(this,e)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===Do.One?"1":"2",o=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+r+'Body" role="presentation">\n                <'+o+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+r+'"></'+o+">\n                <"+o+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+r+'"></'+o+">\n            </div>"},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachInput(function(o,a,s,l){e===s&&a<l&&i.push(r.stringToFloat(o.getValue()))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var r=af(e);return null!=r&&""===r.trim()&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):null==r||"-"===r.trim()?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||($y()||_E()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[lo.EQUALS,lo.NOT_EQUAL,lo.LESS_THAN,lo.LESS_THAN_OR_EQUAL,lo.GREATER_THAN,lo.GREATER_THAN_OR_EQUAL,lo.IN_RANGE,lo.BLANK,lo.NOT_BLANK],PE([Ne("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),PE([Ne("eValue-index1-1")],t.prototype,"eValueTo1",void 0),PE([Ne("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),PE([Ne("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(lo),PCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ME=function(){return ME=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},ME.apply(this,arguments)},IE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jM=function(n){function t(){return n.call(this,"textFilter")||this}return PCe(t,n),t.trimInput=function(e){var r=e&&e.trim();return""===r?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.textFilterParams=e,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(St.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(r){return e(r.filterOption,r.value,r.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionTypes()[e],i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachInput(function(o,a,s,l){if(e===s&&a<l){var u=af(o.getValue()),c=(r.textFilterParams.trimInput?t.trimInput(u):u)||null;i.push(c),o.setValue(c,!0)}}),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var r=e===Do.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+r+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+r+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+r+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var r=e||{};return[r.filter||null,r.filterTo||null].slice(0,this.getNumberOfInputs(r.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[zr.NOT_EQUAL,zr.NOT_CONTAINS,zr.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,r,i,o){var a=this,s=e.map(function(C){return a.formatter(C)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,p=u.columnApi,m=u.context,v=u.textFormatter;if(i.type===zr.BLANK)return this.isBlank(r);if(i.type===zr.NOT_BLANK)return!this.isBlank(r);var _={api:c,colDef:d,column:h,columnApi:p,context:m,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:v};return s.some(function(C){return a.matcher(ME(ME({},_),{filterText:C}))})},t.DEFAULT_FILTER_OPTIONS=[zr.CONTAINS,zr.NOT_CONTAINS,zr.EQUALS,zr.NOT_EQUAL,zr.STARTS_WITH,zr.ENDS_WITH,zr.BLANK,zr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var i=e.value,o=e.filterText;if(null==o)return!1;switch(e.filterOption){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return 0===i.indexOf(o);case t.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},IE([Ne("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),IE([Ne("eValue-index1-1")],t.prototype,"eValueTo1",void 0),IE([Ne("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),IE([Ne("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(zr),MCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),UM=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return MCe(t,n),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.applyActive=OE.isUseApplyButton(this.params.filterParams);var r=this.params.filterParams.allowedCharPattern;if(null!=r&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:r}}),!this.isReadOnly()){var i=OE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=sf(this.syncUpWithParentFilter.bind(this),i),a=this.eFloatingFilterInput.getGui();this.addManagedListener(a,"input",o),this.addManagedListener(a,"keypress",o),this.addManagedListener(a,"keydown",o)}var s=e.column.getDefinition();(this.isReadOnly()||s.filterParams&&s.filterParams.filterOptions&&1===s.filterParams.filterOptions.length&&"inRange"===s.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var l=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(l+" "+u("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var r=this;if(!this.applyActive||e.key===Le.ENTER){var o=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(o=jM.trimInput(o),this.eFloatingFilterInput.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,o||null)})}},t.prototype.conditionToString=function(e,r){return e.type==zr.IN_RANGE||2===(r||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},UM([F("columnModel")],t.prototype,"columnModel",void 0),UM([Ne("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),UM([Xe],t.prototype,"postConstruct",null),t}(P5),ICe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FCe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ICe(t,n),t.prototype.getDefaultFilterOptions=function(){return M5.DEFAULT_FILTER_OPTIONS},t}(I5),kCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LCe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kCe(t,n),t.prototype.getDefaultFilterOptions=function(){return jM.DEFAULT_FILTER_OPTIONS},t}(I5),ys=function(){function n(t,e){var r=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new lf,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",i,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===r&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},n.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!MM(e,this.touchStart,4)&&(this.moved=!0)}},n.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:n.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},n.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>n.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),NCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ip=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zM=function(n){function t(e){var r=n.call(this)||this;return e||r.setTemplate(t.TEMPLATE),r}return NCe(t,n),t.prototype.attachCustomElements=function(e,r,i,o,a){this.eSortOrder=e,this.eSortAsc=r,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,r){var i=this;void 0===r&&(r=!1),this.column=e,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,r,i){if(null!=r){var o=gi(e,this.gridOptionsWrapper,i);o&&r.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!("asc"===e)),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!("desc"===e)),this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",o||!(null==e))}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup;this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&r&&(this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);this.eSortMixed.classList.toggle("ag-hidden",!e)}},t.prototype.updateSortOrder=function(){var e=this;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,a=i.some(function(l){return e.sortController.getDisplaySortIndexForColumn(l)??!1});_r(this.eSortOrder,o>=0&&a),o>=0?this.eSortOrder.innerHTML=(o+1).toString():vs(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',ip([Ne("eSortOrder")],t.prototype,"eSortOrder",void 0),ip([Ne("eSortAsc")],t.prototype,"eSortAsc",void 0),ip([Ne("eSortDesc")],t.prototype,"eSortDesc",void 0),ip([Ne("eSortMixed")],t.prototype,"eSortMixed",void 0),ip([Ne("eSortNone")],t.prototype,"eSortNone",void 0),ip([F("columnModel")],t.prototype,"columnModel",void 0),ip([F("sortController")],t.prototype,"sortController",void 0),t}(tn),BCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cs=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GCe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return BCe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=g8(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=Bu(this.currentDisplayName);this.eText&&(this.eText.innerHTML=r)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,r,i){if(null!=r){var o=gi(e,this.gridOptionsWrapper,i);o&&r.appendChild(o)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsWrapper;if(!r.isSuppressTouch()){var i=new ys(this.getGui(),!0),o=r.isSuppressMenuHide(),a=o&&Ge(this.eMenu),s=a?new ys(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(s,ys[a?"EVENT_TAP":"EVENT_LONG_TAP"],function(d){r.getApi().showColumnMenuAfterMouseClick(e.params.column,d.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,ys.EVENT_TAP,function(d){o&&e.eMenu.contains(d.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),r=cf()&&e;return this.params.enableMenu&&!r},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Jh(this.eMenu);var r=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",r)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new zM(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var r=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Cn.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var a=e.params.column.isMoving(),s=(new Date).getTime();a||s-e.lastMovingChanged<50||e.params.progressSort(r?o.ctrlKey||o.metaKey:o.shiftKey)});var i=function(){var o;if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var s=null===(o=e.columnModel.getSourceColumnsForGroupColumn(e.params.column))||void 0===o?void 0:o.every(function(u){return e.params.column.getSort()==u.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!s)}};this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Cn.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Cs([F("sortController")],t.prototype,"sortController",void 0),Cs([F("menuFactory")],t.prototype,"menuFactory",void 0),Cs([F("columnModel")],t.prototype,"columnModel",void 0),Cs([Ne("eFilter")],t.prototype,"eFilter",void 0),Cs([Ne("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Cs([Ne("eMenu")],t.prototype,"eMenu",void 0),Cs([Ne("eLabel")],t.prototype,"eLabel",void 0),Cs([Ne("eText")],t.prototype,"eText",void 0),Cs([Ne("eSortOrder")],t.prototype,"eSortOrder",void 0),Cs([Ne("eSortAsc")],t.prototype,"eSortAsc",void 0),Cs([Ne("eSortDesc")],t.prototype,"eSortDesc",void 0),Cs([Ne("eSortMixed")],t.prototype,"eSortMixed",void 0),Cs([Ne("eSortNone")],t.prototype,"eSortNone",void 0),t}(tn),VCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$M=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HCe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return VCe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&pn(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!Nu(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var i=function(a){bg(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,ii.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,ii.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var i=new ys(e,!0);this.addManagedListener(i,ys.EVENT_TAP,r),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var r=this.params.columnGroup.isExpanded();_r(this.eOpenIcon,r),_r(this.eCloseIcon,!r)}else _r(this.eOpenIcon,!1),_r(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var i=gi(e,this.gridOptionsWrapper,null);i&&this.getRefElement(r).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return _r(this.eOpenIcon,!1),void _r(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(Ge(e)){var r=Bu(e);this.getRefElement("agLabel").innerHTML=r}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',$M([F("columnModel")],t.prototype,"columnModel",void 0),$M([Ne("agOpened")],t.prototype,"eOpenIcon",void 0),$M([Ne("agClosed")],t.prototype,"eCloseIcon",void 0),t}(tn),WCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return WCe(t,n),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(tn),jCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zCe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return jCe(t,n),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Ge(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var r=e.key;(r===Le.LEFT||r===Le.UP||r===Le.RIGHT||r===Le.DOWN||e.shiftKey&&r===Le.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Ne("eTextArea")],t.prototype,"eTextArea",void 0),t}(r0),$Ce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},k5=function(n){function t(){var e=n.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return $Ce(t,n),t.prototype.init=function(e){var r=this;if(this.focusAfterAttached=e.cellStartedEdit,yt(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===Le.ENTER;var i=!1;e.values.forEach(function(o){var a={value:o},s=r.valueFormatterService.formatValue(e.column,null,o);a.text=null!=s?s:o,r.eSelect.addOption(a),i=i||e.value===o}),i?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},F5([F("valueFormatterService")],t.prototype,"valueFormatterService",void 0),F5([Ne("eSelect")],t.prototype,"eSelect",void 0),t}(r0),KCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YCe=function(n){function t(){var e=n.call(this)||this;return pn(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return KCe(t,n),t.prototype.isPopup=function(){return!0},t}(k5),qCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KM=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return qCe(t,n),t.prototype.init=function(e){this.params=e;var i,r=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===Le.BACKSPACE||e.eventKey===Le.DELETE?i="":e.charPress?i=e.charPress:(i=this.getStartValue(e),e.eventKey!==Le.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=this.getStartValue(e)),null!=i&&r.setValue(i,!0),null!=e.maxLength&&r.setMaxLength(e.maxLength),this.addManagedListener(r.getGui(),"keydown",function(o){var a=o.key;(a===Le.PAGE_UP||a===Le.PAGE_DOWN)&&o.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.eInput;if(r.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){qh()||r.getFocusableElement().focus();var i=r.getInputElement();if(this.highlightAllOnFocus)i.select();else{var o=r.getValue(),a=Ge(o)&&o.length||0;a&&i.setSelectionRange(a,a)}}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),i=e.getInputElement();r.focus(),i.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Ne("eInput")],t.prototype,"eInput",void 0),t}(r0),ZCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QCe=function(n){function t(){var e=n.call(this)||this;return pn(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return ZCe(t,n),t.prototype.isPopup=function(){return!0},t}(KM),JCe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rwe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return JCe(t,n),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,r){var i=Math.abs(r),o=e.formatValue(i),a=Ge(o)?o:i,s=r>=0;this.eDelta.innerHTML=s?"\u2191"+a:"\u2193"+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),vs(this.eDelta)},t.prototype.refresh=function(e){var r=e.value;return r!==this.lastValue&&(Ge(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:Ge(e.value)?this.eValue.innerHTML=r:vs(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof r&&"number"==typeof this.lastValue&&this.showDelta(e,r-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=r,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([F("filterManager")],t.prototype,"filterManager",void 0),t}(tn),iwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),awe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return iwe(t,n),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=so('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var r=e.value;return yt(r)&&(r=""),r!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=r,Ge(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:Ge(e.value)?this.eCurrent.innerHTML=r:vs(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([F("filterManager")],t.prototype,"filterManager",void 0),t}(tn),Vu=(()=>(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"}(Vu||(Vu={})),Vu))(),un=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(i)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned===fe.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===fe.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var r=Ge(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,r),this.checkRowSelectable();var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!t||t(this))},n.prototype.setRowSelectable=function(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsWrapper.isGroupSelectsChildren())){var r=this.calculateSelectedFromChildren();this.setSelected(r??!1)}},n.prototype.setId=function(t){var e=this.beans.gridOptionsWrapper.getRowIdFunc();if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+n.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!(!Ge(this.rowTop)||!Ge(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=sf(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=!1,e=!0,r=0,i=this.__autoHeights;if(null!=i&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(s){var l=i[s.getId()];null!=l?(e=!1,l>r&&(r=l)):t=!0}),!t&&((e||r<10)&&(r=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),r!=this.rowHeight))){this.setRowHeight(r);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(H.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,r){var i=this.beans.columnModel.getPrimaryColumn(t),o=this.beans.valueService.getValue(i,this),a=this.beans.valueService.setValue(this,i,e,r);return this.dispatchCellChangedEvent(i,e,o),this.checkRowSelectable(),a},n.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);yt(this.groupData)&&(this.groupData={});var i=r.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(r,e,o))},n.prototype.setAggData=function(t){var e=this,r=o8([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&r.forEach(function(o){var a=e.beans.columnModel.getGridColumn(o);e.dispatchCellChangedEvent(a,e.aggData?e.aggData[o]:void 0,i?i[o]:void 0)})},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&ps(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,r){this.dispatchLocalEvent({type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r})},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,i=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(null===l)continue;s=l}switch(s){case!0:e=!0;break;case!1:r=!0;break;default:i=!0}}return i||e&&r?void 0:!!e||!r&&(this.selectable?this.selected:null)},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.setSelected=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:r,rangeSelect:!1})},n.prototype.isRowPinned=function(){return this.rowPinned===fe.PINNED_TOP||this.rowPinned===fe.PINNED_BOTTOM},n.prototype.setSelectedParams=function(t){var e,r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=!0===t.newValue,o=!0===t.clearSelection,a=!0===t.suppressFinishActions,s=!0===t.rangeSelect,l=r&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(s&&this.beans.selectionService.getLastSelectedNode()){var u=this.beans.selectionService.getLastSelectedNode()!==this,c=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(u&&c){var d=this.doRowRangeSelection(t.newValue);return this.beans.selectionService.setLastSelectedNode(this),d}}var h=0;return l&&this.group||this.selectThisNode(i,t.event)&&h++,r&&!(null===(e=this.childrenAfterGroup)||void 0===e)&&e.length&&(h+=this.selectChildNodes(i,l)),a||(i&&(o||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(h+=this.beans.selectionService.clearOtherNodes(this)),h>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:H.EVENT_SELECTION_CHANGED})),i&&this.beans.selectionService.setLastSelectedNode(this)),h},n.prototype.doRowRangeSelection=function(t){var e=this;void 0===t&&(t=!0);var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=this.beans.selectionService.getLastSelectedNode(),o=this.beans.rowModel.getNodesInRangeForSelection(this,i),a=0;return o.forEach(function(l){l.group&&r||!1===t&&e===l||l.selectThisNode(t)&&a++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:H.EVENT_SELECTION_CHANGED}),a},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.selectThisNode=function(t,e){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var o=Object.assign({},this.createGlobalRowEvent(H.EVENT_ROW_SELECTED),{event:e||null});return this.beans.eventService.dispatchEvent(o),!0},n.prototype.selectChildNodes=function(t,e){var r=e?this.childrenAfterAggFilter:this.childrenAfterGroup;if(yt(r))return 0;for(var i=0,o=0;o<r.length;o++)i+=r[o].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return i},n.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new lf),this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,i=!1,o=null;r&&!i;){var a=e.parent;Ge(a)&&e.firstChild?a.rowGroupColumn===t&&(i=!0,o=a):r=!1,e=a}return i?o:null},n.prototype.isFullWidthCell=function(){var t=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},n.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),swe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FE=function(){return FE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},FE.apply(this,arguments)},L5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N5=function(n){function t(){return n.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return swe(t,n),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.rowNode.isSelected(),i=void 0===r?e("ariaIndeterminate","indeterminate"):!0===r?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(r,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},t.prototype.onCheckedClicked=function(e){var r=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r})},t.prototype.onUncheckedClicked=function(e){var r=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:r})},t.prototype.init=function(e){var r=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){bg(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){bg(s);var l=r.eCheckbox.getValue();void 0===r.eCheckbox.getPreviousValue()||void 0===l?0===r.onUncheckedClicked(s||{})&&r.onCheckedClicked(s):l?r.onCheckedClicked(s):r.onUncheckedClicked(s||{})}),this.addManagedListener(this.rowNode,un.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||"function"==typeof this.getIsVisible()){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,un.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e,r,i,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if("function"==typeof s){var l=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,u=null===(r=this.column)||void 0===r?void 0:r.createColumnFunctionCallbackParams(this.rowNode);a=!!u&&s(FE(FE({},l),u))}else a=s??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!a),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(a):this.setVisible(a)},t.prototype.getIsVisible=function(){var e,r;return this.overrides?this.overrides.isVisible:null===(r=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===r?void 0:r.checkboxSelection},L5([Ne("eCheckbox")],t.prototype,"eCheckbox",void 0),L5([Xe],t.prototype,"postConstruct",null),t}(tn),lwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kE=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aa=(()=>(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel"}(aa||(aa={})),aa))(),op=(()=>(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"}(op||(op={})),op))(),jl=(()=>(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"}(jl||(jl={})),jl))(),Ro=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}var e;return lwe(t,n),e=t,t.prototype.init=function(){this.ePinnedIcon=nl("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=nl("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=nl("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=nl("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=nl("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=nl("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=nl("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=nl("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=nl("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(r,i){void 0===i&&(i=!1);var o={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:r}),this.dragService.addDragSource(o,i)},t.prototype.removeDragSource=function(r){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===r});i&&(this.dragService.removeDragSource(i.params),ra(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(i){return r.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,i){this.dragging=!0,this.dragSource=r,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,i){var a,s,l,u,o=this,c=this.getHorizontalDirection(r),d=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var h=this.dropTargets.filter(function(v){return o.isMouseOnDropTarget(r,v)}),p=this.findCurrentDropTarget(r,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(r,c,d,i),null!==this.lastDropTarget&&null===p&&(null===(s=(a=this.dragSource).onGridExit)||void 0===s||s.call(a,this.dragItem)),null===this.lastDropTarget&&null!==p&&(null===(u=(l=this.dragSource).onGridEnter)||void 0===u||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,r,c,d,i),this.lastDropTarget=p;else if(p&&p.onDragging){var m=this.createDropTargetEvent(p,r,c,d,i);p.onDragging(m)}},t.prototype.getAllContainersFromDropTarget=function(r){var i=r.getSecondaryContainers?r.getSecondaryContainers():null,o=[[r.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(r,i){var o,a;try{for(var s=kE(i),l=s.next();!l.done;l=s.next()){var c=l.value.getBoundingClientRect();if(0===c.width||0===c.height)return!1;if(!(r.clientX>=c.left&&r.clientX<c.right&&r.clientY>=c.top&&r.clientY<c.bottom))return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=kE(s),c=u.next();!c.done;c=u.next())if(this.allContainersIntersect(r,c.value)){l=!0;break}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return!(i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement))&&l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(r,i){var o,a,s,l,u=i.length;if(0===u)return null;if(1===u)return i[0];var d=this.gridOptionsWrapper.getDocument().elementsFromPoint(r.clientX,r.clientY);try{for(var h=kE(d),p=h.next();!p.done;p=h.next()){var m=p.value;try{for(var v=(s=void 0,kE(i)),_=v.next();!_.done;_=v.next()){var C=_.value;if(-1!==_8(this.getAllContainersFromDropTarget(C)).indexOf(m))return C}}catch(b){s={error:b}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(b){o={error:b}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(r,i,o,a,s){if(r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,i,o,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,i,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){return this.dropTargets.filter(function(o){return o.external}).find(function(o){return o.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientX,o=r.clientX;return i===o?null:i>o?jl.Left:jl.Right},t.prototype.getVerticalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientY,o=r.clientY;return i===o?null:i>o?op.Up:op.Down},t.prototype.createDropTargetEvent=function(r,i,o,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this;return{event:i,x:i.clientX-u.left,y:i.clientY-u.top,vDirection:a,hDirection:o,dragSource:c.dragSource,fromNudge:s,dragItem:c.dragItem,api:c.gridApi,columnApi:c.columnApi,dropZoneTarget:l}},t.prototype.positionGhost=function(r){var i=this.eGhost;if(i){var a=i.getBoundingClientRect().height,s=F8()-2,l=k8()-2,u=r.pageY-a/2,c=r.pageX-10,d=this.gridOptionsWrapper.getDocument(),h=d.defaultView||window,p=h.pageYOffset||d.documentElement.scrollTop,m=h.pageXOffset||d.documentElement.scrollLeft;s>0&&c+i.clientWidth>s+m&&(c=s+m-i.clientWidth),c<0&&(c=0),l>0&&u+i.clientHeight>l+p&&(u=l+p-i.clientHeight),u<0&&(u=0),i.style.left=c+"px",i.style.top=u+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=so(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;fE(o)&&(o=o()),i.innerHTML=Bu(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsWrapper.getDocument(),s=null;try{s=a.fullscreenElement}catch{}finally{s||(s=a.querySelector("body"))}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,i){void 0===i&&(i=!1),vs(this.eGhostIcon);var o=null;switch(r||(r=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),(o!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',mf([F("dragService")],t.prototype,"dragService",void 0),mf([F("mouseEventService")],t.prototype,"mouseEventService",void 0),mf([F("environment")],t.prototype,"environment",void 0),mf([F("columnApi")],t.prototype,"columnApi",void 0),mf([F("gridApi")],t.prototype,"gridApi",void 0),mf([Xe],t.prototype,"init",null),mf([Eo],t.prototype,"clearDragSourceParamsList",null),e=mf([dt("dragAndDropService")],t)}(ze),LE=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NE=function(n){function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=r,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return LE(t,n),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(gi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new cwe(this,this.beans,this.rowNode,this.column):new uwe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return-1!==r.indexOf(this.rowNode)?r:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&pn(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.addDragSource=function(e){var r=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var i=this.gridOptionsWrapper.getRowDragText(this.column),o=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:aa.RowDrag,eElement:this.getGui(),dragItemName:function(){var a,s=r.getDragItem(),l=(null===(a=s.rowNodes)||void 0===a?void 0:a.length)||1;return i?i(s,l):1===l?r.cellValueFn():l+" "+o("rowDragRows","rows")},getDragItem:function(){return r.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},o0([F("beans")],t.prototype,"beans",void 0),o0([Xe],t.prototype,"postConstruct",null),o0([Eo],t.prototype,"removeDragSource",null),t}(tn),B5=function(n){function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.rowNode=r,o.column=i,o}return LE(t,n),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var r=!0,i=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=fE(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0),this.parent.setVisible(r)):(this.parent.setDisplayed(r),this.parent.setVisible(!0))}},t}(ze),uwe=function(n){function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return LE(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},o0([Xe],t.prototype,"postConstruct",null),t}(B5),cwe=function(n){function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return LE(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,H.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var r=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=r&&r.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),a=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!a||o)},o0([Xe],t.prototype,"postConstruct",null),t}(B5),dwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),BE=function(){return BE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},BE.apply(this,arguments)},Tg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fwe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return dwe(t,n),t.prototype.init=function(e,r,i,o,a,s,l){this.params=l,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var u=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),d=null==l.value,h=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var p=l.node;p.footer&&(h=(l.colDef&&l.colDef.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))}this.cellIsBlank=!u&&(c||d||h),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){_s(i,!!r.expanded)};this.expandListener=this.addManagedListener(r,un.EVENT_EXPANDED_CHANGED,o)||null,o()}else o5(i)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===fe.PINNED_LEFT,r=this.params.pinned===fe.PINNED_RIGHT,i=!e&&!r;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!r:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var i=r.parent;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}yt(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(r.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var s=null!=e.groupData[r.getId()];this.showingValueForOpenedParent=s}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(e);this.comp.setInnerRenderer(r,e.valueFormatted??e.value)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;if(null!=r&&!r.isRowGroupDisplayed(e.getId()))return this.params;var a=this.params,s=this.params,c=this.valueFormatterService.formatValue(e,s.node,s.value);return BE(BE({},a),{valueFormatted:c})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var i=kP(this.params);i.value=this.params.value,"function"==typeof e?r=e(i):"string"==typeof e?r=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else r="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==r.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,un.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow();this.comp.setChildCount(r&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column;return null==r||r.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,r=gi("groupExpanded",this.gridOptionsWrapper,null),i=gi("groupContracted",this.gridOptionsWrapper,null);r&&this.eExpanded.appendChild(r),i&&this.eContracted.appendChild(i);var o=e.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,un.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,un.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,un.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,un.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,un.EVENT_HAS_CHILDREN_CHANGED,a)},t.prototype.onExpandClicked=function(e){Nu(e)||(bg(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,i=!r.expanded;!i&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||r)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,i=e.displayedGroupNode,o=e.columnModel,a=e.params.node,s=this.isExpandable();if(s){var l=!!this.showingValueForOpenedParent||a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=s&&!c,h=a.footer&&-1===a.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,un.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,r=e.node,i=!!e.colDef,o=this.gridOptionsWrapper.isTreeData(),s=!i||o||!0===e.colDef.showRowGroup?r.uiLevel:0;e.padding>=0&&pn(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var r=new NE(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,i=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(i){var o=new N5;this.getContext().createBean(o),o.init({rowNode:r,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){e.key!==Le.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){Nu(e)||gE(this.eExpanded,e)||gE(this.eContracted,e)||this.onExpandOrContract(e)},Tg([F("expressionService")],t.prototype,"expressionService",void 0),Tg([F("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Tg([F("columnModel")],t.prototype,"columnModel",void 0),Tg([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Tg([F("gridOptions")],t.prototype,"gridOptions",void 0),Tg([F("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(ze),hwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G5=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return hwe(t,n),t.prototype.init=function(e){var r=this,i={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return _r(r.eContracted,l)},setExpandedDisplayed:function(l){return _r(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new fwe),a=!e.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&oa(s,"gridcell")},t.prototype.setRenderDetails=function(e,r){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',a0([Ne("eExpanded")],t.prototype,"eExpanded",void 0),a0([Ne("eContracted")],t.prototype,"eContracted",void 0),a0([Ne("eCheckbox")],t.prototype,"eCheckbox",void 0),a0([Ne("eValue")],t.prototype,"eValue",void 0),a0([Ne("eChildCount")],t.prototype,"eChildCount",void 0),t}(tn),pwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),V5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mwe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return pwe(t,n),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=gi("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',V5([Ne("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),V5([Ne("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(tn),gwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vwe=function(n){function t(){return n.call(this)||this}return gwe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(tn),_we=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ywe=function(n){function t(){return n.call(this)||this}return _we(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,i=this.gridOptionsWrapper.getLocaleTextFunc(),o=r.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(tn),Cwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wwe=function(n){function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return Cwe(t,n),t.prototype.init=function(e){var r=e.value;this.getGui().innerHTML=Bu(r)},t}(r0),bwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),GE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xwe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:OCe,agColumnHeader:GCe,agColumnGroupHeader:HCe,agSortIndicator:zM,agTextColumnFloatingFilter:LCe,agNumberColumnFloatingFilter:FCe,agDateColumnFloatingFilter:DCe,agReadOnlyFloatingFilter:uCe,agAnimateShowChangeCellRenderer:rwe,agAnimateSlideCellRenderer:awe,agGroupCellRenderer:G5,agGroupRowRenderer:G5,agLoadingCellRenderer:mwe,agCellEditor:KM,agTextCellEditor:KM,agSelectCellEditor:k5,agPopupTextCellEditor:QCe,agPopupSelectCellEditor:YCe,agLargeTextCellEditor:zCe,agTextColumnFilter:jM,agNumberColumnFilter:M5,agDateColumnFilter:A5,agLoadingOverlay:vwe,agNoRowsOverlay:ywe,agTooltipComponent:wwe},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return bwe(t,n),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&er(this.gridOptions.components,function(r,i){return e.registerJsComponent(r,i)}),null!=this.gridOptions.frameworkComponents&&er(this.gridOptions.frameworkComponents,function(r,i){return e.registerFwComponent(r,i)})},t.prototype.registerDefaultComponent=function(e,r){var i=this.translateIfDeprecated(e);this.agGridDefaults[i]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[i]=r},t.prototype.registerJsComponent=function(e,r){var i=this.translateIfDeprecated(e);this.fwComps[i]?console.error("Trying to register a component that you have already registered for frameworks: "+i):this.jsComps[i]=r},t.prototype.registerFwComponent=function(e,r){pn(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var o=this.translateIfDeprecated(e);this.fwComps[o]=r},t.prototype.retrieve=function(e){var r=this.translateIfDeprecated(e),i=function(c,d){return{componentFromFramework:d,component:c}},o=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(null!=o)return i(o,!0);var a=this.fwComps[r];if(a)return i(a,!0);var s=this.jsComps[r];if(s)return i(s,this.getFrameworkOverrides().isFrameworkComponent(s));var u=this.agGridDefaults[r];return u?i(u,!1):(Object.keys(this.agGridDefaults).indexOf(r)<0&&console.warn("AG Grid: Looking for component ["+r+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var r=this.agDeprecatedNames[e];return null!=r?(pn(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+r.propertyHolder+":"+e+" to "+r.propertyHolder+":"+r.newComponentName)},"DEPRECATE_COMPONENT_"+e),r.newComponentName):e},GE([F("gridOptions")],t.prototype,"gridOptions",void 0),GE([F("agComponentUtils")],t.prototype,"agComponentUtils",void 0),GE([Xe],t.prototype,"init",null),GE([dt("userComponentRegistry")],t)}(ze),Ewe={propertyName:"dateComponent",cellRenderer:!1},Swe={propertyName:"headerComponent",cellRenderer:!1},Dwe={propertyName:"headerGroupComponent",cellRenderer:!1},H5={propertyName:"cellRenderer",cellRenderer:!0},Rwe={propertyName:"cellEditor",cellRenderer:!1},W5={propertyName:"innerRenderer",cellRenderer:!0},Twe={propertyName:"loadingOverlayComponent",cellRenderer:!1},Owe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Awe={propertyName:"tooltipComponent",cellRenderer:!1},YM={propertyName:"filter",cellRenderer:!1},Pwe={propertyName:"floatingFilterComponent",cellRenderer:!1},Mwe={propertyName:"toolPanel",cellRenderer:!1},Iwe={propertyName:"statusPanel",cellRenderer:!1},Fwe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},kwe={propertyName:"loadingCellRenderer",cellRenderer:!0},Lwe={propertyName:"groupRowRenderer",cellRenderer:!0},Nwe={propertyName:"detailCellRenderer",cellRenderer:!0},Bwe=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),Gwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Og=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vwe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Gwe(t,n),t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,Swe,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,Dwe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Fwe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,kwe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Lwe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Nwe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,W5,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,W5,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,H5,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,Rwe,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,i){return this.getCompDetails(e,YM,i,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Ewe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Twe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Owe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Awe,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,H5,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,i){return this.getCompDetails(e,Pwe,i,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,Mwe,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,Iwe,null,r,!0)},t.prototype.getCompDetails=function(e,r,i,o,a){var s=this;void 0===a&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(e,r,o),d=c.compName,h=c.jsComp,p=c.fwComp,m=c.paramsFromSelector,v=c.popupFromSelector,_=c.popupPositionFromSelector,C=function(S){var O=s.userComponentRegistry.retrieve(S);O&&(h=O.componentFromFramework?void 0:O.component,p=O.componentFromFramework?O.component:void 0)};if(null!=d&&C(d),null==h&&null==p&&null!=i&&C(i),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),h||p){var w=this.mergeParamsWithApplicationProvidedParams(e,r,o,m),b=null==h,E=h||p;return{componentFromFramework:b,componentClass:E,params:w,type:r,popupFromSelector:v,popupPositionFromSelector:_,newAgStackInstance:function(){return s.newAgStackInstance(E,b,w,r)}}}a&&console.error("Could not find component "+d+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,r,i){var s,l,u,c,d,h,o=this,a=r.propertyName;if(e){var p=e,m=p[a+"Selector"],v=m?m(i):null,_=function(w,b){var E=function(){var O="AG Grid: As of v27, the property "+a+"Framework is deprecated. The property "+a+" can now be used for JavaScript AND Framework Components.";pn(function(){return console.warn(O)},"UserComponentFactory."+a+"FrameworkDeprecated")};"string"==typeof w?s=w:"string"==typeof b?(E(),s=b):null!=w&&!0!==w?o.getFrameworkOverrides().isFrameworkComponent(w)?u=w:l=w:null!=b&&(E(),u=b)};if(v){if(null!=v.frameworkComponent){var C="AG Grid: As of v27, the return for "+a+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";pn(function(){return console.warn(C)},"UserComponentFactory."+a+"FrameworkSelectorDeprecated"),_(v.frameworkComponent,void 0)}else _(v.component,void 0);c=v.params,d=v.popup,h=v.popupPosition}else _(p[a],p[a+"Framework"])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},t.prototype.newAgStackInstance=function(e,r,i,o){var l;if(r){var u=this.componentMetadataProvider.retrieve(o.propertyName);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}else l=new e;var c=this.initComponent(l,i);return null==c?Pa.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,i,o){void 0===o&&(o=null);var a={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};ms(a,i);var l=e&&e[r.propertyName+"Params"];return"function"==typeof l?ms(a,l(i)):"object"==typeof l&&ms(a,l),ms(a,o),a},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),null!=e.init)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var r=null,i=this.getCompKeys(e,YM),o=i.compName,a=i.jsComp,s=i.fwComp;return o?r=Bwe.getFloatingFilterType(o):null==a&&null==s&&!0===e.filter&&(r=Vt.isRegistered(At.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),r},Og([F("gridOptions")],t.prototype,"gridOptions",void 0),Og([F("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Og([F("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),Og([F("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),Og([Hn("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),Og([dt("userComponentFactory")],t)}(ze),Ag=(()=>(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"}(Ag||(Ag={})),Ag))(),Hwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wwe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Hwe(t,n),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement;r.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&r.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(i){return i.dragSource===e});r&&(this.removeListener(r),ra(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,r){var i=this;void 0===r&&(r=!1);var o=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",o);var a=null,s=this.gridOptionsWrapper.isSuppressTouch();r&&!s&&e.eElement.addEventListener("touchstart",a=function(l){fM(l.target)||(l.cancelable&&l.preventDefault(),i.onTouchStart(e,l))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:a,touchEnabled:r})},t.prototype.onTouchStart=function(e,r){var i=this;this.currentDragParams=e,this.dragging=!1;var o=r.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return i.onTouchUp(d,e.eElement)},u=r.target,c=[{target:document,type:"touchmove",listener:function(d){d.cancelable&&d.preventDefault()},options:{passive:!1}},{target:u,type:"touchmove",listener:function(d){return i.onTouchMove(d,e.eElement)},options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var i=this,o=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==r.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r;var a=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:a,type:"mousemove",listener:function(h){return i.onMouseMove(h,e.eElement)}},{target:a,type:"mouseup",listener:function(h){return i.onMouseUp(h,e.eElement)}},{target:a,type:"contextmenu",listener:function(h){return h.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){r.target.addEventListener(r.type,r.listener,r.options)}),this.dragEndFunctions.push(function(){e.forEach(function(r){r.target.removeEventListener(r.type,r.listener,r.options)})})},t.prototype.isEventNearStartEvent=function(e,r){var i=this.currentDragParams.dragStartPixels;return MM(e,r,Ge(i)?i:4)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0,this.eventService.dispatchEvent({type:H.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){(this.gridOptionsWrapper.isEnableCellTextSelect()||qh())&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.isOverFormFieldElement=function(e){var r,i;return!(null===(i=null===(r=e.target)||void 0===r?void 0:r.tagName.toLocaleLowerCase())||void 0===i||!i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,r){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:H.EVENT_DRAG_STOPPED,target:r})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},s0([F("loggerFactory")],t.prototype,"loggerFactory",void 0),s0([F("mouseEventService")],t.prototype,"mouseEventService",void 0),s0([Xe],t.prototype,"init",null),s0([Eo],t.prototype,"removeAllListeners",null),s0([dt("dragService")],t)}(ze),jwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),VE=function(){return VE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},VE.apply(this,arguments)},gf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uwe=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.allColumnFilters=new Map,r.activeAggregateFilters=[],r.activeColumnFilters=[],r.quickFilter=null,r.quickFilterParts=null,r.processingFilterChange=!1,r}var e;return jwe(t,n),e=t,t.prototype.init=function(){var r=this;this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(r){var i=this,o=[],a=this.getFilterModel();if(r){var s=IM(Object.keys(r));this.allColumnFilters.forEach(function(l,u){o.push(i.setModelOnFilterWrapper(l.filterPromise,r[u])),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(u)if(u.isFilterAllowed()){var c=i.getOrCreateFilterWrapper(u,"NO_UI");c?o.push(i.setModelOnFilterWrapper(c.filterPromise,r[l])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+l)})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Pa.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){St.jsonEquals(a?a[d]:null,l?l[d]:null)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u})})},t.prototype.setModelOnFilterWrapper=function(r,i){return new Pa(function(o){r.then(function(a){"function"!=typeof a.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),o()),(a.setModel(i)||Pa.resolve()).then(function(){return o()})})})},t.prototype.getFilterModel=function(){var r={};return this.allColumnFilters.forEach(function(i,o){var s=i.filterPromise.resolveNow(null,function(u){return u});if(null==s)return null;if("function"==typeof s.getModel){var l=s.getModel();Ge(l)&&(r[o]=l)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),r},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.doAggregateFiltersPass=function(r,i){return this.doColumnFiltersPass(r,i,!0)},t.prototype.updateActiveFilters=function(){var r=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(s){return!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},o=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,i)){var l=s.filterPromise.resolveNow(null,function(u){return u});!function(s){if(!s.isPrimary())return!0;var u=!r.columnModel.isPivotActive();return!(!s.isValueActive()||!u)&&(!!r.columnModel.isPivotMode()||o)}(s.column)?r.activeColumnFilters.push(l):r.activeAggregateFilters.push(l)}})},t.prototype.updateFilterFlagInColumns=function(r,i){this.allColumnFilters.forEach(function(o){var a=o.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});o.column.setFilterActive(a,r,i)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(r,i,o){for(var l=o?this.activeAggregateFilters:this.activeColumnFilters,u=o?r.aggData:r.data,c=0;c<l.length;c++){var d=l[c];if(null!=d&&d!==i){if("function"!=typeof d.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!d.doesFilterPass({node:r,data:u}))return!1}}return!0},t.prototype.parseQuickFilter=function(r){return Ge(r)?this.gridOptionsWrapper.isRowModelDefault()?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(null==r||"string"==typeof r){var i=this.parseQuickFilter(r);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof r)},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(r){var i=this;void 0===r&&(r={});var o=function(){return i.onFilterChanged(r)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},t.prototype.onFilterChanged=function(r){void 0===r&&(r={});var i=r.filterInstance,o=r.additionalEventAttributes,a=r.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={type:H.EVENT_FILTER_CHANGED,columns:a||[]};o&&ms(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(r,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:r})},t.prototype.doesRowPassQuickFilterNoCache=function(r,i){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(s){var l=o.getQuickFilterTextForColumn(s,r);return Ge(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,i){return r.quickFilterAggregateText||this.aggregateRowForQuickFilter(r),r.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilter=function(r){var i=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(r,a):i.doesRowPassQuickFilterNoCache(r,a)})},t.prototype.doesRowPassAggregateFilters=function(r){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(r.rowNode,r.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(r){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(r.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(r.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(r.rowNode,r.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(r,i){var o=this.valueService.getValue(r,i,!0),a=r.getColDef();if(a.getQuickFilterText){var s={value:o,node:i,data:i.data,column:r,colDef:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};o=a.getQuickFilterText(s)}return Ge(o)?o.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(r){var i=this,o=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(s){var l=i.getQuickFilterTextForColumn(s,r);Ge(l)&&o.push(l)}),r.quickFilterAggregateText=o.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(r){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(o){o.onNewRowsLoaded&&o.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(r),this.updateActiveFilters()},t.prototype.createValueGetter=function(r){var i=this;return function(o){return i.valueService.getValue(r,o.node,!0)}},t.prototype.getFilterComponent=function(r,i,o){var a;if(void 0===o&&(o=!0),o)return(null===(a=this.getOrCreateFilterWrapper(r,i))||void 0===a?void 0:a.filterPromise)||null;var s=this.cachedFilter(r);return s?s.filterPromise:null},t.prototype.isFilterActive=function(r){var i=this.cachedFilter(r);return!!i&&i.filterPromise.resolveNow(!1,function(o){return o.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(r,i){if(!r.isFilterAllowed())return null;var o=this.cachedFilter(r);return o?"NO_UI"!==i&&this.putIntoGui(o,i):(o=this.createFilterWrapper(r,i),this.allColumnFilters.set(r.getColId(),o)),o},t.prototype.cachedFilter=function(r){return this.allColumnFilters.get(r.getColId())},t.prototype.createFilterInstance=function(r){var s,i=this,o=Vt.isRegistered(At.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",a=r.getColDef(),l=VE(VE({},this.createFilterParams(r,a)),{filterModifiedCallback:function(){i.eventService.dispatchEvent({type:H.EVENT_FILTER_MODIFIED,column:r,filterInstance:s})},filterChangedCallback:function(d){i.callOnFilterChangedOutsideRenderCycle({filterInstance:s,additionalEventAttributes:d,columns:[r]})},doesRowPassOtherFilter:function(d){return i.doesRowPassOtherFilters(s,d)}}),u=this.userComponentFactory.getFilterDetails(a,l,o);if(!u)return null;var c=u.newAgStackInstance();return c&&c.then(function(d){return s=d}),c},t.prototype.createFilterParams=function(r,i){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:r,colDef:kP(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(r),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},t.prototype.createFilterWrapper=function(r,i){var o={column:r,filterPromise:null,compiledElement:null,guiPromise:Pa.resolve(null)};return o.filterPromise=this.createFilterInstance(r),o.filterPromise&&this.putIntoGui(o,i),o},t.prototype.putIntoGui=function(r,i){var o=this,a=document.createElement("div");a.className="ag-filter",r.guiPromise=new Pa(function(s){r.filterPromise.then(function(l){var u=l.getGui();Ge(u)||console.warn("AG Grid: getGui method from filter returned "+u+", it should be a DOM element or an HTML template string."),"string"==typeof u&&(u=so(u)),a.appendChild(u),s(a),o.eventService.dispatchEvent({type:H.EVENT_FILTER_OPENED,column:r.column,source:i,eGui:a})})})},t.prototype.onColumnsChanged=function(){var r=this,i=[];this.allColumnFilters.forEach(function(o,a){!(o.column.isPrimary()?r.columnModel.getPrimaryColumn(a):r.columnModel.getGridColumn(a))&&(i.push(o.column),r.disposeFilterWrapper(o,"filterDestroyed"))}),i.length>0&&this.onFilterChanged({columns:i})},t.prototype.destroyFilter=function(r,i){void 0===i&&(i="api");var o=this.allColumnFilters.get(r.getColId());o&&(this.disposeFilterWrapper(o,i),this.onFilterChanged({columns:[r]}))},t.prototype.disposeFilterWrapper=function(r,i){var o=this;r.filterPromise.then(function(a){(a.setModel(null)||Pa.resolve()).then(function(){o.getContext().destroyBean(a),r.column.setFilterActive(!1,i),o.allColumnFilters.delete(r.column.getColId())})})},t.prototype.destroy=function(){var r=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return r.disposeFilterWrapper(i,"filterDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",gf([F("valueService")],t.prototype,"valueService",void 0),gf([F("columnModel")],t.prototype,"columnModel",void 0),gf([F("rowModel")],t.prototype,"rowModel",void 0),gf([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),gf([F("rowRenderer")],t.prototype,"rowRenderer",void 0),gf([Xe],t.prototype,"init",null),gf([Eo],t.prototype,"destroy",null),e=gf([dt("filterManager")],t)}(ze),zwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qM=function(n){function t(e,r){var i=n.call(this,e)||this;return i.ctrl=r,i}return zwe(t,n),t.prototype.getCtrl=function(){return this.ctrl},t}(tn),$we=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kwe=function(n){function t(e){return n.call(this,t.TEMPLATE,e)||this}return $we(t,n),t.prototype.postConstruct=function(){var e=this,r=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},addOrRemoveButtonWrapperCssClass:function(o,a){return e.eButtonWrapper.classList.toggle(o,a)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return r.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}},r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return r.afterCompCreated(i)})},t.prototype.afterCompCreated=function(e){var r=this;e&&(this.addDestroyFunc(function(){return r.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',HE([Ne("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),HE([Ne("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),HE([Ne("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),HE([Xe],t.prototype,"postConstruct",null),t}(qM),Ywe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),j5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vi=(()=>(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"}(vi||(vi={})),vi))(),XM=function(n){function t(e){var r=n.call(this)||this;return r.view=e,r}return Ywe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),r={autoHeight:e===fe.DOM_LAYOUT_AUTO_HEIGHT,normal:e===fe.DOM_LAYOUT_NORMAL,print:e===fe.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(r.autoHeight?vi.AUTO_HEIGHT:r.print?vi.PRINT:vi.NORMAL,r)},j5([F("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),j5([Xe],t.prototype,"postConstruct",null),t}(ze),qwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xwe=function(n){function t(e){var r=n.call(this)||this;return r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.eBodyViewport=e,r.resetLastHorizontalScrollElementDebounced=sf(r.resetLastHorizontalScrollElement.bind(r),500),r}return qwe(t,n),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var r=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?sf(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",r)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),a.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement();DE(this.lastHorizontalScrollElement===c?l.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingScroll(e)&&this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",r.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Xy(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var i=Xy(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var r=this,i={type:H.EVENT_BODY_SCROLL,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Object.assign({},i,{type:H.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,i){if(void 0===i&&(i=!1),i&&!cf())return!1;if("vertical"===e){var o=Yy(this.eBodyViewport);if(r<0||r+o>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===e){var s=this.centerRowContainerCtrl.getCenterWidth(),l=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&qy()){if(r>0)return!0}else if(r<0)return!0;if(Math.abs(r)+s>l)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&qy()?e>0?0:i:Math.min(Math.max(e,0),i)),DE(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){void 0===r&&(r=null);for(var i=this.rowModel.getRowCount(),o=-1,a=0;a<i;a++){var s=this.rowModel.getRow(a);if("function"==typeof e){if(s&&e(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,r)},t.prototype.ensureIndexVisible=function(e,r){if(this.gridOptionsWrapper.getDomLayout()!==fe.DOM_LAYOUT_PRINT){var i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("invalid row index for ensureIndexVisible: "+e);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var c,l=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),u=this.paginationProxy.getRow(e);do{var d=u.rowTop,h=u.rowHeight,p=this.paginationProxy.getPixelOffset(),m=u.rowTop-p,v=m+u.rowHeight,_=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),w=_.top+C,b=_.bottom+C,E=b-w,S=this.heightScaler.getScrollPositionForPixel(m),O=this.heightScaler.getScrollPositionForPixel(v-E),R=Math.min((S+O)/2,m),M=null;"top"===r?M=S:"bottom"===r?M=O:"middle"===r?M=R:w+l>m?M=S-l:b<v&&(M=O),null!==M&&(this.eBodyViewport.scrollTop=M,this.rowRenderer.redrawAfterScroll()),c=d!==u.rowTop||h!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,r){void 0===r&&(r="auto");var i=this.columnModel.getGridColumn(e);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,r);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,r){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,d=u?a:o;"auto"!==r&&(c="start"===r,d="end"===r);var h="middle"===r;if(c||d||h){var p=this.getColumnBounds(e),m=p.colLeft,_=p.colRight;return h?p.colMiddle-l/2:c?u?_:m:u?m-l:_-l}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),i=r.start,o=r.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,u=this.enableRtl;return{columnBeforeStart:u?i>l:o<l,columnAfterEnd:u?o<s:i>s}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=r?-1:1,l=r?i-a:a;return{colLeft:l,colMiddle:l+o/2*s,colRight:l+o*s}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:r,end:e+r,width:e}},vf([F("ctrlsService")],t.prototype,"ctrlsService",void 0),vf([F("animationFrameService")],t.prototype,"animationFrameService",void 0),vf([F("paginationProxy")],t.prototype,"paginationProxy",void 0),vf([F("rowModel")],t.prototype,"rowModel",void 0),vf([F("rowContainerHeightService")],t.prototype,"heightScaler",void 0),vf([F("rowRenderer")],t.prototype,"rowRenderer",void 0),vf([F("columnModel")],t.prototype,"columnModel",void 0),vf([Xe],t.prototype,"postConstruct",null),t}(ze),Zwe=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){void 0===e&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!r||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!r,this.tickDown=t.clientY>i.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),Qwe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZM=function(){return ZM=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},ZM.apply(this,arguments)},il=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jwe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tbe=function(n){function t(e){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=e,r}return Qwe(t,n),t.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var r=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,function(){r()}),r(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Zwe({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!ps(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===aa.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Ro.ICON_NOT_ALLOWED:Ro.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsWrapper.isRowDragMultiRow(),o=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Jwe(arguments[t]));return n}(this.selectionService.getSelectedNodes()).sort(function(s,l){return null==s.rowIndex||null==l.rowIndex?0:r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return i&&-1!==o.indexOf(a)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(H.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(H.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var i=this.isFromThisGrid(e),o=this.gridOptionsWrapper.isRowDragManaged(),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(ar(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Vu.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsWrapper.getRowIdFunc(),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Vu.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!r.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(e,r,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(ZM({isInterestedIn:function(o){return o===aa.RowDrag},getIconName:function(){return Ro.ICON_MOVE},external:!0},i))}else pn(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var r=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){a(u),e.onDragLeave(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:e.onDragging?function(u){s(u),e.onDragging(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(r.draggingToRowDragEvent(H.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var s,l,i=this.mouseEventService.getNormalisedPosition(r).y,a=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a)),r.vDirection){case op.Down:l="down";break;case op.Up:l="up";break;default:l=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l}},t.prototype.dispatchGridEvent=function(e,r){var i=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(H.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(H.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},il([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),il([F("rowModel")],t.prototype,"rowModel",void 0),il([F("paginationProxy")],t.prototype,"paginationProxy",void 0),il([F("columnModel")],t.prototype,"columnModel",void 0),il([F("focusService")],t.prototype,"focusService",void 0),il([F("sortController")],t.prototype,"sortController",void 0),il([F("filterManager")],t.prototype,"filterManager",void 0),il([F("selectionService")],t.prototype,"selectionService",void 0),il([F("mouseEventService")],t.prototype,"mouseEventService",void 0),il([F("ctrlsService")],t.prototype,"ctrlsService",void 0),il([Hn("rangeService")],t.prototype,"rangeService",void 0),il([Xe],t.prototype,"postConstruct",null),t}(ze),nbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ol=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ap=(()=>(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"}(ap||(ap={})),ap))(),U5="ag-selectable",z5="ag-force-vertical-scroll",$5="ag-column-moving",rbe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return nbe(t,n),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,i,o,a,s){this.comp=e,this.eGridBody=r,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new XM(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Xwe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(i){r.addManagedListener(i,"focusin",function(o){var s=Zh(o.target,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),r.addManagedListener(i,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=i.contains(s),u=Zh(s,"ag-root",i);Zh(a,"ag-root",i)||(!l||u)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?$5:null,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(e?U5:null,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var r=function(o){var a=o.relatedTarget;if(null!==CE(a)){var s=i.some(function(u){return u.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===r?-1:e+r)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),r=e?z5:null,i=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_NORMAL;return this.comp.setAlwaysVerticalScrollClass(r,e),e||i&&K8(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var i=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(i?ap.ANIMATION_ON:ap.ANIMATION_OFF,i)};r(),this.addManagedListener(this.eventService,H.EVENT_HEIGHT_SCALE_CHANGED,r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this,r=function(i,o,a){if(i||a){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&(i||a).preventDefault();var l=(i||o).target;(l===e.eBodyViewport||l===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&(i?e.contextMenuFactory.onContextMenu(i,null,null,null,null,e.eGridBody):a&&e.contextMenuFactory.onContextMenu(null,a,null,null,null,e.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",r),this.mockContextMenuForIPad(r),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},t.prototype.mockContextMenuForIPad=function(e){if(cf()){var r=new ys(this.eBodyViewport);this.addManagedListener(r,ys.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new tbe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight();r&&(r+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(r),this.comp.setBottomHeight(i),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var r=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+r+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var r=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;r>0&&(o+=r+1),i>0&&(o+=i+1),this.comp.setStickyTopTop(o+"px")},t.prototype.sizeColumnsToFit=function(e,r){var i=this,a=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,l=EE(this.eBodyViewport)-a;l>0?this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e):void 0===r?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):100===r?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):500===r?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},ol([F("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),ol([F("ctrlsService")],t.prototype,"ctrlsService",void 0),ol([F("columnModel")],t.prototype,"columnModel",void 0),ol([F("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ol([Hn("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ol([F("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ol([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ol([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ol([F("rowRenderer")],t.prototype,"rowRenderer",void 0),ol([F("popupService")],t.prototype,"popupService",void 0),ol([F("mouseEventService")],t.prototype,"mouseEventService",void 0),ol([F("rowModel")],t.prototype,"rowModel",void 0),t}(ze),l0=(()=>(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"}(l0||(l0={})),l0))(),sp=(()=>(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"}(sp||(sp={})),sp))(),u0="ag-cell-range-selected",fbe=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(u0,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(u0+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(u0+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(u0+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(u0+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Dg(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return gs([sp.DIMENSION,sp.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var d,h,t=this,e=this.beans.gridOptionsWrapper.isEnableRtl(),r=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel;e?(d=c.getDisplayedColAfter(s),h=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),h=c.getDisplayedColAfter(s));var p=u.getCellRanges().filter(function(w){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),w)});d||(a=!0),h||(i=!0);for(var m=0;m<p.length&&!(r&&i&&o&&a);m++){var v=p[m],_=u.getRangeStartRow(v),C=u.getRangeEndRow(v);!r&&this.beans.rowPositionUtils.sameRow(_,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(C,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&v.columns.indexOf(d)<0&&(a=!0),!i&&h&&v.columns.indexOf(h)<0&&(i=!0)}return{top:r,right:i,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,r=t.rangeService,i=r.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=ar(i),s=this.cellCtrl.getCellPosition(),l=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),u=e.isEnableRangeHandle(),c=1===o&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var h=i[0].type===sp.DIMENSION&&r.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",h),c=a.type===sp.VALUE}return c&&null!=a.endRow&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,i=ar(t.rangeService.getCellRanges()).type,a=e.isEnableFillHandle()&&yt(i)?l0.FILL:l0.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),hbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pbe=function(n){function t(e,r){var i=n.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return hbe(t,n),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();uf(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(1===e)r.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<e&&(r.push(i),(i=this.beans.columnModel.getDisplayedColAfter(i))&&!yt(i)&&o===i.getPinned());a++);return r},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ar(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===fe.PINNED_LEFT)return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===fe.PINNED_RIGHT?r+this.beans.columnModel.getBodyContainerWidth()+(e||0):r+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(ze),mbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gbe=function(n){function t(e,r){var i=n.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return mbe(t,n),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(r.cellClassRules,i,function(o){return e.cellComp.addOrRemoveCssClass(o,!0)},function(o){return e.cellComp.addOrRemoveCssClass(o,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var r;if("function"==typeof e.cellStyle){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};r=(0,e.cellStyle)(i)}else r=e.cellStyle;this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(ze),vbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QM=function(n){function t(e,r){var i=n.call(this)||this;return i.ctrl=e,i.beans=r,i}return vbe(t,n),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new kM({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}}),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,r=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,o=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:r,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(ze),nn=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K5=function(){function n(){}return n.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},nn([F("resizeObserverService")],n.prototype,"resizeObserverService",void 0),nn([F("paginationProxy")],n.prototype,"paginationProxy",void 0),nn([F("context")],n.prototype,"context",void 0),nn([F("columnApi")],n.prototype,"columnApi",void 0),nn([F("gridApi")],n.prototype,"gridApi",void 0),nn([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),nn([F("expressionService")],n.prototype,"expressionService",void 0),nn([F("rowRenderer")],n.prototype,"rowRenderer",void 0),nn([F("templateService")],n.prototype,"templateService",void 0),nn([F("valueService")],n.prototype,"valueService",void 0),nn([F("eventService")],n.prototype,"eventService",void 0),nn([F("columnModel")],n.prototype,"columnModel",void 0),nn([F("headerNavigationService")],n.prototype,"headerNavigationService",void 0),nn([F("navigationService")],n.prototype,"navigationService",void 0),nn([F("columnAnimationService")],n.prototype,"columnAnimationService",void 0),nn([Hn("rangeService")],n.prototype,"rangeService",void 0),nn([F("focusService")],n.prototype,"focusService",void 0),nn([Hn("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),nn([F("popupService")],n.prototype,"popupService",void 0),nn([F("valueFormatterService")],n.prototype,"valueFormatterService",void 0),nn([F("stylingService")],n.prototype,"stylingService",void 0),nn([F("columnHoverService")],n.prototype,"columnHoverService",void 0),nn([F("userComponentFactory")],n.prototype,"userComponentFactory",void 0),nn([F("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),nn([F("animationFrameService")],n.prototype,"animationFrameService",void 0),nn([F("dragAndDropService")],n.prototype,"dragAndDropService",void 0),nn([F("sortController")],n.prototype,"sortController",void 0),nn([F("filterManager")],n.prototype,"filterManager",void 0),nn([F("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),nn([F("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),nn([F("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),nn([F("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),nn([F("selectionService")],n.prototype,"selectionService",void 0),nn([Hn("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),nn([F("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),nn([F("rowModel")],n.prototype,"rowModel",void 0),nn([F("ctrlsService")],n.prototype,"ctrlsService",void 0),nn([F("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),nn([F("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),nn([F("valueCache")],n.prototype,"valueCache",void 0),nn([F("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),nn([Xe],n.prototype,"postConstruct",null),nn([dt("beans")],n)}(),_be=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ybe=function(n){function t(e,r,i){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=r,o.column=i,o}return _be(t,n),t.prototype.onMouseEvent=function(e,r){if(!Nu(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var r=this.beans,i=r.eventService,o=r.rangeService,a=r.gridOptionsWrapper;o&&(e.ctrlKey||e.metaKey)&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(e,H.EVENT_CELL_CLICKED);i.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0),(a.isSingleClickEdit()||u.singleClickEdit)&&!a.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!cf()||zP("dblclick"))return!1;var e=(new Date).getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this.column.getColDef(),i=this.cellCtrl.createEvent(e,H.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof r.onCellDoubleClicked&&window.setTimeout(function(){return r.onCellDoubleClicked(i)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=e.target,s=this.beans,l=s.eventService,u=s.rangeService;if(!this.isRightClickInExistingRange(e)){var c=u&&0!=u.getCellRanges().length;if(!o||!c){var d=(_E()||qh())&&!this.cellCtrl.isEditing()&&!fM(a);this.cellCtrl.focusCell(d)}if(o&&c&&e.preventDefault(),!this.containsWidget(a)){if(u){var h=this.cellCtrl.getCellPosition();o?u.extendLatestRangeToCell(h):u.setRangeToCell(h,r||i)}l.dispatchEvent(this.cellCtrl.createEvent(e,H.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;return!(!r||!r.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return Zh(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,H.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,H.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),i=r.contains(e.target),o=r.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(K5),Cbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wbe=function(n){function t(e,r,i,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=r,s.rowNode=o,s.rowCtrl=a,s}return Cbe(t,n),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case Le.ENTER:this.onEnterKeyDown(e);break;case Le.F2:this.onF2KeyDown(e);break;case Le.ESCAPE:this.onEscapeKeyDown(e);break;case Le.TAB:this.onTabKeyDown(e);break;case Le.BACKSPACE:case Le.DELETE:this.onBackspaceOrDeleteKeyPressed(r,e);break;case Le.DOWN:case Le.UP:case Le.RIGHT:case Le.LEFT:this.onNavigationKeyPressed(e,r)}},t.prototype.onNavigationKeyPressed=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,r){var i=this,o=i.cellCtrl,a=i.beans,s=i.rowNode,l=a.gridOptionsWrapper,u=a.rangeService,c=a.eventService;o.isEditing()||(c.dispatchEvent({type:H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),v5(e,l.isEnableCellEditingOnBackspace())?u&&l.isEnableRangeSelection()?u.clearCellRangeCellValues():o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellKeyboardListenerFeature"):o.startRowOrCellEdit(e,void 0,r),c.dispatchEvent({type:H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Le.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Le.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Le.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var o=String.fromCharCode(e.charCode);" "===o?this.onSpaceKeyPressed(e):p5(e)&&(this.cellCtrl.startRowOrCellEdit(null,o,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var r=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!r.isSuppressRowDeselection()){var a=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a});void 0===i&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a})}}e.preventDefault()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(ze),bbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ebe=function(n){function t(e,r,i,o){var a=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return a.rowNode=e,a.column=r,a.beans=i,a.eCell=o,a}return bbe(t,n),t.prototype.postConstruct=function(){this.getGui().appendChild(gi("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),i?i({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var s=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(tn),Sbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WE=function(){return WE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},WE.apply(this,arguments)},Y5="ag-cell-not-inline-editing",Lbe=0,lp=function(n){function t(e,r,i,o){var a=n.call(this)||this;return a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=r,a.beans=i,a.rowCtrl=o,a.instanceId=e.getId()+"-"+Lbe++,a.createCellPosition(),a.addFeatures(),a}return Sbe(t,n),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new pbe(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new gbe(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new ybe(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new wbe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new fbe(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new QM({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&Ge(a))return cE(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},t.prototype.setComp=function(e,r,i,o,a){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.eGui=r,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var s=Bu(this.column.getId());this.cellComp.setColId(s),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(r),this.cellCustomStyleFeature.setComp(e),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(l){return l()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var r=this;if(this.column.isAutoHeight()){var i=e.parentElement,o=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,a=function(u){if(!r.editing&&r.isAlive()){var c=Qh(i),m=e.offsetHeight+c.paddingTop+c.paddingBottom;if(u<5){var v=r.beans.gridOptionsWrapper.getDocument();if(!v||!v.contains(e)||0==m)return void r.beans.frameworkOverrides.setTimeout(function(){return a(u+1)},0)}var w=Math.max(m,o);r.rowNode.setRowAutoHeight(w,r.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var r=null!=this.valueFormatted?this.valueFormatted:this.value,i=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i);this.cellComp.setRenderDetails(o,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||i||o},t.prototype.startEditing=function(e,r,i,o){var s,l,a=this;if(void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=!1),void 0===o&&(o=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){a.startEditing(e,r,i,o)});var u=this.createCellEditorParams(e,r,i),c=this.column.getColDef(),d=this.beans.userComponentFactory.getCellEditorDetails(c,u),h=null!=(null===(s=d)||void 0===s?void 0:s.popupFromSelector)?d.popupFromSelector:!!c.cellEditorPopup,p=null!=(null===(l=d)||void 0===l?void 0:l.popupPositionFromSelector)?d.popupPositionFromSelector:c.cellEditorPopupPosition;this.setEditing(!0,h),this.cellComp.setEditDetails(d,h,p);var m=this.createEvent(o,H.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(m)}},t.prototype.setEditing=function(e,r){void 0===r&&(r=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=r,this.setInlineEditingClass(),this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var i=this.cellComp.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?r:{newValue:i.getValue(),newValueExists:!0}:r},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(e,r),!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,r);return this.suppressRefreshCell=!1,i},t.prototype.dispatchEventForSaveValueReadOnly=function(e,r){var i=this.rowNode,o={type:H.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:i.data,node:i,oldValue:e,newValue:r,value:r,source:void 0};this.beans.eventService.dispatchEvent(o)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),i=r.newValue,o=r.newValueExists,a=this.getValueFromValueService(),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,r,i){var o=WE(WE({},this.createEvent(null,H.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.setInlineEditingClass=function(){var e=this;if(this.isAlive()){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){e.setInlineEditingClass()});var r=this.editing&&!this.editingInPopup,i=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(Y5,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",i),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,r,i){return{value:this.getValueFromValueService(),key:e,eventKey:e,charPress:r,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:i,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(o){return e.beans.valueService.setValue(e.rowNode,e.column,o)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(o,a,s,l){return e.registerRowDragger(o,a,l)},addRowCompListener:function(o,a){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(o,a)}}},t.prototype.parseValue=function(e){var r=this.column.getColDef(),i={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:r,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=r.valueParser;return Ge(o)?this.beans.expressionService.evaluate(o,i):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var r=this.column.getColDef(),i=null!=e&&!!e.newData,o=null!=e&&!!e.suppressFlash||!!r.suppressCellFlash,s=e&&e.forceRefresh||null==r.field&&null==r.valueGetter&&null==r.showRowGroup||i,l=this.updateAndFormatValue();if(s||l){this.showValue(i);var c=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!o&&!c&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||r.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Le.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,r,i){var o=this,a="ag-cell-"+e,s="ag-cell-"+e+"-animation",l=this.beans.gridOptionsWrapper;r||(r=l.getCellFlashDelay()),Ge(i)||(i=l.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},i))},r)},t.prototype.onFlashCells=function(e){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[r]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){return this.callValueFormatter(e)??e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var r=this.value,i=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i},t.prototype.valuesAreEqual=function(e,r){var i=this.column.getColDef();return i.equals?i.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,i=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),o=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,r&&i&&!o)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){return{type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){this.cellMouseListenerFeature.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){this.cellComp&&this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);OM(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r,i){void 0===i&&(i=null),this.cellComp&&(this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,r,this):this.startEditing(e,r,!0,i))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var r=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",r),r&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o=this.beans.gridOptionsWrapper.isFullRowEdit();!r&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:af(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Y5,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this.column.getColDef(),i=this.createEvent(e,H.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),r.onCellContextMenu&&window.setTimeout(function(){return r.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new N5;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Ebe(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,i){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,r);else{var a=this.createRowDragComp(e,r,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){return o.beans.context.destroyBean(a)}))}},t.prototype.createRowDragComp=function(e,r,i){var o=this,a=this.beans.gridOptionsWrapper.isPagination(),s=this.beans.gridOptionsWrapper.isRowDragManaged(),l=this.beans.gridOptionsWrapper.isRowModelDefault();if(s){if(!l)return void pn(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(a)return void pn(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var u=new NE(function(){return o.value},this.rowNode,this.column,e,r,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(ze),Nbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gbe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ma=(()=>(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"}(Ma||(Ma={})),Ma))(),Hbe=0,up=function(n){function t(e,r,i,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.beans=r,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.instanceId=e.id+"-"+Hbe++,s.setAnimateFlags(i),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return Nbe(t,n),t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,i){var o={rowComp:e,element:r,containerType:i};this.allRowGuis.push(o),i===qa.LEFT?this.leftGui=o:i===qa.RIGHT?this.rightGui=o:i===qa.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps(),"FullWidthLoading"!==this.rowType&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.isCacheable=function(){return this.rowType===Ma.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=r})},t.prototype.initialiseRowComps=function(){var e=this,r=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&BP(this.onTopChanged.bind(this)),this.fadeRowIn&&BP(function(){e.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var i=this.getRowBusinessKey(),o=Bu(this.rowNode.id),a=Bu(i);this.allRowGuis.forEach(function(s){var l=s.rowComp;l.setRole("row"),e.getInitialRowClasses(s.containerType).forEach(function(c){return l.addOrRemoveCssClass(c,!0)}),e.rowNode.group&&_s(s.element,1==e.rowNode.expanded),null!=o&&l.setRowId(o),null!=a&&l.setRowBusinessKey(a),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&l.setTabIndex(-1),r.setDomData(s.element,t.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return r.setDomData(s.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,s.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(s.element),e.isFullWidth()&&e.setupFullWidth(s),r.isRowDragEntireRow()&&e.addRowDraggerToRow(s),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){e.isAlive()&&s.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},t.prototype.addRowDraggerToRow=function(e){var r=this.beans.gridOptionsWrapper;if(r.isEnableRangeSelection())pn(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var i=r.getLocaleTextFunc(),o=new NE(function(){return"1 "+i("rowDragRow","row")},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(o,this.beans.context)}},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,r),o=Vt.isRegistered(At.MasterDetailModule);if(this.rowType!=Ma.FullWidthDetail||o){var a;switch(this.rowType){case Ma.FullWidthDetail:a=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Ma.FullWidthGroup:a=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Ma.FullWidthLoading:a=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:a=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}e.rowComp.showFullWidth(a)}else Vt.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+At.MasterDetailModule)},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(o);this.rowType=e?Ma.FullWidthLoading:i?Ma.FullWidthDetail:r?Ma.FullWidth:s?Ma.FullWidthGroup:Ma.Normal},t.prototype.updateColumnLists=function(e){var r=this;if(void 0===e&&(e=!1),!this.isFullWidth()){if(e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,i){var o=this;void 0===i&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new lp(l,o.rowNode,o.beans,o)),s(u,c)}),e.list.forEach(function(l){if(null==a.map[l.getColumn().getInstanceId()]){if(!o.isCellEligibleToBeRemoved(l,i))return void s(l.getColumn().getInstanceId(),l);l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var r=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=r.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var o=r.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,fe.PINNED_LEFT);var a=r.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,a,fe.PINNED_RIGHT)}this.allRowGuis.forEach(function(s){s.rowComp.setCellCtrls((s.containerType===qa.LEFT?e.leftCellCtrls:s.containerType===qa.RIGHT?e.rightCellCtrls:e.centerCellCtrls).list)})},t.prototype.isCellEligibleToBeRemoved=function(e,r){var i=!0;if(e.getColumn().getPinned()!=r)return i;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||l){var c=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(c)>=0)&&i}return i},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var r=Ge(this.rowNode.oldRowTop);this.slideRowIn=r,this.fadeRowIn=!r}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Ma.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(u,c){if(!u)return!0;var d=u.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var h=e.createFullWidthParams(u.element,c);return d.refresh(h)},i=r(this.fullWidthGui,null),o=r(this.centerGui,null),a=r(this.leftGui,fe.PINNED_LEFT),s=r(this.rightGui,fe.PINNED_RIGHT);return i&&o&&a&&s},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,un.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,un.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,H.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,H.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,H.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,H.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,H.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,H.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,un.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,un.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var o=e===Vu.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Vu.Above),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=1==this.rowNode.expanded;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),_s(i.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:af(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(u){return u.element.contains(e.target)});if((r?r.element:null)===e.target){var a=this.rowNode,s=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Nu(e)){var r=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),i=r?r.element:null,o=i===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,i=this.rowNode,o=this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,a=this.fullWidthGui?this.fullWidthGui.element:null===(r=this.centerGui)||void 0===r?void 0:r.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var i={list:[],map:{}};return e.list.forEach(function(o){o!==r&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r)}},t.prototype.createRowEvent=function(e,r){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:r}},t.prototype.createRowEventWithSource=function(e,r){var i=this.createRowEvent(e,r);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!Nu(e)){var r=this.createRowEventWithSource(H.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Zh(e.target,"ag-row-drag",3),this.isFullWidth()){var r=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!Nu(e)&&!this.lastMouseDownOnDragger){var i=this.createRowEventWithSource(H.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,a=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var l=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),u=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:e}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:e}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!o,rangeSelect:a,event:e})}}},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===Ma.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var i=function(){var a=e.clientHeight;null!=a&&a>0&&r.beans.frameworkOverrides.setTimeout(function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,r){var i=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}}},t.prototype.addFullWidthRowDragging=function(e,r,i,o){if(void 0===i&&(i=""),this.isFullWidth()){var a=new NE(function(){return i},this.rowNode,void 0,e,r,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(r,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){var r,i;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),u=l.next();!u.done;u=l.next()){var d=u.value.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}if(s){var h=this.createRowEvent(H.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=this.createRowEvent(e?H.EVENT_ROW_EDITING_STARTED:H.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,i,o){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.editingRow||this.getAllCellCtrls().reduce(function(s,l){var u=l===i;return u?l.startEditing(e,r,u,o):l.startEditing(null,null,u,o),!!s||l.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){var e=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Gbe(arguments[t]));return n}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(r){return r.rowComp.setUserStyles(e)})},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},t.prototype.getPinnedForContainer=function(e){return e===qa.LEFT?fe.PINNED_LEFT:e===qa.RIGHT?fe.PINNED_RIGHT:null},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var i,r=this.beans.gridOptionsWrapper.getRowStyleFunc();return r&&(i=r({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},e,i)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(){var e=this,r=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-selected",r),Dg(i.element,!!r||void 0);var o=e.createAriaLabel();tp(i.element,o??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,un.EVENT_MOUSE_ENTER,function(){r.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,un.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,a=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,e),a)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,r=this.beans.gridOptionsWrapper.getDefaultRowHeight(),o=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,a=o?Math.min(r,o)-2+"px":void 0;this.allRowGuis.forEach(function(s){s.element.style.height=e+"px",a&&s.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,r){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=H.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+H.EVENT_VIRTUAL_ROW_REMOVED)),n.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=H.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+H.EVENT_VIRTUAL_ROW_REMOVED)),n.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(H.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),n.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(r){return r.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){return void 0===r&&(r=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(r?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&Ge(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r);this.setRowTopStyle(i+"px")}},t.prototype.getInitialRowTop=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.getInitialRowTopShared():void 0},t.prototype.getInitialTransform=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?void 0:"translateY("+this.getInitialRowTopShared()+")"},t.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(r);e=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return e+"px"},t.prototype.setRowTopStyle=function(e){var r=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(i){return r?i.rowComp.setTop(e):i.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(r=i)}),null!=r||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(r=i)}),r},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount(),i=this.rowNode.rowIndex%2==0,o=r+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(a){a.rowComp.setRowIndex(e),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),TM(a.element,o)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(ze),Wbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ws=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ube=function(n){function t(e){var r=n.call(this)||this;return r.element=e,r}return Wbe(t,n),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(i){var o=e.processKeyboardEvent.bind(e,i);e.addManagedListener(e.element,i,o)})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",zP("touchstart")?"touchstart":"mousedown"].forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,r){if(this.mouseEventService.isEventFromThisGrid(r)&&!Nu(r)){var i=this.getRowForEvent(r),o=this.mouseEventService.getRenderedCellForEvent(r);"contextmenu"===e?this.handleContextMenuMouseEvent(r,null,i,o):(o&&o.onMouseEvent(e,r),i&&i.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(cf()){var r=new ys(this.element);this.addManagedListener(r,ys.EVENT_LONG_TAP,function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,a,s)}),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var i=this.gridOptionsWrapper.getDomData(r,up.DOM_DATA_KEY_ROW_CTRL);if(i)return i;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;s&&(o.dispatchCellContextMenuEvent(e||r),l=this.valueService.getValue(s,a));var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,r,a,s,l,d)},t.prototype.processKeyboardEvent=function(e,r){var i=mE(this.gridOptionsWrapper,r,lp.DOM_DATA_KEY_CELL_CTRL),o=mE(this.gridOptionsWrapper,r,up.DOM_DATA_KEY_ROW_CTRL);r.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,r):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing();if(!TE(this.gridOptionsWrapper,i,o,a,s))switch(r){case"keydown":!s&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing());break;case"keypress":e.onKeyPress(i)}if("keydown"===r){var c=e.createEvent(i,H.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}if("keypress"===r){var d=e.createEvent(i,H.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(d)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=this.focusService.getFocusedCell();if(!TE(this.gridOptionsWrapper,i,o,a&&a.column,!1)&&"keydown"===r)switch(i.key){case Le.UP:case Le.DOWN:e.onKeyboardNavigate(i);break;case Le.TAB:e.onTabKeyDown(i)}if("keydown"===r){var c=e.createRowEvent(H.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}if("keypress"===r){var d=e.createRowEvent(H.EVENT_CELL_KEY_PRESS,i);this.eventService.dispatchEvent(d)}},t.prototype.doGridOperations=function(e,r){if((e.ctrlKey||e.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(e)){var i=g5(e);if(i===Le.A)return this.onCtrlAndA(e);if(i===Le.C)return this.onCtrlAndC(e);if(i===Le.V)return this.onCtrlAndV();if(i===Le.D)return this.onCtrlAndD(e);if(i===Le.Z)return this.onCtrlAndZ(e);if(i===Le.Y)return this.onCtrlAndY()}},t.prototype.onCtrlAndA=function(e){var r=this,i=r.pinnedRowModel,a=r.rangeService,s=fe.PINNED_BOTTOM,l=fe.PINNED_TOP;if(a&&r.paginationProxy.isRowsToRender()){var u=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}([i.isEmpty(l),i.isEmpty(s)],2),h=u[0]?null:l,p=void 0,m=void 0;u[1]?(p=null,m=this.paginationProxy.getRowCount()-1):(p=s,m=i.getPinnedBottomRowData().length-1);var v=this.columnModel.getAllDisplayedColumns();if(ps(v))return;a.setCellRange({rowStartIndex:0,rowStartPinned:h,rowEndIndex:m,rowEndPinned:p,columnStart:v[0],columnEnd:ar(v)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){Vt.isRegistered(At.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){Vt.isRegistered(At.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsWrapper.isUndoRedoCellEditing()&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo())},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo()},ws([F("mouseEventService")],t.prototype,"mouseEventService",void 0),ws([F("valueService")],t.prototype,"valueService",void 0),ws([Hn("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ws([F("ctrlsService")],t.prototype,"ctrlsService",void 0),ws([F("navigationService")],t.prototype,"navigationService",void 0),ws([F("focusService")],t.prototype,"focusService",void 0),ws([F("undoRedoService")],t.prototype,"undoRedoService",void 0),ws([F("columnModel")],t.prototype,"columnModel",void 0),ws([F("paginationProxy")],t.prototype,"paginationProxy",void 0),ws([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ws([Hn("rangeService")],t.prototype,"rangeService",void 0),ws([Hn("clipboardService")],t.prototype,"clipboardService",void 0),ws([Xe],t.prototype,"postConstruct",null),t}(ze),zbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$be=function(n){function t(e){var r=n.call(this)||this;return r.centerContainerCtrl=e,r}return zbe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,H.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var r=Yy(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==r&&(this.bodyHeight=r,this.eventService.dispatchEvent({type:H.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},jE([F("ctrlsService")],t.prototype,"ctrlsService",void 0),jE([F("columnModel")],t.prototype,"columnModel",void 0),jE([F("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),jE([Xe],t.prototype,"postConstruct",null),t}(ze),Kbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),q5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ybe=function(n){function t(e){var r=n.call(this)||this;return r.element=e,r}return Kbe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),r=e>0;_r(this.element,r),r&&Gu(this.element,e)},q5([F("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),q5([Xe],t.prototype,"postConstruct",null),t}(ze),qbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),X5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xbe=function(n){function t(e){var r=n.call(this)||this;return r.element=e,r}return qbe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),r=e>0;_r(this.element,r),r&&Gu(this.element,e)},X5([F("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),X5([Xe],t.prototype,"postConstruct",null),t}(ze),Zbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qbe=function(n){function t(e,r){var i=n.call(this)||this;return i.eContainer=e,i.eWrapper=r,i}return Zbe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=null!=e?e+"px":"";this.eContainer.style.height=r,this.eWrapper&&(this.eWrapper.style.height=r)},Z5([F("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Z5([Xe],t.prototype,"postConstruct",null),t}(ze),Jbe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),JM=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},exe=function(n){function t(e){var r=n.call(this)||this;return r.eContainer=e,r}return Jbe(t,n),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!yt(this.rangeService)){var r={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(r),this.addDestroyFunc(function(){return e.dragService.removeDragSource(r)})}},JM([Hn("rangeService")],t.prototype,"rangeService",void 0),JM([F("dragService")],t.prototype,"dragService",void 0),JM([Xe],t.prototype,"postConstruct",null),t}(ze),txe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eI=function(n){function t(e){var r=n.call(this)||this;return r.callback=e,r}return txe(t,n),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,r=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT,i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth();this.callback(r?i+o+a:i)},Q5([F("columnModel")],t.prototype,"columnModel",void 0),Q5([Xe],t.prototype,"postConstruct",null),t}(ze),nxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rxe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Oe=(()=>(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Oe||(Oe={})),Oe))(),qa=(()=>(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"}(qa||(qa={})),qa))(),axe=Vc([[Oe.CENTER,"ag-center-cols-container"],[Oe.LEFT,"ag-pinned-left-cols-container"],[Oe.RIGHT,"ag-pinned-right-cols-container"],[Oe.FULL_WIDTH,"ag-full-width-container"],[Oe.TOP_CENTER,"ag-floating-top-container"],[Oe.TOP_LEFT,"ag-pinned-left-floating-top"],[Oe.TOP_RIGHT,"ag-pinned-right-floating-top"],[Oe.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Oe.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Oe.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Oe.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Oe.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Oe.BOTTOM_CENTER,"ag-floating-bottom-container"],[Oe.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Oe.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Oe.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),sxe=Vc([[Oe.CENTER,"ag-center-cols-viewport"],[Oe.TOP_CENTER,"ag-floating-top-viewport"],[Oe.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Oe.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),lxe=Vc([[Oe.CENTER,"ag-center-cols-clipper"]]),tI=function(n){function t(e){var r=n.call(this)||this;return r.name=e,r}return nxe(t,n),t.getRowContainerCssClasses=function(e){return{container:axe.get(e),viewport:sxe.get(e),wrapper:lxe.get(e)}},t.getPinned=function(e){switch(e){case Oe.BOTTOM_LEFT:case Oe.TOP_LEFT:case Oe.STICKY_TOP_LEFT:case Oe.LEFT:return fe.PINNED_LEFT;case Oe.BOTTOM_RIGHT:case Oe.TOP_RIGHT:case Oe.STICKY_TOP_RIGHT:case Oe.RIGHT:return fe.PINNED_RIGHT;default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([Oe.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new $be(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case Oe.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Oe.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Oe.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Oe.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Oe.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Oe.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Oe.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Oe.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Oe.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Oe.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Oe.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Oe.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,i,o){var a=this;this.comp=e,this.eContainer=r,this.eViewport=i,this.eWrapper=o,this.createManagedBean(new Ube(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var d=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(rxe(arguments[t]));return n}([Oe.TOP_CENTER,Oe.TOP_LEFT,Oe.TOP_RIGHT],[Oe.BOTTOM_CENTER,Oe.BOTTOM_LEFT,Oe.BOTTOM_RIGHT],[Oe.CENTER,Oe.LEFT,Oe.RIGHT],[Oe.STICKY_TOP_CENTER,Oe.STICKY_TOP_LEFT,Oe.STICKY_TOP_RIGHT]),h=[Oe.CENTER,Oe.LEFT,Oe.RIGHT,Oe.FULL_WIDTH],p=[Oe.CENTER,Oe.TOP_CENTER,Oe.STICKY_TOP_CENTER,Oe.BOTTOM_CENTER],v=[Oe.RIGHT,Oe.BOTTOM_RIGHT,Oe.TOP_RIGHT,Oe.STICKY_TOP_RIGHT];this.forContainers([Oe.LEFT,Oe.BOTTOM_LEFT,Oe.TOP_LEFT,Oe.STICKY_TOP_LEFT],function(){return a.createManagedBean(new Ybe(a.eContainer))}),this.forContainers(v,function(){return a.createManagedBean(new Xbe(a.eContainer))}),this.forContainers(h,function(){return a.createManagedBean(new Qbe(a.eContainer,a.eWrapper))}),this.forContainers(d,function(){return a.createManagedBean(new exe(a.eContainer))}),this.forContainers(p,function(){return a.createManagedBean(new eI(function(_){return a.comp.setContainerWidth(_+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return e.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_ROWS_CHANGED,function(){return e.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([Oe.STICKY_TOP_CENTER,Oe.STICKY_TOP_LEFT,Oe.STICKY_TOP_RIGHT,Oe.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var o=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([Oe.TOP_CENTER,Oe.STICKY_TOP_CENTER,Oe.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([Oe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([Oe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===Oe.CENTER){var r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==r?"100%":"calc(100% + "+r+"px)")}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},t.prototype.getCenterWidth=function(){return EE(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Xy(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportVisible=function(){return Sg(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return yM(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Xy(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||yM(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){DE(this.eViewport,e,this.enableRtl)},t.prototype.onDisplayedRowsChanged=function(){var e=this,r=this.name===Oe.TOP_FULL_WIDTH||this.name===Oe.STICKY_TOP_FULL_WIDTH||this.name===Oe.BOTTOM_FULL_WIDTH||this.name===Oe.FULL_WIDTH,a=this.getRowCtrls().filter(function(s){var l=s.isFullWidth(),u=e.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT,c=e.embedFullWidthRows||u;return r?!c&&l:c||!l});this.comp.setRowCtrls(a)},t.prototype.getRowCtrls=function(){switch(this.name){case Oe.TOP_CENTER:case Oe.TOP_LEFT:case Oe.TOP_RIGHT:case Oe.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Oe.STICKY_TOP_CENTER:case Oe.STICKY_TOP_LEFT:case Oe.STICKY_TOP_RIGHT:case Oe.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Oe.BOTTOM_CENTER:case Oe.BOTTOM_LEFT:case Oe.BOTTOM_RIGHT:case Oe.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},cp([F("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),cp([F("dragService")],t.prototype,"dragService",void 0),cp([F("ctrlsService")],t.prototype,"ctrlsService",void 0),cp([F("columnModel")],t.prototype,"columnModel",void 0),cp([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),cp([F("rowRenderer")],t.prototype,"rowRenderer",void 0),cp([Xe],t.prototype,"postConstruct",null),t}(ze),uxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_f=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cxe='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Oe.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Oe.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Oe.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Oe.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+Oe.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+Oe.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+Oe.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+Oe.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Oe.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Oe.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Oe.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Oe.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Oe.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Oe.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Oe.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Oe.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',dxe=function(n){function t(){return n.call(this,cxe)||this}return uxe(t,n),t.prototype.init=function(){var e=this,r=function(o,a){var s=o+"px";a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return l5(e.getGui(),o)},setRowCount:function(o){return s5(e.getGui(),o)},setTopHeight:function(o){return r(o,e.eTop)},setBottomHeight:function(o){return r(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass($5,a)},updateLayoutClasses:function(o,a){var s=e.eBodyViewport.classList;s.toggle(vi.AUTO_HEIGHT,a.autoHeight),s.toggle(vi.NORMAL,a.normal),s.toggle(vi.PRINT,a.print),e.addOrRemoveCssClass(vi.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(vi.NORMAL,a.normal),e.addOrRemoveCssClass(vi.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(z5,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(U5,a)})}};this.ctrl=this.createManagedBean(new rbe),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&a5(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var i=this.eBodyViewport.classList;i.toggle(ap.ANIMATION_ON,r),i.toggle(ap.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},_f([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_f([Hn("rangeService")],t.prototype,"rangeService",void 0),_f([Ne("eBodyViewport")],t.prototype,"eBodyViewport",void 0),_f([Ne("eStickyTop")],t.prototype,"eStickyTop",void 0),_f([Ne("eTop")],t.prototype,"eTop",void 0),_f([Ne("eBottom")],t.prototype,"eBottom",void 0),_f([Ne("gridHeader")],t.prototype,"headerRootComp",void 0),_f([Xe],t.prototype,"init",null),t}(tn),fxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hxe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fxe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:H.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},nI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),nI([Xe],t.prototype,"postConstruct",null),nI([dt("scrollVisibleService")],t)}(ze),pxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J5=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mxe=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}var e;return pxe(t,n),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return mE(this.gridOptionsWrapper,r,lp.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){return this.isElementInThisGrid(r.target)},t.prototype.isElementInThisGrid=function(r){for(var i=r;i;){var o=i[e.GRID_DOM_KEY];if(Ge(o))return o===this.gridInstanceId;i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var i=this.getRenderedCellForEvent(r);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var a,s,i=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_NORMAL;if(null!=r.clientX||null!=r.clientY?(a=r.clientX,s=r.clientY):(a=r.x,s=r.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition();a+=l.getScrollFeature().getHScrollPosition().left,s+=u.top}return{x:a,y:s}},t.gridInstanceSequence=new Rg,t.GRID_DOM_KEY="__ag_grid_instance",J5([F("ctrlsService")],t.prototype,"ctrlsService",void 0),e=J5([dt("mouseEventService")],t)}(ze),gxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),UE=function(){return UE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},UE.apply(this,arguments)},Xa=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vxe=function(n){function t(){var e=n.call(this)||this;return e.onPageDown=GP(e.onPageDown,100),e.onPageUp=GP(e.onPageUp,100),e}return gxe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var r=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);if(!s)return!1;var l=!1;switch(r){case Le.PAGE_HOME:case Le.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(r),l=!0);break;case Le.LEFT:case Le.RIGHT:case Le.UP:case Le.DOWN:o&&!i&&!a&&(this.onCtrlUpDownLeftRight(r,s),l=!0);break;case Le.PAGE_DOWN:!o&&!i&&(this.onPageDown(s),l=!0);break;case Le.PAGE_UP:!o&&!i&&(this.onPageUp(s),l=!0)}return l&&e.preventDefault(),l},t.prototype.navigateTo=function(e){var r=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;Ge(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),Ge(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:null,column:s})},t.prototype.onPageDown=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRowIndexAtPixel(i.top+o+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(i.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,r,i){void 0===i&&(i=!1);var o,a,_,s=this.getViewportHeight(),l=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow(),c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getRow(e.rowIndex),h=i?(null===(o=d)||void 0===o?void 0:o.rowHeight)-s-c:s-c,p=(null===(a=d)||void 0===a?void 0:a.rowTop)+h,m=this.paginationProxy.getRowIndexAtPixel(p+c);m===e.rowIndex&&(r=m=e.rowIndex+(i?-1:1)),i?(_="bottom",m<l&&(m=l),r<l&&(r=l)):(_="top",m>u&&(m=u),r>u&&(r=u)),this.isRowTallerThanView(m)&&(r=m,_="top"),this.navigateTo({scrollIndex:r,scrollType:_,scrollColumn:null,focusIndex:m,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,i){var o=this;void 0===i&&(i=!1),this.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){void 0===r&&(r=!1);for(var o=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=c.rowHeight??0;if(l+d>a)break;l+=d}u+=o}return Math.max(0,Math.min(u,s))},t.prototype.getViewportHeight=function(){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsWrapper.getScrollbarWidth(),o=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var i=r.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var i=this.cellNavigationService.getNextCellToFocus(e,r,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var r=e===Le.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=r?i[0]:ar(i),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,r){var i=r.shiftKey;if(this.tabToNextCellCommon(e,i,r))r.preventDefault();else if(i){var a=e.getRowPosition(),s=a.rowIndex;(a.rowPinned?0===s:s===this.paginationProxy.getPageFirstRow())&&(r.preventDefault(),this.focusService.focusLastHeader(r))}else e instanceof lp&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!!(o||(o=this.rowRenderer.getRowByPosition(i),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,r)},t.prototype.tabToNextCellCommon=function(e,r,i){var o=e.isEditing();if(!o&&e instanceof lp){var s=e.getRowCtrl();s&&(o=s.isEditing())}return(o?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,r,i):this.moveToNextEditingCell(e,r,i):this.moveToNextCellNotEditing(e,r))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,i){void 0===i&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,r,!0);return null!=a&&(a.startEditing(null,null,!0,i),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,i){void 0===i&&(i=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,r,!0);if(null==a)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return l&&e.setFocusOutOnEditor(),c||(e.getRowCtrl().stopEditing(),a.getRowCtrl().startRowEditing(void 0,void 0,void 0,i)),u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var o,i=this.columnModel.getAllDisplayedColumns();o=e instanceof up?UE(UE({},e.getRowPosition()),{column:r?i[0]:ar(i)}):e.getCellPosition();var a=this.findNextCellToFocusOn(o,r,!1);if(a instanceof lp)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return Ge(a)},t.prototype.findNextCellToFocusOn=function(e,r,i){for(var o=e;;){e!==o&&(e=o),r||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,r);var a=this.gridOptionsWrapper.getTabToNextCellFunc();if(Ge(a)){var l=a({backwards:r,editing:i,previousCellPosition:e,nextCellPosition:o||null});Ge(l)?(l.floating&&(pn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column}}),null}var c=this.gridOptionsWrapper.isFullRowEdit();if(!i||c||this.isCellEditable(o)){this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth())continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return!!r&&e.column.isCellEditable(r)},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===fe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===fe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsWrapper.isEnableRtl()?r===Le.LEFT&&(a=this.getLastCellOfColSpan(a)):r===Le.RIGHT&&(a=this.getLastCellOfColSpan(a)),s=yt(a=this.cellNavigationService.getNextCellToFocus(r,a));if(s&&e&&e.key===Le.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(Ge(l)){var c=l({key:r,previousCellPosition:i,nextCellPosition:a||null,event:e});Ge(c)?(c.floating&&(pn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:i.column},event:e||void 0})}var h=this.getNormalisedPosition(a);h?this.focusPosition(h):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){void 0===r&&(r=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?ar(i):i[0])};this.focusPosition(s);var l=null!=a&&this.rowPositionUtils.before(s,a);return this.eventService.dispatchEvent({type:H.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var i=r.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:ar(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var r,i=this.gridOptionsWrapper.isGroupRowsSticky(),o=this.rowModel.getRow(e.rowIndex);!(i&&(null===(r=o)||void 0===r?void 0:r.sticky))&&yt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Xa([F("mouseEventService")],t.prototype,"mouseEventService",void 0),Xa([F("paginationProxy")],t.prototype,"paginationProxy",void 0),Xa([F("focusService")],t.prototype,"focusService",void 0),Xa([Hn("rangeService")],t.prototype,"rangeService",void 0),Xa([F("columnModel")],t.prototype,"columnModel",void 0),Xa([F("rowModel")],t.prototype,"rowModel",void 0),Xa([F("ctrlsService")],t.prototype,"ctrlsService",void 0),Xa([F("rowRenderer")],t.prototype,"rowRenderer",void 0),Xa([F("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Xa([F("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Xa([F("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Xa([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Xa([Xe],t.prototype,"postConstruct",null),Xa([dt("navigationService")],t)}(ze),_xe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cxe=function(n){function t(e){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return _xe(t,n),t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),i=this.params;this.addManagedListener(r,"keydown",function(a){TE(e.gridOptionsWrapper,a,i.node,i.column,!0)||i.onKeyDown(a)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(r0),wxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bxe=function(n){function t(e,r,i,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=o,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var l=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var u=function(d,h,p){var m=p||l;null!=h&&""!=h?m.setAttribute(d,h):m.removeAttribute(d)},c={addOrRemoveCssClass:function(d,h){return s.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return _M(l,d)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(d){return u("tabindex",d.toString())},setRole:function(d){return oa(l,d)},setColId:function(d){return u("col-id",d)},setTitle:function(d){return u("title",d)},setIncludeSelection:function(d){return s.includeSelection=d},setIncludeRowDrag:function(d){return s.includeRowDrag=d},setIncludeDndSource:function(d){return s.includeDndSource=d},setRenderDetails:function(d,h,p){return s.setRenderDetails(d,h,p)},setEditDetails:function(d,h,p){return s.setEditDetails(d,h,p)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=r,r.setComp(c,s.getGui(),s.eCellWrapper,i,a),s}return wxe(t,n),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,i){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var a=this.refreshWrapper(!1);e?!i&&!a&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(r))}},t.prototype.setEditDetails=function(e,r,i){e?this.createCellEditorInstance(e,r,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,o=i&&null==this.eCellWrapper;o&&(this.eCellWrapper=so('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var a=!i&&null!=this.eCellWrapper;a&&(Jh(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var s=!e&&i,l=s&&null==this.eCellValue;l&&(this.eCellValue=so('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!s&&null!=this.eCellValue;u&&(Jh(this.eCellValue),this.eCellValue=void 0);var c=o||a||l||u;return c&&this.removeControls(),!e&&r&&this.addControls(),c},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),r=[];SM(this.eCellWrapper,!0),this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),r.push(this.checkboxSelectionComp.getCheckboxId())),r.push(e),xM(this.getGui(),r.join(" "))},t.prototype.createCellEditorInstance=function(e,r,i){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,r,i)}),yt(this.cellEditor)&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();vs(r);var i=null!=e?Bu(e):null;null!=i&&(r.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Jh(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Jh(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return!0===r||void 0===r},t.prototype.createCellRendererInstance=function(e){var r=this,i=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),s=this.rendererVersion,l=e.componentClass,u=function(){if(r.rendererVersion===s&&r.isAlive()){var d=e.newAgStackInstance(),h=r.afterCellRendererCreated.bind(r,s,l);d&&d.then(h)}};i||o||!this.firstRender?u():this.beans.animationFrameService.createTask(u,this.rowNode.rowIndex,"createTasksP2")},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var a=this.getParentOfValue();vs(a),a.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)},t.prototype.afterCellEditorCreated=function(e,r,i,o,a){if(e!==this.editorVersion)this.beans.context.destroyBean(r);else{if(r.isCancelBeforeStart&&r.isCancelBeforeStart())return this.beans.context.destroyBean(r),void this.cellCtrl.stopEditing();if(!r.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(r);this.cellEditor=r,this.cellEditorGui=r.getGui(),o||void 0!==r.isPopup&&r.isPopup()?(o||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(i,a)):this.addInCellEditor(),r.afterGuiAttached&&r.afterGuiAttached()}},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsWrapper.getDocument();e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,r){var i=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Cxe(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),u=r??(o.getPopupPosition?o.getPopupPosition():"over"),c={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:a,keepWithinBounds:!0},d="under"===u?s.positionPopupUnderComponent.bind(s,c):s.positionPopupOverComponent.bind(s,c),h=this.beans.gridOptionsWrapper.getLocaleTextFunc(),p=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:d,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsWrapper.getDocument();e.contains(r.activeElement)&&yE()&&e.focus({preventScroll:!0}),vs(this.getParentOfValue())},t}(tn),xxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Exe=function(n){function t(e,r,i){var o=n.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=e,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle()+'"/>');var a=o.getGui(),s=a.style;return e.setComp({setDomOrder:function(u){return o.domOrder=u},setCellCtrls:function(u){return o.setCellCtrls(u)},showFullWidth:function(u){return o.showFullWidth(u)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(u,c){return o.addOrRemoveCssClass(u,c)},setUserStyles:function(u){return _M(a,u)},setTop:function(u){return s.top=u},setTransform:function(u){return s.transform=u},setRowIndex:function(u){return a.setAttribute("row-index",u)},setRole:function(u){return oa(a,u)},setRowId:function(u){return a.setAttribute("row-id",u)},setRowBusinessKey:function(u){return a.setAttribute("row-business-key",u)},setTabIndex:function(u){return a.setAttribute("tabindex",u.toString())}},o.getGui(),i),o}return xxe(t,n),t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),r=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+r},t.prototype.showFullWidth=function(e){var r=this,o=e.newAgStackInstance();o&&o.then(function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)})},t.prototype.setCellCtrls=function(e){var r=this,i=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId();null==r.cellComps[s]?r.newCellComp(a):i[s]=null});var o=Wl(i).filter(function(a){return null!=a});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(this.domOrder){var i=[];e.forEach(function(o){var a=r.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),vM(this.getGui(),i)}},t.prototype.newCellComp=function(e){var r=new bxe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=Wl(this.cellComps).filter(function(r){return null!=r});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();r.cellComps[o]===i&&(i.detach(),i.destroy(),r.cellComps[o]=null)}})},t}(tn),Sxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rI=function(){return rI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},rI.apply(this,arguments)},Pg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rxe=function(n){function t(){var e=n.call(this,function Dxe(){var n=tn.elementGettingCreated.getAttribute("name"),t=tI.getRowContainerCssClasses(n);return n===Oe.CENTER?'<div class="'+t.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+t.container+'" ref="eContainer"></div>\n                </div>\n            </div>':n===Oe.TOP_CENTER||n===Oe.STICKY_TOP_CENTER||n===Oe.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=tn.elementGettingCreated.getAttribute("name"),e.type=function oxe(n){switch(n){case Oe.CENTER:case Oe.TOP_CENTER:case Oe.STICKY_TOP_CENTER:case Oe.BOTTOM_CENTER:return qa.CENTER;case Oe.LEFT:case Oe.TOP_LEFT:case Oe.STICKY_TOP_LEFT:case Oe.BOTTOM_LEFT:return qa.LEFT;case Oe.RIGHT:case Oe.TOP_RIGHT:case Oe.STICKY_TOP_RIGHT:case Oe.BOTTOM_RIGHT:return qa.RIGHT;case Oe.FULL_WIDTH:case Oe.TOP_FULL_WIDTH:case Oe.STICKY_TOP_FULL_WIDTH:case Oe.BOTTOM_FULL_WIDTH:return qa.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return Sxe(t,n),t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}};this.createManagedBean(new tI(this.name)).setComp(r,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,i=rI({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(a){var s=a.getInstanceId(),l=i[s];if(l)r.rowComps[s]=l,delete i[s],r.ensureDomOrder(l.getGui());else{var u=r.newRowComp(a);r.rowComps[s]=u,r.appendRow(u.getGui())}}),Wl(i).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),oa(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?$8(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(gM(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},t.prototype.newRowComp=function(e){return tI.getPinned(this.name),new Exe(e,this.beans,this.type)},Pg([F("beans")],t.prototype,"beans",void 0),Pg([Ne("eViewport")],t.prototype,"eViewport",void 0),Pg([Ne("eContainer")],t.prototype,"eContainer",void 0),Pg([Ne("eWrapper")],t.prototype,"eWrapper",void 0),Pg([Xe],t.prototype,"postConstruct",null),Pg([Eo],t.prototype,"preDestroy",null),t}(tn),ez=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Txe=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var r=t.dragItem.columns;r&&r.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},n.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ro.ICON_PINNED:Ro.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},ez([F("columnModel")],n.prototype,"columnModel",void 0),ez([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),n}(),c0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Axe=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!Ge(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?Ro.ICON_PINNED:Ro.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===aa.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},n.prototype.onDragLeave=function(t){this.ensureIntervalCleared()},n.prototype.setColumnsVisible=function(t,e,r){if(void 0===r&&(r="api"),t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,r)}},n.prototype.setColumnsPinned=function(t,e,r){if(void 0===r&&(r="api"),t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,r)}},n.prototype.onDragStop=function(){this.ensureIntervalCleared()},n.prototype.normaliseX=function(t){return this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e,r){var i=this;if(void 0===e&&(e=!1),void 0===r&&(r=!1),this.lastDraggingEvent=t,!yt(t.hDirection)){var o=this.normaliseX(t.x);e||this.checkCenterForScrolling(o);var a=this.normaliseDirection(t.hDirection),s=t.dragSource.type,l=t.dragSource.getDragItem().columns;l=l.filter(function(u){return!u.getColDef().lockPinned||u.getPinned()==i.pinned}),this.attemptMoveColumns(s,l,a,o,e,r)}},n.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case jl.Left:return jl.Right;case jl.Right:return jl.Left;default:console.error("AG Grid: Unknown direction "+t)}},n.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),r=v8(t.map(function(l){return e.indexOf(l)})),i=r[0];return ar(r)-i!=r.length-1?null:i},n.prototype.attemptMoveColumns=function(t,e,r,i,o,a){var s=r===jl.Left,l=r===jl.Right;if(t===aa.HeaderCell){var u=[];e.forEach(function(D){for(var P=null,M=D.getParent();null!=M&&1===M.getDisplayedLeafColumns().length;)P=M,M=M.getParent();null!=P?P.getLeafColumns().forEach(function(B){u.includes(B)||u.push(B)}):u.includes(D)||u.push(D)}),e=u}var c=e.slice();this.columnModel.sortColumnsLikeGridColumns(c);var d=this.calculateValidMoves(c,l,i),h=this.calculateOldIndex(c);if(0!==d.length){var p=d[0],m=null!==h&&!o;if(t==aa.HeaderCell&&(m=null!==h),!m||a||!(s&&p>=h||l&&p<=h)){for(var v=this.columnModel.getAllDisplayedColumns(),_=[],C=null,w=0;w<d.length;w++){var b=d[w],E=this.columnModel.getProposedColumnOrder(c,b);if(this.columnModel.doesOrderPassRules(E)){var S=E.filter(function(D){return v.includes(D)});if(null===C)C=S;else if(!St.areEqual(S,C))break;var O=this.groupFragCount(E);_.push({move:b,fragCount:O})}}0!==_.length&&(_.sort(function(D,P){return D.fragCount-P.fragCount}),this.columnModel.moveColumns(c,_[0].move,"uiColumnDragged"))}}},n.prototype.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();null!=l;)s.push(l),l=l.getOriginalParent();return s}for(var r=0,i=function(a){var s,l=e(t[a]),u=e(t[a+1]);s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(l.length>u.length?[l,u]:[u,l],2),u=s[1],(l=s[0]).forEach(function(c){-1===u.indexOf(c)&&r++})},o=0;o<t.length-1;o++)i(o);return r},n.prototype.calculateValidMoves=function(t,e,r){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some(function(R){return R.getColDef().suppressMovable}))return[];var v,o=this.columnModel.getDisplayedColumns(this.pinned),a=this.columnModel.getAllGridColumns(),s=o.filter(function(R){return gs(t,R)}),l=o.filter(function(R){return!gs(t,R)}),u=a.filter(function(R){return!gs(t,R)}),c=0,d=r;if(e){var h=0;s.forEach(function(R){return h+=R.getActualWidth()}),d-=h}if(d>0){for(var p=0;p<l.length&&!((d-=l[p].getActualWidth())<0);p++)c++;e&&c++}c>0?v=u.indexOf(l[c-1])+1:-1===(v=u.indexOf(l[0]))&&(v=0);var C=[v],w=function(R,D){return R-D};if(e){for(var b=v+1,E=a.length-1;b<=E;)C.push(b),b++;C.sort(w)}else{E=a.length-1;for(var S=a[b=v];b<=E&&this.isColumnHidden(o,S);)b++,C.push(b),S=a[b];for(b=v-1;b>=0;)C.push(b),b--;C.sort(w).reverse()}return C},n.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ro.ICON_LEFT:Ro.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ro.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(s){return!s.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(Ro.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(o,this.needToMoveLeft?fe.PINNED_LEFT:fe.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},c0([F("columnModel")],n.prototype,"columnModel",void 0),c0([F("dragAndDropService")],n.prototype,"dragAndDropService",void 0),c0([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),c0([F("ctrlsService")],n.prototype,"ctrlsService",void 0),c0([Xe],n.prototype,"init",null),n}(),Pxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mxe=function(n){function t(e,r){var i=n.call(this)||this;return i.pinned=e,i.eContainer=r,i}return Pxe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case fe.PINNED_LEFT:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case fe.PINNED_RIGHT:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===aa.HeaderCell||e===aa.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Axe(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Txe(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===aa.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},d0([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),d0([F("columnModel")],t.prototype,"columnModel",void 0),d0([F("ctrlsService")],t.prototype,"ctrlsService",void 0),d0([Xe],t.prototype,"postConstruct",null),d0([Xe],t.prototype,"init",null),t}(ze),Ixe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tz=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,r,i){return yt(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,i)},n.getToolPanelClassesFromColDef=function(t,e,r,i){return yt(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,i)},n.getClassParams=function(t,e,r,i){return{colDef:t,column:r,columnGroup:i,api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext()}},n.getColumnClassesFromCollDef=function(t,e,r,i,o){return yt(t)?[]:"string"==typeof(a="function"==typeof t?t(this.getClassParams(e,r,i,o)):t)?[a]:Array.isArray(a)?function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ixe(arguments[t]));return n}(a):[];var a},n}(),kxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lxe=function(n){function t(e){var r=n.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return kxe(t,n),t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(s,l,u){var c=u||r;null!=l&&""!=l?c.setAttribute(s,l):c.removeAttribute(s)};this.ctrl.setComp({setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setColId:function(s){return i("col-id",s)},setTitle:function(s){return i("title",s)},setAriaDescription:function(s){return n5(r,s)},setAriaSort:function(s){return s?c5(r,s):d5(r)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return r.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,r){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(r)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',zE([Ne("eResize")],t.prototype,"eResize",void 0),zE([Ne("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),zE([Xe],t.prototype,"postConstruct",null),zE([Eo],t.prototype,"destroyHeaderComp",null),t}(qM),Nxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),iI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bxe=function(n){function t(e){return n.call(this,t.TEMPLATE,e)||this}return Nxe(t,n),t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(a,s){return null!=s?r.setAttribute(a,s):r.removeAttribute(a)};this.ctrl.setComp({addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},addOrRemoveResizableCssClass:function(a,s){return e.eResize.classList.toggle(a,s)},setWidth:function(a){return r.style.width=a},setColId:function(a){return r.setAttribute("col-id",a)},setAriaExpanded:function(a){return i("aria-expanded",a)},setTitle:function(a){return i("title",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)}},r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(i){return r.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,i=function(){return r.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(i),this.ctrl.setDragSource(e.getGui())):i()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',iI([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),iI([Ne("eResize")],t.prototype,"eResize",void 0),iI([Xe],t.prototype,"postConstruct",null),t}(qM),Gxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sa=(()=>(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"}(sa||(sa={})),sa))(),Vxe=function(n){function t(e){var r=n.call(this)||this;r.headerComps={};var i=e.getType()==sa.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==sa.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return r.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),r.ctrl=e,r}return Gxe(t,n),t.prototype.init=function(){var e=this;this.ctrl.setComp({setTransform:function(i){return e.getGui().style.transform=i},setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i){return e.setHeaderCtrls(i)},setWidth:function(i){return e.getGui().style.width=i},setAriaRowIndex:function(i){return TM(e.getGui(),i)}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var r=this;if(this.isAlive()){var i=this.headerComps;if(this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=i[u];delete i[u],null==c&&(c=r.createHeaderComp(l),r.getGui().appendChild(c.getGui())),r.headerComps[u]=c}),er(i,function(l,u){r.getGui().removeChild(u.getGui()),r.destroyBean(u)}),this.gridOptionsWrapper.isEnsureDomOrder()){var a=Wl(this.headerComps);a.sort(function(l,u){return l.getCtrl().getColumnGroupChild().getLeft()-u.getCtrl().getColumnGroupChild().getLeft()});var s=a.map(function(l){return l.getGui()});vM(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case sa.COLUMN_GROUP:r=new Bxe(e);break;case sa.FLOATING_FILTER:r=new Kwe(e);break;default:r=new Lxe(e)}return this.createBean(r),r.setParentComponent(this),r},nz([Xe],t.prototype,"init",null),nz([Eo],t.prototype,"destroyHeaderCtrls",null),t}(tn),Hxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wxe=0,$E=function(n){function t(e,r){var i=n.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=e,i.parentRowCtrl=r,i.instanceId=e.getUniqueId()+"-"+Wxe++,i}return Hxe(t,n),t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader();return m5(this.gridOptionsWrapper,e,r.headerRowIndex,r.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsWrapper.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var r=this.getWrapperHasFocus();switch(e.key){case Le.PAGE_DOWN:case Le.PAGE_UP:case Le.PAGE_HOME:case Le.PAGE_END:r&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",oI([F("focusService")],t.prototype,"focusService",void 0),oI([F("beans")],t.prototype,"beans",void 0),oI([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ze),In=(()=>(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"}(In||(In={})),In))(),Tn=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function dp(n){return null!=n&&null!=n.getFrameworkComponentInstance?n.getFrameworkComponentInstance():n}var jxe=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},n.prototype.registerSideBarComp=function(t){this.sideBarComp=t},n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case fe.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case fe.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case fe.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;er(this.detailGridInfoMap,function(r,i){Ge(i)&&(t(i,e),e++)})},n.prototype.getDataAsCsv=function(t){if(Vt.assertRegistered(At.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){Vt.assertRegistered(At.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},n.prototype.getExcelExportMode=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},e,t).exportMode},n.prototype.getDataAsExcel=function(t){if(Vt.assertRegistered(At.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(e)===Ag.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(t)}},n.prototype.exportDataAsExcel=function(t){if(Vt.assertRegistered(At.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)===Ag.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(t)}},n.prototype.getSheetDataForExcel=function(t){if(Vt.assertRegistered(At.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Ag.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},n.prototype.getMultipleSheetsAsExcel=function(t){if(Vt.assertRegistered(At.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){if(Vt.assertRegistered(At.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setEnterpriseDatasource=function(t){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},n.prototype.setGridAriaProperty=function(t,e){if(t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+t;null===e?r.removeAttribute(i):r.setAttribute(i,e)}},n.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+fe.ROW_MODEL_TYPE_SERVER_SIDE+"'")},n.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gridOptionsWrapper.setProperty("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):console.warn("AG Grid: you can only set cacheBlockSize with gridOptions.rowModelType '"+fe.ROW_MODEL_TYPE_SERVER_SIDE+"'")},n.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+fe.ROW_MODEL_TYPE_INFINITE+"'")},n.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+fe.ROW_MODEL_TYPE_VIEWPORT+"'")},n.prototype.setRowData=function(t){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},n.prototype.setFloatingTopRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},n.prototype.setFloatingBottomRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},n.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},n.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},n.prototype.getFloatingTopRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},n.prototype.getFloatingBottomRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},n.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},n.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e)},n.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty(rt.PROP_AUTO_GROUP_COLUMN_DEF,t,!0)},n.prototype.setDefaultColDef=function(t,e){this.gridOptionsWrapper.setProperty(rt.PROP_DEFAULT_COL_DEF,t,!0)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},n.prototype.refreshToolPanel=function(){this.sideBarComp&&this.sideBarComp.refresh()},n.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},n.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},n.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},n.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},n.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return this.rowModel},n.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},n.prototype.onGroupExpandedOrCollapsed=function(t){yt(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),Ge(t)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:In.MAP})},n.prototype.refreshInMemoryRowModel=function(t){console.warn("AG Grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},n.prototype.refreshClientSideRowModel=function(t){yt(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=In.EVERYTHING,r={everything:In.EVERYTHING,group:In.EVERYTHING,filter:In.FILTER,map:In.MAP,aggregate:In.AGGREGATE,sort:In.SORT,pivot:In.PIVOT};if(Ge(t)&&(e=r[t]),yt(e))console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(r).join(", "));else{var i=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},n.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},n.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return dp(this.sideBarComp.getToolPanelInstance(t));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.addVirtualRowListener=function(t,e,r){"string"!=typeof t&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,r)},n.prototype.addRenderedRowListener=function(t,e,r){"virtualRowSelected"===t&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,r)},n.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},n.prototype.selectIndex=function(t,e,r){console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(t,e)},n.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: do not use api for selection, call rowNode.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(t)},n.prototype.selectNode=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},n.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call rowNode.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},n.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},n.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},n.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},n.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},n.prototype.recomputeAggregates=function(){yt(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:In.AGGREGATE})},n.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},n.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},n.prototype.isNodeSelected=function(t){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},n.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColIndexVisible=function(t){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},n.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},n.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},n.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},n.prototype.forEachLeafNode=function(t){yt(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},n.prototype.forEachNodeAfterFilter=function(t){yt(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){yt(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){var r=this.getFilterInstanceImpl(t,function(o){if(e){var a=dp(o);e(a)}});return dp(r)},n.prototype.getFilterInstanceImpl=function(t,e){var r=this.columnModel.getPrimaryColumn(t);if(r){var i=this.filterManager.getFilterComponent(r,"NO_UI"),o=i&&i.resolveNow(null,function(a){return a});return o?setTimeout(e,0,o):i&&i.then(function(a){e(a)}),o}},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},n.prototype.getStatusPanel=function(t){if(this.statusBarService)return dp(this.statusBarService.getStatusPanel(t))},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:r,forceBrowserFocus:!0})},n.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_SUPPRESS_ROW_DRAG,t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},n.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_HEADER_HEIGHT,t)},n.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_DOM_LAYOUT,t)},n.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},n.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_FILL_HANDLE_DIRECTION,t)},n.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GROUP_HEADER_HEIGHT,t)},n.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_FLOATING_FILTERS_HEIGHT,t)},n.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PIVOT_HEADER_HEIGHT,t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PIVOT_GROUP_HEADER_HEIGHT,t)},n.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_EXTERNAL_FILTER_PRESENT,t)},n.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_DOES_EXTERNAL_FILTER_PASS,t)},n.prototype.setNavigateToNextCell=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_NAVIGATE_TO_NEXT_CELL,t)},n.prototype.setTabToNextCell=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_TAB_TO_NEXT_CELL,t)},n.prototype.setTabToNextHeader=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_TAB_TO_NEXT_HEADER,t)},n.prototype.setNavigateToNextHeader=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_NAVIGATE_TO_NEXT_HEADER,t)},n.prototype.setRowGroupPanelShow=function(t){this.gridOptionsWrapper.setProperty("rowGroupPanelShow",t)},n.prototype.setGroupRowAggNodes=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GROUP_ROW_AGG_NODES,t)},n.prototype.setGetGroupRowAgg=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_GROUP_ROW_AGG,t)},n.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_BUSINESS_KEY_FOR_NODE,t)},n.prototype.setGetChildCount=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_CHILD_COUNT,t)},n.prototype.setProcessRowPostCreate=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PROCESS_ROW_POST_CREATE,t)},n.prototype.setGetRowNodeId=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_ROW_NODE_ID,t)},n.prototype.setGetRowId=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_ROW_ID,t)},n.prototype.setGetRowClass=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_ROW_CLASS,t)},n.prototype.setIsFullWidthCell=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_FULL_WIDTH_CELL,t)},n.prototype.setIsFullWidthRow=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_FULL_WIDTH_ROW,t)},n.prototype.setIsRowSelectable=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_ROW_SELECTABLE,t)},n.prototype.setIsRowMaster=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_ROW_MASTER,t)},n.prototype.setPostSort=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_POST_SORT,t)},n.prototype.setPostSortRows=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_POST_SORT_ROWS,t)},n.prototype.setGetDocument=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_DOCUMENT,t)},n.prototype.setGetContextMenuItems=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_CONTEXT_MENU_ITEMS,t)},n.prototype.setGetMainMenuItems=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_MAIN_MENU_ITEMS,t)},n.prototype.setProcessCellForClipboard=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PROCESS_CELL_FOR_CLIPBOARD,t)},n.prototype.setSendToClipboard=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_SEND_TO_CLIPBOARD,t)},n.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PROCESS_CELL_FROM_CLIPBOARD,t)},n.prototype.setProcessSecondaryColDef=function(t){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(t)},n.prototype.setProcessSecondaryColGroupDef=function(t){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(t)},n.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PROCESS_PIVOT_RESULT_COL_DEF,t)},n.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,t)},n.prototype.setPostProcessPopup=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_POST_PROCESS_POPUP,t)},n.prototype.setDefaultGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,t)},n.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_INITIAL_GROUP_ORDER_COMPARATOR,t)},n.prototype.setGetChartToolbarItems=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_CHART_TOOLBAR_ITEMS,t)},n.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_PAGINATION_NUMBER_FORMATTER,t)},n.prototype.setGetServerSideStoreParams=function(t){this.setGetServerSideGroupLevelParams(t)},n.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_SERVER_SIDE_GROUP_PARAMS,t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,t)},n.prototype.setIsServerSideGroup=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_IS_SERVER_SIDE_GROUP,t)},n.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_SERVER_SIDE_GROUP_KEY,t)},n.prototype.setGetRowStyle=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_ROW_STYLE,t)},n.prototype.setGetRowHeight=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GET_ROW_HEIGHT,t)},n.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("AG Grid: sideBar is not loaded")},n.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("AG Grid: sideBar is not loaded")},n.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},n.prototype.setSideBar=function(t){this.gridOptionsWrapper.setProperty("sideBar",T8.parse(t))},n.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.doLayout=function(){pn(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},n.prototype.resetRowHeights=function(){if(Ge(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},n.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},n.prototype.setGroupDisplayType=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_GROUP_DISPLAY_TYPE,t)},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return yt(r)&&(r=this.columnModel.getGridColumn(t)),yt(r)?null:this.valueService.getValue(r,e)},n.prototype.addEventListener=function(t,e){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,r)},n.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},n.prototype.removeEventListener=function(t,e){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,r)},n.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(s8.bind(window,this,"Grid API"),100)},n.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},n.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(t){return t.quickFilterAggregateText=null})},n.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},n.prototype.camelCaseToHumanReadable=function(t){return qP(t)},n.prototype.addRangeSelection=function(t){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},n.prototype.addCellRange=function(t){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(t)},n.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},n.prototype.undoCellEditing=function(){this.undoRedoService.undo()},n.prototype.redoCellEditing=function(){this.undoRedoService.redo()},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.getChartModels=function(){if(Vt.assertRegistered(At.RangeSelectionModule,"api.getChartModels")&&Vt.assertRegistered(At.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},n.prototype.getChartRef=function(t){if(Vt.assertRegistered(At.RangeSelectionModule,"api.getChartRef")&&Vt.assertRegistered(At.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},n.prototype.getChartImageDataURL=function(t){if(Vt.assertRegistered(At.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},n.prototype.downloadChart=function(t){if(Vt.assertRegistered(At.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(t)},n.prototype.openChartToolPanel=function(t){if(Vt.assertRegistered(At.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(t)},n.prototype.closeChartToolPanel=function(t){if(Vt.assertRegistered(At.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(t.chartId)},n.prototype.createRangeChart=function(t){if(Vt.assertRegistered(At.RangeSelectionModule,"api.createRangeChart")&&Vt.assertRegistered(At.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},n.prototype.createCrossFilterChart=function(t){if(Vt.assertRegistered(At.RangeSelectionModule,"api.createCrossFilterChart")&&Vt.assertRegistered(At.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},n.prototype.restoreChart=function(t,e){if(Vt.assertRegistered(At.RangeSelectionModule,"api.restoreChart")&&Vt.assertRegistered(At.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},n.prototype.createPivotChart=function(t){if(Vt.assertRegistered(At.RangeSelectionModule,"api.createPivotChart")&&Vt.assertRegistered(At.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},n.prototype.copyToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyToClipboard(t)},n.prototype.copySelectedRowsToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t)},n.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},n.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},n.prototype.showColumnMenuAfterButtonClick=function(t,e){var r=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(r,e,"columnMenu")},n.prototype.showColumnMenuAfterMouseClick=function(t,e){var r=this.columnModel.getGridColumn(t);r||(r=this.columnModel.getPrimaryColumn(t)),r?this.menuFactory.showMenuAfterMouseEvent(r,e):console.error("AG Grid: column '"+t+"' not found")},n.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},n.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_POPUP_PARENT,t)},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(dp)},n.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(dp)},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(r);o&&o.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},n.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},n.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},n.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},n.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},n.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},n.prototype.setDeltaSort=function(t){this.gridOptionsWrapper.setProperty("deltaSort",t)},n.prototype.updateRowData=function(t){return pn(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(t)},n.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},n.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},n.prototype.batchUpdateRowData=function(t,e){pn(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},n.prototype.insertItemsAtIndex=function(t,e,r){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},n.prototype.removeItems=function(t,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var r=t.map(function(i){return i.data});this.updateRowData({add:null,addIndex:null,update:null,remove:r})},n.prototype.addItems=function(t,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},n.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},n.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},n.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},n.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},n.prototype.purgeEnterpriseCache=function(t){console.warn("AG Grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.refreshServerSide({purge: true})"),this.purgeServerSideCache(t)},n.prototype.purgeServerSideCache=function(t){void 0===t&&(t=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:t,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},n.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'.")},n.prototype.refreshServerSideStore=function(t){return pn(function(){return console.warn("AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0")},"refreshServerSideStore-renamed"),this.refreshServerSide(t)},n.prototype.getServerSideStoreState=function(){return pn(function(){return console.warn("AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0")},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},n.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},n.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isMaxRowFound is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},n.prototype.setVirtualRowCount=function(t,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},n.prototype.setInfiniteRowCount=function(t,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},n.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},n.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},n.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.checkGridSize=function(){console.warn("In AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything useful.")},n.prototype.getFirstRenderedRow=function(){return console.warn("In AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},n.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},n.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.setRowClass=function(t){this.gridOptionsWrapper.setProperty(rt.PROP_ROW_CLASS,t)},Tn([Hn("immutableService")],n.prototype,"immutableService",void 0),Tn([Hn("csvCreator")],n.prototype,"csvCreator",void 0),Tn([Hn("excelCreator")],n.prototype,"excelCreator",void 0),Tn([F("rowRenderer")],n.prototype,"rowRenderer",void 0),Tn([F("navigationService")],n.prototype,"navigationService",void 0),Tn([F("filterManager")],n.prototype,"filterManager",void 0),Tn([F("columnModel")],n.prototype,"columnModel",void 0),Tn([F("selectionService")],n.prototype,"selectionService",void 0),Tn([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Tn([F("valueService")],n.prototype,"valueService",void 0),Tn([F("alignedGridsService")],n.prototype,"alignedGridsService",void 0),Tn([F("eventService")],n.prototype,"eventService",void 0),Tn([F("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Tn([F("context")],n.prototype,"context",void 0),Tn([F("rowModel")],n.prototype,"rowModel",void 0),Tn([F("sortController")],n.prototype,"sortController",void 0),Tn([F("paginationProxy")],n.prototype,"paginationProxy",void 0),Tn([F("focusService")],n.prototype,"focusService",void 0),Tn([F("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Tn([Hn("rangeService")],n.prototype,"rangeService",void 0),Tn([Hn("clipboardService")],n.prototype,"clipboardService",void 0),Tn([Hn("aggFuncService")],n.prototype,"aggFuncService",void 0),Tn([F("menuFactory")],n.prototype,"menuFactory",void 0),Tn([Hn("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Tn([F("valueCache")],n.prototype,"valueCache",void 0),Tn([F("animationFrameService")],n.prototype,"animationFrameService",void 0),Tn([Hn("statusBarService")],n.prototype,"statusBarService",void 0),Tn([Hn("chartService")],n.prototype,"chartService",void 0),Tn([Hn("undoRedoService")],n.prototype,"undoRedoService",void 0),Tn([Hn("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Tn([Hn("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),Tn([F("ctrlsService")],n.prototype,"ctrlsService",void 0),Tn([Hn("frameworkComponentWrapper")],n.prototype,"frameworkComponentWrapper",void 0),Tn([Xe],n.prototype,"init",null),Tn([Eo],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Tn([dt("gridApi")],n)}(),Uxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aI=function(n){function t(e,r,i,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return Uxe(t,n),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?ar(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Cn.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),r=Ge(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&r&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),i=r.getLeft(),o=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,o),s=this.modifyLeftForPrintLayout(r,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){if(this.beans.gridOptionsWrapper.getDomLayout()!==fe.DOM_LAYOUT_PRINT||e.getPinned()===fe.PINNED_LEFT)return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return e.getPinned()===fe.PINNED_RIGHT?o+this.beans.columnModel.getBodyContainerWidth()+r:o+r},t.prototype.setLeft=function(e){var r;if(Ge(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof Cn)r=this.columnOrGroup;else{var o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&u5(this.ariaEl,o.length),r=o[0]}var a=this.beans.columnModel.getAriaColumnIndex(r);OM(this.ariaEl,a)},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(ze),$xe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sI=function(n){function t(e,r){var i=n.call(this)||this;return i.columns=e,i.element=r,i}return $xe(t,n),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},rz([F("columnHoverService")],t.prototype,"columnHoverService",void 0),rz([Xe],t.prototype,"postConstruct",null),t}(ze),Kxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yxe=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.column=e,i}return Kxe(t,n),t.prototype.setComp=function(e,r,i,o){n.prototype.setGui.call(this,r),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o;var a=this.column.getColDef();this.active=!(!a.filter&&!a.filterFramework||!a.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=gi("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new pf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void a.focus();var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,i=this.column;do{if(!(i=e?r.getDisplayedColBefore(i):r.getDisplayedColAfter(i)))break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();switch(e.key){case Le.UP:case Le.DOWN:r||e.preventDefault();case Le.LEFT:case Le.RIGHT:if(r)return;e.stopPropagation();case Le.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Le.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Zh(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var a=this.lastFocusEvent;a&&a&&a.key===Le.TAB&&this.focusService.focusInto(this.eGui,a.shiftKey)}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new sI([this.column],this.eGui));var r=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new aI(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var r=this.column.getColDef(),i=this.filterManager.createFilterParams(this.column,r),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,YM,i),a=this.userComponentFactory.getDefaultFloatingFilterType(r);null==a&&(a="agReadOnlyFloatingFilter");var s={column:this.column,filterParams:o,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(u){return e.parentFilterInstance(u)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!r.floatingFilterComponentParams&&!!r.floatingFilterComponentParams.suppressFilterButton;var l=this.userComponentFactory.getFloatingFilterCompDetails(r,s,a);l&&this.comp.setCompDetails(l)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(r){return r&&r.getModel()}):null},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){this.getFilterComponent()?.then(function(i){e(dp(i))})},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var r=function(i){var o=e.comp.getFloatingFilterComp();if(o){var a=e.currentParentModel();o.then(function(s){s&&s.onParentModelChanged(a,i)})}};this.addManagedListener(this.column,Cn.EVENT_FILTER_CHANGED,r),this.filterManager.isFilterActive(this.column)&&r(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var i=e.column.getActualWidth()+"px";e.comp.setWidth(i)};this.addManagedListener(this.column,Cn.EVENT_WIDTH_CHANGED,r),r()},lI([F("filterManager")],t.prototype,"filterManager",void 0),lI([F("columnHoverService")],t.prototype,"columnHoverService",void 0),lI([F("menuFactory")],t.prototype,"menuFactory",void 0),t}($E),qxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xxe=function(n){function t(e,r,i,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=r,s.eResize=i,s.comp=o,s.ctrl=a,s}return qxe(t,n),t.prototype.postConstruct=function(){var o,a,e=this,r=this.column.getColDef(),i=[],l=function(){i.forEach(function(c){return c()}),i.length=0},u=function(){var c=e.column.isResizable(),d=!e.gridOptionsWrapper.isSuppressAutoSize()&&!r.suppressAutoSize;(c!==o||d!==a)&&(o=c,a=d,l(),function(){if(_r(e.eResize,o),o){var c=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(c),a){var d=e.gridOptionsWrapper.isSkipHeaderOnAutoSize(),h=function(){e.columnModel.autoSizeColumn(e.column,d,"uiColumnResized")};e.eResize.addEventListener("dblclick",h);var p=new ys(e.eResize);p.addEventListener(ys.EVENT_DOUBLE_TAP,h),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",h),p.removeEventListener(ys.EVENT_DOUBLE_TAP,h),p.destroy()})}}}())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},t.prototype.onResizing=function(e,r){var i=this.normaliseResizeAmount(r);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var r=e,i=this.pinned!==fe.PINNED_LEFT,o=this.pinned===fe.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?i&&(r*=-1):o&&(r*=-1),r},uI([F("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),uI([F("columnModel")],t.prototype,"columnModel",void 0),uI([Xe],t.prototype,"postConstruct",null),t}(ze),Zxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),f0=function(n){function t(e,r,i){void 0===r&&(r="ag-checkbox"),void 0===i&&(i="checkbox");var o=n.call(this,e,r,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return Zxe(t,n),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:r,event:i});var o=this.getInputElement();this.eventService.dispatchEvent({type:H.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var r=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Uc),Qxe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jxe=function(n){function t(e){var r=n.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e;var i=e.getColDef();return r.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,r}return Qxe(t,n),t.prototype.onSpaceKeyPressed=function(e){var r=this.cbSelectAll,i=this.gridOptionsWrapper.getDocument();r.isDisplayed()&&!r.getGui().contains(i.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new f0),this.cbSelectAll.addCssClass("ag-header-select-all"),oa(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,f0.EVENT_CHANGED,this.onCbSelectAll.bind(this)),SM(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),r=this.getNextCheckboxState(e);this.cbSelectAll.setValue(r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+i+")"),this.cbSelectAll.setInputAriaLabel(o+" ("+i+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,r=0,i=0,o=function(a){e.gridOptionsWrapper.isGroupSelectsChildren()&&a.group||(a.isSelected()?r++:a.selectable&&i++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(o):this.gridApi.forEachNode(o),{notSelected:i,selected:r}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===fe.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},KE([F("gridApi")],t.prototype,"gridApi",void 0),KE([F("columnApi")],t.prototype,"columnApi",void 0),KE([F("rowModel")],t.prototype,"rowModel",void 0),KE([F("selectionService")],t.prototype,"selectionService",void 0),t}(ze),eEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zc=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tEe=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return eEe(t,n),t.prototype.setComp=function(e,r,i,o){var a=this;n.prototype.setGui.call(this,r),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Xxe(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new sI([this.column],r)),this.createManagedBean(new aI(this.column,r,this.beans)),this.createManagedBean(new pf(r,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Cn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:r.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){e.gridApi.showColumnMenuAfterButtonClick(e.column,o)},progressSort:function(o){e.sortController.progressSort(e.column,!!o,"uiColumnSorted")},setSort:function(o,a){e.sortController.setSortForColumn(e.column,o,!!a,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Jxe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e),e.key===Le.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Le.ENTER&&this.onEnterKeyPressed(e)},t.prototype.onEnterKeyPressed=function(e){var r=this.comp.getUserCompInstance();r&&(e.ctrlKey||e.metaKey?this.menuEnabled&&r.showMenu&&(e.preventDefault(),r.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,i=this.createManagedBean(new QM({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));i.setComp(this.comp),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var i=e.column.getColDef(),a=tz.getHeaderClassesFromColDef(i,e.gridOptionsWrapper,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(a),a.forEach(function(l){s.has(l)?s.delete(l):e.comp.addOrRemoveCssClass(l,!0)}),s.forEach(function(l){return e.comp.addOrRemoveCssClass(l,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var i=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:aa.HeaderCell,eElement:e,defaultIconName:i?Ro.ICON_HIDE:Ro.ICON_NOT_ALLOWED,getDragItem:function(){return r.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return r.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return r.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var a,s;if(i){var l=(null===(s=null===(a=o)||void 0===a?void 0:a.columns)||void 0===s?void 0:s.filter(function(u){return!u.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(l,!0,"uiColumnMoved")}},onGridExit:function(o){var a,s;if(i){var l=(null===(s=null===(a=o)||void 0===a?void 0:a.columns)||void 0===s?void 0:s.filter(function(u){return!u.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(l,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();return!(!r||!r.refresh)&&r.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,Cn.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Cn.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Cn.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.column,Cn.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,r=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};r(),this.addRefreshFunction(r)},t.prototype.setupAutoHeight=function(e){var a,r=this,i=function(c){if(r.isAlive()){var d=Qh(r.getGui()),v=e.offsetHeight+d.paddingTop+d.paddingBottom;if(c<5){var _=r.beans.gridOptionsWrapper.getDocument();if(!_||!_.contains(e)||0==v)return void r.beans.frameworkOverrides.setTimeout(function(){return i(c+1)},0)}r.columnModel.setColumnHeaderHeight(r.column,v)}},o=!1,s=function(){var c=r.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,i(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=r.resizeObserverService.observeResize(e,function(){return i(0)})},u=function(){o=!1,a&&a(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};s(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,Cn.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.column,Cn.EVENT_SORT_CHANGED,function(){o&&r.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(s)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(J8(this.column)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,r){null!=r?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupFilterCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,Cn.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(i){return e.setActiveHeader("mouseenter"===i.type)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},zc([F("columnModel")],t.prototype,"columnModel",void 0),zc([F("columnHoverService")],t.prototype,"columnHoverService",void 0),zc([F("sortController")],t.prototype,"sortController",void 0),zc([F("menuFactory")],t.prototype,"menuFactory",void 0),zc([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),zc([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zc([F("gridApi")],t.prototype,"gridApi",void 0),zc([F("columnApi")],t.prototype,"columnApi",void 0),zc([Eo],t.prototype,"removeDragSource",null),t}($E),nEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rEe=function(n){function t(e,r,i,o){var a=n.call(this)||this;return a.eResize=r,a.comp=e,a.pinned=i,a.columnGroup=o,a}return nEe(t,n),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsWrapper.isSuppressAutoSize()){var i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var o=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},t.prototype.onResizeStart=function(e){var r=this;this.calculateInitialValues();var i=null;if(e&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(a){return a.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(a){return r.resizeTakeFromStartWidth+=a.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(a){return r.resizeTakeFromRatios.push(a.getActualWidth()/r.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,r){var i=this.normaliseDragChange(r);this.resizeColumns(this.resizeStartWidth+i,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,r){void 0===r&&(r=!0);var i=[];i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:i,finished:r,source:"uiColumnDragged"}),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,r=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=r.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return e.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return e.resizeRatios.push(i.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==fe.PINNED_LEFT&&(r*=-1):this.pinned===fe.PINNED_RIGHT&&(r*=-1),r},YE([F("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),YE([F("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),YE([F("columnModel")],t.prototype,"columnModel",void 0),YE([Xe],t.prototype,"postConstruct",null),t}(ze),iEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aEe=function(n){function t(e,r){var i=n.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=r,i.comp=e,i}return iEe(t,n),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ia.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener(Cn.EVENT_WIDTH_CHANGED,r),i.addEventListener(Cn.EVENT_VISIBLE_CHANGED,r),e.removeChildListenersFuncs.push(function(){i.removeEventListener(Cn.EVENT_WIDTH_CHANGED,r),i.removeEventListener(Cn.EVENT_VISIBLE_CHANGED,r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(ze),sEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lEe=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.columnGroup=e,i}return sEe(t,n),t.prototype.setComp=function(e,r,i){n.prototype.setGui.call(this,r),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),a=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new sI(a,r)),this.createManagedBean(new aI(this.columnGroup,r,this.beans)),this.createManagedBean(new aEe(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new rEe(e,i,o,this.columnGroup)),this.createManagedBean(new pf(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,r=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!r){for(var o=this.columnGroup,a=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===a.length;)o=o.getParent();var s=o.getColGroupDef();s&&(r=s.headerName),r||(r=a?this.columnModel.getDisplayNameForColumn(a[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(l)},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef(),i={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(i.getColDef=function(){return r}),this.createManagedBean(new QM(i,this.beans)).setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ii.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ii.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var r=e.isExpanded();this.comp.setAriaExpanded(this.expandable?r?"true":"false":void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,r=this.columnGroup.getColGroupDef(),i=tz.getHeaderClassesFromColDef(r,this.gridOptionsWrapper,null,this.columnGroup);i.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),i.forEach(function(o){return e.comp.addOrRemoveCssClass(o,!0)})},t.prototype.setupMovingCss=function(){var e=this,i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};i.forEach(function(a){e.addManagedListener(a,Cn.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.columnGroup)}},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();if(this.expandable&&r&&e.key===Le.ENTER){var i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),a={type:aa.HeaderCell,eElement:e,defaultIconName:o?Ro.ICON_HIDE:Ro.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return i.forEach(function(s){return s.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(s){return s.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(s){var l,u;if(o){var c=(null===(u=null===(l=s)||void 0===l?void 0:l.columns)||void 0===u?void 0:u.filter(function(d){return!d.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(c,!0,"uiColumnMoved")}},onGridExit:function(s){var l,u;if(o){var c=(null===(u=null===(l=s)||void 0===l?void 0:l.columns)||void 0===u?void 0:u.filter(function(d){return!d.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(c,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return r.dragAndDropService.removeDragSource(a)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r={};e.forEach(function(o){return r[o.getId()]=o.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){e.indexOf(o)>=0&&(i.push(o),ra(e,o))}),e.forEach(function(o){return i.push(o)}),{columns:i,visibleState:r}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},qE([F("columnModel")],t.prototype,"columnModel",void 0),qE([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),qE([F("gridApi")],t.prototype,"gridApi",void 0),qE([F("columnApi")],t.prototype,"columnApi",void 0),t}($E),uEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cEe=0,dI=function(n){function t(e,r,i){var o=n.call(this)||this;return o.instanceId=cEe++,o.headerCellCtrls={},o.rowIndex=e,o.pinned=r,o.type=i,o}return uEe(t,n),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),qh()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,H.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return Kh(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(fe.PINNED_RIGHT)+this.columnModel.getContainerWidth(fe.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),r=[],i=0;this.columnModel.hasFloatingFilters()&&(e++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=e-(1+i),u=0;u<l;u++)r.push(o);for(r.push(a),u=0;u<i;u++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var c=0;for(u=0;u<this.rowIndex;u++)c+=r[u];var d=r[this.rowIndex]+"px";this.comp.setTop(c+"px"),this.comp.setHeight(d)},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,r=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(s){if(!s.isEmptyGroup()){var l=s.getUniqueId(),u=r[l];if(delete r[l],u&&u.getColumnGroupChild()!=s&&(e.destroyBean(u),u=void 0),null==u)switch(e.type){case sa.FLOATING_FILTER:u=e.createBean(new Yxe(s,e));break;case sa.COLUMN_GROUP:u=e.createBean(new lEe(s,e));break;default:u=e.createBean(new tEe(s,e))}e.headerCellCtrls[l]=u}}),er(r,function(s,l){var u=function(s){return!!e.focusService.isHeaderWrapperFocused(s)&&e.columnModel.isDisplayed(s.getColumnGroupChild())}(l);u?e.headerCellCtrls[s]=l:e.destroyBean(l)});var a=Wl(this.headerCellCtrls);this.comp.setHeaderCtrls(a)},t.prototype.destroyCtrls=function(){var e=this;er(this.headerCellCtrls,function(r,i){e.destroyBean(i)}),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var r=[],i=this.getActualDepth();return[fe.PINNED_LEFT,null,fe.PINNED_RIGHT].forEach(function(o){var a=e.columnModel.getVirtualHeaderGroupRow(o,i);r=r.concat(a)}),r},t.prototype.getActualDepth=function(){return this.type==sa.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){var o=Wl(this.headerCellCtrls).find(function(a){return a.getColumnGroupChild()==e});return!!o&&(o.focus(r),!0)},cI([F("columnModel")],t.prototype,"columnModel",void 0),cI([F("focusService")],t.prototype,"focusService",void 0),cI([Eo],t.prototype,"destroyCtrls",null),t}(ze),dEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fEe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pEe=function(n){function t(e){var r=n.call(this)||this;return r.groupsRowCtrls=[],r.pinned=e,r}return dEe(t,n),t.prototype.setComp=function(e,r){this.comp=e,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new Mxe(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;void 0===e&&(e=!1);var c,i=new Rg,o=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var d=0;d<c;d++){var h=r.createBean(new dI(i.next(),r.pinned,sa.COLUMN_GROUP));r.groupsRowCtrls.push(h)}})(),c=i.next(),(null==r.columnsRowCtrl||!e||r.columnsRowCtrl.getRowIndex()!==c)&&(r.destroyBean(r.columnsRowCtrl),r.columnsRowCtrl=r.createBean(new dI(c,r.pinned,sa.COLUMN))),function(){var d=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(r.columnModel.hasFloatingFilters()){var h=i.next();if(r.filtersRowCtrl){var p=r.filtersRowCtrl.getRowIndex()!==h;(!e||p)&&d()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new dI(h,r.pinned,sa.FLOATING_FILTER)))}else d()}();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(fEe(arguments[t]));return n}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new eI(function(r){return e.comp.setCenterWidth(r+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var r=this.pinned===fe.PINNED_LEFT,i=this.pinned===fe.PINNED_RIGHT,o=function(){var a=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=a){var s=0==a,l=e.gridOptionsWrapper.isEnableRtl(),u=e.gridOptionsWrapper.getScrollbarWidth(),c=e.scrollVisibleService.isVerticalScrollShowing()&&(l&&r||!l&&i);e.comp.setPinnedContainerWidth((c?a+u:a)+"px"),e.comp.addOrRemoveCssClass("ag-hidden",s)}};this.addManagedListener(this.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Cn)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var r=0;r<this.groupsRowCtrls.length;r++){var i=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var i=this.getAllCtrls()[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,r,i){var a=this.getAllCtrls()[e];return!!a&&a.focusHeader(r,i)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},h0([F("ctrlsService")],t.prototype,"ctrlsService",void 0),h0([F("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),h0([F("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),h0([F("columnModel")],t.prototype,"columnModel",void 0),h0([F("focusService")],t.prototype,"focusService",void 0),t}(ze),mEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hI=function(n){function t(e){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return mEe(t,n),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setContainerTransform:function(o){return e.eCenterContainer.style.transform=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}};this.createManagedBean(new pEe(this.pinned)).setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==fe.PINNED_LEFT?t.PINNED_LEFT_TEMPLATE:this.pinned==fe.PINNED_RIGHT?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var o,r=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||r.createBean(new Vxe(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),function(s){var l=s.getGui();l.parentElement!=r.eRowContainer&&r.eRowContainer.appendChild(l),o&&gM(r.eRowContainer,l,o),o=l}(c)}),Wl(i).forEach(function(s){return r.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',fI([Ne("eCenterContainer")],t.prototype,"eCenterContainer",void 0),fI([Xe],t.prototype,"init",null),fI([Eo],t.prototype,"destroyRowComps",null),t}(tn),gEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ul=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"}(Ul||(Ul={})),Ul))(),vEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return gEe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.navigateVertically=function(e,r,i){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=e===Ul.UP,u=l?o-1:o+1,c=null,d=!1;u<0&&(u=0,c=a,d=!0),u>=s&&(u=-1);var h=this.getHeaderRowType(o);if(!d){if(h===sa.COLUMN_GROUP){var p=a;c=l?a.getParent():p.getDisplayedChildren()[0]}else h===sa.FLOATING_FILTER?c=a:(p=a,c=l?p.getParent():p);if(!c)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,r,i){void 0===r&&(r=!1);var l,u,o=this.focusService.getFocusedHeader();return(l=e===Ul.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(o,u="Before"):this.headerPositionUtils.findHeader(o,u="After"))||!r?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},t.prototype.focusNextHeaderRow=function(e,r,i){var o=e.headerRowIndex,a=null;return"Before"===r?o>0&&(a=this.headerPositionUtils.findColAtEdgeForHeaderRow(o-1,"end")):a=this.headerPositionUtils.findColAtEdgeForHeaderRow(o+1,"start"),this.focusService.focusHeaderPosition({headerPosition:a,direction:r,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,r){if(void 0===r&&(r="After"),!e.getPinned()){var i;if(e instanceof ia){var o=e.getDisplayedLeafColumns();i="Before"===r?ar(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},Mg([F("focusService")],t.prototype,"focusService",void 0),Mg([F("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Mg([F("animationFrameService")],t.prototype,"animationFrameService",void 0),Mg([F("ctrlsService")],t.prototype,"ctrlsService",void 0),Mg([Xe],t.prototype,"postConstruct",null),Mg([dt("headerNavigationService")],t)}(ze),_Ee=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),XE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return _Ee(t,n),t.prototype.setComp=function(e,r,i){this.comp=e,this.eGui=r,this.createManagedBean(new pf(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var s,r=this.columnModel,i=this.gridOptionsWrapper,o=0,a=r.getHeaderRowCount();r.hasFloatingFilters()&&(a++,o=1);var u=this.columnModel.getColumnGroupHeaderRowHeight(),c=this.columnModel.getColumnHeaderRowHeight(),h=a-(1+o);s=o*i.getFloatingFiltersHeight(),s+=h*u,this.headerHeight!==(s+=c)&&(this.headerHeight=s,this.comp.setHeightAndMinHeight(s+1+"px"),this.eventService.dispatchEvent({type:H.EVENT_HEADER_HEIGHT_CHANGED}))},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==r?Ul.LEFT:Ul.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case Le.LEFT:r=Ul.LEFT;case Le.RIGHT:Ge(r)||(r=Ul.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case Le.UP:r=Ul.UP;case Le.DOWN:Ge(r)||(r=Ul.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsWrapper.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(r.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},XE([F("headerNavigationService")],t.prototype,"headerNavigationService",void 0),XE([F("focusService")],t.prototype,"focusService",void 0),XE([F("columnModel")],t.prototype,"columnModel",void 0),XE([F("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(ze),CEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bEe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return CEe(t,n),t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}};this.createManagedBean(new yEe).setComp(r,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new hI(fe.PINNED_LEFT)),o(new hI(null)),o(new hI(fe.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(tn),xEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return xEe(t,n),t.prototype.addResizeBar=function(e){var r=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(i,!0),function(){return r.dragService.removeDragSource(i)}},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var i=r instanceof MouseEvent&&!0===r.shiftKey;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},pI([F("dragService")],t.prototype,"dragService",void 0),pI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),pI([dt("horizontalResizeService")],t)}(ze),SEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),p0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SEe(t,n),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r){var i=this;this.showPopup(e,function(o){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:r,ePopup:o})},r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderComponent({type:i,eventSource:r,ePopup:a,keepWithinBounds:!0,column:e})},r)},t.prototype.showPopup=function(e,r,i){var o=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s=document.createElement("div");oa(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",function(p){return o.trapFocusWithin(p,s)}),a.guiPromise.then(function(p){return s.appendChild(p)});var l,u=i||this.ctrlsService.getGridBodyCtrl().getGui(),d=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(p){e.setMenuVisible(!1,"contextMenu");var m=p instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),m&&i&&Sg(i)){var v=o.focusService.findTabbableParent(i);v&&v.focus()}},positionCallback:function(){return r(s)},anchorToElement:u,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=l=h.hideFunc),a.filterPromise.then(function(p){r(s),p.afterGuiAttached&&p.afterGuiAttached({container:"columnMenu",hidePopup:l})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,r){e.key!==Le.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},p0([F("filterManager")],t.prototype,"filterManager",void 0),p0([F("popupService")],t.prototype,"popupService",void 0),p0([F("focusService")],t.prototype,"focusService",void 0),p0([F("ctrlsService")],t.prototype,"ctrlsService",void 0),p0([dt("menuFactory")],t)}(ze),REe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};!function(n){function t(e){var r=n.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(i){return r.addItem(i)}),r}REe(t,n),t.prototype.postConstruct=function(){this.createManagedBean(new pf(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument();switch(e.key){case Le.RIGHT:case Le.LEFT:if(!this.eHeader.contains(r.activeElement))return;var i=e.key===Le.RIGHT,o=this.gridOptionsWrapper.isEnableRtl(),a=this.items.indexOf(this.activeItem),s=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case Le.UP:case Le.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.eHeader,a=r.eBody,s=r.activeItem,u=this.gridOptionsWrapper.getDocument().activeElement;if(e.preventDefault(),o.contains(u))i.focusInto(a,e.shiftKey);else if(i.isFocusUnderManagedComponent(a))s.eHeaderButton.focus();else{var c=i.findNextFocusableElement(a,!1,e.shiftKey);c?c.focus():s.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");oa(r,"tab"),r.setAttribute("tabIndex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),tp(r,e.titleLabel);var i={tabbedItem:e,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var r=this.items.find(function(i){return i.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var r=this,i=e.tabbedItem,o=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),vs(this.eBody),i.bodyPromise.then(function(a){r.eBody.appendChild(a);var s=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,s),i.afterAttachedCallback&&i.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var l=i.getScrollableContainer&&i.getScrollableContainer()||a;r.lastScrollListener=r.addManagedListener(l,"scroll",function(){r.tabbedItemScrollMap.set(i.name,l.scrollTop)});var u=r.tabbedItemScrollMap.get(i.name);void 0!==u&&setTimeout(function(){l.scrollTop=u},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),o.classList.add("ag-tab-selected"),this.activeItem=e):f8(this.params.onActiveItemClicked)},ZE([F("focusService")],t.prototype,"focusService",void 0),ZE([Ne("eHeader")],t.prototype,"eHeader",void 0),ZE([Ne("eBody")],t.prototype,"eBody",void 0),ZE([Xe],t.prototype,"postConstruct",null)}(tn);var TEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AEe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return TEe(t,n),t.prototype.observeResize=function(e,r){var h,i=this,a=this.gridOptionsWrapper.getDocument().defaultView||window,s=sf(r,50),c=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return a.ResizeObserver&&!c?((h=new a.ResizeObserver(s)).observe(e),function(){return h.disconnect()}):function(){var h=mM(e),p=pM(e),m=!0,v=function(){if(m){var _=mM(e),C=pM(e);(_!==h||C!==p)&&(h=_,p=C,r()),i.doNextPolyfillTurn(v)}};return v(),function(){return m=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})},50))},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("resizeObserverService")],t),t}(ze),PEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MEe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return PEe(t,n),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,r,i){this.verifyAnimationFrameOn(i);var o={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?r*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,i=r.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=(new Date).getTime(),u=(new Date).getTime()-l,c=e<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<e;){if(!d.getScrollFeature().executeAnimationFrameScroll()){var p=void 0;if(i.length)this.sortTaskList(r),p=i.pop().task;else if(a.length)this.sortTaskList(o),p=a.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}p=s.pop()}this.cancelledTasks.has(p)||p()}u=(new Date).getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),i=this.gridOptionsWrapper.getDocument().defaultView||window;i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,i=!1;return function(){r.isOn()?i||(i=!0,r.addDestroyTask(function(){i=!1,e()})):r.getFrameworkOverrides().setTimeout(e,0)}},mI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),mI([Xe],t.prototype,"init",null),mI([dt("animationFrameService")],t)}(ze),IEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},az="ag-resizer-wrapper",FEe='<div class="'+az+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',kEe=function(n){function t(e,r){var i=n.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},r),i}return IEe(t,n),t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){var e=this.config,r=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=!!this.element.offsetParent;if(p){var m=this.findBoundaryElement(),v=window.getComputedStyle(m);if(null!=v.minWidth){var _=m.offsetWidth-this.element.offsetWidth;h=parseInt(v.minWidth,10)-_}if(null!=v.minHeight){var C=m.offsetHeight-this.element.offsetHeight;d=parseInt(v.minHeight,10)-C}}if(this.minHeight=s||d,this.minWidth=o||h,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&i&&this.boundaryEl){var w=parseFloat(this.boundaryEl.style.top),b=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(b)?0:b,isNaN(w)?0:w)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(this.config.popup&&e!==this.movable){this.movable=e;var i=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var a=!!e[i],s=r.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,i)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,i)}};(!!r.resizable[i]!==a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",r.resizable[i]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,i=e.width;-1!==i&&(this.element.style.width=i+"px"),-1!==r&&(this.element.style.height=r+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,i=this.element,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ep(i,e),e=hM(i),o=!0;else if(this.positioned){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var l=this.offsetParent.clientHeight,u=r?this.position.y:a.top;l&&e+u>l+(r?0:s.top)&&(e=l-u)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):r?ep(i,e):(i.style.height=e+"px",i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,i=this.config.popup,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Gu(r,e),e=SE(r),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?Gu(r,e):(r.style.width=e+"px",r.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:i,x:e,y:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable()}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top))},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,o=e.isTop,s=e.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(r,!!e.isLeft,!!e.anywhereWithin,l)?0:l,movementY:this.shouldSkipY(r,!!o,s,u)?0:u}},t.prototype.shouldSkipX=function(e,r,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return!!c||(r?o<0&&e.clientX>u+s.left||o>0&&e.clientX<u+s.left:i?o<0&&e.clientX>l.right||o>0&&e.clientX<u+s.left:o<0&&e.clientX>l.right||o>0&&e.clientX<l.right)},t.prototype.shouldSkipY=function(e,r,i,o){void 0===i&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return!!c||(r?o<0&&e.clientY>u+s.top+i||o>0&&e.clientY<u+s.top:o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var i=(new DOMParser).parseFromString(FEe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+az);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var i=this.config;!i.popup&&!i.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var r=this.element.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,i=0,o=0;o<e.length;o++){var a=e[o];if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a.style.flex&&"0 0 auto"!==a.style.flex){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,i+=u}}return{height:r,width:i}},t.prototype.applySizeToSiblings=function(e){var r=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var a=i[o];a!==r&&(e?a.style.height=a.offsetHeight+"px":a.style.width=a.offsetWidth+"px",a.style.flex="0 0 auto",a===this.element&&(r=i[o+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var r=this.config,i=r.popup,o=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,c=a.isLeft,d=a.isRight||c,h=a.isBottom||s,p=this.calculateMouseMovement({e,isLeft:c,isTop:s}),m=p.movementX,v=p.movementY,_=this.position.x,C=this.position.y,w=0,b=0;if(d&&m){var E=c?-1:1,S=this.getWidth(),O=S+m*E,R=!1;c&&(_+(w=S-O)<=0||O<=this.minWidth)&&(R=!0,w=0),R||this.setWidth(O)}if(h&&v){E=s?-1:1;var D=this.getHeight(),P=D+v*E,M=!1;s?(C+(b=D-P)<=0||P<=this.minHeight)&&(M=!0,b=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&D<P&&this.getMinSizeOfSiblings().height+P>this.element.parentElement.offsetHeight&&(M=!0),M||this.setHeight(P)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&w||b)&&this.offsetElement(_+w,C+b)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var a,r=this.position,i=r.x,o=r.y;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a});this.offsetElement(i+s.movementX,o+s.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},oz([F("popupService")],t.prototype,"popupService",void 0),oz([F("dragService")],t.prototype,"dragService",void 0),t}(ze),LEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),m0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return LEe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return r||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(i),e.forEach(function(l){return r.cloneItemIntoDummy(l,i)});var a=i.offsetWidth;return o.removeChild(i),a+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);null!=o&&(r=o)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(h){return i.classList.contains(h)})?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){if(["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)})){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];"ag-row-position-absolute"!=d&&a.add(d)}break}l=l.parentElement}o.appendChild(i),r.appendChild(o)},m0([F("rowRenderer")],t.prototype,"rowRenderer",void 0),m0([F("ctrlsService")],t.prototype,"ctrlsService",void 0),m0([F("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),m0([Xe],t.prototype,"postConstruct",null),m0([dt("autoWidthCalculator")],t)}(ze),BEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VEe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WEe=function(n){function t(e,r){var i=n.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=r,i.stickyRowCtrls=[],i.containerHeight=0,i}return BEe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=0;if(this.gridOptionsWrapper.isGroupRowsSticky()){for(var r=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),o=function(h){r.push(h);for(var p=h;p.expanded;)p=ar(p.childrenAfterSort);var m=p.rowTop+p.rowHeight,v=i+e+h.rowHeight;h.stickyRowTop=m<v?e+(m-v):e,e=0,r.forEach(function(_){var C=_.stickyRowTop+_.rowHeight;e<C&&(e=C)})};;){var a=i+e,s=this.rowModel.getRowIndexAtPixel(a),l=this.rowModel.getRow(s);if(null==l||l.level<0)break;for(var u=[],c=l.parent;c.level>=0;)u.push(c),c=c.parent;var d=u.reverse().find(function(h){return r.indexOf(h)<0&&h.displayed});if(d)o(d);else{if(!(l.group&&l.expanded&&!l.footer&&l.rowTop<a))break;o(l)}}this.refreshNodesAndContainerHeight(r,e)}else this.refreshNodesAndContainerHeight([],e)},t.prototype.refreshNodesAndContainerHeight=function(e,r){var i,o,a,s=this,l=this.stickyRowCtrls.filter(function(v){return-1===e.indexOf(v.getRowNode())}),u=e.filter(function(v){return-1===s.stickyRowCtrls.findIndex(function(_){return _.getRowNode()===v})}),c={};l.forEach(function(v){c[v.getRowNode().id]=v,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(_){return _!==v})});try{for(var d=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(c)),h=d.next();!h.done;h=d.next())h.value.getRowNode().sticky=!1}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}this.destroyRowCtrls(c,!1);var m=u.map(function(v){return v.sticky=!0,s.createRowCon(v,!1,!1)});(a=this.stickyRowCtrls).push.apply(a,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(VEe(arguments[t]));return n}(m)),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,_){return _.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r))},QE([F("rowModel")],t.prototype,"rowModel",void 0),QE([F("rowRenderer")],t.prototype,"rowRenderer",void 0),QE([F("ctrlsService")],t.prototype,"ctrlsService",void 0),QE([Xe],t.prototype,"postConstruct",null),t}(ze),jEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zl=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UEe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},sz=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(UEe(arguments[t]));return n},zEe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return jEe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,H.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.rowModel.getType()!=fe.ROW_MODEL_TYPE_CLIENT_SIDE?pn(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsWrapper.isTreeData()?pn(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new WEe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new $Ee(e??3)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=Wl(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(o,a){return o.getRowNode().rowIndex-a.getRowNode.rowIndex});var r=Wl(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=sz(e,r,i)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_CELL_FOCUSED,function(i){e.getAllCellCtrls().forEach(function(o){return o.onCellFocused(i)}),e.getFullWidthRowCtrls().forEach(function(o){o.onFullWidthRowFocused(i)})}),this.addManagedListener(this.eventService,H.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(o){return o.onFlashCells(i)})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,H.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r&&r.forEach(function(i){var o=function(d){e.getAllCellCtrls().forEach(function(h){h.getColumn()===i&&d(h)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener(Cn.EVENT_LEFT_CHANGED,a),i.addEventListener(Cn.EVENT_WIDTH_CHANGED,s),i.addEventListener(Cn.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),i.addEventListener(Cn.EVENT_LAST_LEFT_PINNED_CHANGED,u),i.addEventListener(Cn.EVENT_COL_DEF_CHANGED,c),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener(Cn.EVENT_LEFT_CHANGED,a),i.removeEventListener(Cn.EVENT_WIDTH_CHANGED,s),i.removeEventListener(Cn.EVENT_FIRST_RIGHT_PINNED_CHANGED,l),i.removeEventListener(Cn.EVENT_LAST_LEFT_PINNED_CHANGED,u),i.removeEventListener(Cn.EVENT_COL_DEF_CHANGED,c)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT,r=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),i=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,i&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&r.push(o)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,r&&r.forEach(function(o){var a=new up(o,i.beans,!1,!1,i.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var r=[];return yt(e)||er(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();e.indexOf(a)>=0&&r.push(i)}),r},t.prototype.redrawRows=function(e){var r=null!=e&&e.length>0;if(r){var i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:r})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r,i=null!==(r=e)&&void 0!==r&&r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==i)return null;var a=this.gridOptionsWrapper.getDocument().activeElement,s=this.gridOptionsWrapper.getDomData(a,lp.DOM_DATA_KEY_CELL_CTRL),l=this.gridOptionsWrapper.getDomData(a,up.DOM_DATA_KEY_ROW_CTRL);return s||l?i:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!this.printLayout&&!!e.recycleRows,o=e.animate&&this.gridOptionsWrapper.isAnimateRows(),a=i?this.recycleRows():null;i||this.removeAllRowComps();var l=function(){if(null==r||null==a)return!1;var u=!1;return er(a,function(c,d){var h=d.getRowNode();h.rowIndex==r.rowIndex&&h.rowPinned==r.rowPinned&&(u=!0)}),u}();this.redraw(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),l||this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,i=this.gridOptionsWrapper.isSuppressScrollOnNewData();r&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(r){return e=e.concat(r.getAllCellCtrls())}),e},t.prototype.getAllRowCtrls=function(){var e=this,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=sz(this.topRowCtrls,this.bottomRowCtrls,r);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(o){return i.push(e.rowCtrlsByRowIndex[o])}),i},t.prototype.addRenderedRowListener=function(e,r,i){var o=this.rowCtrlsByRowIndex[r];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){void 0===e&&(e={});var r=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:r,fadeDelay:i})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var r={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){if(i.refreshShouldDestroy()){var o=i.getRowCtrl();o&&o.refreshCell(i)}else i.refreshCell(r)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(i){i.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){return this.getCellCtrls(e.rowNodes,e.columns).map(function(i){return i.getCellRenderer()}).filter(function(i){return null!=i})},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&r.push(o)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var i=r.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned===fe.PINNED_TOP?r.top[o]=i:i.rowPinned===fe.PINNED_BOTTOM?r.bottom[o]=i:r.normal[o]=i}),r}},t.prototype.isRowInMap=function(e,r){var i=e.id,o=e.rowPinned;return o===fe.PINNED_BOTTOM?null!=r.bottom[i]:o===fe.PINNED_TOP?null!=r.top[i]:null!=r.normal[i]},t.prototype.getCellCtrls=function(e,r){var s,i=this,o=this.mapRowNodes(e),a=[];Ge(r)&&(s={},r.forEach(function(u){var c=i.columnModel.getGridColumn(u);Ge(c)&&(s[c.getId()]=!0)}));var l=function(u){var c=u.getRowNode();null!=o&&!i.isRowInMap(c,o)||u.getAllCellCtrls().forEach(function(d){var h=d.getColumn().getId();s&&!s[h]||a.push(d)})};return er(this.rowCtrlsByRowIndex,function(u,c){l(c)}),this.topRowCtrls&&this.topRowCtrls.forEach(l),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(l),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];er(this.rowCtrlsByRowIndex,function(i,o){null==o.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);var r={};return er(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();r[a.id]=o}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e){var r=this;e.forEach(function(i){var o=r.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete r.rowCtrlsByRowIndex[i]})},t.prototype.redrawAfterScroll=function(){var e;if(this.stickyRowFeature&&yE()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=e){var r=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==r&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},t.prototype.removeRowCompsNotToDraw=function(e){var r={};e.forEach(function(a){return r[a]=!0});var o=Object.keys(this.rowCtrlsByRowIndex).filter(function(a){return!r[a]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var r=this,i=V8(this.firstRenderedRow,this.lastRenderedRow),o=function(a,s){var l=s.getRowNode().rowIndex;null!=l&&(l<r.firstRenderedRow||l>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(s)&&i.push(l)};return er(this.rowCtrlsByRowIndex,o),er(e,o),i.sort(function(a,s){return a-s}),i=i.filter(function(a){var s=r.paginationProxy.getRow(a);return s&&!s.sticky})},t.prototype.redraw=function(e,r,i){var o=this;void 0===r&&(r=!1),void 0===i&&(i=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var a=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(a),this.printLayout&&(r=!1),a.forEach(function(l){Ge(o.createOrUpdateRowCtrl(l,e,r,i))}),e&&(!i||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(e,r):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,r),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:H.EVENT_DISPLAYED_ROWS_CHANGED})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight();(this.pinningLeft!==e||r!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var i=r.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var r=this,i=this.mapRowNodes(e);return Wl(this.rowCtrlsByRowIndex).filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(null!=i&&!r.isRowInMap(a,i))})},t.prototype.refreshFullWidthRows=function(e){var r=[],i=!!e,o=i?{}:void 0;i&&o&&e.forEach(function(a){return o[a.id]=!0}),this.getFullWidthRowCtrls().forEach(function(a){var s=a.getRowNode();if((!i||!o||o[s.id]||o[s.level>0&&s.parent?s.parent.id:void 0])&&!a.refreshFullWidth()){var d=a.getRowNode().rowIndex;r.push(d.toString())}}),this.removeRowCtrls(r),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,r,i,o){var a,s=this.rowCtrlsByRowIndex[e];if(s||Ge(a=this.paginationProxy.getRow(e))&&Ge(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null),!s){if(a||(a=this.paginationProxy.getRow(e)),!Ge(a))return;s=this.createRowCon(a,i,o)}return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,r){var i=this,o=[];er(e,function(a,s){if(s){if(i.cachedRowCtrls&&s.isCacheable())return void i.cachedRowCtrls.addRow(s);s.destroyFirstPass(),r?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),u8(o))},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,r;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var i=this.gridOptionsWrapper.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsWrapper.isSuppressRowVirtualisation(),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,m=this.rowContainerHeightService.getDivStretchOffset(),v=o.getScrollFeature().getVScrollPosition(),_=v.top,C=v.bottom;a?(l=h+m,u=p+m):(l=Math.max(_+c-i,h)+m,u=Math.min(C+c+i,p)+m),this.firstVisibleVPixel=Math.max(_+c,h)+m,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var w=this.paginationProxy.getRowIndexAtPixel(l),b=this.paginationProxy.getRowIndexAtPixel(u),E=this.paginationProxy.getPageFirstRow(),S=this.paginationProxy.getPageLastRow();w<E&&(w=E),b>S&&(b=S),e=w,r=b}else e=0,r=-1;var O=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_NORMAL,R=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),D=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);O&&!R&&r-e>D&&(r=e+D),(e!==this.firstRenderedRow||r!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=r,this.eventService.dispatchEvent({type:H.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:r}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:H.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(r)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var i=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing();return!!(a||s||o.detail)&&!!this.paginationProxy.isRowPresent(o)},t.prototype.createRowCon=function(e,r,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsWrapper.isSuppressAnimationFrame();return new up(e,this.beans,r,i&&!a&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r,i=e.rowIndex;switch(e.rowPinned){case fe.PINNED_TOP:r=this.topRowCtrls[i];break;case fe.PINNED_BOTTOM:r=this.bottomRowCtrls[i];break;default:(r=this.rowCtrlsByRowIndex[i])||(r=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null)}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case fe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case fe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){return!(null==e||null==r||r<this.firstRenderedRow||e>this.lastRenderedRow)},zl([F("animationFrameService")],t.prototype,"animationFrameService",void 0),zl([F("paginationProxy")],t.prototype,"paginationProxy",void 0),zl([F("columnModel")],t.prototype,"columnModel",void 0),zl([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),zl([F("rowModel")],t.prototype,"rowModel",void 0),zl([F("focusService")],t.prototype,"focusService",void 0),zl([F("beans")],t.prototype,"beans",void 0),zl([F("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),zl([F("ctrlsService")],t.prototype,"ctrlsService",void 0),zl([Xe],t.prototype,"postConstruct",null),zl([dt("rowRenderer")],t)}(ze),$Ee=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],ra(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}(),KEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return KEe(t,n),t.prototype.formatValue=function(e,r,i,o,a){void 0===a&&(a=!0);var l,s=null,u=e.getColDef();if(o?l=o:a&&(l=r&&r.rowPinned&&u.pinnedRowValueFormatter?u.pinnedRowValueFormatter:u.valueFormatter),l){var c={value:i,node:r,data:r?r.data:null,colDef:u,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s},lz([F("expressionService")],t.prototype,"expressionService",void 0),lz([dt("valueFormatterService")],t)}(ze),qEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XEe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return qEe(t,n),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return ps(e===fe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var i=r===fe.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(ps(i))return 0;for(var o=0;o<i.length;o++){var a=i[o];if(a.rowTop+a.rowHeight-1>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:H.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:H.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,r){var i=this,o=[];if(e){var a=0;e.forEach(function(s,l){var u=new un(i.beans);u.data=s,u.id=(r?un.ID_PREFIX_TOP_PINNED:un.ID_PREFIX_BOTTOM_PINNED)+l,u.rowPinned=r?fe.PINNED_TOP:fe.PINNED_BOTTOM,u.setRowTop(a),u.setRowHeight(i.gridOptionsWrapper.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){ps(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){ps(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var r=ar(e);return r.rowTop+r.rowHeight},gI([F("beans")],t.prototype,"beans",void 0),gI([Xe],t.prototype,"init",null),gI([dt("pinnedRowModel")],t)}(ze),vI=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,r):r&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},r++,e=e.parent;return r},n.prototype.populateColumnsMap=function(t,e){var r=this;if(this.keepingColumns&&e)for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return r.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},n.prototype.linkPathItems=function(t,e){for(var r=t,i=0;i<e;i++){var o=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(o),r=r.parent}},n.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id];return e.filter(function(o){return r[o.getId()]})},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id];return e.filter(function(o){return!r[o.getId()]})},n}(),ZEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_I=function(n){function t(e){var r=n.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return ZEe(t,n),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,i){this.successCommon(e,{rowData:r,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,i=this.isAlive();return r&&i},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(ze),QEe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JEe=function(n,t){return function(e,r){t(e,r,n)}},eSe=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}var e;return QEe(t,n),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsWrapper.getBlockLoadDebounceMillis();r&&r>0&&(this.checkBlockToLoadDebounce=St.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(_I.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){St.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var r=void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,i=this.blocks.filter(function(o){return o.getState()===_I.STATE_WAITING_TO_LOAD}).slice(0,r);this.activeBlockLoadsCount+=i.length,i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){var r={};return this.blocks.forEach(function(i){var o=i.getBlockStateJson();r[o.id]=o.state}),r},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",yI([Xe],t.prototype,"postConstruct",null),yI([JEe(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),e=yI([dt("rowNodeBlockLoader")],t)}(ze),tSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),CI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nSe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return tSe(t,n),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:H.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:H.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:H.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return yt(this.topRowBounds)||yt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,r){return this.rowModel.getNodesInRangeForSelection(e,r)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Ge(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!wE(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!wE(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},CI([F("rowModel")],t.prototype,"rowModel",void 0),CI([Xe],t.prototype,"postConstruct",null),CI([dt("paginationProxy")],t)}(ze),rSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iSe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rSe(t,n),t.prototype.processAllCellClasses=function(e,r,i,o){this.processClassRules(e.cellClassRules,r,i,o),this.processStaticCellClasses(e,r,i)},t.prototype.processClassRules=function(e,r,i,o){if(null!=e){for(var a=Object.keys(e),s={},l={},u=function(h){var v,p=a[h],m=e[p];"string"==typeof m?v=c.expressionService.evaluate(m,r):"function"==typeof m&&(v=m(r)),p.split(" ").forEach(function(_){null==_||""==_.trim()||(v?s[_]=!0:l[_]=!0)})},c=this,d=0;d<a.length;d++)u(d);o&&Object.keys(l).forEach(o),Object.keys(s).forEach(i)}},t.prototype.getStaticCellClasses=function(e,r){var o,i=e.cellClass;return i?("string"==typeof(o="function"==typeof i?i(r):i)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,r,i){this.getStaticCellClasses(e,r).forEach(function(a){i(a)})},uz([F("expressionService")],t.prototype,"expressionService",void 0),uz([dt("stylingService")],t)}(ze),oSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aSe=function(n){function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return oSe(t,n),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,H.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(f0),sSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lSe=function(n){function t(e){return n.call(this,e,"ag-toggle-button")||this}return sSe(t,n),t.prototype.setValue=function(e,r){return n.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(f0),uSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cz=function(n){function t(e,r,i){return void 0===r&&(r="ag-text-field"),void 0===i&&(i="text"),n.call(this,e,r,i)||this}return uSe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value!==e&&(this.eInput.value=Ge(e)?e:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(i){i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(i){var o,a=null===(o=i.clipboardData)||void 0===o?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&i.preventDefault()})},t}(Uc),cSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dSe=function(n){function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return cSe(t,n),t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Uc),fSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hSe=function(n){function t(e){return n.call(this,e,"ag-number-field","number")||this}return fSe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),i=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var r=parseFloat(e);return null!=this.min&&r<this.min?e=this.min.toString():null!=this.max&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var r=parseFloat(e).toFixed(this.precision);e=parseFloat(r).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Jy(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Jy(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Jy(this.eInput,"step",e)),this},t.prototype.setValue=function(e,r){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:n.prototype.setValue.call(this,e,r)},t}(cz),pSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mSe=function(n){function t(e){return n.call(this,e,"ag-range-field","range")||this}return pSe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,r=e.min,i=e.max,o=e.step;null!=r&&this.setMinValue(r),null!=i&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){e.setValue(r.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t}(Uc),gSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),JE=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vSe=function(n){function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return gSe(t,n),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,i=jc.EVENT_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(r.eText.getValue());r.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=r.eSlider.getValue();r.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:jc.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',JE([Ne("eLabel")],t.prototype,"eLabel",void 0),JE([Ne("eSlider")],t.prototype,"eSlider",void 0),JE([Ne("eText")],t.prototype,"eText",void 0),JE([Xe],t.prototype,"init",null),t}(GM),_Se=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ySe=function(n){function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return _Se(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(r){(null==r||""===r)&&(r="0"),r=e.eAngleValue.normalizeValue(r);var i=parseFloat(r);i>180&&(i-=360),e.setValue(i)}),this.updateNumberInput(),Ge(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,jc.EVENT_CHANGED,function(){var r=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,a=r.height/2;i.style.left=r.width/2+8*Math.cos(e)+"px",i.style.top=a+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,i=Math.atan2(r,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,c=Math.atan2(e.clientY-r.top-r.height/2,e.clientX-r.left-r.width/2);this.setValue(c,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,jc.EVENT_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var i;return i=r?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:jc.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return Gu(this.getGui(),e),this},t.prototype.setDisabled=function(e){return n.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',g0([Ne("eLabel")],t.prototype,"eLabel",void 0),g0([Ne("eParentCircle")],t.prototype,"eParentCircle",void 0),g0([Ne("eChildCircle")],t.prototype,"eChildCircle",void 0),g0([Ne("eAngleValue")],t.prototype,"eAngleValue",void 0),g0([F("dragService")],t.prototype,"dragService",void 0),t}(GM),CSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$c=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bSe=function(n){function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return CSe(t,n),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var i=e.clientX-r.left,o=e.clientY-r.top;i=Math.max(i,0),i=Math.min(i,r.width),o=Math.max(o,0),o=Math.min(o,r.height),this.setSpectrumValue(i/r.width,1-o/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var i=this.spectrumHueSlider,o=i.getBoundingClientRect(),a=e.clientX-r.left;a=Math.max(a,0),a=Math.min(a,r.width),this.H=1-a/r.width,i.style.left=a+o.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var i=this.spectrumAlphaSlider,o=i.getBoundingClientRect(),a=e.clientX-r.left;a=Math.max(a,0),a=Math.min(a,r.width),this.A=a/r.width,i.style.left=a+o.width/2+"px",this.update()}},t.prototype.update=function(){var e=Ky.fromHSB(360*this.H,this.S,this.B,this.A),r=Ky.fromHSB(360*this.H,1,1),i=e.toRgbaString(),o=this.picker;Ky.fromString(o.getValue()).toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,r){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,o.style.left=e*i.width-a.width/2+"px",o.style.top=(1-r)*i.height-a.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var r=t.recentColors.map(function(i,o){return'<div class="ag-recent-color" id='+o+' style="background-color: '+i+'; width: 15px; height: 15px;" recent-color="'+i+'"></div>'});this.recentColors.innerHTML=r.join("")},t.prototype.setValue=function(e){var r=Ky.fromString(e),i=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(r.toHSB(),3),o=i[0],a=i[1],s=i[2];this.H=(isNaN(o)?0:o)/360,this.A=r.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-l.width+"px",this.spectrumAlphaSlider.style.left=this.A*u.width+"px",this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(Ge(r.id)){var i=parseInt(r.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var r=Ky.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===r||(i=i.filter(function(o){return o!=r}),(i=[r].concat(i)).length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',$c([Ne("spectrumColor")],t.prototype,"spectrumColor",void 0),$c([Ne("spectrumVal")],t.prototype,"spectrumVal",void 0),$c([Ne("spectrumDragger")],t.prototype,"spectrumDragger",void 0),$c([Ne("spectrumHue")],t.prototype,"spectrumHue",void 0),$c([Ne("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),$c([Ne("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),$c([Ne("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),$c([Ne("recentColors")],t.prototype,"recentColors",void 0),$c([Xe],t.prototype,"postConstruct",null),t}(tn),xSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dz=function(n){function t(e){var r=n.call(this,t.getTemplate(e))||this;return r.closable=!0,r.config=e,r}return xSe(t,n),t.getTemplate=function(e){var r=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+r+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+r+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+r+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+r+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+r+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,r=this.config,i=r.component,o=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=void 0===l?250:l,c=r.width,d=r.minHeight,h=void 0===d?250:d,p=r.height,m=r.centered,v=r.popup,_=r.x,C=r.y;this.positionableFeature=new kEe(this.getGui(),{minWidth:u,width:c,minHeight:h,height:p,centered:m,x:_,y:C,popup:v,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var w=this.getGui();i&&this.setBodyComponent(i),a?this.eTitleBar.classList.add("ag-hidden"):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(b){var E=e.gridOptionsWrapper.getDocument();if(w.contains(b.relatedTarget)||w.contains(E.activeElement)||e.eTitleBarButtons.contains(b.target))b.preventDefault();else{var S=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");S&&S.focus()}}),(!v||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new tn(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var i=r.getGui(),o=gi("close",this.gridOptionsWrapper);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var i=this.eTitleBarButtons,o=i.children,a=o.length;null==r&&(r=a),r=Math.max(0,Math.min(r,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();0===r?i.insertAdjacentElement("afterbegin",s):r===a?i.insertAdjacentElement("beforeend",s):o[r-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Yy(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return EE(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',v0([Ne("eContentWrapper")],t.prototype,"eContentWrapper",void 0),v0([Ne("eTitleBar")],t.prototype,"eTitleBar",void 0),v0([Ne("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),v0([Ne("eTitle")],t.prototype,"eTitle",void 0),v0([Xe],t.prototype,"postConstruct",null),t}(tn),ESe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eS=function(){return eS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},eS.apply(this,arguments)},fz=function(n){function t(e){var r=n.call(this,eS(eS({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return ESe(t,n),t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||e.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,i=r.alwaysOnTop,o=r.modal,a=r.title,s=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:a||s("ariaLabelDialog","Dialog")});l&&(this.close=l.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,i=r.x,o=r.y,s=r.height;this.setWidth(r.width),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){_r(this.maximizeIcon,!this.isMaximized),_r(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&e!==this.isMaximizable){var o=this.maximizeButtonComp=this.createBean(new tn('<div class="ag-dialog-button"></span>')),a=o.getGui();a.appendChild(this.maximizeIcon=gi("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),a.appendChild(this.minimizeIcon=gi("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),o.addManagedListener(a,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([F("popupService")],t.prototype,"popupService",void 0),t}(dz),DSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),RSe=function(n){function t(e){var r=n.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(r.value=e.color),r}return DSe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,r=this.getGui().getBoundingClientRect(),i=this.createBean(new fz({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:r.right-190,y:r.top-250}));this.isPickerDisplayed=!0,i.addCssClass("ag-color-dialog"),_s(this.eWrapper,!0);var o=this.createBean(new bSe({picker:this}));return o.addDestroyFunc(function(){i.isAlive()&&e.destroyBean(i)}),i.setParentComponent(this),i.setBodyComponent(o),o.setValue(this.getValue()),i.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,o.isAlive()&&e.destroyBean(o)),e.isAlive()&&(_s(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),i},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(E5),TSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OSe=function(n){function t(e){void 0===e&&(e={});var r=n.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return r.title=e.title,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=o??!0,r.items=a||[],r.alignItems=e.alignItems||"center",null!=s&&(r.suppressEnabledCheckbox=s),null!=l&&(r.suppressOpenCloseIcons=l),r}return TSe(t,n),t.getTemplate=function(e){var r=e.cssIdentifier||"default";return'<div class="ag-group ag-'+r+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+r+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+r+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+r+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+r+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+r+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+r+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(nl("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(nl("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case Le.ENTER:case Le.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case Le.RIGHT:case Le.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===Le.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||_s(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;_r(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),_r(this.eGroupOpenedIcon,e&&this.expanded),_r(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),_r(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),_r(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var r=this;e.forEach(function(i){return r.addItem(i)})},t.prototype.addItem=function(e){var r=this.eContainer,i=e instanceof tn?e.getGui():e;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),r.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,r){this.items[r].classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(i){r.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",yf([Ne("eTitleBar")],t.prototype,"eTitleBar",void 0),yf([Ne("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),yf([Ne("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),yf([Ne("eToolbar")],t.prototype,"eToolbar",void 0),yf([Ne("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),yf([Ne("eTitle")],t.prototype,"eTitle",void 0),yf([Ne("eContainer")],t.prototype,"eContainer",void 0),yf([Xe],t.prototype,"postConstruct",null),t}(tn),ASe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PSe=function(n){function t(e){var r=n.call(this)||this;r.skipTabGuardFocus=!1;var o=e.eTopGuard,a=e.eBottomGuard,s=e.focusInnerElement,l=e.onFocusIn,u=e.onFocusOut,c=e.shouldStopEventPropagation,d=e.onTabKeyDown,h=e.handleKeyDown,p=e.eFocusableElement;return r.comp=e.comp,r.eTopGuard=o,r.eBottomGuard=a,r.providedFocusInnerElement=s,r.eFocusableElement=p,r.providedFocusIn=l,r.providedFocusOut=u,r.providedShouldStopEventPropagation=c,r.providedOnTabKeyDown=d,r.providedHandleKeyDown=h,r}return ASe(t,n),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new pf(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var r=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(r):this.focusInnerElement(r)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return r.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var r=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,r.focus()},hz([F("focusService")],t.prototype,"focusService",void 0),hz([Xe],t.prototype,"postConstruct",null),t}(ze),MSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ISe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return MSe(t,n),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){r.forEach(function(a){return null!=o?a.setAttribute("tabIndex",o):a.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new PSe({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div");return r.classList.add("ag-tab-guard","ag-tab-guard-"+e),oa(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];vs(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ISe(arguments[t]));return n}(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){Qy(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,r)},t}(tn),kSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nS=function(){return nS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},nS.apply(this,arguments)},pz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LSe=function(n){function t(e){void 0===e&&(e=1);var r=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=e,r.menuItems=[],r}return kSe(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),i=r&&r.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case Le.UP:case Le.RIGHT:case Le.DOWN:case Le.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Le.ESCAPE:var r=this.findTopMenu();r&&this.focusService.focusInto(r.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e?.forEach(function(i){"separator"===i?r.addSeparator():"string"==typeof i?console.warn("AG Grid: unrecognised menu item "+i):r.addItem(i)})},t.prototype.addItem=function(e){var r=this,i=this.createManagedBean(new _0(nS(nS({},e),{isAnotherSubMenuOpen:function(){return r.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),r5(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,_0.EVENT_MENU_ITEM_SELECTED,function(o){r.dispatchEvent(o)}),this.addManagedListener(i,_0.EVENT_MENU_ITEM_ACTIVATED,function(o){r.activeMenuItem&&r.activeMenuItem!==o.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(so('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var r=e&&e.getParentComponent&&e.getParentComponent();if(!r||!(r instanceof t||r instanceof _0))break;e=r}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case Le.UP:case Le.DOWN:var r=this.findNextItem(e===Le.UP);return void(r&&r!==this.activeMenuItem&&r.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?Le.RIGHT:Le.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();r&&r instanceof _0&&(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(r.length){if(!this.activeMenuItem)return e?ar(r):r[0];e&&r.reverse();for(var i,o=!1,a=0;a<r.length;a++){var s=r[a];if(o){i=s;break}s===this.activeMenuItem&&(o=!0)}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},pz([F("focusService")],t.prototype,"focusService",void 0),pz([Xe],t.prototype,"postConstruct",null),t}(tS),NSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),GSe=function(n){function t(e){var r=n.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return NSe(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===Le.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Xe],t.prototype,"postConstruct",null),t}(tS),VSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_0=function(n){function t(e){var r=n.call(this)||this;return r.params=e,r.isActive=!1,r.subMenuIsOpen=!1,r.setTemplate('<div class="'+r.getClassName()+'" tabindex="-1" role="treeitem"></div>'),r}return VSe(t,n),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var r=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),EM(r,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===Le.ENTER||i.key===Le.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var o,i=so('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var a=e5(this.getGui()),s=isNaN(a)?1:a+1,l=this.createBean(new LSe(s));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),i.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(w){return r.dispatchEvent(w)}),l.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),o=function(){return r.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new GSe(u));c.setParentComponent(this);var d=c.getGui(),h="mouseenter",p=function(){return r.cancelDeactivate()};d.addEventListener(h,p),o=function(){return d.removeEventListener(h,p)},i.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var m=this.getGui(),v=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:m,ePopup:i}),_=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:v,anchorToElement:m,ariaLabel:_("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,_s(m,!0),this.hideSubMenu=function(){C&&C.hideFunc(),r.subMenuIsOpen=!1,_s(m,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,_s(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var r=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=so('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(gi("check",this.gridOptionsWrapper)):this.params.icon&&(Qy(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=so('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new kM(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=so('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=so('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),r=this.getGui();if(this.params.subMenu){var i=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";_s(r,!1),e.appendChild(gi(i,this.gridOptionsWrapper))}r.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var r=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?r+"-"+e:r},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,mz([F("popupService")],t.prototype,"popupService",void 0),mz([Xe],t.prototype,"init",null),t}(tn),HSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hu=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WSe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},y0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return HSe(t,n),e=t,t.addKeyboardModeEvents=function(r,i){var o=e.instancesMonitored.get(r);o&&o.length>0?-1===o.indexOf(i)&&o.push(i):(e.instancesMonitored.set(r,[i]),r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r,i){var o=e.instancesMonitored.get(r),a=[];o&&o.length&&(a=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(WSe(arguments[t]));return n}(o).filter(function(s){return s!==i}),e.instancesMonitored.set(r,a)),0===a.length&&(r.removeEventListener("keydown",e.toggleKeyboardMode),r.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var i=e.keyboardModeActive,o="keydown"===r.type;if(!(o&&(r.ctrlKey||r.metaKey||r.altKey)||i&&o||!i&&!o)){e.keyboardModeActive=o;var a=r.target.ownerDocument;if(a){var s=e.instancesMonitored.get(a);s&&s.forEach(function(l){l.dispatchEvent({type:o?H.EVENT_KEYBOARD_FOCUS:H.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var r=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl;var a=r.gridOptionsWrapper.getDocument();e.addKeyboardModeEvents(a,r.gridCtrl),r.addDestroyFunc(function(){return r.unregisterGridCompController(r.gridCtrl)})})},t.prototype.unregisterGridCompController=function(r){var i=this.gridOptionsWrapper.getDocument();e.removeKeyboardModeEvents(i,r)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(r.getId());r!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,up.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,$E.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,i){for(var o=r;o;){if(this.gridOptionsWrapper.getDomData(o,i))return!1;o=o.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(r){var o=r.rowIndex,a=r.rowPinned,s=r.forceBrowserFocus,l=void 0!==s&&s,u=r.preventScrollOnBrowserFocus,c=void 0!==u&&u,d=this.columnModel.getGridColumn(r.column);d?(this.focusedCellPosition=d?{rowIndex:o,rowPinned:af(a),column:d}:null,this.onCellFocused(l,c)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(r){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===r.column&&this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(null==this.focusedHeaderPosition)return!1;var i=r.getColumnGroupChild(),o=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column;return i===l&&o===s.headerRowIndex&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,i){this.focusedHeaderPosition={headerRowIndex:r,column:i}},t.prototype.focusHeaderPosition=function(r){var i=r.direction,o=r.fromTab,s=r.event,l=r.headerPosition;if(r.allowUserOverride){var h,u=this.gridOptionsWrapper,c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();o?(h=u.getTabToNextHeaderFunc())&&(l=h({backwards:"Before"===i,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d})):(h=u.getNavigateToNextHeaderFunc())&&s&&(l=h({key:s.key,previousHeaderPosition:c,nextHeaderPosition:l,headerRowCount:d,event:s}))}return!!l&&(-1===l.headerRowIndex?this.focusGridView(l.column):(this.headerNavigationService.scrollToColumn(l.column,i),this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()).focusHeader(l.headerRowIndex,l.column,s)))},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];return!!r&&(r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:r}}))},t.prototype.focusLastHeader=function(r){var i=this.headerNavigationService.getHeaderRowCount()-1,o=ar(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:r})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===af(i)},t.prototype.findFocusableElements=function(r,i,o){void 0===o&&(o=!1);var s=fe.FOCUSABLE_EXCLUDE;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var h,l=Array.prototype.slice.apply(r.querySelectorAll(fe.FOCUSABLE_SELECTOR)),u=Array.prototype.slice.apply(r.querySelectorAll(s));return u.length?(h=u,l.filter(function(p){return-1===h.indexOf(p)})):l},t.prototype.focusInto=function(r,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var a=this.findFocusableElements(r,null,o),s=i?ar(a):a[0];return!!s&&(s.focus(),!0)},t.prototype.findNextFocusableElement=function(r,i,o){void 0===r&&(r=this.eGridDiv);var a=this.findFocusableElements(r,i?':not([tabindex="-1"])':null),l=this.gridOptionsWrapper.getDocument().activeElement,c=(i?a.findIndex(function(d){return d.contains(l)}):a.indexOf(l))+(o?-1:1);return c<0||c>=a.length?null:a[c]},t.prototype.isFocusUnderManagedComponent=function(r){var i=this.gridOptionsWrapper.getDocument(),o=r.querySelectorAll("."+pf.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(r,i){void 0===i&&(i=5);for(var o=0;r&&null===CE(r)&&++o<=i;)r=r.parentElement;return null===CE(r)?null:r},t.prototype.onCellFocused=function(r,i){var o={type:H.EVENT_CELL_FOCUSED,forceBrowserFocus:r,preventScrollOnBrowserFocus:i,rowIndex:null,column:null,floating:null,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var a=o.rowIndex=this.focusedCellPosition.rowIndex,s=o.rowPinned=this.focusedCellPosition.rowPinned;o.column=this.focusedCellPosition.column;var l=this.rowRenderer.getRowByPosition({rowIndex:a,rowPinned:s});l&&(o.isFullWidthCell=l.isFullWidth())}this.eventService.dispatchEvent(o)},t.prototype.focusGridView=function(r,i){if(this.gridOptionsWrapper.isSuppressCellFocus())return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();return!r&&l&&(r=l.column),!(null==a||!r)&&(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:r,rowPinned:af(s),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:s,column:r}),!0)},t.prototype.focusNextGridCoreContainer=function(r){return!!this.gridCtrl.focusNextInnerContainer(r)||(!r&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Hu([F("eGridDiv")],t.prototype,"eGridDiv",void 0),Hu([F("columnModel")],t.prototype,"columnModel",void 0),Hu([F("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Hu([F("rowRenderer")],t.prototype,"rowRenderer",void 0),Hu([F("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Hu([Hn("rangeService")],t.prototype,"rangeService",void 0),Hu([F("navigationService")],t.prototype,"navigationService",void 0),Hu([F("ctrlsService")],t.prototype,"ctrlsService",void 0),Hu([Xe],t.prototype,"init",null),e=Hu([dt("focusService")],t)}(ze),USe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zSe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Kc=(()=>(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"}(Kc||(Kc={})),Kc))(),KSe=0,YSe=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.popupList=[],r}var e;return USe(t,n),e=t,t.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl,r.addManagedListener(r.gridCtrl,H.EVENT_KEYBOARD_FOCUS,function(){r.popupList.forEach(function(o){return o.element.classList.add(y0.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,H.EVENT_MOUSE_FOCUS,function(){r.popupList.forEach(function(o){return o.element.classList.remove(y0.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(r){var i=r.eventSource.getBoundingClientRect(),o=this.getParentRect(),a=this.keepXYWithinBounds(r.ePopup,i.top-o.top,Kc.vertical),s=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=s+"px";var c,u=o.right-o.left-s;function d(){return i.right-o.left-2}function h(){return i.left-o.left-s}this.gridOptionsWrapper.isEnableRtl()?((c=h())<0&&(c=d()),c>u&&(c=0)):((c=d())>u&&(c=h()),c<0&&(c=0)),r.ePopup.style.left=c+"px",r.ePopup.style.top=a+"px"},t.prototype.positionPopupUnderMouseEvent=function(r){var i=r.ePopup,o=r.nudgeX,a=r.nudgeY,s=r.skipObserver,l=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:i,x:l.x,y:l.y,nudgeX:o,nudgeY:a,keepWithinBounds:!0,skipObserver:s}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},t.prototype.calculatePointerAlign=function(r){var i=this.getParentRect();return{x:r.clientX-i.left,y:r.clientY-i.top}},t.prototype.positionPopupUnderComponent=function(r){var i=r.eventSource.getBoundingClientRect(),o=r.alignSide||"left",a=this.getParentRect(),s=i.left-a.left;"right"===o&&(s-=r.ePopup.offsetWidth-i.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:s,y:i.top-a.top+i.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},t.prototype.positionPopupOverComponent=function(r){var i=r.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:i.left-o.left,y:i.top-o.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},t.prototype.callPostProcessPopup=function(r,i,o,a,s,l){var u=this.gridOptionsWrapper.getPostProcessPopupFunc();u&&u({column:s,rowNode:l,ePopup:i,type:r,eventSource:o,mouseEvent:a})},t.prototype.positionPopup=function(r){var i=this,s=r.ePopup,l=r.keepWithinBounds,u=r.nudgeX,c=r.nudgeY,d=r.skipObserver,h=r.x,p=r.y;u&&(h+=u),c&&(p+=c);var m=function(){l&&(h=i.keepXYWithinBounds(s,h,Kc.horizontal),p=i.keepXYWithinBounds(s,p,Kc.vertical)),s.style.left=h+"px",s.style.top=p+"px"};if(m(),!d){var v=this.resizeObserverService.observeResize(s,m);setTimeout(function(){return v()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),i=this.getPopupParent();i===r.body?i=r.documentElement:"static"===getComputedStyle(i).position&&(i=i.offsetParent);var o=getComputedStyle(i),a=i.getBoundingClientRect();return{top:a.top+parseFloat(o.borderTopWidth)||0,left:a.left+parseFloat(o.borderLeftWidth)||0,right:a.right+parseFloat(o.borderRightWidth)||0,bottom:a.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(r,i,o){var a=o===Kc.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsWrapper.getDocument(),h=d.documentElement,p=this.getPopupParent(),m=p.getBoundingClientRect(),v=d.documentElement.getBoundingClientRect(),_=p===d.body,C=r[u],b=_?(a?hM:SE)(h)+h[c]:p[s];_&&(b-=Math.abs(v[l]-m[l]));var E=b-C;return Math.min(Math.max(i,0),Math.abs(E))},t.prototype.keepPopupPositionedRelativeTo=function(r){var i=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=r.element.getBoundingClientRect(),l=a.top-s.top,u=a.left-s.left,c=l,d=u,h=r.ePopup.style.top,p=parseInt(h.substring(0,h.length-1),10),m=r.ePopup.style.left,v=parseInt(m.substring(0,m.length-1),10);return new Pa(function(_){i.getFrameworkOverrides().setInterval(function(){var C=o.getBoundingClientRect(),w=r.element.getBoundingClientRect();if(0==w.top&&0==w.left&&0==w.height&&0==w.width)r.hidePopup();else{var E=C.top-w.top;if(E!=c){var S=i.keepXYWithinBounds(r.ePopup,p+l-E,Kc.vertical);r.ePopup.style.top=S+"px"}c=E;var O=C.left-w.left;if(O!=d){var R=i.keepXYWithinBounds(r.ePopup,v+u-O,Kc.horizontal);r.ePopup.style.left=R+"px"}d=O}},200).then(function(C){_(function(){null!=C&&window.clearInterval(C)})})})},t.prototype.addPopup=function(r){var i,o=this,a=r.modal,s=r.eChild,l=r.closeOnEsc,u=r.closedCallback,c=r.click,d=r.alwaysOnTop,h=r.afterGuiAttached,p=r.positionCallback,m=r.anchorToElement,v=r.ariaLabel,_=this.gridOptionsWrapper.getDocument(),C=new Pa(function(I){return I(function(){})});if(!_)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:C};var w=this.popupList.findIndex(function(I){return I.element===s});if(-1!==w){var b=this.popupList[w];return{hideFunc:b.hideFunc,stopAnchoringPromise:b.stopAnchoringPromise}}var E=this.getPopupParent();null==s.style.top&&(s.style.top="0px"),null==s.style.left&&(s.style.left="0px");var S=document.createElement("div"),O=this.environment.getTheme().allThemes;O.length&&(i=S.classList).add.apply(i,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(zSe(arguments[t]));return n}(O)),S.classList.add("ag-popup"),s.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),s.hasAttribute("role")||oa(s,"dialog"),tp(s,v),this.focusService.isKeyboardMode()&&s.classList.add(y0.AG_KEYBOARD_FOCUS),S.appendChild(s),E.appendChild(S),d?this.setAlwaysOnTop(S,!0):this.bringPopupToFront(S);var R=!1,D=function(I){S.contains(_.activeElement)&&I.key===Le.ESCAPE&&B({keyboardEvent:I})},P=function(I){return B({mouseEvent:I})},M=function(I){return B({touchEvent:I})},B=function(I){void 0===I&&(I={});var U=I.mouseEvent,le=I.touchEvent,ie=I.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:U,touchEvent:le},s)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:c,mouseEvent:U,touchEvent:le})||R||(R=!0,E.removeChild(S),_.removeEventListener("keydown",D),_.removeEventListener("mousedown",P),_.removeEventListener("touchstart",M),_.removeEventListener("contextmenu",P),o.eventService.removeEventListener(H.EVENT_DRAG_STARTED,P),u&&u(U||le||ie),o.popupList=o.popupList.filter(function(te){return te.element!==s}),C&&C.then(function(te){return te&&te()}))};return h&&h({hidePopup:B}),window.setTimeout(function(){l&&_.addEventListener("keydown",D),a&&(_.addEventListener("mousedown",P),o.eventService.addEventListener(H.EVENT_DRAG_STARTED,P),_.addEventListener("touchstart",M),_.addEventListener("contextmenu",P))},0),p&&p(),m&&(C=this.keepPopupPositionedRelativeTo({element:m,ePopup:s,hidePopup:B})),this.popupList.push({element:s,wrapper:S,hideFunc:B,stopAnchoringPromise:C,instanceId:KSe++,isAnchored:!!m}),{hideFunc:B,stopAnchoringPromise:C}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},t.prototype.isEventFromCurrentPopup=function(r,i){var s=r.mouseEvent||r.touchEvent;if(!s)return!1;var l=this.popupList.findIndex(function(d){return d.element===i});if(-1===l)return!1;for(var u=l;u<this.popupList.length;u++)if(gE(this.popupList[u].element,s))return!0;return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(r){for(var i=this.gridOptionsWrapper.getDocument();r&&r!==i.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(r){var i=r.originalMouseEvent,o=r.mouseEvent,a=r.touchEvent,s=null;if(o?s=o:a&&(s=a.touches[0]),s&&i){var u=o?o.screenY:0,c=Math.abs(i.screenX-(o?o.screenX:0))<5,d=Math.abs(i.screenY-u)<5;if(c&&d)return!0}return!1},t.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},t.prototype.setAlwaysOnTop=function(r,i){var o=this.getWrapper(r);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(r){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(r);if(u&&!(a<=1)&&i.contains(r)){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];for(d.forEach(function(_){0!==_.scrollTop&&h.push([_,_.scrollTop])}),l?u.classList.contains("ag-always-on-top")?c!==a-1&&ar(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u):c!==a-1&&ar(o).insertAdjacentElement("afterend",u);h.length;){var m=h.pop();m[0].scrollTop=m[1]}var v={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:u};this.eventService.dispatchEvent(v)}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,fp([F("environment")],t.prototype,"environment",void 0),fp([F("focusService")],t.prototype,"focusService",void 0),fp([F("ctrlsService")],t.prototype,"ctrlsService",void 0),fp([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),fp([F("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fp([Xe],t.prototype,"postConstruct",null),e=fp([dt("popupService")],t)}(ze),qSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XSe=(function(n){function t(e,r,i){void 0===e&&(e="default"),void 0===r&&(r="listbox");var o=n.call(this,t.getTemplate(e))||this;return o.cssIdentifier=e,o.ariaRole=r,o.listName=i,o.renderedRows=new Map,o.rowHeight=20,o}qSe(t,n),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;oa(i,this.ariaRole),tp(i,r)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),r=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;return r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=t5(r)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case Le.UP:case Le.DOWN:this.navigate(e.key===Le.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return!(r<0||r>=this.model.getRowCount()||(this.focusRow(r),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(r.isAlive()){var i=r.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(r,i){return e(r.rowComponent,i)})},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var r=this.model.getRowCount();if("number"!=typeof e||e<0||e>=r)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var i=e*this.rowHeight,o=i+this.rowHeight,a=this.getGui(),s=a.scrollTop,l=a.offsetHeight,d=s+l<o;s>i?a.scrollTop=i:d&&(a.scrollTop=o-l)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&this.isAlive()){var r=this.model.getRowCount();this.eContainer.style.height=r*this.rowHeight+"px",d8(function(){return e.eContainer.clientHeight>=r*e.rowHeight},function(){e.isAlive()&&(e.clearVirtualRows(),e.drawVirtualRows())})}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(){if(this.isAlive()){var e=this.getGui(),r=e.scrollTop,i=r+e.offsetHeight,o=Math.floor(r/this.rowHeight),a=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,a)}},t.prototype.ensureRowsRendered=function(e,r){var i=this;this.renderedRows.forEach(function(a,s){(s<e||s>r)&&s!==i.lastFocusedRowIndex&&i.removeRow(s)});for(var o=e;o<=r;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)},t.prototype.insertRow=function(e){var r=this,i=this.model.getRow(e),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),oa(o,"tree"===this.ariaRole?"treeitem":"option"),DM(o,this.model.getRowCount()),RM(o,e+1),o.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var a=this.model.isRowSelected(e);Dg(o,!!a),f5(o,a)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*e+"px";var s=this.componentCreator(i,o);s.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),o.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:s,eDiv:o})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},rS([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),rS([F("focusService")],t.prototype,"focusService",void 0),rS([Ne("eContainer")],t.prototype,"eContainer",void 0),rS([Xe],t.prototype,"postConstruct",null)}(tS),["mouseover","mouseout","mouseenter","mouseleave"]),ZSe=["touchstart","touchend","touchmove","touchcancel"],gz=function(){function n(){this.isOutsideAngular=function(t){return gs(XSe,t)}}return n.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},n.prototype.setInterval=function(t,e){return new Pa(function(r){r(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,r,i){var o=gs(ZSe,e);t.addEventListener(e,r,{capture:!!i,passive:o})},n.prototype.dispatchEvent=function(t,e,r){e()},n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n}(),QSe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ig=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JSe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return QSe(t,n),t.prototype.getNextCellToFocus=function(e,r,i){return void 0===i&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var s,l,i=e===Le.UP,a=e===Le.LEFT;if(i||e===Le.DOWN)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsWrapper.isEnableRtl();l=r.rowIndex,s=a!==c?u[0]:ar(u)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var i=r,o=!1;!o;){switch(e){case Le.UP:i=this.getCellAbove(i);break;case Le.DOWN:i=this.getCellBelow(i);break;case Le.RIGHT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(i):this.getCellToRight(i);break;case Le.LEFT:i=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!i||this.isCellGoodToFocusOn(i)}return i},t.prototype.isCellGoodToFocusOn=function(e){var i,r=e.column;switch(e.rowPinned){case fe.PINNED_TOP:i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case fe.PINNED_BOTTOM:i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!r.isSuppressNavigable(i)},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case fe.PINNED_BOTTOM:return null;case fe.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(fe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:fe.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(fe.PINNED_BOTTOM)?{rowIndex:0,rowPinned:fe.PINNED_BOTTOM}:null}var o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:r+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,r){if(this.gridOptionsWrapper.isGroupRowsSticky()&&e&&e.sticky){var i=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(JSe(arguments[t]));return n}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=r?-1:1,a=i.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=i[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,i=e.rowIndex;return r===fe.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:r===fe.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},t.prototype.getRowAbove=function(e){var r=e.rowIndex,i=e.rowPinned;if(i?0===r:r===this.paginationProxy.getPageFirstRow())return i===fe.PINNED_TOP?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(fe.PINNED_TOP)?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(a,!0)||{rowIndex:r-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:fe.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=r[0];var s=this.getRowBelow(e);if(yt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=ar(r);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(yt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},Ig([F("columnModel")],t.prototype,"columnModel",void 0),Ig([F("rowModel")],t.prototype,"rowModel",void 0),Ig([F("rowRenderer")],t.prototype,"rowRenderer",void 0),Ig([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ig([F("paginationProxy")],t.prototype,"paginationProxy",void 0),Ig([dt("cellNavigationService")],t)}(ze),nDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rDe=function(n,t){return function(e,r){t(e,r,n)}},iDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.consuming=!1,e}return nDe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var r=this.gridOptionsWrapper.getAlignedGrids();r&&r.forEach(function(i){if(i.api){var o=i.api.__getAlignedGridService();e(o)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){r.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case H.EVENT_COLUMN_MOVED:case H.EVENT_COLUMN_VISIBLE:case H.EVENT_COLUMN_PINNED:case H.EVENT_COLUMN_RESIZED:r.processColumnEvent(e);break;case H.EVENT_COLUMN_GROUP_OPENED:r.processGroupOpenedEvent(e);break;case H.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var r=e.columnGroup,i=null;if(r){var o=r.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}r&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+r.isExpanded()),this.columnModel.setColumnGroupOpened(i,r.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var i,r=this,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!o||a){var s=this.getMasterColumns(e);switch(e.type){case H.EVENT_COLUMN_MOVED:var l=e,c=e.columnApi.getColumnState().map(function(w){return{colId:w.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+l.toIndex);break;case H.EVENT_COLUMN_VISIBLE:var d=e;c=e.columnApi.getColumnState().map(function(E){return{colId:E.colId,hide:E.hide}}),this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+d.visible);break;case H.EVENT_COLUMN_PINNED:var h=e;c=e.columnApi.getColumnState().map(function(E){return{colId:E.colId,pinned:E.pinned}}),this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+h.pinned);break;case H.EVENT_COLUMN_RESIZED:var p=e,m={};s.forEach(function(w){r.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+w.getActualWidth()),m[w.getId()]={key:w.getColId(),newWidth:w.getActualWidth()}}),null===(i=p.flexColumns)||void 0===i||i.forEach(function(w){m[w.getId()]&&delete m[w.getId()]}),this.columnModel.setColumnWidths(Object.values(m),!1,p.finished,"alignedGridChanged")}var _=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),C=this.gridOptionsWrapper.getAlignedGrids();C&&C.forEach(function(w){w.api&&w.api.setAlwaysShowVerticalScroll(_)})}},C0([F("columnModel")],t.prototype,"columnModel",void 0),C0([F("ctrlsService")],t.prototype,"ctrlsService",void 0),C0([rDe(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),C0([Xe],t.prototype,"init",null),C0([dt("alignedGridsService")],t)}(ze),oDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),iS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aDe=function(n,t){return function(e,r){t(e,r,n)}},sDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return oDe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,H.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return er(this.selectedNodes,function(r,i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return er(this.selectedNodes,function(r,i){i&&i.data&&e.push(i.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;er(this.selectedNodes,function(r,i){i&&i.group&&(e.selectedNodes[i.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE){var i=this.rowModel.getRootNode();e||(e=new vI(!0,i)).setInactive(),e.forEachChangedNodeDepthFirst(function(o){if(o!==i){var a=o.calculateSelectedFromChildren();o.selectThisNode(null!==a&&a)}})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var r=this,i={},o=0;return er(this.selectedNodes,function(a,s){s&&s.id!==e.id&&(o+=r.selectedNodes[s.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),r.groupSelectsChildren&&s.parent&&(i[s.parent.id]=s.parent))}),er(i,function(a,s){var l=s.calculateSelectedFromChildren();s.selectThisNode(null!==l&&l)}),o},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(this.selectedNodes[r.id]=r.isSelected()?r:void 0)},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){Ge(r)&&e.id!==r.id&&r&&this.selectedNodes[r.id]==e&&(this.selectedNodes[r.id]=r)},t.prototype.syncInNewRowNode=function(e){Ge(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE){var r=this.rowModel.getTopLevelNodes();if(null!==r){var i=[];return function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];u.isSelected()?i.push(u):u.group&&u.children&&o(u.children)}}(r),i}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return er(this.selectedNodes,function(r,i){i&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var r=function(s){return s.selectThisNode(!1)},i=this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!i)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(r)}else er(this.selectedNodes,function(s,l){l&&r(l)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:H.EVENT_SELECTION_CHANGED})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==fe.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var r=this.rowModel,i=function(a){return a.selectThisNode(!0)};e?r.forEachNodeAfterFilter(i):r.forEachNode(i),this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:H.EVENT_SELECTION_CHANGED})},t.prototype.selectNode=function(e,r){e&&e.setSelectedParams({newValue:!0,clearSelection:!r})},t.prototype.deselectIndex=function(e){var r=this.rowModel.getRow(e);this.deselectNode(r)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,r){var i=this.rowModel.getRow(e);this.selectNode(i,r)},iS([F("rowModel")],t.prototype,"rowModel",void 0),iS([aDe(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),iS([Xe],t.prototype,"init",null),iS([dt("selectionService")],t)}(ze),wI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lDe=function(){function n(){}return n.prototype.sizeColumnsToFit=function(t){typeof t>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){"number"==typeof t?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(t,e,"api")):this.columnModel.moveColumn(t,e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},n.prototype.setColumnWidth=function(t,e,r,i){void 0===r&&(r=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,i)},n.prototype.setColumnWidths=function(t,e,r){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,r)},n.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getSecondaryPivotColumn=function(t,e){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(t,e)},n.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},n.prototype.setSecondaryColumns=function(t){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(t)},n.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(St.removeAllReferences.bind(window,this,"Column API"),100)},n.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},n.prototype.columnGroupOpened=function(t,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},n.prototype.hideColumns=function(t,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(t,!e,"api")},n.prototype.hideColumn=function(t,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(t,!e,"api")},n.prototype.setState=function(t){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},n.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},n.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},n.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},n.prototype.removeAggregationColumn=function(t){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(t,"api")},n.prototype.removeAggregationColumns=function(t){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(t,"api")},n.prototype.addAggregationColumn=function(t){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(t,"api")},n.prototype.addAggregationColumns=function(t){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(t,"api")},n.prototype.setColumnAggFunction=function(t,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.getDisplayNameForCol=function(t){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},n.prototype.setColumnState=function(t){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:t,applyOrder:!0},"api")},n.prototype.getOriginalColumnGroup=function(t){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},wI([F("columnModel")],n.prototype,"columnModel",void 0),wI([Eo],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),wI([dt("columnApi")],n)}(),uDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.initialised=!1,e}return uDe(t,n),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(H.EVENT_CELL_VALUE_CHANGED,function(r){return e.callColumnCellValueChangedHandler(r)},this.gridOptionsWrapper.useAsyncEvents())},t.prototype.getValue=function(e,r,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this.initialised||this.init(),r){var c,a=e.getColDef(),s=a.field,l=e.getId(),u=r.data,d=r.groupData&&void 0!==r.groupData[l],h=!o&&r.aggData&&void 0!==r.aggData[l];if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,e,r):this.gridOptionsWrapper.isTreeData()&&h?c=r.aggData[l]:this.gridOptionsWrapper.isTreeData()&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):this.gridOptionsWrapper.isTreeData()&&s&&u?c=cE(u,s,e.isFieldContainsDots()):d?c=r.groupData[l]:h?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):s&&u&&(c=cE(u,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof c&&0===c.indexOf("=")){var p=c.substring(1);c=this.executeValueGetter(p,u,e,r)}if(null==c){var m=this.getOpenedGroup(r,e);if(null!=m)return m}return c}},t.prototype.getOpenedGroup=function(e,r){if(this.gridOptionsWrapper.isShowOpenedGroup()&&r.getColDef().showRowGroup)for(var o=r.getColDef().showRowGroup,a=e.parent;null!=a;){if(a.rowGroupColumn&&(!0===o||o===a.rowGroupColumn.getId()))return a.key;a=a.parent}},t.prototype.setValue=function(e,r,i,o){var a=this.columnModel.getPrimaryColumn(r);if(!e||!a)return!1;yt(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.newValueHandler,c=s.valueSetter;if(yt(l)&&yt(u)&&yt(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var h,d={node:e,data:e.data,oldValue:this.getValue(a,e),newValue:i,colDef:a.getColDef(),column:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return d.newValue=i,void 0===(h=u&&Ge(u)?u(d):Ge(c)?this.expressionService.evaluate(c,d):this.setValueUsingField(e.data,l,i,a.isFieldContainsDots()))&&(h=!0),!!h&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(a,e),this.eventService.dispatchEvent({type:H.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:e.data,node:e,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:o}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;"function"==typeof r&&r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,r,i,o){if(!r)return!1;var a=!1;if(o)for(var s=r.split("."),l=e;s.length>0&&l;){var u=s.shift();0===s.length?(a=l[u]==i)||(l[u]=i):l=l[u]}else(a=e[r]==i)||(e[r]=i);return!a},t.prototype.executeFilterValueGetter=function(e,r,i,o){var a={data:r,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)};return this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,r,i,o){var a=i.getId(),s=this.valueCache.getValue(o,a);if(void 0!==s)return s;var l={data:r,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,o)},u=this.expressionService.evaluate(e,l);return this.valueCache.setValue(o,a,u),u},t.prototype.getValueCallback=function(e,r){var i=this.columnModel.getPrimaryColumn(r);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,r){var i=this.getValue(e,r),o=e.getColDef().keyCreator,a=i;return o&&(a=o({value:i,colDef:e.getColDef(),column:e,node:r,data:r.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof a||null==a||"[object Object]"===(a=String(a))&&pn(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),a},w0([F("expressionService")],t.prototype,"expressionService",void 0),w0([F("columnModel")],t.prototype,"columnModel",void 0),w0([F("valueCache")],t.prototype,"valueCache",void 0),w0([Xe],t.prototype,"init",null),w0([dt("valueService")],t)}(ze),dDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fDe=function(n,t){return function(e,r){t(e,r,n)}},hDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return dDe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){return"function"==typeof e?e(r):"string"==typeof e?this.evaluateExpression(e,r):void console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{return this.createExpressionFunction(e)(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup)}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},vz([fDe(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),vz([dt("expressionService")],t)}(ze),pDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return pDe(t,n),t.prototype.getTemplate=function(e,r){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],a=this;if(!o){this.waitingCallbacks[e]=o=[];var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return r&&o.push(r),null},t.prototype.handleHttpResult=function(e,r){if(200===e.status&&null!==e.response){this.templateCache[r]=e.response||e.responseText;for(var i=this.waitingCallbacks[r],o=0;o<i.length;o++)(0,i[o])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+r)},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("templateService")],t),t}(ze),vDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_z=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_De=function(n,t){return function(e,r){t(e,r,n)}},yDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vDe(t,n),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new bI(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},_z([_De(0,Aa("gridOptionsWrapper"))],t.prototype,"setBeans",null),_z([dt("loggerFactory")],t)}(ze),bI=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}(),CDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return CDe(t,n),t.prototype.setComp=function(e,r,i){var o=this;this.view=e,this.eGridHostDiv=r,this.eGui=i,this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===aa.HeaderCell||s===aa.ToolPanel},getIconName:function(){return Ro.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new XM(this.view)),this.addRtlSupport(),this.addManagedListener(this,H.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,H.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r;return(null===(r=null===(e=this.focusService.findTabbableParent(this.getGui()))||void 0===e?void 0:e.getAttribute("row-id"))||void 0===r?void 0:r.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Vt.isRegistered(At.RowGroupingModule)},t.prototype.showSideBar=function(){return Vt.isRegistered(At.SideBarModule)},t.prototype.showStatusBar=function(){return Vt.isRegistered(At.StatusBarModule)},t.prototype.showWatermark=function(){return Vt.isRegistered(At.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:H.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsWrapper.getDocument(),i=this.view.getFocusableContainers(),a=i.findIndex(function(s){return s.contains(r.activeElement)})+(e?-1:1);return!(a<=0||a>=i.length)&&this.focusService.focusInto(i[a])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers();if(e){if(r.length>1)return this.focusService.focusInto(ar(r),!0);var i=ar(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(i,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},Fg([F("focusService")],t.prototype,"focusService",void 0),Fg([F("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Fg([F("columnModel")],t.prototype,"columnModel",void 0),Fg([F("ctrlsService")],t.prototype,"ctrlsService",void 0),Fg([F("mouseEventService")],t.prototype,"mouseEventService",void 0),Fg([F("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(ze),bDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xDe=function(n){function t(e){var r=n.call(this,void 0)||this;return r.eGridDiv=e,r}return bDe(t,n),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return e.addOrRemoveCssClass(y0.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new wDe);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var i=this.eRootWrapperBody.classList;i.toggle(vi.AUTO_HEIGHT,r.autoHeight),i.toggle(vi.NORMAL,r.normal),i.toggle(vi.PRINT,r.print),this.addOrRemoveCssClass(vi.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(vi.NORMAL,r.normal),this.addOrRemoveCssClass(vi.PRINT,r.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return Sg(r)})},b0([F("loggerFactory")],t.prototype,"loggerFactory",void 0),b0([Ne("gridBody")],t.prototype,"gridBodyComp",void 0),b0([Ne("sideBar")],t.prototype,"sideBarComp",void 0),b0([Ne("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),b0([Xe],t.prototype,"postConstruct",null),t}(tS),EDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SDe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xI=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(SDe(arguments[t]));return n},DDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return EDe(t,n),e=t,t.prototype.progressSort=function(r,i,o){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,i,o)},t.prototype.setSortForColumn=function(r,i,o,a){var s;i!==fe.SORT_ASC&&i!==fe.SORT_DESC&&(i=null);var u=[r];if(this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&r.getColDef().showRowGroup){var d=null===(s=this.columnModel.getSourceColumnsForGroupColumn(r))||void 0===s?void 0:s.filter(function(p){return p.getColDef().sortable});d&&(u=xI([r],d))}u.forEach(function(p){return p.setSort(i,a)}),(o||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarTheseColumns(u,a),this.updateSortIndex(r),this.dispatchSortChangedEvents(a)},t.prototype.updateSortIndex=function(r){var i=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),a=i&&o||r,s=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return c!==a});(a.getSort()?xI(l,[a]):l).forEach(function(c,d){return c.setSortIndex(d)})},t.prototype.onSortChanged=function(r){this.dispatchSortChangedEvents(r)},t.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(r){this.eventService.dispatchEvent({type:H.EVENT_SORT_CHANGED,source:r})},t.prototype.clearSortBarTheseColumns=function(r,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){r.includes(o)||o.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(r){var i;if(i=r.getColDef().sortingOrder?r.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var l,o=i.indexOf(r.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(l=o<0||o==i.length-1?i[0]:i[o+1])<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getColumnsOrderedForSort=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i={};return r.forEach(function(o,a){return i[o.getId()]=a}),r.sort(function(o,a){var s=o.getSortIndex(),l=a.getSortIndex();return null!=s&&null!=l?s-l:null==s&&null==l?i[o.getId()]>i[a.getId()]?1:-1:null==l?-1:1}),r},t.prototype.getIndexableColumnsOrdered=function(){var r=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(i){var o;return i.getColDef().showRowGroup?!(!i.getColDef().field||!i.getSort())||(null===(o=r.columnModel.getSourceColumnsForGroupColumn(i))||void 0===o?void 0:o.some(function(s){return!!s.getSort()})):!!i.getSort()}):this.getColumnsWithSortingOrdered()},t.prototype.getColumnsWithSortingOrdered=function(){return this.getColumnsOrderedForSort().filter(function(i){return!!i.getSort()})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(r){return{sort:r.getSort(),column:r}})},t.prototype.canColumnDisplayMixedSort=function(r){var i=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),o=!!r.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(r){var i,o=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||null===(i=o)||void 0===i||!i.length)return r.getSort();var s=r.getColDef().field?xI([r],o):o,l=s[0].getSort();return s.every(function(c){return c.getSort()==l})?l:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(r){var i=this;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.getColumnsWithSortingOrdered().indexOf(r);var a=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return a?r.getSort()?this.getDisplaySortIndexForColumn(a):null:this.getIndexableColumnsOrdered().filter(function(l){return!i.columnModel.getGroupDisplayColumnForGroup(l.getId())}).indexOf(r)},t.DEFAULT_SORTING_ORDER=[fe.SORT_ASC,fe.SORT_DESC,null],yz([F("columnModel")],t.prototype,"columnModel",void 0),e=yz([dt("sortController")],t)}(ze),RDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ODe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return RDe(t,n),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:H.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:H.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("columnHoverService")],t),t}(ze),ADe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),EI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return ADe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var r=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==r.length)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return r.forEach(function(i){return i()})},300))},EI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),EI([Xe],t.prototype,"postConstruct",null),EI([dt("columnAnimationService")],t)}(ze),MDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),SI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return MDe(t,n),e=t,t.prototype.createAutoGroupColumns=function(r,i){var o=this,a=[],s=this.gridOptionsWrapper.isTreeData(),l=this.gridOptionsWrapper.isGroupMultiAutoColumn();return s&&l&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),l=!1),l?i.forEach(function(u,c){a.push(o.createOneAutoGroupColumn(r,u,c))}):a.push(this.createOneAutoGroupColumn(r)),a},t.prototype.createOneAutoGroupColumn=function(r,i,o){var s,a=this.generateDefaultColDef(i);s=i?fe.GROUP_AUTO_COLUMN_ID+"-"+i.getId():e.GROUP_AUTO_COLUMN_BUNDLE_ID,ms(a,this.gridOptionsWrapper.getAutoGroupColumnDef()),(a=this.columnFactory.mergeColDefs(a)).colId=s,this.gridOptionsWrapper.isTreeData()||yt(a.field)&&yt(a.valueGetter)&&yt(a.filterValueGetter)&&(a.filter=!1),o&&o>0&&(a.headerCheckboxSelection=!1);var c=r.find(function(h){return h.getId()==s});if(c)return c.setColDef(a,null),this.columnFactory.applyColumnState(c,a),c;var d=new Cn(a,null,s,!0);return this.context.createBean(d),d},t.prototype.generateDefaultColDef=function(r){var i=this.gridOptionsWrapper.getAutoGroupColumnDef(),a={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererFramework||i.cellRendererSelector)||(a.cellRenderer="agGroupCellRenderer"),r){var l=r.getColDef();Object.assign(a,{headerName:this.columnModel.getDisplayNameForColumn(r,"header"),headerValueGetter:l.headerValueGetter}),(l.cellRenderer||l.cellRendererFramework)&&Object.assign(a,{cellRendererParams:{innerRenderer:l.cellRenderer,innerRendererFramework:l.cellRendererFramework,innerRendererParams:l.cellRendererParams}}),a.showRowGroup=r.getColId()}else a.showRowGroup=!0;return a},t.GROUP_AUTO_COLUMN_BUNDLE_ID=fe.GROUP_AUTO_COLUMN_ID,SI([F("columnModel")],t.prototype,"columnModel",void 0),SI([F("columnFactory")],t.prototype,"columnFactory",void 0),e=SI([dt("autoGroupColService")],t)}(ze),FDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),DI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return FDe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,H.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var i=Math.floor(r/e);this.gridOptionsWrapper.setProperty("paginationPageSize",i)}}},DI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),DI([Xe],t.prototype,"postConstruct",null),DI([dt("paginationAutoPageSizeService")],t)}(ze),LDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return LDe(t,n),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=i)},t.prototype.getValue=function(e,r){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[r]},Cz([Xe],t.prototype,"init",null),Cz([dt("valueCache")],t)}(ze),BDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return BDe(t,n),t.prototype.init=function(){this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,H.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==fe.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var i=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),o=new vI(i,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},oS([F("rowModel")],t.prototype,"rowModel",void 0),oS([F("rowRenderer")],t.prototype,"rowRenderer",void 0),oS([Xe],t.prototype,"init",null),oS([dt("changeDetectionService")],t)}(ze),VDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return VDe(t,n),t.prototype.adaptFunction=function(e,r){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=e(o),s=typeof a;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=a?a:so("<span></span>"):so("<span>"+a+"</span>")},i}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},wz([F("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),wz([dt("agComponentUtils")],t)}(ze),WDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),RI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return WDe(t,n),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},RI([F("agComponentUtils")],t.prototype,"agComponentUtils",void 0),RI([Xe],t.prototype,"postConstruct",null),RI([dt("componentMetadataProvider")],t)}(ze),UDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$De={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},xz={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},x0={},KDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return UDe(t,n),t.prototype.getSassVariable=function(e,r){var i="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),o=$De[i][r],a=0;x0[e]||(x0[e]={});var s=x0[e][r];if(null!=s)return s;if(xz[r]){var l=xz[r],u=document.createElement("div");u.classList.add(e),u.style.position="absolute";var c=l.reduce(function(h,p){var m=document.createElement("div");return m.style.position="static",m.classList.add(p),h.appendChild(m),m},u);if(document.body){document.body.appendChild(u);var d=-1!==r.toLowerCase().indexOf("height")?"height":"width";a=parseInt(window.getComputedStyle(c)[d],10),document.body.removeChild(u)}}return x0[e][r]=a||o,x0[e][r]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,i=null,o=[];r;){if(i=e.exec(r.className)){var a=r.className.match(e);a&&(o=a);break}r=r.parentElement||void 0}if(!i)return{allThemes:o};var s=i[0];if(void 0===i[2]){var u=s.replace("ag-","ag-theme-");pn(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+s+" with "+u+".")},"using-old-theme")}return{theme:s,el:r,themeFamily:s.replace(/-dark$/,""),allThemes:o}},bz([F("eGridDiv")],t.prototype,"eGridDiv",void 0),bz([dt("environment")],t)}(ze),YDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qDe=function(n,t){return function(e,r){t(e,r,n)}},XDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return YDe(t,n),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=A8(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(r!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=r,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+r+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:H.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/r)},aS([F("ctrlsService")],t.prototype,"ctrlsService",void 0),aS([qDe(0,Aa("loggerFactory"))],t.prototype,"agWire",null),aS([Xe],t.prototype,"postConstruct",null),aS([dt("rowContainerHeightService")],t)}(ze),ZDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ez=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ZDe(t,n),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(i){return i.childrenAfterGroup})},t.prototype.recurseDown=function(e,r){var i=this;e&&e.forEach(function(o){var a;o.group&&(o.hasChildren()&&i.recurseDown(r(o),r),a=i.groupSelectsChildren?Ge((r(o)||[]).find(function(l){return!0===l.selectable})):!!i.isRowSelectableFunc&&i.isRowSelectableFunc(o),o.setRowSelectable(a))})},Ez([Xe],t.prototype,"init",null),Ez([dt("selectableService")],t)}(ze),JDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),al=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eRe=function(n){function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return JDe(t,n),t.prototype.postConstruct=function(){var e=this,r=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",gi(r?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",gi(r?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",gi(r?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",gi(r?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,H.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(a){var s=a.el,l=a.fn;e.addManagedListener(s,"click",l),e.addManagedListener(s,"keydown",function(u){(u.key===Le.ENTER||u.key===Le.SPACE)&&(u.preventDefault(),l())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?r+1:0)},t.prototype.formatNumber=function(e){var r=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(r)return r({value:e});var o=this.gridOptionsWrapper.getLocaleTextFunc();return uM(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("page","Page"),i=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+c+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+c+'-to">'+i+'</span>\n                    <span id="ag-'+c+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+c+'-of">'+o+'</span>\n                    <span id="ag-'+c+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+c+'-start-page">'+r+'</span>\n                        <span id="ag-'+c+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+c+'-of-page">'+o+'</span>\n                        <span id="ag-'+c+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+l+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+u+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=r&&e===i-1||o,this.lastButtonDisabled=!r||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){EM(e,r),e.classList.toggle("ag-disabled",r),r?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var a,s,e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?a=s=0:(s=(a=r*e+1)+r-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(a),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&0===r},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(r),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var s=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},al([F("paginationProxy")],t.prototype,"paginationProxy",void 0),al([F("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),al([Ne("btFirst")],t.prototype,"btFirst",void 0),al([Ne("btPrevious")],t.prototype,"btPrevious",void 0),al([Ne("btNext")],t.prototype,"btNext",void 0),al([Ne("btLast")],t.prototype,"btLast",void 0),al([Ne("lbRecordCount")],t.prototype,"lbRecordCount",void 0),al([Ne("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),al([Ne("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),al([Ne("lbCurrent")],t.prototype,"lbCurrent",void 0),al([Ne("lbTotal")],t.prototype,"lbTotal",void 0),al([Xe],t.prototype,"postConstruct",null),t}(tn),tRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hp=(()=>(function(n){n[n.Loading=0]="Loading",n[n.NoRows=1]="NoRows"}(hp||(hp={})),hp))(),nRe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return tRe(t,n),t.prototype.updateLayoutClasses=function(e,r){var i=this.eOverlayWrapper.classList;i.toggle(vi.AUTO_HEIGHT,r.autoHeight),i.toggle(vi.NORMAL,r.normal),i.toggle(vi.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new XM(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,H.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;r.toggle("ag-overlay-loading-wrapper",e===hp.Loading),r.toggle("ag-overlay-no-rows-wrapper",e===hp.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var i=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,hp.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var i=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(i,hp.NoRows)}},t.prototype.showOverlay=function(e,r){var i=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),vs(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',kg([F("userComponentFactory")],t.prototype,"userComponentFactory",void 0),kg([F("paginationProxy")],t.prototype,"paginationProxy",void 0),kg([F("gridApi")],t.prototype,"gridApi",void 0),kg([F("columnModel")],t.prototype,"columnModel",void 0),kg([Ne("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),kg([Xe],t.prototype,"postConstruct",null),t}(tn),rRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rRe(t,n),t.prototype.getFirstRow=function(){var r,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?r=fe.PINNED_TOP:this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r=fe.PINNED_BOTTOM),void 0===r?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(r=fe.PINNED_BOTTOM,e=i-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):o&&(r=fe.PINNED_TOP,e=o-1),void 0===e?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case fe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case fe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r||!(e&&!r||!e&&r)&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case fe.PINNED_TOP:if(r.rowPinned!==fe.PINNED_TOP)return!0;break;case fe.PINNED_BOTTOM:if(r.rowPinned!==fe.PINNED_BOTTOM)return!1;break;default:if(Ge(r.rowPinned))return r.rowPinned!==fe.PINNED_TOP}return e.rowIndex<r.rowIndex},t.prototype.rowMax=function(e){var i,r=this;return e.forEach(function(o){(void 0===i||r.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var i,r=this;return e.forEach(function(o){(void 0===i||r.before(o,i))&&(i=o)}),i},sS([F("rowModel")],t.prototype,"rowModel",void 0),sS([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),sS([F("paginationProxy")],t.prototype,"paginationProxy",void 0),sS([dt("rowPositionUtils")],t)}(ze),oRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return oRe(t,n),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,r,i){return e+"."+(i??"null")+"."+r.getId()},t.prototype.equals=function(e,r){return e.column===r.column&&e.rowPinned===r.rowPinned&&e.rowIndex===r.rowIndex},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("cellPositionUtils")],t),t}(ze),lRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),E0=function n(t){this.cellValueChanges=t},lS=function(n){function t(e,r,i,o){var a=n.call(this,e)||this;return a.initialRange=r,a.finalRange=i,a.ranges=o,a}return lRe(t,n),t}(E0),Sz=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),uRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uS=function(){return uS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},uS.apply(this,arguments)},Wu=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cRe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},fRe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(r){var i={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,i),a=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,i);if(o||a||e.isPasting||e.isRangeInAction){var d=r.oldValue,h=r.value,p={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:r.column.getColId(),newValue:h,oldValue:d};e.cellValueChanges.push(p)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return uRe(t,n),t.prototype.init=function(){var e=this;if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new Sz(r),this.redoStack=new Sz(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,H.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(r){return r.oldValue}),e instanceof lS?this.processRange(e.ranges||[e.initialRange]):this.processCell(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(r){return r.newValue}),e instanceof lS?this.processRange(e.ranges||[e.finalRange]):this.processCell(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,r){var i=this;e.cellValueChanges.forEach(function(o){var a,u=o.columnId,d=i.getRowNode({rowIndex:o.rowIndex,rowPinned:o.rowPinned});if(d.displayed){var h=r(o),p="function"==typeof(null===(a=h)||void 0===a?void 0:a.toString)?h.toString():h;d.setDataValue(u,p)}})},t.prototype.processRange=function(e){var i,r=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},r.setLastFocusedCell(i)),r.rangeService.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns})}})},t.prototype.processCell=function(e){var r=e[0],s=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell({rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId},!0)},t.prototype.setLastFocusedCell=function(e,r){var i=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(i),s.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:a};this.focusService.setFocusedCell(uS(uS({},u),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,H.EVENT_ROW_EDITING_STOPPED,function(){var r=new E0(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,H.EVENT_CELL_EDITING_STOPPED,function(r){if(e.activeCellEdit=null,r.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var o=new E0(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,H.EVENT_PASTE_END,function(){var r=new E0(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,H.EVENT_FILL_END,function(r){var i=new lS(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;r=e.rangeService&&e.gridOptionsWrapper.isEnableRangeSelection()?new lS(e.cellValueChanges,void 0,void 0,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(cRe(arguments[t]));return n}(e.rangeService.getCellRanges())):new E0(e.cellValueChanges),e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case fe.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case fe.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Wu([F("focusService")],t.prototype,"focusService",void 0),Wu([F("ctrlsService")],t.prototype,"ctrlsService",void 0),Wu([F("rowModel")],t.prototype,"rowModel",void 0),Wu([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Wu([F("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wu([F("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wu([F("columnModel")],t.prototype,"columnModel",void 0),Wu([Hn("rangeService")],t.prototype,"rangeService",void 0),Wu([Xe],t.prototype,"init",null),Wu([dt("undoRedoService")],t)}(ze),hRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return hRe(t,n),t.prototype.findHeader=function(e,r){var i;if(i=e.column instanceof ia?this.columnModel["getDisplayedGroup"+r](e.column):this.columnModel["getDisplayedCol"+r](e.column))return{column:i,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=i["start"===r?0:i.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return s==sa.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==s?-1:e,column:o}}},PI([F("columnModel")],t.prototype,"columnModel",void 0),PI([F("ctrlsService")],t.prototype,"ctrlsService",void 0),PI([dt("headerPositionUtils")],t)}(ze),gRe=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,r){var i=this,o=[],a={};return t.forEach(function(s){for(var u=!0,c=i.createDefFromColumn(s,e,r),d=s.getOriginalParent();d;){var h=null;if(d.isPadding())d=d.getOriginalParent();else{var p=a[d.getGroupId()];if(p){p.children.push(c),u=!1;break}(h=i.createDefFromGroup(d))&&(h.children=[c],a[h.groupId]=h,c=h,d=d.getOriginalParent())}}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(t){var e=uE(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,r){var i=uE(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?r.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i},n=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("columnDefFactory")],n),n}(),MI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vRe=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return Ge(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),jP(e,this.processClassesFromGridOptions(t.rowNode)),jP(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned===fe.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),t.pinned===fe.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(l){"string"==typeof l?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsWrapper.getRowClass();if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}var o=this.gridOptionsWrapper.getRowClassFunc();return o&&r(o({data:t.data,node:t,rowIndex:t.rowIndex})),e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},n.prototype.processRowClassRules=function(t,e,r){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),i,e,r)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},MI([F("stylingService")],n.prototype,"stylingService",void 0),MI([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),MI([dt("rowCssClassCalculator")],n)}(),cS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Re=function(){function n(){}return n.prototype.doFullSort=function(t,e){var i=t.map(function(o,a){return{currentPos:a,rowNode:o}});return i.sort(this.compareRowNodes.bind(this,e)),i.map(function(o){return o.rowNode})},n.prototype.compareRowNodes=function(t,e,r){for(var i=e.rowNode,o=r.rowNode,a=0,s=t.length;a<s;a++){var h,l=t[a],u=l.sort===fe.SORT_DESC,c=this.getValue(i,l.column),d=this.getValue(o,l.column),p=this.getComparator(l,i);if(h=p?p(c,d,i,o,u):St.defaultComparator(c,d,this.gridOptionsWrapper.isAccentedSort()),!isNaN(h)&&0!==h)return l.sort===fe.SORT_ASC?h:-1*h}return e.currentPos-r.currentPos},n.prototype.getComparator=function(t,e){var r=t.column,i=r.getColDef().comparator;if(null!=i)return i;if(r.getColDef().showRowGroup){var o=!e.group&&r.getColDef().field;if(o){var a=this.columnModel.getPrimaryColumn(o);if(a)return a.getColDef().comparator}}},n.prototype.getValue=function(t,e){var r,i;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(e.getColDef().keyCreator)return t.key;var u=null===(r=t.allLeafChildren)||void 0===r?void 0:r[0];return u?this.valueService.getValue(e,u,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return c?null===(i=t.groupData)||void 0===i?void 0:i[c.getId()]:void 0}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},cS([F("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),cS([F("valueService")],n.prototype,"valueService",void 0),cS([F("columnModel")],n.prototype,"columnModel",void 0),cS([dt("rowNodeSorter")],n)}(),yRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wRe=function(n){function t(){var r=null!==n&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}var e;return yRe(t,n),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(r){this.fakeHScrollCtrl=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,i){switch(i){case fe.PINNED_LEFT:this.leftHeaderRowContainerCtrl=r;break;case fe.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case fe.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case fe.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt(e.NAME)],t),t}(ze),bRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ERe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.registry={},e}return bRe(t,n),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(null!=r)return new r},t=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([dt("ctrlsFactory")],t),t}(ze),SRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SRe(t,n),t.prototype.setComp=function(e,r,i,o){this.view=e,this.eViewport=i,this.eContainer=o,this.eGui=r,this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this));var a=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,a),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,a),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.onScrollVisibilityChanged(),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",sM()||cf())},t.prototype.addActiveListenerToggles=function(){var e=this;["mouseenter","mousedown","touchstart"].forEach(function(o){return e.addManagedListener(e.eGui,o,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(o){return e.addManagedListener(e.eGui,o,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=I8(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles(),this.refreshCompBottom()))},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.view.setBottom(e)}},t.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,function(r){"horizontal"===r.direction&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsWrapper.getScrollbarWidth();i&&(r+=o),this.view.setRightSpacerFixedWidth(r),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",r<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(a+=o),this.view.setLeftSpacerFixedWidth(a),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,s=i?0:0===o&&r?15:o;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",r),this.view.setHeight(s),this.view.setViewportHeight(s),this.view.setContainerHeight(s),this.view.addOrRemoveCssClass("ag-hidden",!e)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},dS([F("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),dS([F("columnModel")],t.prototype,"columnModel",void 0),dS([F("ctrlsService")],t.prototype,"ctrlsService",void 0),dS([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),t}(ze),RRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TRe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return RRe(t,n),t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},setHeight:function(o){return ep(e.getGui(),o)},setBottom:function(o){return e.getGui().style.bottom=o+"px"},setContainerHeight:function(o){return ep(e.eContainer,o)},setViewportHeight:function(o){return ep(e.eViewport,o)},setRightSpacerFixedWidth:function(o){return Gu(e.eRightSpacer,o)},setLeftSpacerFixedWidth:function(o){return Gu(e.eLeftSpacer,o)},includeLeftSpacerScrollerCss:function(o,a){return e.eLeftSpacer.classList.toggle(o,a)},includeRightSpacerScrollerCss:function(o,a){return e.eRightSpacer.classList.toggle(o,a)}};this.createManagedBean(new DRe).setComp(r,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new eI(function(o){return e.eContainer.style.width=o+"px"}))},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',S0([Ne("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),S0([Ne("eRightSpacer")],t.prototype,"eRightSpacer",void 0),S0([Ne("eViewport")],t.prototype,"eViewport",void 0),S0([Ne("eContainer")],t.prototype,"eContainer",void 0),S0([Xe],t.prototype,"postConstruct",null),t}(tn),ORe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),II=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ARe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ORe(t,n),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_PRINT,r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:H.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:H.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},II([F("columnModel")],t.prototype,"columnModel",void 0),II([Xe],t.prototype,"postConstruct",null),II([dt("pinnedWidthService")],t)}(ze),PRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MRe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.events=[],e}return PRe(t,n),t.prototype.postConstruct=function(){this.rowModel.getType()==fe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(o){return r.eventService.dispatchEvent(o)}),r.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},fS([F("animationFrameService")],t.prototype,"animationFrameService",void 0),fS([F("rowModel")],t.prototype,"rowModel",void 0),fS([Xe],t.prototype,"postConstruct",null),fS([dt("rowNodeEventThrottle")],t)}(ze),IRe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Dz=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(IRe(arguments[t]));return n},FRe=function(){function n(t,e,r){e?(this.gridOptions=e,(new kRe).create(t,e,function(i){var o=new xDe(t);i.createBean(o)},void 0,r)):console.error("AG Grid: no gridOptions provided to the grid")}return n.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},n}(),kRe=function(){function n(){}return n.prototype.create=function(t,e,r,i,o){var a=this,s=!!e.debug,l=this.getRegisteredModules(o),u=this.createBeansList(e.rowModelType,l),c=this.createProvidedBeans(t,e,o);if(u){var d={providedBeanInstances:c,beanClasses:u,debug:s},h=new bI("AG Grid",function(){return e.debug}),p=new bI("Context",function(){return d.debug}),m=new fye(d,p),v=m.getBean("beans");this.registerModuleUserComponents(v,l),this.registerStackComponents(v,l),this.registerControllers(v,l),r(m),v.ctrlsService.whenReady(function(){a.setColumnsAndData(v),a.dispatchGridReadyEvent(v);var _=Vt.isRegistered(At.EnterpriseCoreModule);h.log("initialised successfully, enterprise = "+_)}),i&&i(m)}},n.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},n.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,r=Vt.getRegisteredModules(),i=[],o={};function a(s,l){(function u(c){o[c.moduleName]||(o[c.moduleName]=!0,i.push(c),Vt.register(c,s))})(l),l.dependantModules&&l.dependantModules.forEach(a.bind(null,s))}return e&&e.forEach(a.bind(null,!0)),r&&r.forEach(a.bind(null,!Vt.isPackageBased())),i},n.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]}).forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},n.prototype.createProvidedBeans=function(t,e,r){var i=r?r.frameworkOverrides:null;yt(i)&&(i=new gz);var o={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:f0},{componentName:"AgRadioButton",componentClass:aSe},{componentName:"AgToggleButton",componentClass:lSe},{componentName:"AgInputTextField",componentClass:cz},{componentName:"AgInputTextArea",componentClass:dSe},{componentName:"AgInputNumberField",componentClass:hSe},{componentName:"AgInputRange",componentClass:mSe},{componentName:"AgSelect",componentClass:R5},{componentName:"AgSlider",componentClass:vSe},{componentName:"AgAngleSelect",componentClass:ySe},{componentName:"AgColorPicker",componentClass:RSe},{componentName:"AgGridBody",componentClass:dxe},{componentName:"AgHeaderRoot",componentClass:bEe},{componentName:"AgSortIndicator",componentClass:zM},{componentName:"AgPagination",componentClass:eRe},{componentName:"AgOverlayWrapper",componentClass:nRe},{componentName:"AgGroupComponent",componentClass:OSe},{componentName:"AgPanel",componentClass:dz},{componentName:"AgDialog",componentClass:fz},{componentName:"AgRowContainer",componentClass:Rxe},{componentName:"AgFakeHorizontalScroll",componentClass:TRe}],r=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e.concat(r)},n.prototype.createBeansList=function(t,e){var r=this.getRowModelClass(t,e);if(r){var i=[r,K5,iRe,sRe,pRe,kDe,jxe,xwe,HDe,jDe,AEe,Vwe,XDe,EEe,XEe,Wwe,g0e,lf,rt,YSe,sDe,Uwe,c0e,vEe,nSe,zEe,hDe,Pye,gDe,iDe,vxe,NDe,cDe,yDe,h0e,NEe,DEe,Ro,lDe,y0,mxe,KDe,tDe,YEe,iSe,hxe,DDe,ODe,PDe,QDe,IDe,GDe,MEe,fRe,y0e,gRe,vRe,eSe,_Re,wRe,ARe,MRe,ERe],o=this.extractModuleEntity(e,function(s){return s.beans?s.beans:[]});i.push.apply(i,Dz(o));var a=[];return i.forEach(function(s){a.indexOf(s)<0&&a.push(s)}),a}},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],Dz(t.map(e)))},n.prototype.setColumnsAndData=function(t){var e=t.gridOptionsWrapper.getColumnDefs();t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},n.prototype.dispatchGridReadyEvent=function(t){t.eventService.dispatchEvent({type:H.EVENT_GRID_READY})},n.prototype.getRowModelClass=function(t,e){t||(t=fe.ROW_MODEL_TYPE_CLIENT_SIDE);var r={};e.forEach(function(o){er(o.rowModels,function(a,s){r[a]=s})});var i=r[t];if(Ge(i))return i;Vt.isPackageBased()?[fe.ROW_MODEL_TYPE_VIEWPORT,fe.ROW_MODEL_TYPE_SERVER_SIDE].includes(t)?console.error('AG Grid: Row Model "'+t+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+t):t===fe.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+At.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===fe.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+At.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===fe.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+At.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):t===fe.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+At.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+t)},n}(),LRe=function(){function n(){}return n.prototype.wrap=function(t,e,r,i){var o=this;void 0===r&&(r=[]);var a=this.createWrapper(t,i);return e.forEach(function(s){o.createMethod(a,s,!0)}),r.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},n.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}(),Lg=typeof global>"u"?{}:global;Lg.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Lg.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Lg.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Lg.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Lg.Node=typeof Node>"u"?{}:Node,Lg.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var NRe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GRe=function(){function n(t,e,r,i,o,a){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=r,this.columnModel=i,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return n.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},n.prototype.getCopyOfNodesMap=function(){return St.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},n.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,r,i),this.executeUpdate(t,r,i),this.executeAdd(t,r),this.updateSelection(i),e&&St.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(i){i.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:H.EVENT_SELECTION_CHANGED})},n.prototype.executeAdd=function(t,e){var r=this,i=t.add,o=t.addIndex;if(!St.missingOrEmpty(i)){var l,u,a=i.map(function(h){return r.createNode(h,r.rootNode,n.TOP_LEVEL)});if("number"==typeof o&&o>=0){var c=this.rootNode.allLeafChildren,d=0===o?0:c.reduce(function(h,p,m){var v,_=p.rowIndex,C=null===(v=c[h])||void 0===v?void 0:v.rowIndex;return null!=_&&null!=C&&_<o&&_>C?m:h},0)+1;l=c.slice(0,d),u=c.slice(d,c.length)}else l=this.rootNode.allLeafChildren,u=[];this.rootNode.allLeafChildren=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(NRe(arguments[t]));return n}(l,a,u),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},n.prototype.executeRemove=function(t,e,r){var i=this,o=t.remove;if(!St.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);l&&(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var i=this,o=t.update;St.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),i.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var i=e({data:t,level:0});if(!(r=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(r=this.rootNode.allLeafChildren.find(function(o){return o.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var i=new un(this.beans);return i.group=!1,this.setMasterForRow(i,t,r,!0),e&&!this.suppressParentsInRowNodes&&(i.parent=e),i.level=r,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},n.prototype.setMasterForRow=function(t,e,r,i){if(this.doingTreeData)t.setMaster(!1),i&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),i){var o=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(o?o.length:0))}},n.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),VRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Za=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$l=(()=>(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"}($l||($l={})),$l))(),HRe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=St.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return VRe(t,n),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:In.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),i=this.refreshModel.bind(this,{step:In.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:In.PIVOT})),this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:In.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,rt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,rt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new un(this.beans),this.nodeManager=new GRe(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(r),c=Math.max(l,i),d=Math.min(u,o),h=c;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var m=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(m.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),r=0,i=new Set,o=this.gridOptionsWrapper.getDomLayout()===fe.DOM_LAYOUT_NORMAL,a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(null!=s.id&&i.add(s.id),null==s.rowHeight){var l=this.gridOptionsWrapper.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,r){var i=e.isActive(),o=function(s){s&&null!=s.id&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(i&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(a))};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,i){var o=this;void 0===i&&(i=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsWrapper.isSuppressAnimationFrame();return s!==e[0]&&(e.forEach(function(u){St.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){St.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:In.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var i=null!=r?this.getRowIndexAtPixel(r):null,o=null!=i?this.getRow(i):null;if(o&&e&&o!==e&&null!=r){var a=this.getHighlightPosition(r,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var i=this.getRowIndexAtPixel(e);if(!(r=this.getRow(i||0)))return Vu.Below}return e-r.rowTop<r.rowHeight/2?Vu.Above:Vu.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(St.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:In.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows(),i=0===e.columns.length||e.columns.some(function(a){return a.isPrimary()});this.refreshModel({step:i?In.FILTER:In.FILTER_AGGREGATES,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:In.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return fe.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:In.PIVOT}):this.refreshModel({step:In.AGGREGATE})},t.prototype.createChangePath=function(e){var r=St.missingOrEmpty(e),i=new vI(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var r=e.rowNodeTransactions.filter(function(o){return null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0});return null==r||0==r.length},t.prototype.refreshModel=function(e){if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var r=this.createChangePath(e.rowNodeTransactions);switch(e.step){case In.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,r,!!e.afterColumnsChanged);case In.FILTER:this.doFilter(r);case In.PIVOT:this.doPivot(r);case In.AGGREGATE:this.doAggregate(r);case In.FILTER_AGGREGATES:this.doFilterAggregates(r);case In.SORT:this.doSort(e.rowNodeTransactions,r);case In.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.eventService.dispatchEvent({type:H.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}},t.prototype.isEmpty=function(){var e=St.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return St.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return St.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var a,i=!r,o=!1,s=[],l=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(u){var c=i&&!o;if(i||(u===r||u===e)&&(i=!0),!u.group||!l){var h=i&&!o,p=u.isParentOfNode(a);(h||p)&&s.push(u)}c&&(u===r||u===e)&&(o=!0,a=u===r?r:e)}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var r=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(St.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((r+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,e))return l;if(u.rowTop<e?r=l+1:u.rowTop>e&&(i=l-1),a===r&&s===i)return l;a=r,s=i}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,i){return e(r,i)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,$l.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,e,$l.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,$l.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,$l.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,i,o){if(!e)return o;for(var a=0;a<e.length;a++){var s=e[a];if(r(s,o++),s.hasChildren()){var l=null;switch(i){case $l.Normal:l=s.childrenAfterGroup;break;case $l.AfterFilter:l=s.childrenAfterAggFilter;break;case $l.AfterFilterAndSort:l=s.childrenAfterSort;break;case $l.PivotNodes:l=s.leafGroup?null:s.childrenAfterSort}l&&(o=this.recursivelyWalkNodesAndCallback(l,r,i,o))}}return o},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData(),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};r?St.exists(u.childrenAfterGroup)&&c():i?!u.leafGroup&&c():u.group&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:In.MAP}),this.eventService.dispatchEvent({type:H.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,i,o,a){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:a}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(o)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&St.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,i){"boolean"==typeof e[i]&&(r.expanded=e[i])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return St.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,i){return e[i]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(un.ID_PREFIX_ROW_GROUP)){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:H.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:In.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],i=[],o=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&r.push(s.callback.bind(null,l)),"number"==typeof s.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),i.length>0&&this.eventService.dispatchEvent({type:H.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([i],r,"number"==typeof e.addIndex),i},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++)r[this.rootNode.allLeafChildren[i].id]=i;return r}},t.prototype.commonUpdateRowData=function(e,r,i){var o=!this.gridOptionsWrapper.isSuppressAnimationFrame();i&&(r=this.createRowNodeOrder()),this.refreshModel({step:In.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:H.EVENT_ROW_DATA_UPDATED})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:In.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var i=r.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},Za([F("columnModel")],t.prototype,"columnModel",void 0),Za([F("selectionService")],t.prototype,"selectionService",void 0),Za([F("filterManager")],t.prototype,"filterManager",void 0),Za([F("valueCache")],t.prototype,"valueCache",void 0),Za([F("beans")],t.prototype,"beans",void 0),Za([F("filterStage")],t.prototype,"filterStage",void 0),Za([F("sortStage")],t.prototype,"sortStage",void 0),Za([F("flattenStage")],t.prototype,"flattenStage",void 0),Za([Hn("groupStage")],t.prototype,"groupStage",void 0),Za([Hn("aggregationStage")],t.prototype,"aggregationStage",void 0),Za([Hn("pivotStage")],t.prototype,"pivotStage",void 0),Za([Hn("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Za([Xe],t.prototype,"init",null),Za([dt("rowModel")],t)}(ze),WRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return WRe(t,n),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},Rz([F("filterService")],t.prototype,"filterService",void 0),Rz([dt("filterStage")],t)}(ze),URe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return URe(t,n),t.prototype.execute=function(e){var r=this,i=this.sortController.getSortOptions(),o=St.exists(i)&&i.length>0,a=o&&St.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),s=i.some(function(l){return!!r.columnModel.getGroupDisplayColumnForGroup(l.column.getId())});this.sortService.sort(i,o,a,e.rowNodeTransactions,e.changedPath,s)},hS([F("sortService")],t.prototype,"sortService",void 0),hS([F("sortController")],t.prototype,"sortController",void 0),hS([F("columnModel")],t.prototype,"columnModel",void 0),hS([dt("sortStage")],t)}(ze),$Re=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),FI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return $Re(t,n),t.prototype.execute=function(e){var r=e.rowNode,i=[],o={value:0},a=this.columnModel.isPivotMode(),s=a&&r.leafGroup;return this.recursivelyAddToRowsToDisplay(s?[r]:r.childrenAfterSort,i,o,a,0),!s&&i.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,i,o,0)),i},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,i,o,a){if(!St.missingOrEmpty(e))for(var s=this.gridOptionsWrapper.isGroupHideOpenParents(),l=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),u=!l&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<e.length;c++){var d=e[c],h=d.hasChildren(),m=l&&h&&1===d.childrenAfterGroup.length,v=u&&h&&d.leafGroup&&1===d.childrenAfterGroup.length;if(!(o&&!h||s&&d.expanded&&!d.master&&(!o||!d.leafGroup)||m||v)&&this.addRowNodeToRowsToDisplay(d,r,i,a),!o||!d.leafGroup)if(h){var b=m||v;(d.expanded||b)&&(this.recursivelyAddToRowsToDisplay(d.childrenAfterSort,r,i,o,b?a:a+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(d),this.addRowNodeToRowsToDisplay(d.sibling,r,i,a)))}else if(d.master&&d.expanded){var S=this.createDetailNode(d);this.addRowNodeToRowsToDisplay(S,r,i,a)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,i,o){var a=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(a?0:o)},t.prototype.ensureFooterNodeExists=function(e){if(!St.exists(e.sibling)){var r=new un(this.beans);Object.keys(e).forEach(function(i){r[i]=e[i]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,St.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(St.exists(e.detailNode))return e.detailNode;var r=new un(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,St.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},FI([F("columnModel")],t.prototype,"columnModel",void 0),FI([F("beans")],t.prototype,"beans",void 0),FI([dt("flattenStage")],t)}(ze),YRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return YRe(t,n),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,i,o,a,s){var l=this,u=this.gridOptionsWrapper.isGroupMaintainOrder(),c=this.columnModel.getAllGridColumns().some(function(m){return m.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode();a&&a.forEachChangedNodeDepthFirst(function(m){if(l.pullDownGroupDataForHideOpenParents(m.childrenAfterAggFilter,!0),!r||u&&c&&!m.leafGroup&&!s||h&&m.leafGroup){var C=m.childrenAfterAggFilter.slice(0);if(u&&m.childrenAfterSort){var w=m.childrenAfterSort.reduce(function(E,S,O){return E[S.id]=O,E},{});C.sort(function(E,S){return(w[E.id]||0)-(w[S.id]||0)})}m.childrenAfterSort=C}else m.childrenAfterSort=i?l.doDeltaSort(m,d,a,e):l.rowNodeSorter.doFullSort(m.childrenAfterAggFilter,e);m.sibling&&(m.sibling.childrenAfterSort=m.childrenAfterSort),l.updateChildIndexes(m),l.postSortFunc&&l.postSortFunc({nodes:m.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var r={},i=function(o){o&&o.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),r},t.prototype.doDeltaSort=function(e,r,i,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(m){r[m.id]||!i.canSkip(m)?c.push(m):u[m.id]=!0});var d=l.filter(function(m){return u[m.id]}),h=function(m,v){return{currentPos:v,rowNode:m}},p=c.map(h).sort(function(m,v){return a.rowNodeSorter.compareRowNodes(o,m,v)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(m){return m.rowNode})},t.prototype.mergeSortedArrays=function(e,r,i){for(var o=[],a=0,s=0;a<r.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,r[a],i[s]);o.push(l<0?r[a++]:i[s++])}for(;a<r.length;)o.push(r[a++]);for(;s<i.length;)o.push(i[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!St.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,i=0;i<r.length;i++){var o=r[i],s=i===e.childrenAfterSort.length-1;o.setFirstChild(0===i),o.setLastChild(s),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return St.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var o=function(a){r.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(function(s){s.hasChildren()&&o(s)})};e&&e.executeFromRootNode(function(a){return o(a)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var i=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||St.missing(e)||e.forEach(function(o){i.columnModel.getGroupDisplayColumns().forEach(function(s){var l=s.getColDef().showRowGroup;if("string"==typeof l){var c=i.columnModel.getPrimaryColumn(l);if(c!==o.rowGroupColumn)if(r)o.setGroupValue(s.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(s.getId(),h.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},pS([F("columnModel")],t.prototype,"columnModel",void 0),pS([F("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),pS([Xe],t.prototype,"init",null),pS([dt("sortService")],t)}(ze),XRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tz=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return XRe(t,n),t.prototype.filter=function(e){var r=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var i=this,o=function(u,c){u.childrenAfterFilter=u.hasChildren()&&e&&!c?u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return h||p}):u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],p=c||i.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(u.childrenAfterGroup[d],p):o(h,p)}o(u,c)};r.executeFromRootNode(function(u){return a(u,!1)})}else r.forEachChangedNodeDepthFirst(function(u){return o(u,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Tz([F("filterManager")],t.prototype,"filterManager",void 0),Tz([dt("filterService")],t)}(ze),QRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return QRe(t,n),t.prototype.postConstruct=function(){this.rowModel.getType()===fe.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var i=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(r,2),s=this.clientSideRowModel.updateRowData(i[0],i[1]);s&&this.rowRenderer.refreshFullWidthRows(s.update)}},t.prototype.createTransactionForRowData=function(e){if(St.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var r=this.gridOptionsWrapper.getRowIdFunc();if(null!=r){var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return St.exists(e)&&e.forEach(function(l,u){var c=r({data:l,level:0}),d=o[c];s&&(s[c]=u),d?(d.data!==l&&i.update.push(l),o[c]=void 0):i.add.push(l)}),St.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},pp([F("rowModel")],t.prototype,"rowModel",void 0),pp([F("rowRenderer")],t.prototype,"rowRenderer",void 0),pp([F("columnApi")],t.prototype,"columnApi",void 0),pp([F("gridApi")],t.prototype,"gridApi",void 0),pp([F("filterManager")],t.prototype,"filterManager",void 0),pp([Xe],t.prototype,"postConstruct",null),pp([dt("immutableService")],t)}(ze),tTe={moduleName:At.ClientSideRowModelModule,beans:[jRe,zRe,KRe,qRe,ZRe,eTe],rowModels:{clientSide:HRe}},nTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kI=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oz=function(n){function t(e,r,i){var o=n.call(this,e)||this;return o.parentCache=r,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return nTe(t,n),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,i){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),St.exists(r)?e.setDataAndId(r,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();St.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,r,i){var o=this;this.rowNodes.forEach(function(a,s){o.startRow+s<i&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,i=new un(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(r),i.setRowTop(this.params.rowHeight*r),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(o,a){r.setDataAndId(o,e.rowData?e.rowData[a]:void 0,r.startRow+a)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},kI([F("beans")],t.prototype,"beans",void 0),kI([Xe],t.prototype,"postConstruct",null),kI([Eo],t.prototype,"destroyRowNodes",null),t}(_I),rTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iTe=function(n,t){return function(e,r){t(e,r,n)}},oTe=function(n){function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return rTe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(r)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new Oz(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e});i.sort(function(u,c){return c.getLastAccessed()-u.getLastAccessed()});var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){if(u.getState()===Oz.STATE_WAITING_TO_LOAD&&c>=l||a&&c>=s){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var i=e.getStartRow(),o=e.getEndRow();return r.rowIndex>=i&&r.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,St.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,i=new Rg;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return St.getAllValuesInObject(this.blocks).sort(function(i,o){return i.getId()-o.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:H.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){i.getId()*e.params.blockSize>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var i=this,o=[],a=-1,s=!1,l=new Rg;St.missing(e)&&(s=!0);var u=!1;return this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId())return void(u=!0);a=d.getId(),d.forEachNode(function(h){var p=h===e||h===r;(s||p)&&o.push(h),p&&(s=!s)},l,i.rowCount)}}),u||s?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,mS([F("rowRenderer")],t.prototype,"rowRenderer",void 0),mS([F("focusService")],t.prototype,"focusService",void 0),mS([iTe(0,Aa("loggerFactory"))],t.prototype,"setBeans",null),mS([Eo],t.prototype,"destroyAllBlocks",null),t}(ze),aTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return aTe(t,n),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&St.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,H.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!St.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return fe.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},t.prototype.createModelUpdatedEvent=function(){return{type:H.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Rg},this.infiniteCache=this.createBean(new oTe(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return r>i?i:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},Cf([F("filterManager")],t.prototype,"filterManager",void 0),Cf([F("sortController")],t.prototype,"sortController",void 0),Cf([F("selectionService")],t.prototype,"selectionService",void 0),Cf([F("rowRenderer")],t.prototype,"rowRenderer",void 0),Cf([F("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Cf([Xe],t.prototype,"init",null),Cf([Eo],t.prototype,"destroyDatasource",null),Cf([dt("rowModel")],t)}(ze),lTe={moduleName:At.InfiniteRowModelModule,rowModels:{infinite:sTe}},uTe=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n}(),cTe=function(){function n(t){this.groupColumns=[];var r=t.valueService,i=t.gridOptionsWrapper,o=t.processCellCallback,a=t.processHeaderCallback,s=t.processGroupHeaderCallback,l=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=r,this.gridOptionsWrapper=i,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=s,this.processRowGroupCallback=l}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},n.prototype.extractRowCellValue=function(t,e,r,i,o){var s=!this.gridOptionsWrapper.isGroupHideOpenParents()&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(o):this.valueService.getValue(t,o);return this.processCell({accumulatedRowIndex:r,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:i})??""},n.prototype.shouldRenderGroupSummaryCell=function(t,e,r){var i;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)&&null!==(i=t.groupData)&&void 0!==i&&i[e.getId()])return!0;var s=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===r&&s},n.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},n.prototype.processCell=function(t){var o=t.value,a=t.processCellCallback,s=t.type;return a?a({accumulatedRowIndex:t.accumulatedRowIndex,column:t.column,node:t.rowNode,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:s}):o??""},n}(),dTe=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(r){var i=document.createElement("a"),o=r.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(function(){r.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},n}(),fTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hTe=function(n){function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var o=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=o,r}return fTe(t,n),t.prototype.addCustomContent=function(e){var r=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(i){r.beginNewLine(),i.forEach(function(o,a){0!==a&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(o.data.value||""),o.mergeAcross&&r.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,i,o){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,i){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,fe.EXPORT_TYPE_CSV,i))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(cTe),pTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ng=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return pTe(t,n),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),i=this.getData(r),o=new Blob(["\ufeff",i],{type:"text/plain"});return dTe.download(this.getFileName(r.fileName),o),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,r){void 0===r&&(r=!1);var i=r?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new hTe({columnModel:r.columnModel,valueService:r.valueService,gridOptionsWrapper:r.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Ng([F("columnModel")],t.prototype,"columnModel",void 0),Ng([F("valueService")],t.prototype,"valueService",void 0),Ng([F("gridSerializer")],t.prototype,"gridSerializer",void 0),Ng([F("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ng([Xe],t.prototype,"postConstruct",null),Ng([dt("csvCreator")],t)}(uTe),gTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return gTe(t,n),t.prototype.serialize=function(e,r){void 0===r&&(r={});var i=this.getColumnsToExport(r.allColumns,r.columnKeys);return St.compose(this.prepareSession(i),this.prependContent(r),this.exportColumnGroups(r,i),this.exportHeaders(r,i),this.processPinnedTopRows(r,i),this.processRows(r,i),this.processPinnedBottomRows(r,i),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,i,o){var a=r.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsWrapper,l=s.getContext(),u=s.getApi(),c=s.getColumnApi(),d=s.isGroupRemoveSingleChildren(),h=s.isGroupRemoveLowestSingleChildren(),p=null!=r.rowPositions,m=p||!!r.onlySelected,v=s.isGroupHideOpenParents()&&!m,_=this.columnModel.isPivotMode()?o.leafGroup:!o.group,b=1===o.allChildrenCount&&(d||h&&o.leafGroup);if((r.skipGroups||r.skipRowGroups)&&r.skipGroups&&St.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!_&&(r.skipRowGroups||b||v)||r.onlySelected&&!o.isSelected()||r.skipPinnedTop&&"top"===o.rowPinned||r.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||o.leafGroup||o.footer&&p)&&!a({node:o,api:u,columnApi:c,context:l})){var O=e.onNewBodyRow();if(i.forEach(function(D,P){O.onColumn(D,P,o)}),r.getCustomContentBelowRow){var R=r.getCustomContentBelowRow({node:o,api:u,columnApi:c,context:l});R&&e.addCustomContent(R)}}},t.prototype.appendContent=function(e){return function(r){var i=e.customFooter||e.appendContent;return i&&(e.customFooter&&St.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(i)),r}},t.prototype.prependContent=function(e){return function(r){var i=e.customHeader||e.prependContent;return i&&(e.customHeader&&St.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(i)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var i=this;return function(o){if(e.skipColumnGroupHeaders)e.columnGroups&&St.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var a=new b8,s=i.displayedGroupCreator.createDisplayedGroups(r,i.columnModel.getGridBalancedTree(),a,null);i.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,r){return function(i){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&St.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var o=i.onNewHeaderRow();r.forEach(function(a,s){o.onColumn(a,s,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return"top"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,r){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s===fe.ROW_MODEL_TYPE_CLIENT_SIDE,u=s===fe.ROW_MODEL_TYPE_SERVER_SIDE,c=!l&&e.onlySelected,d=i.processRow.bind(i,o,e,r),h=e.exportedRows,p=void 0===h?"filteredAndSorted":h;return e.rowPositions?e.rowPositions.filter(function(v){return null==v.rowPinned}).sort(function(v,_){return v.rowIndex-_.rowIndex}).map(function(v){return a.getRow(v.rowIndex)}).forEach(d):i.columnModel.isPivotMode()?l?a.forEachPivotNode(d):a.forEachNode(d):e.onlySelectedAllPages||c?i.selectionService.getSelectedNodes().forEach(d):"all"===p?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d):a.forEachNode(d),o}},t.prototype.processPinnedBottomRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return"bottom"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var i=this.columnModel.isPivotMode();return r&&r.length?this.columnModel.getGridColumns(r):e&&!i?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([fe.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,i){var o=[];e.forEach(function(a){a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof ia&&this.doAddHeaderHeader(r,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,r,i)},t.prototype.doAddHeaderHeader=function(e,r,i){var o=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var c,u=l;c=i?i({columnGroup:u,api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()}):o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,p,m,v){var _=St.last(h);return"open"===p.getColumnGroupShow()?(!_||null!=_[1])&&h.push(_=[m]):_&&null==_[1]&&(_[1]=m-1),m===v.length-1&&_&&null==_[1]&&(_[1]=m),h},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},mp([F("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),mp([F("columnModel")],t.prototype,"columnModel",void 0),mp([F("rowModel")],t.prototype,"rowModel",void 0),mp([F("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),mp([F("selectionService")],t.prototype,"selectionService",void 0),mp([F("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),mp([dt("gridSerializer")],t)}(ze),_Te={moduleName:At.CsvExportModule,beans:[mTe,vTe]},CTe=(function(){function n(){}n.createHeader=function(t){void 0===t&&(t={});var i=["version"];return t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone"),"<?xml "+i.map(function(a){return a+'="'+t[a]+'"'}).join(" ")+" ?>"},n.createXml=function(t,e){var r=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){i+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+i;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach(function(a){o+=r.createXml(a,e)}),o+"</"+t.name+">\r\n"):o+"/>\r\n"},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var i=e;return"boolean"==typeof e&&r&&(i=r(e))," "+t+'="'+i+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function n(){}n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},n.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},n.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.buildFileStream=function(t){var e,r;void 0===t&&(t="");var i=this.folders.concat(this.files),o=i.length,a="",s=0,l=0;try{for(var u=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=u.next();!c.done;c=u.next()){var h=this.getHeader(c.value,s),p=h.fileHeader,m=h.folderHeader,v=h.content;s+=p.length+v.length,l+=m.length,t+=p+v,a+=m}}catch(C){e={error:C}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return t+a+this.buildFolderEnd(o,l,s)},n.getHeader=function(t,e){var r=t.content,i=t.path,o=t.created,a=t.isBase64,l=St.decToHex,u=(0,St.utf8_encode)(i),c=u!==i,d=this.convertTime(o),h=this.convertDate(o),p="";if(c){var m=l(1,1)+l(this.getFromCrc32Table(u),4)+u;p="up"+l(m.length,2)+m}var v=r?this.getConvertedContent(r,a):{size:0,content:""},_=v.size,C=v.content,w="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(h,2)+l(_?this.getFromCrc32Table(C):0,4)+l(_,4)+l(_,4)+l(u.length,2)+l(p.length,2);return{fileHeader:"PK\x03\x04"+w+u+p,folderHeader:"PK\x01\x02\x14\0"+w+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+l(e,4)+u+p,content:C||""}},n.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},n.buildFolderEnd=function(t,e,r){var i=St.decToHex;return"PK\x05\x06\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(r,4)+"\0\0"},n.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},n.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),i=0;i<e;i++)r[i]=t.charCodeAt(i);var o=-1;for(i=0;i<e;i++)o=o>>>8^CTe[255&(o^r[i])];return-1^o},n.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},n.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},n.folders=[],n.files=[]}(),Vt.registerModules([tTe,lTe,_Te]);let bTe=(()=>{class n{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let e=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(e.children=this.getChildColDefs(this.childColumns)),e}getChildColDefs(e){return e.filter(r=>!r.hasChildColumns()).map(r=>r.toColDef())}createColDefFromGridColumn(e){return function BD(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}(e,["childColumns"])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bn({type:n,selectors:[["ag-grid-column"]],contentQueries:function(e,r,i){if(1&e&&fb(i,n,4),2&e){let o;Dd(o=Rd())&&(r.childColumns=o)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",showDisabledCheckboxes:"showDisabledCheckboxes",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",wrapHeaderText:"wrapHeaderText",autoHeaderHeight:"autoHeaderHeight",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),Pz=(()=>{class n extends gz{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,r){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},r)}):window.setTimeout(()=>{e()},r)}setInterval(e,r){return new Pa(i=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{i(window.setInterval(()=>{e()},r))}):i(window.setInterval(()=>{e()},r))})}addEventListener(e,r,i,o){this.isOutsideAngular(r)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(r,i,o)}):e.addEventListener(r,i,o)}dispatchEvent(e,r,i=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(r):r():(this.isEmitterUsed(e)||i)&&(!Pn.isInAngularZone()&&this._ngZone?this._ngZone.run(r):r())}isFrameworkComponent(e){if(!e)return!1;const r=e.prototype;return r&&"agInit"in r}}return n.\u0275fac=function(e){return new(e||n)(Te(Pn))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),Mz=(()=>{class n extends LRe{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let r=this,o=new class i extends xTe{init(s){super.init(s),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return r.createComponent(e)}hasMethod(s){return null!=o.getFrameworkComponentInstance()[s]}callMethod(s,l){const u=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[s].apply(u,l)}addMethod(s,l){o[s]=l}};return o}createComponent(e){let r=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(r)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Hi(n)))(r||n)}}(),n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class xTe{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let Bg=(()=>{class n{constructor(e,r,i,o,a){this.viewContainerRef=r,this.angularFrameworkOverrides=i,this.frameworkComponentWrapper=o,this.componentFactoryResolver=a,this._initialised=!1,this._destroyed=!1,this._fullyReady=Pa.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.groupRowsSticky=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.serverSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Ye,this.toolPanelSizeChanged=new Ye,this.pasteStart=new Ye,this.pasteEnd=new Ye,this.columnVisible=new Ye,this.columnPinned=new Ye,this.columnResized=new Ye,this.columnMoved=new Ye,this.columnValueChanged=new Ye,this.columnPivotModeChanged=new Ye,this.columnPivotChanged=new Ye,this.columnGroupOpened=new Ye,this.newColumnsLoaded=new Ye,this.gridColumnsChanged=new Ye,this.displayedColumnsChanged=new Ye,this.virtualColumnsChanged=new Ye,this.columnEverythingChanged=new Ye,this.componentStateChanged=new Ye,this.cellValueChanged=new Ye,this.cellEditRequest=new Ye,this.rowValueChanged=new Ye,this.cellEditingStarted=new Ye,this.cellEditingStopped=new Ye,this.rowEditingStarted=new Ye,this.rowEditingStopped=new Ye,this.filterOpened=new Ye,this.filterChanged=new Ye,this.filterModified=new Ye,this.chartCreated=new Ye,this.chartRangeSelectionChanged=new Ye,this.chartOptionsChanged=new Ye,this.chartDestroyed=new Ye,this.cellKeyDown=new Ye,this.cellKeyPress=new Ye,this.gridReady=new Ye,this.firstDataRendered=new Ye,this.gridSizeChanged=new Ye,this.modelUpdated=new Ye,this.virtualRowRemoved=new Ye,this.viewportChanged=new Ye,this.bodyScroll=new Ye,this.bodyScrollEnd=new Ye,this.dragStarted=new Ye,this.dragStopped=new Ye,this.paginationChanged=new Ye,this.rowDragEnter=new Ye,this.rowDragMove=new Ye,this.rowDragLeave=new Ye,this.rowDragEnd=new Ye,this.columnRowGroupChanged=new Ye,this.rowGroupOpened=new Ye,this.expandOrCollapseAll=new Ye,this.pinnedRowDataChanged=new Ye,this.rowDataChanged=new Ye,this.rowDataUpdated=new Ye,this.asyncTransactionsFlushed=new Ye,this.cellClicked=new Ye,this.cellDoubleClicked=new Ye,this.cellFocused=new Ye,this.cellMouseOver=new Ye,this.cellMouseOut=new Ye,this.cellMouseDown=new Ye,this.rowClicked=new Ye,this.rowDoubleClicked=new Ye,this.rowSelected=new Ye,this.selectionChanged=new Ye,this.cellContextMenu=new Ye,this.rangeSelectionChanged=new Ye,this.sortChanged=new Ye,this.columnRowGroupChangeRequest=new Ye,this.columnPivotChangeRequest=new Ye,this.columnValueChangeRequest=new Ye,this.columnAggFuncChangeRequest=new Ye,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=Wc.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new FRe(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&Wc.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const r=this[e],i=!!r&&r.observers&&r.observers.length>0,o=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return i||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(e,r){if(this._destroyed)return;const i=this[e];i&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(o=>{i.emit(r)}):i.emit(r))}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(ba),pe(Pz),pe(Mz),pe(hh))},n.\u0275cmp=Bn({type:n,selectors:[["ag-grid-angular"]],contentQueries:function(e,r,i){if(1&e&&fb(i,bTe,4),2&e){let o;Dd(o=Rd())&&(r.columns=o)}},inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",groupRowsSticky:"groupRowsSticky",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",serverSideInfiniteScroll:"serverSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[gr([Pz,Mz]),_t],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),ETe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[[]]}),n})();class wf extends rf{constructor(t,e,r,i){super(t,e,r,i),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.activatedRoute=i,this.m_nom_tab="",this.m_blocs=new Array(6);var o=new Array(11);o[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),o[1]=new Be("id_cmpt","id_cmpt",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),o[2]=new Be("nom_cmpt","Titre",me.Chaine,!0,ke.Obligatoire,!0,!0,300),o[3]=new Be("nb","Nb",me.Entier,!0,ke.NonModifiable,!0,!0,80),o[4]=new Be("id_instr","Instrument",me.CleEtrangere,!0,ke.Modifiable,!1,!0,120),o[5]=new Be("id_instrWITH","Instrument",me.Chaine,!1,ke.NonModifiable,!0,!1,120),o[6]=new Be("id_theme","Th\xe8me",me.CleEtrangere,!0,ke.Modifiable,!1,!0,120),o[7]=new Be("id_themeWITH","Th\xe8me",me.Chaine,!1,ke.NonModifiable,!0,!1,120),o[8]=new Be("id_typublic","Public",me.CleEtrangere,!0,ke.Modifiable,!1,!0,120),o[9]=new Be("id_typublicWITH","Public",me.Chaine,!1,ke.NonModifiable,!0,!1,120),o[10]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.NonModifiable,!1,!0,250),this.m_blocs[0]=new Fi(this.httpClient,this,"cmpt","cmpt","Comptines","G","exec AZcmptSelect","exec AZcmptMaj @etat@,@id_cmpt@,@nom_cmpt@,@id_instr@,@id_theme@,@id_typublic@","id_cmpt",o),(o=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!1,100),o[1]=new Be("id_instr","id_instr",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,80),o[2]=new Be("nom_instr","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,200),o[3]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.Modifiable,!1,!0,250),this.m_blocs[1]=new Fi(this.httpClient,this,"instr","instr","Instruments","G","exec AZinstrSelect","exec AZinstrMaj @etat@,@id_instr@,@nom_instr@","id_instr",o),(o=new Array(11))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),o[1]=new Be("id_lieu","id_lieu",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),o[2]=new Be("nom_lieu","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,300),o[3]=new Be("ad_lieu","Adresse",me.Chaine,!0,ke.Modifiable,!0,!0,200),o[4]=new Be("id_ville","Ville",me.CleEtrangere,!0,ke.Modifiable,!1,!0,200),o[5]=new Be("id_villeWITH","id_villeWITH",me.Chaine,!1,ke.NonModifiable,!0,!1,200),o[6]=new Be("lat_lieu","Latitude",me.Flottant,!0,ke.Obligatoire,!1,!0,120),o[7]=new Be("lon_lieu","Longitude",me.Flottant,!0,ke.Obligatoire,!1,!0,120),o[8]=new Be("id_type_lieu","Type de lieu",me.CleEtrangere,!0,ke.Obligatoire,!1,!0,120),o[9]=new Be("id_type_lieuWITH","id_type_lieuWITH",me.Chaine,!1,ke.NonModifiable,!0,!1,200),o[10]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.Modifiable,!1,!0,250),this.m_blocs[2]=new Fi(this.httpClient,this,"lieu","lieu","Lieux","G","exec AZlieuSelect","exec AZlieuMaj @etat@,@id_lieu@,@nom_lieu@,@ad_lieu@,@id_ville@,@lat_lieu@,@lon_lieu@,@id_type_lieu@","id_lieu",o),(o=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),o[1]=new Be("id_ville","id_ville",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,80),o[2]=new Be("nom_ville","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,200),o[3]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.Modifiable,!1,!0,250),this.m_blocs[3]=new Fi(this.httpClient,this,"ville","ville","Villes","G","exec AZvilleSelect","exec AZvilleMaj @etat@,@id_ville@,@nom_ville@","id_ville",o),(o=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),o[1]=new Be("id_theme","id_theme",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,80),o[2]=new Be("nom_theme","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,200),o[3]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.Modifiable,!1,!0,250),this.m_blocs[4]=new Fi(this.httpClient,this,"theme","theme","Th\xe8mes","G","exec AZthemeSelect","exec AZthemeMaj @etat@,@id_theme@,@nom_theme@","id_theme",o),(o=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),o[1]=new Be("id_typublic","id_typublic",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,80),o[2]=new Be("nom_typublic","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,200),o[3]=new Be("dep","D\xe9pendances",me.Dependances,!0,ke.Modifiable,!1,!0,250),this.m_blocs[5]=new Fi(this.httpClient,this,"typublic","typublic","Publics","G","exec AZtypublicSelect","exec AZtypublicMaj @etat@,@id_typublic@,@nom_typublic@","id_typublic",o),this.m_classe_boutons=new Array(this.m_blocs.length)}}wf.\u0275fac=function(t){return new(t||wf)(pe(eo),pe($a),pe(ki),pe(Eu))},wf.\u0275cmp=Bn({type:wf,selectors:[["app-references"]],features:[an],decls:38,vars:38,consts:[["flex","",1,"row",2,"width","100%","height","100%"],["id","erreur"],[3,"click"],["id","info"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","calc(100% - 25px)",3,"gridOptions","headerHeight","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"h5"),se(7),Y(),q(8,"h5"),se(9),Y(),q(10,"h5"),se(11),Y(),q(12,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(13,"OK"),Y()(),q(14,"jw-modal",3)(15,"h4"),se(16,"Message"),Y(),q(17,"h4"),se(18),Y(),q(19,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(20,"OK"),Y(),q(21,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(22,"Cancel"),Y()(),q(23,"label"),se(24),Y(),q(25,"button",2),Fe("click",function(){return e.onBtnRecherche()}),se(26,"Rechercher"),Y(),q(27,"label",4),se(28),Y(),q(29,"button",5),Fe("click",function(){return e.onExcel()}),se(30,"Excel"),Y(),q(31,"button",5),Fe("click",function(){return e.onCreer()}),se(32,"Cr\xe9er"),Y(),q(33,"button",5),Fe("click",function(){return e.onSupprimer()}),se(34,"Supprimer"),Y(),q(35,"button",5),Fe("click",function(){return e.onSauver()}),se(36,"Sauver"),Y(),q(37,"ag-grid-angular",6),Fe("gridReady",function(i){return e.onGridReady(i)})("cellValueChanged",function(i){return e.onCellValueChanged(i)})("focusin",function(i){return e.onFocusIn(i)})("rowClicked",function(i){return e.onRowClick(i)})("columnResized",function(i){return e.onColumnResized(i)}),Y()()),2&t&&(Ue(" ",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),Ue(" ",e.m_classe_entete," "),oe(1),ht(e.m_titre),oe(1),ob(" ",e.m_classe_fonte," ",e.m_classe_bouton_actif,""),oe(3),bc(" ",e.m_nb_lignes," "),oe(1),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options)("headerHeight",e.m_hauteur_entete))},dependencies:[Ya,Bg],encapsulation:2}),wf.\u0275prov=$e({token:wf,factory:wf.\u0275fac});class bf extends Hl{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_json_maitre=null,this.m_nb_lignes_maitre=0,this.gridMaitreApi=null,this.gridMaitreColumnApi=null,this.m_id_maitre=-1,this.m_nom_cle_maitre="",this.m_grid_options_maitre=null,this.gridDetailApi=null,this.gridDetailColumnApi=null,this.m_json_detail=null,this.m_row_index_maitre=-1,this.m_onglet_principal=!1,this.m_grid_options_detail=null,this.m_style_champs_onglet_principal="",this.m_idx_detail=-1,this.m_hauteur_grille_maitre=200,this.m_style_grille_maitre="",this.m_style_bloc_maitre="",this.m_grid_options_maitre=new AP(this);var i=300,o="width: 300px;";switch(Ie.m_classe_fonte){case"tres_petite":o="width: 300px;",i=150;break;case"petite":o="width: 400px;",i=300;break;case"moyenne":o="width: 500px;",i=300;break;case"grande":o="width: 600px;",i=300;break;case"tres_grande":o="width: 700px;",i=300}this.m_style_champs_onglet_principal=o,this.DefinirHauteurGrilleMaitre(i),this.m_grid_options_detail=new AP(this)}onAugmenterTaille(){this.DefinirHauteurGrilleMaitre(this.m_hauteur_grille_maitre+10)}onDiminuerTaille(){this.DefinirHauteurGrilleMaitre(this.m_hauteur_grille_maitre-10)}DefinirHauteurGrilleMaitre(t){this.m_hauteur_grille_maitre=t,this.m_style_grille_maitre="width: 100%; height: "+t+"px;",this.m_style_bloc_maitre="border:2px solid #000;width: 100%; height: "+t+"px; overflow: auto;padding: 2px; min-height: 80px;resize:vertical; box-sizing: border-box;"}onColumnMaitreResized(t){this.gridMaitreApi.resetRowHeights()}onColumnDetailResized(t){this.gridDetailApi.resetRowHeights()}onGridMaitreReady(t){this.gridMaitreApi=t.api,this.gridMaitreColumnApi=t.columnApi,this.m_blocs[0].InitGridApi(t.api,t.columnApi),Ie.m_id_appele>0&&(this.DefinirHauteurGrilleMaitre(10),this.AppelerHref(Ie.m_id_appele,Ie.m_num_bloc_appele))}RestaurerCboSpecifiques(){}onRowClickMaitre(t){var e=this;return Ar(function*(){console.log("onRowClickMaitre: m_row_index_maitre="+e.m_row_index_maitre+", nouvel index="+t.rowIndex);var r,i=!1;for(r=0;r<e.m_blocs.length;r++)e.m_blocs[r].m_modif&&(i=!0);var o=!0;if(i){for(e.m_retour_modal="",e.MessageBox("L'objet courant est modifi\xe9");""==e.m_retour_modal;)yield e.delay(500);"Cancel"==e.m_retour_modal&&(o=!1)}if(o){e.RestaurerCboSpecifiques();const a=e.gridMaitreApi.getSelectedRows()[0];console.log("selectedRow, nom_cle_maitre="+e.m_nom_cle_maitre),console.log(a),e.m_id_maitre=a[e.m_nom_cle_maitre],console.log("id_maitre="+e.m_id_maitre),e.ChargerDetails(!1,!1),e.ReinitialiserCompteur(),e.m_row_index_maitre=t.rowIndex}else e.gridMaitreApi.forEachNode(a=>a.setSelected(a.rowIndex==e.m_row_index_maitre))})()}AppelerHref(t,e){if(e>1){const a="exec AZtrouver_id_maitre '"+this.m_blocs[e].m_nom_table+"',"+t;new mi(this.httpClient).LireValeur(a).then(s=>{var l=""+s;l.startsWith("Erreur")?this.MessageErreur(l):(this.m_id_maitre=+l,this.m_num_bloc_actif=e,this.ChargerDetails(!1,!1))},s=>{this.MessageErreur(s)})}else this.m_id_maitre=t,this.ChargerDetails(!1,!1);this.ReinitialiserCompteur()}RequeteRecherche(){return""}AfficherApresRecherche(){var t;for(this.m_nb_lignes_maitre=this.m_blocs[0].m_lignes.length,this.AfficherBloc(0,!1,!1),t=1;t<this.m_blocs.length;t++)this.m_blocs[t].SupprimerToutesLesLignes(),this.m_blocs[t].m_modif=!1,this.AfficherBloc(t,!1,!1),this.m_classe_boutons[t]="btn_onglet_inactif_"+Ie.m_classe_fonte}onGridDetailReady(t){var e;for(this.gridDetailApi=t.api,this.gridDetailColumnApi=t.columnApi,e=1;e<this.m_blocs.length;e++)this.m_blocs[e].InitGridApi(t.api,t.columnApi)}ChargerDetails(t,e){var r=this;return Ar(function*(){if(console.log("ChargerDetails"),console.log("id_maitre="+r.m_id_maitre),r.m_id_maitre>0){console.log("id_maitre="+r.m_id_maitre);var o,i=r.m_blocs.length-1,a=1,s=!1;for(o=1;o<=i;o++){for(;!0===s;)yield r.delay(10);s=!0;var l=r.m_blocs[o];r.m_blocs[o].m_modif=!1;var u=l.m_sql_select.replace("@id@",""+r.m_id_maitre);r.m_blocs[a].ChargerBloc(u,t,e).then(d=>{var h=""+d;h.startsWith("Erreur")&&r.MessageErreur(h),Ie.m_id_appele>0&&Ie.m_num_bloc_appele==a&&(r.m_idx_detail=r.m_blocs[a].NumLig(Ie.m_id_appele)),a++,s=!1},d=>{console.log("AAA appel de MessageErreur depuis EcranMaitreDetail: 5"),r.MessageErreur(d)})}for(;!0===s;)yield r.delay(100);a=1,r.m_num_bloc_actif>0&&(a=r.m_num_bloc_actif),r.onBtnDetail(r.m_blocs[a].m_nom_bloc)}})()}onBtnDetail(t){if(this.m_id_maitre>0){var e;for(e=1;e<this.m_blocs.length;e++){var r=this.m_blocs[e].m_modif?"btn_onglet_inactif_modif":"btn_onglet_inactif";this.m_classe_boutons[e]=r+="_"+Ie.m_classe_fonte,t==this.m_blocs[e].m_nom_bloc&&(this.m_num_bloc_actif=e)}this.AfficherBloc(this.m_num_bloc_actif,!1,!1),this.ReinitialiserCompteur()}}onHrefDetail(t){if(this.m_id_maitre>0){var e,r="id_"+t,i=this.m_blocs[1];for(e=0;e<i.m_colonnes_ecran.length;e++)if(1==i.m_colonnes_ecran[e].m_visible){var o=i.m_colonnes_ecran[e].m_nom_col;if(o==r){i.NumeroColonneSql(o);var l=this.formOngletPrincipal.get("m_"+o).value;void 0===l||Er.AppelerHref(t,l)}}}}AfficherBloc(t,e,r){var i=this;return Ar(function*(){if(1==t&&0==r)i.m_id_maitre>0&&(i.m_onglet_principal=!0,i.AfficherOngletFormulaire(t));else if(t>=0){i.m_onglet_principal=1==t;var s=i.m_blocs[t].PreparerAffichageBloc(e,r);0==t?(i.m_json_maitre=JSON.parse(s),i.gridMaitreApi.setRowData(i.m_json_maitre)):s.length>0&&(yield i.delay(300),i.m_json_detail=JSON.parse(s),0==r&&i.m_num_bloc_actif>=0&&(i.gridDetailApi.setColumnDefs(i.m_blocs[i.m_num_bloc_actif].m_coldefs),i.gridDetailApi.setRowData(i.m_json_detail)))}if(t>0){var u=i.m_blocs[t].m_modif?"btn_onglet_actif_modif":"btn_onglet_actif";i.m_classe_boutons[t]=u+="_"+Ie.m_classe_fonte,i.m_idx_detail>=0&&(i.gridDetailApi.forEachNode(c=>{c.rowIndex==i.m_idx_detail&&c.setSelected(!0)}),i.gridDetailApi.ensureIndexVisible(i.m_idx_detail),i.m_idx_detail=-1)}})()}DefNomFic(){var t="";if(this.m_id_maitre>0){var r,e=this.m_blocs[0].NumLig(this.m_id_maitre);for(r=0;r<this.m_tab_col_nom_fic.length;r++)r>0&&(t+="_"),t+=""+this.m_blocs[0].ValCelluleParNom(e,this.m_tab_col_nom_fic[r])}return t}onExcelDetails(){var t=this;return Ar(function*(){if(t.m_id_maitre>0){var o,e=t.m_blocs.length-1,r=new Array(e),i=new Array(e),a=0;for(t.m_num_bloc_actif=1,o=1;o<=e;o++){var u=t.m_blocs[o];t.AfficherBloc(o,!0,!0),yield t.delay(300),i[a]=u.m_lib_bloc,r[a]=t.m_json_detail,a++}var d=t.DefNomFic();(new tf).exportAsExcelFile(i,r,d),t.onBtnDetail(t.m_blocs[1].m_nom_bloc)}else t.MessageBox("Il faut d'abord s\xe9lectionner une ligne dans la grille de recherche");t.ReinitialiserCompteur()})()}onExcelMaitre(){var t=[this.m_nom_ecran],e=this.m_blocs[0].DonnerStringJSon(!0,!0),r=[JSON.parse(e)],i=this.m_nom_ecran;(new tf).exportAsExcelFile(t,r,i),this.ReinitialiserCompteur()}onCreer(){var t=this;return Ar(function*(){if(t.m_id_maitre>0){var r,e=!0;if(1==t.m_num_bloc_actif){var i=!1;for(r=1;r<t.m_blocs.length;r++)t.m_blocs[r].m_modif&&(i=!0);if(i){for(t.m_retour_modal="",t.MessageBox("L'objet courant est modifi\xe9");""==t.m_retour_modal;)yield t.delay(500);"Cancel"==t.m_retour_modal&&(e=!1)}if(e){for(r=1;r<t.m_blocs.length;r++)t.m_blocs[r].SupprimerToutesLesLignes();t.m_blocs[1].m_modif=!1}}if(e){var o=t.m_blocs[t.m_num_bloc_actif].CreerUneLigne();if(t.m_num_bloc_actif>1){var a=t.m_blocs[t.m_num_bloc_actif].NumeroColonneSql(t.m_nom_cle_maitre),s=new vg(a,t.m_id_maitre),l=t.m_blocs[t.m_num_bloc_actif].NumLig(o);t.m_blocs[t.m_num_bloc_actif].m_lignes[l].m_cellules.push(s)}else t.ViderOngletPrincipal(),t.m_id_maitre=-1;t.AfficherBloc(t.m_num_bloc_actif,!1,!1)}}else t.MessageErreur("Il faut s\xe9lectionner l'objet courant")})()}ViderOngletPrincipal(){var t,e=this.m_blocs[1];for(t=0;t<e.m_colonnes_ecran.length;t++)if(1==e.m_colonnes_ecran[t].m_visible&&1==e.m_colonnes_ecran[t].m_inser_ecran){var o,i="m_"+e.m_colonnes_ecran[t].m_nom_col,a=!0;switch(e.m_colonnes_ecran[t].m_type_col){case me.Chaine:o="";break;case me.CleEtrangere:o=void 0;break;case me.Entier:case me.Flottant:o=0;break;case me.Date:case me.DateHeure:o="";break;case me.Booleen:o=0;break;default:a=!1}a&&this.formOngletPrincipal.get(i).setValue(o)}this.m_blocs[1].m_modif=!0,this.ToucherBlocActif()}onSupprimer(){var t=this;return Ar(function*(){if(t.m_id_maitre>0){var e=!0,r=t.m_num_bloc_actif;if(1==t.m_num_bloc_actif){var i,o=!1;for(i=2;i<t.m_blocs.length;i++)t.m_blocs[i].m_modif&&(o=!0);if(o){for(t.m_retour_modal="",t.MessageBox("L'objet courant est modifi\xe9");""==t.m_retour_modal;)yield t.delay(500);"Cancel"==t.m_retour_modal&&(e=!1)}if(e){for(i=2;i<t.m_blocs.length;i++)t.m_blocs[i].SupprimerToutesLesLignes();t.m_blocs[1].SupprimerUneLigne(t.m_id_maitre),t.ViderOngletPrincipal()}}else{const u=t.gridDetailApi.getSelectedRows()[0];t.m_blocs[r].SupprimerUneLigne(u[t.m_blocs[r].m_nom_cle_primaire])}t.AfficherBloc(r,!1,!1)}else t.MessageErreur("Il faut s\xe9lectionner l'objet courant")})()}RequetePourRecupererIdOngletPrincipal(){return""}onSauver(){var t=this;return Ar(function*(){console.log("AA EMD.Sauver");try{var e=!1,r=1;for(t.TransfererOngletFormulaire(r),r=t.m_blocs.length-1;r>0;r--){for(;!0===e;)yield t.delay(10);e=!0,t.m_blocs[r].Sauver().then(c=>{var d=""+c;d.startsWith("Erreur")?t.MessageErreur(d):t.ToucherBloc(r),e=!1},c=>{t.MessageErreur(c)})}for(;!0===e;)yield t.delay(10);if(1==t.m_num_bloc_actif){var o=t.RequetePourRecupererIdOngletPrincipal();o.length>0?new mi(t.httpClient).LireValeur(o).then(c=>{var d=""+c;d.startsWith("Erreur")?t.MessageErreur(d):d.length>0&&(t.m_id_maitre=+d,t.ChargerDetails(!1,!1))},c=>{t.MessageErreur(c)}):t.ToucherBlocActif()}else t.ChargerDetails(!1,!1);t.ReinitialiserCompteur()}catch(c){t.MessageErreur(c.message+"\xa7\xa7\xa7"+c.stack)}})()}onGenererDeroule(){var t=this;return Ar(function*(){console.log("debut de onGenererDeroule : "),console.log(t.m_blocs);let r,i,o,e=t.m_blocs[1].m_lignes[0].m_cellules[1].m_val;console.log(e);for(let s=0;s<t.m_blocs[2].m_colonnes_sql.length;s++)switch(t.m_blocs[2].m_colonnes_sql[s].m_nom_col){case"seq":r=s;break;case"id_cmptWITH":i=s;break;case"intermede":o=s}let a="<b>S\xe9ance : "+e+"</b><br><table><tr><td>";for(let s=0;s<t.m_blocs[2].m_lignes.length;s++){let l="",u="",c=0;for(let d=0;d<t.m_blocs[2].m_lignes[s].m_cellules.length;d++)t.m_blocs[2].m_lignes[s].m_cellules[d].m_num_col==i&&(l=t.m_blocs[2].m_lignes[s].m_cellules[d].m_val),t.m_blocs[2].m_lignes[s].m_cellules[d].m_num_col==o&&(u=t.m_blocs[2].m_lignes[s].m_cellules[d].m_val),t.m_blocs[2].m_lignes[s].m_cellules[d].m_num_col==r&&(c=t.m_blocs[2].m_lignes[s].m_cellules[d].m_val);c>0&&(a+="</td></tr>\n<tr><td><b>"+c+"</b>",c=0),a+="<u> "+l+"</u> - "+u}a+="</td></tr></table>",console.log(a),t.AfficherDeroule(a)})()}AfficherDeroule(t){return Ar(function*(){let e=window.open();e.document.write(t),e.document.close()})()}onCellValueMaitreChanged(t){this.onCellValueChanged(t,"M")}onCellValueDetailChanged(t){this.onCellValueChanged(t,"D")}onCellValueChanged(t,e){try{var r=""+t.newValue;if(void 0===t.newValue&&(r=""),r!=""+t.oldValue){var o,s,l,a=this.m_blocs[o="M"==e?0:this.m_num_bloc_actif].m_colonnes_ecran[1].m_nom_col,u=-1,c=!0;1!=o?(l=t.column.colId,u=t.rowIndex,(s=("M"==e?this.gridMaitreApi.getSelectedRows()[0]:this.gridDetailApi.getSelectedRows()[0])[a])<-Ie.m_nb_max_lig_creees&&(this.MessageErreur("Ligne non modifiable"),"M"==e?this.gridMaitreApi.undoCellEditing():this.gridDetailApi.undoCellEditing(),c=!1)):(u=t.node.rowIndex,l=t.node.data.donnee,s=this.m_id_maitre),c&&(console.log("avant appel de ModifValeurChamp("+l+","+s+","+r+")"),this.ModifValeurChamp(l,s,r),console.log("apres appel de ModifValeurChamp"),this.ApresModifValeurChamp(u,this.m_blocs[o].m_nom_bloc,s,l,r))}}catch(h){this.MessageErreur("Erreur: "+h.message+"\n"+h.stack)}}onRowClickDetail(t){var r=this.gridDetailApi.getSelectedRows()[0][this.m_blocs[this.m_num_bloc_actif].m_nom_cle_primaire];""==this.m_nom_col_cliquee?this.m_blocs[this.m_num_bloc_actif].PersonnaliserCelluleCbo(r,this.m_blocs[this.m_num_bloc_actif].m_nom_cle_primaire):null!=this.m_nom_col_cliquee&&this.m_blocs[this.m_num_bloc_actif].PersonnaliserCelluleCbo(r,this.m_nom_col_cliquee),this.m_grid_options_detail.columnDefs=this.m_blocs[this.m_num_bloc_actif].m_coldefs,this.gridDetailApi.setColumnDefs(this.m_blocs[this.m_num_bloc_actif].m_coldefs)}RafraichirEcran(){var t=this.m_blocs[this.m_num_bloc_actif].m_sql_select.replace("@id@",""+this.m_id_maitre);this.m_blocs[this.m_num_bloc_actif].ChargerBloc(t,!1,!1).then(e=>{var r=""+e;r.startsWith("Erreur")?this.MessageErreur(r):this.AfficherBloc(this.m_num_bloc_actif,!1,!1)})}}function STe(n,t){if(1&n&&(q(0,"option",22),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_seance.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_seance.m_liste_items[e].m_lib)}}function DTe(n,t){if(1&n&&(q(0,"option",22),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_lieu.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_lieu.m_liste_items[e].m_lib)}}function RTe(n,t){if(1&n&&(q(0,"option",22),se(1),Y()),2&n){const e=t.index,r=Nt(2);qe("value",r.m_cbo_lieu.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_lieu.m_liste_items[e].m_lib)}}function TTe(n,t){if(1&n&&(q(0,"option",22),se(1),Y()),2&n){const e=t.index,r=Nt(2);qe("value",r.m_cbo_seance.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_seance.m_liste_items[e].m_lib)}}function OTe(n,t){if(1&n){const e=wc();q(0,"div")(1,"form",5)(2,"div",23)(3,"div",24)(4,"div",25)(5,"label",26),se(6,"Date: "),Y(),q(7,"input",27),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(8,"div",25)(9,"label",26),se(10,"Lieu: "),Y(),q(11,"select",28),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Wr(12,RTe,2,2,"option",10),Y()(),q(13,"div",25)(14,"label"),se(15,"Num\xe9ro: "),Y(),q(16,"input",29),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(17,"div",25)(18,"label"),se(19,"S\xe9ance: "),Y(),q(20,"select",30),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Wr(21,TTe,2,2,"option",10),Y()(),q(22,"div",25)(23,"label"),se(24,"Commentaire: "),Y(),q(25,"textarea",31),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(26,"div",25)(27,"label"),se(28,"Factur\xe9: "),Y(),q(29,"input",32),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(30,"div",25)(31,"label"),se(32,"Tarif: "),Y(),q(33,"input",33),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()()()()()()}if(2&n){const e=Nt();oe(1),qe("formGroup",e.formOngletPrincipal),oe(4),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_lieu.m_liste_items),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_seance.m_liste_items),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte,""),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," ")}}function ATe(n,t){if(1&n){const e=wc();q(0,"div",34)(1,"ag-grid-angular",35),Fe("gridReady",function(i){return lr(e),ur(Nt().onGridDetailReady(i))})("cellValueChanged",function(i){return lr(e),ur(Nt().onCellValueDetailChanged(i))})("focusin",function(i){return lr(e),ur(Nt().onFocusIn(i))})("rowClicked",function(i){return lr(e),ur(Nt().onRowClickDetail(i))})("columnResized",function(i){return lr(e),ur(Nt().onColumnDetailResized(i))}),Y()()}if(2&n){const e=Nt();oe(1),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_detail)("headerHeight",e.m_hauteur_entete)("undoRedoCellEditing",e.m_undoRedoCellEditing)("undoRedoCellEditingLimit",e.m_undoRedoCellEditingLimit)}}bf.\u0275fac=function(t){return new(t||bf)(Te(eo),Te($a),Te(ki))},bf.\u0275prov=$e({token:bf,factory:bf.\u0275fac});class xf extends bf{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_cbo_cmpt=null,this.m_cbo_lieu=null,this.m_cbo_seance=null,this.m_id_interv=0,this.m_comm_interv="",this.m_tarif_interv=0,this.m_fact_interv=0,this.m_num_interv="",this.m_nom_ecran="Interventions",this.m_blocs=new Array(3);var i=new Array(8);i[0]=new Be("id_interv","id_interv",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("date_interv","Date",me.Date,!0,ke.NonModifiable,!0,!0,110),i[2]=new Be("nom_lieu","Lieu",me.Chaine,!0,ke.NonModifiable,!0,!0,180),i[3]=new Be("num_interv","N\xb0",me.Chaine,!0,ke.NonModifiable,!1,!0,60),i[4]=new Be("nom_seance","S\xe9ance",me.Chaine,!0,ke.NonModifiable,!0,!0,180),i[5]=new Be("comm_interv","Commentaire",me.Chaine,!0,ke.NonModifiable,!0,!0,600),i[6]=new Be("fact_interv","Facture",me.Booleen,!0,ke.NonModifiable,!0,!0,80),i[7]=new Be("tarif_interv","Tarif",me.Flottant,!0,ke.NonModifiable,!0,!0,100),this.m_blocs[0]=new Fi(t,this,"interv__recherche","maitre","Maitre","G","exec AZinterv__recherche","","id_interv",i),(i=new Array(11))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_interv","id_interv",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("date_interv","Date",me.Date,!0,ke.Modifiable,!0,!0,100),i[3]=new Be("id_lieu","Lieu",me.Chaine,!0,ke.Obligatoire,!1,!0,100),i[4]=new Be("id_lieuWITH","Lieu",me.Chaine,!1,ke.NonModifiable,!0,!1,100),i[5]=new Be("num_interv","Num\xe9ro",me.Entier,!0,ke.NonModifiable,!0,!0,100),i[6]=new Be("id_seance","id_seance",me.Chaine,!0,ke.Obligatoire,!1,!0,100),i[7]=new Be("id_seanceWITH","Loge",me.Chaine,!1,ke.NonModifiable,!0,!1,100),i[8]=new Be("comm_interv","Commentaire",me.Chaine,!0,ke.Obligatoire,!0,!0,100),i[9]=new Be("fact_interv","Factur\xe9",me.Booleen,!0,ke.Modifiable,!0,!0,100),i[10]=new Be("tarif_interv","Tarif",me.Entier,!0,ke.Obligatoire,!0,!0,100),this.m_blocs[1]=new Fi(t,this,"interv","interv","Intervention","F","exec AZinterv__intervSelect @id@","exec AZinterv__intervMaj @etat@,@id_interv@,@date_interv@,@id_seance@,@id_lieu@,@comm_interv@,@tarif_interv@,@fact_interv@,@num_interv@","id_interv",i),(i=new Array(7))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_seance_cmpt","id_seance_cmpt",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("id_seance","id_seance",me.Entier,!1,ke.NonModifiable,!1,!0,100),i[3]=new Be("numero","#",me.Entier,!0,ke.Modifiable,!0,!0,50),i[4]=new Be("id_cmpt","Comptine",me.CleEtrangere,!0,ke.Obligatoire,!1,!0,400),i[5]=new Be("seq","*",me.Entier,!0,ke.Modifiable,!1,!0,50),i[6]=new Be("intermede","Interm\xe8de",me.Chaine,!0,ke.Modifiable,!0,!0,800),this.m_blocs[2]=new Fi(t,this,"interv","seance_cmpt","D\xe9roul\xe9","G","exec AZinterv__seance_cmptSelect @id@","exec AZinterv__seance_cmptMaj @etat@,@id_seance_cmpt@,@id_seance@,@id_cmpt@,@numero@,@seq@,@intermede@","id_seance_cmpt",i),this.formRecherche=this.formBuilder.group({m_filtre_date_interv_mini:"",m_filtre_date_interv_maxi:"",m_filtre_num_interv:"",m_filtre_seance:0,m_filtre_lieu:0}),this.formOngletPrincipal=this.formBuilder.group({m_id_interv:0,m_date_interv:"",m_id_seance:0,m_id_lieu:0,m_comm_interv:"",m_tarif_interv:0,m_fact_interv:0,m_num_interv:""}),this.m_nom_cle_maitre="id_interv",this.m_tab_col_nom_fic=["date_interv"],this.m_classe_boutons=new Array(this.m_blocs.length)}ngOnInit(){console.log("debut de NgInit de Intervcomponent"),this.m_cbo_seance=new xo(this.httpClient,"seance"),this.m_cbo_seance.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.m_cbo_lieu=new xo(this.httpClient,"lieu"),this.m_cbo_lieu.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.m_cbo_cmpt=new xo(this.httpClient,"cmpt"),this.m_cbo_cmpt.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.InitColDefs(),this.Init(),this.m_grid_options_maitre.columnDefs=this.m_blocs[0].m_coldefs}RequeteRecherche(){var t=this.formRecherche.get("m_filtre_date_interv_mini").value;t=0==t.length?"null":'"'+t+'"';var r,i,e=this.formRecherche.get("m_filtre_date_interv_maxi").value;return e=0==e.length?"null":'"'+e+'"',("String"!=(r=this.formRecherche.get("m_filtre_seance").value).constructor.name||"0"==r)&&(r="null"),("String"!=(i=this.formRecherche.get("m_filtre_lieu").value).constructor.name||"0"==i)&&(i="null"),"exec AZinterv__recherche @id_prs_login@,@date_interv_mini@,@date_interv_maxi@,@id_seance@,@id_lieu@".replace("@date_interv_mini@",t).replace("@date_interv_maxi@",e).replace("@id_seance@",r).replace("@id_lieu@",""+i)}onViderCriteres(){this.formRecherche.get("m_filtre_date_interv_mini").setValue(""),this.formRecherche.get("m_filtre_date_interv_maxi").setValue(""),this.formRecherche.get("m_filtre_seance").setValue(0),this.formRecherche.get("m_filtre_lieu").setValue(0),this.ReinitialiserCompteur()}RequetePourRecupererIdOngletPrincipal(){var t=this.formOngletPrincipal.get("m_date_interv").value,e=this.formOngletPrincipal.get("m_id_lieu").value,r="";return t.length>0&&e>0&&(r="select id_interv from interv where date_interv="+this.PreparerDatePourSql(t)+" and id_lieu="+e),console.log("interv.RequetePourRecupererIdOngletPrincipal: sql="+r),r}RequeteCombobox(t,e,r){var i="";switch(t){case"seance":switch(r){case"id_seance":i="exec AZinit_cbo_bis 'seance',"+this.m_blocs[this.m_num_bloc_actif].ValCelluleParNom(e,"id_seance"),console.log("RequeteCombobox: req="+i);break;case"id_loge_tenue_deb":i="exec AZinit_cbo_bis 'loge_tenue_deb',"+this.m_blocs[this.m_num_bloc_actif].ValCelluleParNom(e,"id_loge");break;case"id_loge_tenue_fin":i="exec AZinit_cbo_bis 'loge_tenue_fin',"+this.m_blocs[this.m_num_bloc_actif].ValCelluleParNom(e,"id_loge_tenue_deb")}break;case"travaux":case"degr\xe9s":"id_loge_tenue"===r&&(i="exec AZinit_cbo_bis 'loge_tenue_deb',"+this.m_blocs[this.m_num_bloc_actif].ValCelluleParNom(e,"id_loge"))}return i}}function PTe(n,t){if(1&n&&(q(0,"option",16),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_seance.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_seance.m_liste_items[e].m_lib)}}function MTe(n,t){if(1&n){const e=wc();q(0,"div")(1,"form",5)(2,"div",6)(3,"div",17)(4,"div",18)(5,"label",19),se(6,"Nom: "),Y(),q(7,"input",20),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(8,"div",18)(9,"label",19),se(10,"Num\xe9ro: "),Y(),q(11,"input",21),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()()()()()()}if(2&n){const e=Nt();oe(1),qe("formGroup",e.formOngletPrincipal),oe(4),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," ")}}function ITe(n,t){if(1&n){const e=wc();q(0,"div",22)(1,"ag-grid-angular",23),Fe("gridReady",function(i){return lr(e),ur(Nt().onGridDetailReady(i))})("cellValueChanged",function(i){return lr(e),ur(Nt().onCellValueDetailChanged(i))})("focusin",function(i){return lr(e),ur(Nt().onFocusIn(i))})("rowClicked",function(i){return lr(e),ur(Nt().onRowClickDetail(i))})("columnResized",function(i){return lr(e),ur(Nt().onColumnDetailResized(i))}),Y()()}if(2&n){const e=Nt();oe(1),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_detail)("headerHeight",e.m_hauteur_entete)}}xf.\u0275fac=function(t){return new(t||xf)(pe(eo),pe($a),pe(ki))},xf.\u0275cmp=Bn({type:xf,selectors:[["app-interv"]],features:[an],decls:68,vars:68,consts:[["flex","",1,"row",2,"width","100%","height","100%","display","flex","flex-direction","column","justify-content","flex-start"],[2,"border","2px solid #000","width","100%","height","50%","box-sizing","border-box","overflow","auto","padding","2px","min-height","80px","resize","vertical"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group",2,"display","flex","align-items","center","gap","5px"],["type","date","id","m_filtre_date_interv_mini","name","m_filtre_date_interv_mini","formControlName","m_filtre_date_interv_mini",2,"width","120px"],["type","date","id","m_filtre_date_interv_maxi","name","m_filtre_date_interv_maxi","formControlName","m_filtre_date_interv_maxi",2,"width","120px"],["formControlName","m_filtre_seance","id","m_filtre_seance","name","m_filtre_seance"],[3,"value",4,"ngFor","ngForOf"],["formControlName","m_filtre_lieu","id","m_filtre_lieu","name","m_filtre_lieu"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","calc(100% - 52px)",3,"gridOptions","headerHeight","gridReady","rowClicked","columnResized"],[2,"border","2px solid #000","width","100%","height","auto","flex-grow","1","box-sizing","border-box","overflow","auto","padding","2px"],[2,"width","50px"],["id","btnCreer",3,"disabled","click"],["id","btnSupprimer",3,"disabled","click"],["id","btnSauver",3,"disabled","click"],[4,"ngIf"],["name","detail","style","height: calc(100% - 25px);",4,"ngIf"],[3,"value"],[1,"form-group"],[1,"column"],[1,"row"],[1,"obligatoire"],["type","date","formControlName","m_date_interv","name","date_interv",3,"change"],["formControlName","m_id_lieu","name","id_lieu",3,"change"],["type","text","formControlName","m_num_interv","name","num_interv",3,"change"],["formControlName","m_id_seance","name","id_seance",3,"change"],["type","text","formControlName","m_comm_interv","maxlength","150","name","comm_interv","id","commentaire-input",3,"change"],["type","checkbox","formControlName","m_fact_interv","name","fact_interv",3,"change"],["type","number","step","0.01","formControlName","m_tarif_interv","name","tarif_interv",3,"change"],["name","detail",2,"height","calc(100% - 25px)"],["name","detail","rowSelection","single","enableColResize","",2,"width","100%","height","100%",3,"gridOptions","headerHeight","undoRedoCellEditing","undoRedoCellEditingLimit","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"div",1)(2,"jw-modal",2)(3,"h4"),se(4,"Erreur"),Y(),q(5,"h4"),se(6),Y(),q(7,"h5"),se(8),Y(),q(9,"h5"),se(10),Y(),q(11,"h5"),se(12),Y(),q(13,"button",3),Fe("click",function(){return e.closeModal("erreur")}),se(14,"OK"),Y()(),q(15,"jw-modal",4)(16,"h4"),se(17,"Message"),Y(),q(18,"h4"),se(19),Y(),q(20,"button",3),Fe("click",function(){return e.closeModalbis("info","OK")}),se(21,"OK"),Y(),q(22,"button",3),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(23,"Cancel"),Y()(),q(24,"form",5)(25,"div",6)(26,"label"),se(27," Les interventions:"),Y(),q(28,"label"),se(29," Date mini: "),Y(),ji(30,"input",7),q(31,"label"),se(32," Date maxi: "),Y(),ji(33,"input",8),q(34,"label"),se(35," S\xe9ance: "),Y(),q(36,"select",9),Wr(37,STe,2,2,"option",10),Y(),q(38,"label"),se(39," Lieu: "),Y(),q(40,"select",11),Wr(41,DTe,2,2,"option",10),Y()()(),q(42,"button",3),Fe("click",function(){return e.onBtnRecherche()}),se(43,"Rechercher"),Y(),q(44,"label",12),se(45),Y(),q(46,"button",3),Fe("click",function(){return e.onViderCriteres()}),se(47,"Vider crit\xe8res"),Y(),q(48,"button",13),Fe("click",function(){return e.onExcelMaitre()}),se(49,"Excel"),Y(),q(50,"ag-grid-angular",14),Fe("gridReady",function(i){return e.onGridMaitreReady(i)})("rowClicked",function(i){return e.onRowClickMaitre(i)})("columnResized",function(i){return e.onColumnMaitreResized(i)}),Y()(),q(51,"div",15)(52,"button",3),Fe("click",function(){return e.onBtnDetail("interv")}),se(53),Y(),q(54,"button",3),Fe("click",function(){return e.onBtnDetail("seance_cmpt")}),se(55),Y(),q(56,"label",16),se(57," / "),Y(),q(58,"button",13),Fe("click",function(){return e.onExcelDetails()}),se(59,"Excel"),Y(),q(60,"button",17),Fe("click",function(){return e.onCreer()}),se(61,"Cr\xe9er"),Y(),q(62,"button",18),Fe("click",function(){return e.onSupprimer()}),se(63,"Supprimer"),Y(),q(64,"button",19),Fe("click",function(){return e.onSauver()}),se(65,"Sauver"),Y(),Wr(66,OTe,34,57,"div",20),Wr(67,ATe,2,7,"div",21),Y()()),2&t&&(Ue("",e.m_classe_fonte," "),oe(6),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),qe("formGroup",e.formRecherche),oe(2),Ue(" ",e.m_classe_entete," "),oe(4),Ue(" ",e.m_classe_fonte," "),oe(3),Ue(" ",e.m_classe_fonte," "),oe(3),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_seance.m_liste_items),oe(3),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_lieu.m_liste_items),oe(1),Ue(" ",e.m_classe_fonte," "),oe(3),bc(" ",e.m_nb_lignes_maitre," "),oe(1),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_maitre)("headerHeight",e.m_hauteur_entete),oe(2),$n(e.m_classe_boutons[1]),oe(1),ht(e.m_blocs[1].m_lib_bloc),oe(1),$n(e.m_classe_boutons[2]),oe(1),ht(e.m_blocs[2].m_lib_bloc),oe(3),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),qe("ngIf",e.m_onglet_principal),oe(1),qe("ngIf",!e.m_onglet_principal))},dependencies:[Tc,bh,Ru,Gd,Vd,Su,bx,dx,Ac,kl,Du,sA,$s,Ll,Ya,Bg],encapsulation:2}),xf.\u0275prov=$e({token:xf,factory:xf.\u0275fac});class Ef extends bf{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_cbo_cmpt=null,this.m_cbo_seance=null,this.m_nom_seance="",this.m_id_cmpt=0,this.m_id_seance=0,this.m_num_seance=0,this.m_nom_ecran="S\xe9ances",this.m_blocs=new Array(3);var i=new Array(3);i[0]=new Be("id_seance","id_seance",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("num_seance","Num\xe9ro",me.Entier,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("nom_seance","Nom",me.Chaine,!0,ke.NonModifiable,!0,!0,350),this.m_blocs[0]=new Fi(t,this,"seance_recherche","maitre","maitre","G","exec AZseance__recherche","","id_seance",i),(i=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_seance","id_seance",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("nom_seance","Nom",me.Chaine,!0,ke.Obligatoire,!0,!0,100),i[3]=new Be("num_seance","Num\xe9ro",me.Entier,!0,ke.Modifiable,!0,!0,100),this.m_blocs[1]=new Fi(t,this,"seance","seance","S\xe9ance","F","exec AZseance__seanceSelect @id@","exec AZseance__seanceMaj @etat@,@id_seance@,@nom_seance@,@num_seance@","id_seance",i),(i=new Array(7))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_seance_cmpt","id_seance_cmpt",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("id_seance","id_seance",me.Entier,!1,ke.NonModifiable,!1,!0,100),i[3]=new Be("numero","#",me.Entier,!0,ke.Modifiable,!0,!0,50),i[4]=new Be("id_cmpt","Comptine",me.CleEtrangere,!0,ke.Obligatoire,!1,!0,400),i[5]=new Be("seq","*",me.Entier,!0,ke.Modifiable,!1,!0,50),i[6]=new Be("intermede","Interm\xe8de",me.Chaine,!0,ke.Modifiable,!0,!0,800),this.m_blocs[2]=new Fi(t,this,"seance_cmpt","comptines","D\xe9roul\xe9","G","exec AZseance__seance_cmptSelect @id@","exec AZseance__seance_cmptMaj @etat@,@id_seance_cmpt@,@id_seance@,@id_cmpt@,@numero@,@seq@,@intermede@","id_seance_cmpt",i),this.formRecherche=this.formBuilder.group({m_filtre_nom_seance:"",m_filtre_seance:0}),this.formOngletPrincipal=this.formBuilder.group({m_id_seance:"",m_nom_seance:"",m_num_seance:""}),this.m_nom_cle_maitre="id_seance",this.m_tab_col_nom_fic=["Nom"],this.m_classe_boutons=new Array(this.m_blocs.length)}ngOnInit(){this.m_cbo_cmpt=new xo(this.httpClient,"cmpt"),this.m_cbo_cmpt.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.m_cbo_seance=new xo(this.httpClient,"cmpt"),this.m_cbo_seance.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.InitColDefs(),this.Init(),this.m_grid_options_maitre.columnDefs=this.m_blocs[0].m_coldefs}RequeteRecherche(){var t=this.formRecherche.get("m_filtre_seance").value;return console.log("filtre="+this.formRecherche.get("m_filtre_seance").value),"exec AZseance__recherche @id_prs_login@,@filtre_seance@".replace("@filtre_seance@",t=0==t.length||0==t?"null":'"'+t+'"')}onViderCriteres(){this.formRecherche.get("m_filtre_nom_seance").setValue(""),this.ReinitialiserCompteur()}RequetePourRecupererIdOngletPrincipal(){var t=this.formOngletPrincipal.get("m_num_seance").value,e="";return t>0&&(e="select id_seance from seance where num_seance="+t),console.log("seance.RequetePourRecupererIdOngletPrincipal: sql="+e),e}}Ef.\u0275fac=function(t){return new(t||Ef)(pe(eo),pe($a),pe(ki))},Ef.\u0275cmp=Bn({type:Ef,selectors:[["app-seance"]],features:[an],decls:60,vars:62,consts:[[1,"row",2,"width","100%","height","100%","display","flex","flex-direction","column","justify-content","flex-start"],[2,"border","2px solid #000","width","100%","height","50%","overflow","auto","padding","1px","min-height","80px","resize","vertical","box-sizing","border-box"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["formControlName","m_filtre_seance","id","m_filtre_seance","name","m_filtre_seance"],[3,"value",4,"ngFor","ngForOf"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","calc(100% - 51px)",3,"gridOptions","headerHeight","gridReady","rowClicked","columnResized"],[2,"border","2px solid #000","width","100%","height","auto","flex-grow","1","overflow","auto","padding","1px","box-sizing","border-box"],[2,"width","50px"],[4,"ngIf"],["name","detail","style","height: calc(100% - 25px);",4,"ngIf"],[3,"value"],[1,"column"],[1,"row"],[1,"obligatoire"],["type","text","formControlName","m_nom_seance","name","nom_seance",3,"change"],["type","number","formControlName","m_num_seance","name","num_seance",3,"change"],["name","detail",2,"height","calc(100% - 25px)"],["name","detail","rowSelection","single","enableColResize","",2,"width","100%","height","100%",3,"gridOptions","headerHeight","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"div",1)(2,"jw-modal",2)(3,"h4"),se(4,"Erreur"),Y(),q(5,"h4"),se(6),Y(),q(7,"h5"),se(8),Y(),q(9,"h5"),se(10),Y(),q(11,"h5"),se(12),Y(),q(13,"button",3),Fe("click",function(){return e.closeModal("erreur")}),se(14,"OK"),Y()(),q(15,"jw-modal",4)(16,"h4"),se(17,"Message"),Y(),q(18,"h4"),se(19),Y(),q(20,"button",3),Fe("click",function(){return e.closeModalbis("info","OK")}),se(21,"OK"),Y(),q(22,"button",3),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(23,"Cancel"),Y()(),q(24,"form",5)(25,"div",6)(26,"label"),se(27," Les s\xe9ances:"),Y(),q(28,"label"),se(29," Comptine: "),Y(),q(30,"select",7),Wr(31,PTe,2,2,"option",8),Y()()(),q(32,"button",3),Fe("click",function(){return e.onBtnRecherche()}),se(33,"Rechercher"),Y(),q(34,"label",9),se(35),Y(),q(36,"button",3),Fe("click",function(){return e.onViderCriteres()}),se(37,"Vider crit\xe8res"),Y(),q(38,"button",10),Fe("click",function(){return e.onExcelMaitre()}),se(39,"Excel"),Y(),q(40,"ag-grid-angular",11),Fe("gridReady",function(i){return e.onGridMaitreReady(i)})("rowClicked",function(i){return e.onRowClickMaitre(i)})("columnResized",function(i){return e.onColumnMaitreResized(i)}),Y()(),q(41,"div",12)(42,"button",3),Fe("click",function(){return e.onBtnDetail("seance")}),se(43),Y(),q(44,"button",3),Fe("click",function(){return e.onBtnDetail("comptines")}),se(45),Y(),q(46,"label",13),se(47," / "),Y(),q(48,"button",10),Fe("click",function(){return e.onExcelDetails()}),se(49,"Excel"),Y(),q(50,"button",10),Fe("click",function(){return e.onCreer()}),se(51,"Cr\xe9er"),Y(),q(52,"button",10),Fe("click",function(){return e.onSupprimer()}),se(53,"Supprimer"),Y(),q(54,"button",10),Fe("click",function(){return e.onSauver()}),se(55,"Sauver"),Y(),q(56,"button",10),Fe("click",function(){return e.onGenererDeroule()}),se(57,"G\xe9n\xe9rer"),Y(),Wr(58,MTe,12,19,"div",14),Wr(59,ITe,2,5,"div",15),Y()()),2&t&&(Ue(" ",e.m_classe_fonte," "),oe(6),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),qe("formGroup",e.formRecherche),oe(2),Ue(" ",e.m_classe_entete," "),oe(4),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_seance.m_liste_items),oe(1),Ue(" ",e.m_classe_fonte," "),oe(3),bc(" ",e.m_nb_lignes_maitre," "),oe(1),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_maitre)("headerHeight",e.m_hauteur_entete),oe(2),$n(e.m_classe_boutons[1]),oe(1),ht(e.m_blocs[1].m_lib_bloc),oe(1),$n(e.m_classe_boutons[2]),oe(1),ht(e.m_blocs[2].m_lib_bloc),oe(3),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),qe("ngIf",e.m_onglet_principal),oe(1),qe("ngIf",!e.m_onglet_principal))},dependencies:[Tc,bh,Ru,Gd,Vd,Su,bx,Ac,kl,Du,$s,Ll,Ya,Bg],encapsulation:2}),Ef.\u0275prov=$e({token:Ef,factory:Ef.\u0275fac});var Kl=(()=>(function(n){n[n.Rep=1]="Rep",n[n.Fic=2]="Fic"}(Kl||(Kl={})),Kl))();class FTe{constructor(t,e,r,i,o,a,s){this.m_id_nd=t,this.m_nom_nd=e,this.m_type_nd=r,this.m_id_nd_pere=i,this.selectionne=o,this.clique=a,this.expanse=s}}class Iz{constructor(t){this.httpClient=t,this.m_retour_brut="",this.m_start_object="{",this.m_end_object="}",this.m_start_array="[",this.m_end_array="]",this.lire_dir="LireDir.php?nom_dir=",this.m_nb_nd=0,this.m_tab_nd=new Array(0),this.m_tampon_bd="",this.m_string_json="",this.m_tab_json=new Array(0),this.m_tampon_dir="",this.m_ind=0}MessageException(t){return t}LireNomPropriete(){var t,e;for(t=0,e="";0==t;)":"==this.m_tampon_bd[this.m_ind]?t=1:e+=this.m_tampon_bd[this.m_ind],this.m_ind++;return e}Tabd(t){return this.m_tampon_bd.substring(this.m_ind,this.m_ind+1)}LireDir(t){return new Promise((r,i)=>{var a=t,s=Ie.FaireUrl()+this.lire_dir+a;this.httpClient.get(s,{responseType:"text"}).toPromise().then(l=>{var u=""+l;u.startsWith("Erreur")?i(u):(this.m_retour_brut=""+l,this.DecoderDir(),r("OK"))},l=>{i("Erreur: "+l.message)})})}DecoderDir(){if(this.m_nb_nd=0,this.m_tab_nd=new Array(0),this.m_tampon_bd=this.m_retour_brut,this.m_ind=0,this.m_tampon_bd[this.m_ind]!=this.m_start_array)return this.MessageException("DecoderDir: Pas de caract\xe8re de d\xe9but");this.m_ind++;for(var e=!1,r=this.m_nb_nd+1;0==e;){if(this.m_tampon_bd[this.m_ind]==this.m_end_array)e=!0;else{console.log("AD.DecoderDir; id_nd="+r+", m_ind="+this.m_ind);var i=this.LireNomPropriete();this.m_tab_nd.push(new FTe(r,i,"D"==this.m_tampon_bd[this.m_ind]?Kl.Rep:Kl.Fic,-1,!1,!1,!1)),r++}this.m_ind++,","==this.m_tampon_bd[this.m_ind]&&this.m_ind++}return"OK"}}function kTe(n,t){1&n&&ji(0,"treeview",4),2&n&&qe("m_nd",t.$implicit)}function LTe(n,t){if(1&n&&(q(0,"div",2),Wr(1,kTe,1,1,"treeview",3),Y()),2&n){const e=Nt();oe(1),qe("ngForOf",e.m_nd.m_nd_fils)}}class LI{constructor(t,e,r,i,o){this.httpClient=t,this.m_ouvert=!1,this.m_repertoire="",this.m_nd_fils=[],this.m_nom_nd="",this.m_type_nd=null,this.m_ecran=null,this.m_classe_nd="",this.m_nom_nd=r||"node",this.m_type_nd=i||Kl.Rep,this.m_repertoire=o||"",this.m_classe_nd=this.m_type_nd==Kl.Rep?"dir":"fic",this.m_ecran=e,this.m_ouvert=!1}}class Gg{constructor(t){this.httpClient=t,this.m_nd=null,this.m_classe_nd="",void 0===this.m_nd||null==this.m_nd||(this.m_classe_nd=this.m_nd.m_type_nd==Kl.Rep?"dir":"fic")}Ouvrir(){var e=this.m_nd.m_ecran;try{if(e.ReinitialiserCompteur(),this.m_nd.m_type_nd==Kl.Rep){if(this.m_nd.m_ouvert=!0,0==this.m_nd.m_nd_fils.length){console.log("ouverture de repertoire");var r=new Iz(this.httpClient);console.log("treeview.Ouvrir("+this.m_nd.m_repertoire+")"),r.LireDir(this.m_nd.m_repertoire).then(u=>{var c;for(this.m_nd.m_nd_fils=new Array(r.m_tab_nd.length),console.log("treeview.Ouvrir: apres LecDir: nb nd="+r.m_tab_nd.length),c=0;c<r.m_tab_nd.length;c++){var m=new LI(this.httpClient,e,r.m_tab_nd[c].m_nom_nd,r.m_tab_nd[c].m_type_nd,this.m_nd.m_repertoire+"/"+r.m_tab_nd[c].m_nom_nd);this.m_nd.m_nd_fils[c]=m}console.log("fin de la boucle: length="+this.m_nd.m_nd_fils.length)},u=>{e.MessageErreur(u)})}}else{var i=this.m_nd.m_repertoire.split(""),o=i.length,a="";for(o=i.length-1;o>0;o--)"."==i[o]&&(a=this.m_nd.m_repertoire.substring(o));var s=new mi(this.httpClient);s.SpecifierEcran(e);var l=s.DonnerTypeMime(a);0==l.length?e.MessageErreur("Erreur: type de fichier inconnu: "+a):s.LireTailleFic(this.m_nd.m_repertoire).then(u=>{var c=""+u;c.startsWith("Erreur")?e.MessageErreur(c+"\xa7sql\xa7data\xa7pile"):s.LireFic(this.m_nd.m_repertoire).then(d=>{const h=new Blob([s.m_buffer_blob],{type:l});var p=Rb(new Date,"yyyyMMddHHmmss","en");t8.saveAs(h,this.m_nd.m_repertoire+"_export_"+p+a)},d=>{e.MessageErreur((c=""+d)+"\xa7sql\xa7data\xa7pile")})},u=>{e.MessageErreur(u+"\xa7sql\xa7data\xa7pile")})}}catch(u){e.MessageErreur("Erreur: "+u.message+"\n"+u.stack)}return"OK"}Fermer(){this.m_nd.m_ouvert=!1}OuvrirFermer(){Ie.m_nivo_lec>2?this.m_nd.m_ouvert?this.Fermer():this.Ouvrir():this.m_nd.m_ecran.MessageBox("Il faut avoir les droits de lecture")}}Gg.\u0275fac=function(t){return new(t||Gg)(pe(eo))},Gg.\u0275cmp=Bn({type:Gg,selectors:[["treeview"]],inputs:{m_nd:"m_nd"},decls:6,vars:5,consts:[[3,"click"],["id","childNode",4,"ngIf"],["id","childNode"],[3,"m_nd",4,"ngFor","ngForOf"],[3,"m_nd"]],template:function(t,e){1&t&&(q(0,"div")(1,"button",0),Fe("click",function(){return e.OuvrirFermer()}),se(2,"+"),Y(),q(3,"label"),se(4),Y(),Wr(5,LTe,2,1,"div",1),Y()),2&t&&(oe(1),Ue(" ",e.m_nd.m_classe_nd," "),oe(3),ht(e.m_nd.m_nom_nd),oe(1),qe("ngIf",e.m_nd.m_ouvert))},dependencies:[Tc,bh,Gg],styles:["#childNode[_ngcontent-%COMP%]{margin-left:40px}.dir[_ngcontent-%COMP%]{background-color:#fb0}.fic[_ngcontent-%COMP%]{background-color:#f0b}"]});class Sf extends Hl{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_nd=new LI(this.httpClient,this,"/",Kl.Rep,"c:")}ngOnInit(){this.Init(),""==Ie.m_rep_fic?new mi(this.httpClient).LireValeur("select rep_fic from prj").then(r=>{var i=""+r;i.startsWith("Erreur")?this.MessageErreur(i):(Ie.m_rep_fic=i,this.TesterRep())},r=>{this.MessageErreur(r)}):this.TesterRep()}TesterRep(){new Iz(this.httpClient).LireDir(Ie.m_rep_fic).then(e=>{var r=""+e;r.startsWith("Erreur")?this.MessageErreur(r):this.m_nd=new LI(this.httpClient,this,"/",Kl.Rep,Ie.m_rep_fic)},e=>{this.MessageErreur("Erreur: r\xe9pertoire "+Ie.m_rep_fic+" inexistant")})}}Sf.\u0275fac=function(t){return new(t||Sf)(pe(eo),pe($a),pe(ki))},Sf.\u0275cmp=Bn({type:Sf,selectors:[["app-lecdir"]],features:[an],decls:26,vars:10,consts:[[1,"row",2,"width","100%"],["id","erreur"],[3,"click"],["id","info"],["max","100",3,"value"],[3,"m_nd"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"h5"),se(7),Y(),q(8,"h5"),se(9),Y(),q(10,"h5"),se(11),Y(),q(12,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(13,"OK"),Y()(),q(14,"jw-modal",3)(15,"h4"),se(16,"Message"),Y(),q(17,"h4"),se(18),Y(),q(19,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(20,"OK"),Y(),q(21,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(22,"Cancel"),Y()(),ji(23,"progress",4)(24,"br")(25,"treeview",5),Y()),2&t&&(Ue(" ",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),nb("value"," ",e.m_pourcent_telechargement," "),oe(2),qe("m_nd",e.m_nd))},dependencies:[Ya,Gg],encapsulation:2}),Sf.\u0275prov=$e({token:Sf,factory:Sf.\u0275fac});class Df extends rf{constructor(t,e,r,i){super(t,e,r,i),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.activatedRoute=i,this.m_nom_ecran="Requetes",this.m_blocs=new Array(1);var o=new Array(1);o[0]=new Be("id_req","id_req",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),this.m_blocs[0]=new Fi(t,this,"req","req","Sql","G","exec AZreq__recherche","","id_req",o),this.formRecherche=this.formBuilder.group({m_sql:""}),this.m_classe_boutons=new Array(this.m_blocs.length),this.m_num_bloc_actif=0}ngOnInit(){this.InitColDefs(),this.Init()}RequeteRecherche(){return this.formRecherche.get("m_sql").value}PreparerBloc(){return new Promise((e,r)=>{var i=this.m_blocs[0].m_colonnes_sql.length,o=new Array(i),a=0;for(a=0;a<i;a++){var s=this.m_blocs[0].m_colonnes_sql[a].m_nom_col,l=this.m_blocs[0].m_colonnes_sql[a].m_type_col;"SelectId"==s&&(l=bo.Booleen);var u=me.Chaine;switch(l){case bo.Entier:u=me.Entier;break;case bo.Flottant:u=me.Flottant;break;case bo.Chaine:u=me.Chaine;break;case bo.Date:u=me.Date;break;case bo.Booleen:u=me.Booleen}o[a]=new Be(s,s,u,!0,ke.NonModifiable,!0,!0,100)}this.m_blocs[0].m_colonnes_ecran=o,this.InitColDefs(),this.Init(),e("OK")})}}Df.\u0275fac=function(t){return new(t||Df)(pe(eo),pe($a),pe(ki),pe(Eu))},Df.\u0275cmp=Bn({type:Df,selectors:[["app-req"]],features:[an],decls:41,vars:35,consts:[["flex","",1,"row",2,"width","100%","height","100%"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["type","text","id","m_sql","name","m_sql","formControlName","m_sql",2,"width","500px"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","100%",3,"gridOptions","headerHeight","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"h5"),se(7),Y(),q(8,"h5"),se(9),Y(),q(10,"h5"),se(11),Y(),q(12,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(13,"OK"),Y()(),q(14,"jw-modal",3)(15,"h4"),se(16,"Message"),Y(),q(17,"h4"),se(18),Y(),q(19,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(20,"OK"),Y(),q(21,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(22,"Cancel"),Y()(),q(23,"form",4)(24,"div",5)(25,"label"),se(26," SQL"),Y(),q(27,"label"),se(28,"Requete: "),Y(),ji(29,"input",6),Y()(),q(30,"button",2),Fe("click",function(){return e.onBtnRecherche()}),se(31,"Rechercher"),Y(),q(32,"label",7),se(33),Y(),q(34,"button",8),Fe("click",function(){return e.onExcel()}),se(35,"Excel"),Y(),q(36,"button",2),Fe("click",function(){return e.onInverserSelection(0)}),se(37,"Inverser s\xe9lection"),Y(),q(38,"button",2),Fe("click",function(){return e.onAdressesMail()}),se(39,"Adresses mail"),Y(),q(40,"ag-grid-angular",9),Fe("gridReady",function(i){return e.onGridReady(i)})("cellValueChanged",function(i){return e.onCellValueChanged(i)})("focusin",function(i){return e.onFocusIn(i)})("rowClicked",function(i){return e.onRowClick(i)})("columnResized",function(i){return e.onColumnResized(i)}),Y()()),2&t&&(Ue("",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),qe("formGroup",e.formRecherche),oe(2),Ue(" ",e.m_classe_entete," "),oe(4),Ue(" ",e.m_classe_fonte," "),oe(1),ob(" ",e.m_classe_fonte," ",e.m_classe_bouton_actif,""),oe(3),bc(" ",e.m_nb_lignes," "),oe(1),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options)("headerHeight",e.m_hauteur_entete))},dependencies:[Ru,Su,kl,Du,$s,Ll,Ya,Bg],encapsulation:2}),Df.\u0275prov=$e({token:Df,factory:Df.\u0275fac});class Rf extends rf{constructor(t,e,r,i){super(t,e,r,i),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.activatedRoute=i,this.m_str_id="",this.sub=null,this.m_nom_tab="",this.m_blocs=new Array(1);var o=new Array(5);o[0]=new Be("niv","Niveau",me.Entier,!0,ke.NonModifiable,!0,!0,50),o[1]=new Be("nom_tab","Type",me.Chaine,!0,ke.NonModifiable,!0,!0,300),o[2]=new Be("id","Nom",me.Entier,!1,ke.NonModifiable,!1,!0,100),o[3]=new Be("rep","Libell\xe9",me.Chaine,!0,ke.Modifiable,!0,!0,500),o[4]=new Be("info","Autre",me.Chaine,!0,ke.Modifiable,!0,!0,250),this.m_blocs[0]=new Fi(this.httpClient,this,"dep","dep","D\xe9pendances","G","exec lec_dependances '@sens@','@nom_tab@',@id@,@nb_lignes_max@,@profondeur_max@","","id",o),this.formRecherche=this.formBuilder.group({m_filtre_nb_lignes_max:2e3,m_filtre_profondeur_max:2}),this.m_classe_boutons=new Array(this.m_blocs.length)}ngOnInit(){this.m_num_bloc_actif=0,this.m_nom_tab=Er.NomTablePourDependances(Ie.m_num_bloc_appele),this.InitColDefs(),this.Init()}RequeteRecherche(){var t=this.m_blocs[0].m_sql_select,e=this.formRecherche.get("m_filtre_nb_lignes_max").value,r=this.formRecherche.get("m_filtre_profondeur_max").value;return t.replace("@sens@","B").replace("@nom_tab@",this.m_nom_tab).replace("@id@",""+Ie.m_id_appele).replace("@nb_lignes_max@",e).replace("@profondeur_max@",r)}}Rf.\u0275fac=function(t){return new(t||Rf)(pe(eo),pe(_4),pe(ki),pe(Eu))},Rf.\u0275cmp=Bn({type:Rf,selectors:[["app-dependances"]],features:[an],decls:46,vars:45,consts:[["flex","",1,"row",2,"width","100%","height","100%"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["type","text","id","m_filtre_nb_lignes_max","name","m_filtre_nb_lignes_max","formControlName","m_filtre_nb_lignes_max",2,"width","50px"],["type","text","id","m_filtre_profondeur_max","name","m_filtre_profondeur_max","formControlName","m_filtre_profondeur_max",2,"width","50px"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","100%",3,"gridOptions","headerHeight","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"h5"),se(7),Y(),q(8,"h5"),se(9),Y(),q(10,"h5"),se(11),Y(),q(12,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(13,"OK"),Y()(),q(14,"jw-modal",3)(15,"h4"),se(16,"Message"),Y(),q(17,"h4"),se(18),Y(),q(19,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(20,"OK"),Y(),q(21,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(22,"Cancel"),Y()(),q(23,"label"),se(24),Y(),q(25,"form",4)(26,"div",5)(27,"label"),se(28,"Nb de lignes max: "),Y(),ji(29,"input",6),q(30,"label"),se(31," Profondeur max: "),Y(),ji(32,"input",7),Y()(),q(33,"button",2),Fe("click",function(){return e.onBtnRecherche()}),se(34,"Rechercher"),Y(),q(35,"label",8),se(36),Y(),q(37,"button",9),Fe("click",function(){return e.onExcel()}),se(38,"Excel"),Y(),q(39,"button",9),Fe("click",function(){return e.onCreer()}),se(40,"Cr\xe9er"),Y(),q(41,"button",9),Fe("click",function(){return e.onSupprimer()}),se(42,"Supprimer"),Y(),q(43,"button",9),Fe("click",function(){return e.onSauver()}),se(44,"Sauver"),Y(),q(45,"ag-grid-angular",10),Fe("gridReady",function(i){return e.onGridReady(i)})("cellValueChanged",function(i){return e.onCellValueChanged(i)})("focusin",function(i){return e.onFocusIn(i)})("rowClicked",function(i){return e.onRowClick(i)})("columnResized",function(i){return e.onColumnResized(i)}),Y()()),2&t&&(Ue(" ",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),Ue(" ",e.m_classe_entete," "),oe(1),ht(e.m_titre),oe(1),qe("formGroup",e.formRecherche),oe(4),Ue(" ",e.m_classe_fonte," "),oe(3),Ue(" ",e.m_classe_fonte," "),oe(1),ob(" ",e.m_classe_fonte," ",e.m_classe_bouton_actif,""),oe(3),bc(" ",e.m_nb_lignes," "),oe(1),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options)("headerHeight",e.m_hauteur_entete))},dependencies:[Ru,Su,kl,Du,$s,Ll,Ya,Bg],encapsulation:2}),Rf.\u0275prov=$e({token:Rf,factory:Rf.\u0275fac});var D0=Ke(407);function NTe(n,t){if(1&n&&(q(0,"option",10),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_lieu.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_lieu.m_liste_items[e].m_lib)}}class Tf extends Hl{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_cbo_lieu=null,this.map=null,this.formRecherche=this.formBuilder.group({m_filtre_loge:0,m_filtre_terr:0,m_filtre_orient:0})}ngOnInit(){this.m_cbo_lieu=new xo(this.httpClient,"lieu"),this.m_cbo_lieu.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.Init()}delay(t){return new Promise(e=>setTimeout(e,t))}ngAfterViewInit(){this.TracerCarte()}TracerCarte(){var t=this;return Ar(function*(){var e,r,i;console.log("AAA avant init map"),(a=new mi(t.httpClient)).LireValeur("select AZcentrer_carte(0)").then(E=>{var S=""+E;if(S.startsWith("Erreur"))t.MessageErreur(S);else{console.log("BBB carteComponent.onBtnRecherche: retour de LireValeur="+S);const O=S.split(",");r=parseFloat(O[0]),e=parseFloat(O[1]),i=10}console.log("CCC lat_centre="+r+" ; lon_centre="+e+" ; zoom="+i),t.map=new D0.Map("map",{layers:[(0,D0.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'})],zoom:i,center:(0,D0.latLng)(r,e)})},E=>{t.MessageErreur(E)});try{var l,u,h,p,v,_,C,w,b,a,s=0;(a=new mi(t.httpClient)).LireTable("call AZlister_lieux").then(S=>{if(!(""+S).startsWith("Erreur"))for(s=a.m_lignes.length,w=0;w<s;w++){l=a.m_lignes[w].RecupererVal(0),h=a.m_lignes[w].RecupererVal(3),p=a.m_lignes[w].RecupererVal(4),v=h,_=p,u=a.m_lignes[w].RecupererVal(6),C=a.m_lignes[w].RecupererVal(7);var D="Lieu: <b>"+l+"</b><br>Coord: <b>"+v+", "+_+'</b><br>Interventions:<div class="interv-list">';if(void 0!==C){var P=C.split("\xa7"),M=P.length;for(b=0;b<M;b++){var U=P[b].split("#"),le=parseInt(U[0]),ie=U[1],te=ie.substring(8,10)+"/"+ie.substring(5,7)+"/"+ie.substring(0,4);Ie.m_base_url.replace("localhost:4200","localhost"),console.log("WWW interv["+b+"]: vignette "+D+" date_interv="+ie+" date_fr="+te);var ce=Ie.NumClasseFonte(Ie.m_classe_fonte);D+=(b>0?"<br>":"")+'<a target="_blank" href="'+Ie.m_url+"?p="+Ie.m_id_prs_login+"|4|1|"+le+"|"+ce+'" style="font-weight: bold">N\xb0'+(b+1)+" - "+te+"</a>"}D+="</div>"}var ue=D0.icon({iconUrl:"assets/"+u+".png",shadowUrl:"assets/"+u+".png",iconSize:[16,16],shadowSize:[16,16],iconAnchor:[8,8],shadowAnchor:[8,8],popupAnchor:[0,-10]});void 0===ue||D0.marker([v,_],{icon:ue}).addTo(t.map).bindPopup(D)}},S=>{t.MessageErreur(S)})}catch(E){t.MessageErreur("Erreur: "+E.message+"\n"+E.stack)}})()}onAfficherCarte(){var t;("String"!=(t=this.formRecherche.get("m_filtre_terr").value).constructor.name||"0"==t)&&(t="null");var r="select AZcentrer_carte(@id_terr@)".replace("@id_terr@",""+t);new mi(this.httpClient).LireValeur(r).then(o=>{var a=""+o;if(a.startsWith("Erreur"))this.MessageErreur(a);else{const c=a.split(",");var s=parseFloat(c[0]),l=parseFloat(c[1]),u=parseInt(c[2]);0==u?this.MessageErreur("Localisation non d\xe9finie"):6==u?this.MessageErreur("Pas de coordonn\xe9es pour ce lieu"):this.map.setView([s,l],u)}},o=>{this.MessageErreur(o)})}}function BTe(n,t){if(1&n&&(q(0,"option",16),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_dbdictm1.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_dbdictm1.m_liste_items[e].m_lib)}}function GTe(n,t){if(1&n){const e=wc();q(0,"div")(1,"form",5)(2,"div",6)(3,"div",17)(4,"div",18)(5,"label",19),se(6,"Nom table: "),Y(),q(7,"input",20),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()(),q(8,"div",18)(9,"label",19),se(10,"Self desc: "),Y(),q(11,"input",21),Fe("change",function(i){return lr(e),ur(Nt().onModifValFormulaire(i))}),Y()()()()()()}if(2&n){const e=Nt();oe(1),qe("formGroup",e.formOngletPrincipal),oe(4),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," ")}}function VTe(n,t){if(1&n){const e=wc();q(0,"div",22)(1,"ag-grid-angular",23),Fe("gridReady",function(i){return lr(e),ur(Nt().onGridDetailReady(i))})("cellValueChanged",function(i){return lr(e),ur(Nt().onCellValueDetailChanged(i))})("focusin",function(i){return lr(e),ur(Nt().onFocusIn(i))})("rowClicked",function(i){return lr(e),ur(Nt().onRowClickDetail(i))})("columnResized",function(i){return lr(e),ur(Nt().onColumnDetailResized(i))}),Y()()}if(2&n){const e=Nt();oe(1),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_detail)("headerHeight",e.m_hauteur_entete)}}Tf.\u0275fac=function(t){return new(t||Tf)(pe(eo),pe($a),pe(ki))},Tf.\u0275cmp=Bn({type:Tf,selectors:[["app-carte"]],features:[an],decls:26,vars:13,consts:[["flex","",1,"row",2,"width","100%","height","calc(100% - 50px)"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["for","lblid_terr",2,"width","50px"],["formControlName","m_filtre_terr","id","m_filtre_terr"],[3,"value",4,"ngFor","ngForOf"],["id","map",2,"height","100%","z-index","98"],[3,"value"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(7,"OK"),Y()(),q(8,"jw-modal",3)(9,"h4"),se(10,"Message"),Y(),q(11,"h4"),se(12),Y(),q(13,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(14,"OK"),Y(),q(15,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(16,"Cancel"),Y()(),q(17,"form",4)(18,"div",5)(19,"label",6),se(20," Adresse: "),Y(),q(21,"select",7),Wr(22,NTe,2,2,"option",8),Y()()(),q(23,"button",2),Fe("click",function(){return e.onAfficherCarte()}),se(24,"Rechercher"),Y(),ji(25,"div",9),Y()),2&t&&(Ue("",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(7),ht(e.m_msg_info),oe(5),qe("formGroup",e.formRecherche),oe(4),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_lieu.m_liste_items),oe(1),Ue(" ",e.m_classe_fonte," "))},dependencies:[Tc,Ru,Gd,Vd,Ac,kl,Du,$s,Ll,Ya],encapsulation:2}),Tf.\u0275prov=$e({token:Tf,factory:Tf.\u0275fac});class Of extends bf{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_cbo_dbdictm1=null,this.m_cbo_dbdicttype=null,this.m_nom_table="",this.m_num_dbdict=0,this.m_nom_ecran="DBDict",this.m_blocs=new Array(3);var i=new Array(3);i[0]=new Be("id_dbdict","id_dbdict",me.ClePrimaire,!0,ke.NonModifiable,!1,!0,100),i[1]=new Be("nom_dbdict","Nom table",me.Chaine,!0,ke.NonModifiable,!0,!0,300),i[2]=new Be("selfdesc","Self Desc",me.Chaine,!0,ke.NonModifiable,!0,!0,350),this.m_blocs[0]=new Fi(t,this,"dbdict_recherche","maitre","maitre","G","exec AZdbdict__recherche","","id_dbdict",i),(i=new Array(4))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_dbdict","id_dbdict",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[2]=new Be("nom_dbdict","Nom table",me.Chaine,!0,ke.Obligatoire,!0,!0,100),i[3]=new Be("selfdesc","Self Desc",me.Entier,!0,ke.Modifiable,!0,!0,100),this.m_blocs[1]=new Fi(t,this,"dbdictm1","dbdictm1","DBDictM1","F","exec AZdbdict__dbdictSelect @id@","exec AZdbdict__dbdictMaj @etat@,@id_dbdict@,@nom_dbdict@,@selfdesc@","id_dbdict",i),(i=new Array(10))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_dbdicta1","ID DBDict A1",me.ClePrimaire,!0,ke.NonModifiable,!1,!0,200),i[2]=new Be("id_dbdict","ID DBdict",me.Entier,!0,ke.NonModifiable,!1,!0,200),i[3]=new Be("champ","Champ",me.Chaine,!0,ke.Obligatoire,!1,!0,150),i[4]=new Be("id_dbdicttype","Type",me.CleEtrangere,!0,ke.Obligatoire,!1,!0,150),i[5]=new Be("id_dbdicttypeWITH","Type",me.Chaine,!1,ke.Obligatoire,!0,!1,150),i[6]=new Be("longueur","Longueur",me.Entier,!0,ke.Obligatoire,!0,!0,150),i[7]=new Be("niveau","Niveau",me.Entier,!0,ke.Obligatoire,!1,!0,100),i[8]=new Be("idx","Index",me.Entier,!0,ke.Obligatoire,!0,!0,100),i[9]=new Be("contrainte","Contrainte",me.Chaine,!0,ke.Modifiable,!0,!0,300),this.m_blocs[2]=new Fi(t,this,"dbdicta1","dbdicta1","DBDictA1","G","exec AZdbdict__dbdicta1Select @id@","exec AZdbdict__dbdicta1Maj @etat@,@id_dbdicta1@,@id_dbdict@,@champ@,@id_dbdicttype@,@longueur@,@niveau@,@idx@,@contrainte@","id_dbdicta1",i),(i=new Array(7))[0]=new Be("etat","etat",me.Chaine,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("id_dbdicta2","ID DBDict A2",me.ClePrimaire,!0,ke.NonModifiable,!1,!0,200),i[2]=new Be("id_dbdict","ID DBdict",me.Entier,!0,ke.NonModifiable,!1,!0,200),i[3]=new Be("champ_source","Champ source",me.Chaine,!0,ke.Obligatoire,!1,!0,150),i[4]=new Be("table_cible","Table cible",me.Chaine,!0,ke.Obligatoire,!0,!0,150),i[5]=new Be("champ_cible","Champ cible",me.Chaine,!0,ke.Obligatoire,!1,!0,150),i[6]=new Be("requete","Requ\xeate",me.Chaine,!0,ke.Modifiable,!0,!0,350),this.m_blocs[3]=new Fi(t,this,"dbdicta2","dbdicta2","DBDictA2","G","exec AZdbdict__dbdicta2Select @id@","exec AZdbdict__dbdicta2Maj @etat@,@id_dbdicta2@,@id_dbdict@,@champ_source@,@table_cible@,@champ_cible@,@requete@","id_dbdicta2",i),this.formRecherche=this.formBuilder.group({m_filtre_nom_table:"",m_filtre_table:0}),this.formOngletPrincipal=this.formBuilder.group({m_nom_dbdict:"",m_selfdesc:""}),this.m_nom_cle_maitre="id_dbdict",this.m_tab_col_nom_fic=["Nom table"],this.m_classe_boutons=new Array(this.m_blocs.length)}ngOnInit(){this.m_cbo_dbdictm1=new xo(this.httpClient,"dbdict"),this.m_cbo_dbdictm1.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.m_cbo_dbdicttype=new xo(this.httpClient,"dbdicttype"),this.m_cbo_dbdicttype.GenererListeStd().then(t=>{},t=>{this.MessageErreur(t)}),this.InitColDefs(),this.Init(),this.m_grid_options_maitre.columnDefs=this.m_blocs[0].m_coldefs}RequeteRecherche(){var t=this.formRecherche.get("m_filtre_table").value;return"exec AZdbdict__recherche @id_prs_login@,@nom_table@".replace("@nom_table@",t=0==t.length||0==t?"null":'"'+t+'"')}onViderCriteres(){this.formRecherche.get("m_filtre_nom_table").setValue(""),this.ReinitialiserCompteur()}RequetePourRecupererIdOngletPrincipal(){var t=this.formOngletPrincipal.get("m_id_dbdict").value,e="";return t>0&&(e="select id_dbdict from dbdictm1 where id_dbdict="+t),console.log("dbdict.RequetePourRecupererIdOngletPrincipal: sql="+e),e}onGenererSql(){console.log("debut GenererSQL");const t=this.gridMaitreApi.getSelectedRows()[0];this.m_id_maitre=t[this.m_nom_cle_maitre],console.log("ligne s\xe9lectionn\xe9e: this.m_id_maitre= "+this.m_id_maitre);var i,e=this.m_blocs.length-1;for(i=1;i<=e;i++)this.m_blocs[i].m_sql_select.replace("@id@",""+this.m_id_maitre);this.ReinitialiserCompteur()}}Of.\u0275fac=function(t){return new(t||Of)(pe(eo),pe($a),pe(ki))},Of.\u0275cmp=Bn({type:Of,selectors:[["app-dbdict"]],features:[an],decls:62,vars:65,consts:[[1,"row",2,"width","100%","height","100%"],[2,"border","2px solid #000","width","100%","height","50%","overflow","auto","padding","1px","min-height","80px","resize","vertical","box-sizing","border-box"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["formControlName","m_filtre_table","id","m_filtre_table","name","m_filtre_table"],[3,"value",4,"ngFor","ngForOf"],["for","lblnb",2,"width","25px"],[3,"disabled","click"],["rowSelection","single","enableColResize","",2,"width","100%","height","calc(100% - 51px)",3,"gridOptions","headerHeight","gridReady","rowClicked","columnResized"],[2,"border","2px solid #000","width","100%","height","50%","overflow","auto","padding","1px","box-sizing","border-box"],[2,"width","50px"],[4,"ngIf"],["name","detail","style","height: calc(100% - 25px);",4,"ngIf"],[3,"value"],[1,"column"],[1,"row"],[1,"obligatoire"],["type","text","formControlName","m_nom_dbdict","name","nom_dbdict",3,"change"],["type","text","formControlName","m_selfdesc","name","selfdesc",3,"change"],["name","detail",2,"height","calc(100% - 25px)"],["name","detail","rowSelection","single","enableColResize","",2,"width","100%","height","100%",3,"gridOptions","headerHeight","gridReady","cellValueChanged","focusin","rowClicked","columnResized"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"div",1)(2,"jw-modal",2)(3,"h4"),se(4,"Erreur"),Y(),q(5,"h4"),se(6),Y(),q(7,"h5"),se(8),Y(),q(9,"h5"),se(10),Y(),q(11,"h5"),se(12),Y(),q(13,"button",3),Fe("click",function(){return e.closeModal("erreur")}),se(14,"OK"),Y()(),q(15,"jw-modal",4)(16,"h4"),se(17,"Message"),Y(),q(18,"h4"),se(19),Y(),q(20,"button",3),Fe("click",function(){return e.closeModalbis("info","OK")}),se(21,"OK"),Y(),q(22,"button",3),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(23,"Cancel"),Y()(),q(24,"form",5)(25,"div",6)(26,"label"),se(27," Les tables:"),Y(),q(28,"label"),se(29," Nom: "),Y(),q(30,"select",7),Wr(31,BTe,2,2,"option",8),Y()()(),q(32,"button",3),Fe("click",function(){return e.onBtnRecherche()}),se(33,"Rechercher"),Y(),q(34,"label",9),se(35),Y(),q(36,"button",3),Fe("click",function(){return e.onViderCriteres()}),se(37,"Vider crit\xe8res"),Y(),q(38,"button",10),Fe("click",function(){return e.onExcelMaitre()}),se(39,"Excel"),Y(),q(40,"button",3),Fe("click",function(){return e.onGenererSql()}),se(41,"G\xe9n\xe9rer SQL"),Y(),q(42,"ag-grid-angular",11),Fe("gridReady",function(i){return e.onGridMaitreReady(i)})("rowClicked",function(i){return e.onRowClickMaitre(i)})("columnResized",function(i){return e.onColumnMaitreResized(i)}),Y()(),q(43,"div",12)(44,"button",3),Fe("click",function(){return e.onBtnDetail("dbdictm1")}),se(45),Y(),q(46,"button",3),Fe("click",function(){return e.onBtnDetail("dbdicta1")}),se(47),Y(),q(48,"button",3),Fe("click",function(){return e.onBtnDetail("dbdicta2")}),se(49),Y(),q(50,"label",13),se(51," / "),Y(),q(52,"button",10),Fe("click",function(){return e.onExcelDetails()}),se(53,"Excel"),Y(),q(54,"button",10),Fe("click",function(){return e.onCreer()}),se(55,"Cr\xe9er"),Y(),q(56,"button",10),Fe("click",function(){return e.onSupprimer()}),se(57,"Supprimer"),Y(),q(58,"button",10),Fe("click",function(){return e.onSauver()}),se(59,"Sauver"),Y(),Wr(60,GTe,12,19,"div",14),Wr(61,VTe,2,5,"div",15),Y()()),2&t&&(Ue(" ",e.m_classe_fonte," "),oe(6),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),qe("formGroup",e.formRecherche),oe(2),Ue(" ",e.m_classe_entete," "),oe(4),Ue(" ",e.m_classe_fonte," "),oe(1),qe("ngForOf",e.m_cbo_dbdictm1.m_liste_items),oe(1),Ue(" ",e.m_classe_fonte," "),oe(3),bc(" ",e.m_nb_lignes_maitre," "),oe(1),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_grille," "),qe("gridOptions",e.m_grid_options_maitre)("headerHeight",e.m_hauteur_entete),oe(2),$n(e.m_classe_boutons[1]),oe(1),ht(e.m_blocs[1].m_lib_bloc),oe(1),$n(e.m_classe_boutons[2]),oe(1),ht(e.m_blocs[2].m_lib_bloc),oe(1),$n(e.m_classe_boutons[3]),oe(1),ht(e.m_blocs[3].m_lib_bloc),oe(3),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_exp),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(2),qe("ngIf",e.m_onglet_principal),oe(1),qe("ngIf",!e.m_onglet_principal))},dependencies:[Tc,bh,Ru,Gd,Vd,Su,Ac,kl,Du,$s,Ll,Ya,Bg],encapsulation:2}),Of.\u0275prov=$e({token:Of,factory:Of.\u0275fac});class Vg extends Hl{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_style_champs_onglet_principal="";var i="width: 300px;";switch(Ie.m_classe_fonte){case"tres_petite":i="width: 300px;";break;case"petite":i="width: 400px;";break;case"moyenne":i="width: 500px;";break;case"grande":i="width: 600px;";break;case"tres_grande":i="width: 700px;"}this.m_style_champs_onglet_principal=i,this.m_num_bloc_actif=0}RequeteRecherche(){return this.m_blocs[0].m_sql_select}PreparerBloc(){return new Promise((e,r)=>{e("OK")})}AfficherApresRecherche(){this.m_blocs[0].m_modif=!1,this.AfficherBloc(!1),this.m_classe_boutons[0]="btn_onglet_inactif_"+Ie.m_classe_fonte}AfficherBloc(t){var e=this;return Ar(function*(){e.AfficherOngletFormulaire(0);var i=e.m_blocs[0].m_modif?"btn_onglet_actif_modif":"btn_onglet_actif";e.m_classe_boutons[0]=i+="_"+Ie.m_classe_fonte})()}onSauver(){try{this.m_blocs[this.m_num_bloc_actif].Sauver().then(t=>{var e=""+t;e.startsWith("Erreur")?this.MessageErreur(e+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver"):this.ToucherBlocActif()},t=>{this.MessageErreur(t+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver")})}catch(t){this.MessageErreur("Erreur: "+t.message+"\xa7sql\xa7data\xa7EcranGrilleService.onSauver")}}RafraichirEcran(){this.AfficherBloc(!1)}}Vg.\u0275fac=function(t){return new(t||Vg)(Te(eo),Te($a),Te(ki))},Vg.\u0275prov=$e({token:Vg,factory:Vg.\u0275fac});class Yc extends Vg{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.m_nom_prj="",this.m_rep_fic="",this.m_nom_ecran="Projet",this.m_blocs=new Array(1);var i=new Array(3);i[0]=new Be("id_prj","id_prj",me.ClePrimaire,!1,ke.NonModifiable,!1,!0,100),i[1]=new Be("nom_prj","Nom",me.Chaine,!0,ke.NonModifiable,!0,!0,150),i[2]=new Be("rep_fic","R\xe9pertoire des fichiers",me.Chaine,!0,ke.Obligatoire,!0,!0,120),this.m_blocs[0]=new Fi(t,this,"prj","projet","projet","F","exec AZprjSelect","","id_prj",i),this.formOngletPrincipal=this.formBuilder.group({m_nom_prj:"",m_rep_fic:""}),this.m_classe_boutons=new Array(this.m_blocs.length),console.log("fin de constructeur de Prjcomponent")}ngOnInit(){console.log("debut de NgInit de Prjcomponent"),this.Init(),this.onRecherche()}onSauver(){Ie.m_rep_fic=this.formOngletPrincipal.get("m_rep_fic").value}onRecherche(){console.log("m_rep_fic="+Ie.m_rep_fic),super.onBtnRecherche()}}Yc.\u0275fac=function(t){return new(t||Yc)(pe(eo),pe($a),pe(ki))},Yc.\u0275cmp=Bn({type:Yc,selectors:[["app-prj"]],features:[an],decls:39,vars:31,consts:[["flex","",1,"row",2,"width","100%","height","100%"],["id","erreur"],[3,"click"],["id","info"],["id","btnSauver",3,"disabled","click"],[3,"formGroup"],[1,"form-group"],[1,"column"],[1,"row"],[1,"obligatoire"],["type","text","formControlName","m_nom_prj","name","nom_prj",3,"change"],["type","text","formControlName","m_rep_fic","name","rep_fic",3,"change"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"h5"),se(7),Y(),q(8,"h5"),se(9),Y(),q(10,"h5"),se(11),Y(),q(12,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(13,"OK"),Y()(),q(14,"jw-modal",3)(15,"h4"),se(16,"Message"),Y(),q(17,"h4"),se(18),Y(),q(19,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(20,"OK"),Y(),q(21,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(22,"Cancel"),Y()(),q(23,"button",2),Fe("click",function(){return e.onRecherche()}),se(24,"Rechercher"),Y(),q(25,"button",4),Fe("click",function(){return e.onSauver()}),se(26,"Sauver"),Y(),q(27,"div")(28,"form",5)(29,"div",6)(30,"div",7)(31,"div",8)(32,"label",9),se(33,"Nom: "),Y(),q(34,"input",10),Fe("change",function(i){return e.onModifValFormulaire(i)}),Y()(),q(35,"div",8)(36,"label",9),se(37,"R\xe9pertoire des fichiers: "),Y(),q(38,"input",11),Fe("change",function(i){return e.onModifValFormulaire(i)}),Y()()()()()()()),2&t&&(Ue("",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(2),ht(e.m_sql_err),oe(2),ht(e.m_data_err),oe(2),ht(e.m_pile_err),oe(7),ht(e.m_msg_info),oe(5),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_fonte," "),qe("disabled",e.m_interdit_ecr),oe(3),qe("formGroup",e.formOngletPrincipal),oe(4),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),Ue(" ",e.m_classe_fonte," "),oe(2),Ue(" ",e.m_classe_label_onglet_principal," "),oe(2),yu(" ",e.m_style_champs_onglet_principal," "),Ue(" ",e.m_classe_fonte," "))},dependencies:[Ru,Su,kl,Du,$s,Ll,Ya],encapsulation:2}),Yc.\u0275prov=$e({token:Yc,factory:Yc.\u0275fac});var HTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hg=function(){function n(t,e,r){this._encode=t,this._decode=e,this._rangeCallback=r}return n.prototype.floor=function(t){var e=new Date(t),r=this._encode(e);return this._decode(r)},n.prototype.ceil=function(t){var e=new Date(Number(t)-1),r=this._encode(e);return this._decode(r+1)},n.prototype.range=function(t,e,r){var i,o=null===(i=this._rangeCallback)||void 0===i?void 0:i.call(this,t,e),a=this._encode(r?this.floor(t):this.ceil(t)),s=this._encode(r?this.ceil(e):this.floor(e));if(s<a)return[];for(var l=[],u=a;u<=s;u++){var c=this._decode(u);l.push(c)}return o?.(),l},n}(),bs=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return HTe(t,n),t.prototype.getOffset=function(e,r){var i="number"==typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%r},t.prototype.every=function(e,r){var a,i=this,o=0,s=(r??{}).snapTo,l=void 0===s?"start":s;if("string"==typeof l){var u=o;a=function(p,m){return o=i.getOffset("start"===l?p:m,e),function(){return o=u}}}else"number"==typeof l?o=this.getOffset(new Date(l),e):l instanceof Date&&(o=this.getOffset(l,e));return new Hg(function(p){var m=i._encode(p);return Math.floor((m-o)/e)},function(p){return i._decode(p*e+o)},a)},t}(Hg),UTe=new bs(function WTe(n){return n.getTime()},function jTe(n){return new Date(n)});const zTe=UTe;new Date(0).getFullYear();var gp=1e3,xs=60*gp,ju=60*xs,qc=24*ju,R0=7*qc,T0=30*qc,vS=365*qc,Fz=(new Date).getTimezoneOffset()*xs,YTe=new bs(function $Te(n){return Math.floor((n.getTime()-Fz)/gp)},function KTe(n){return new Date(Fz+n*gp)});const qTe=YTe;var kz=(new Date).getTimezoneOffset()*xs,QTe=new bs(function XTe(n){return Math.floor((n.getTime()-kz)/xs)},function ZTe(n){return new Date(kz+n*xs)});const JTe=QTe;var Lz=(new Date).getTimezoneOffset()*xs,nOe=new bs(function eOe(n){return Math.floor((n.getTime()-Lz)/ju)},function tOe(n){return new Date(Lz+n*ju)});const rOe=nOe;var aOe=new bs(function iOe(n){var t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate());return Math.floor(t/qc)},function oOe(n){var t=new Date(0);return t.setDate(t.getDate()+n),t.setHours(0,0,0,0),t});const sOe=aOe;var NI=new Date(2023,0,1);function vp(n){var t=Date.UTC(NI.getFullYear(),NI.getMonth(),NI.getDate())+n*qc;return new bs(function e(i){var o=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate());return Math.floor((o-t)/R0)},function r(i){var o=new Date(t);return o.setDate(o.getDate()+7*i),o})}var lOe=vp(0);vp(1),vp(2),vp(3),vp(4),vp(5),vp(6);const uOe=lOe;var fOe=new bs(function cOe(n){return 12*n.getFullYear()+n.getMonth()},function dOe(n){var t=Math.floor(n/12);return new Date(t,n-12*t,1)});const hOe=fOe;var gOe=new bs(function pOe(n){return n.getFullYear()},function mOe(n){var t=new Date;return t.setFullYear(n),t.setMonth(0,1),t.setHours(0,0,0,0),t});const vOe=gOe;new bs(function _Oe(n){return Math.floor(n.getTime()/xs)},function yOe(n){return new Date(n*xs)}),new bs(function COe(n){return Math.floor(n.getTime()/ju)},function wOe(n){return new Date(n*ju)}),new bs(function bOe(n){return Math.floor(n.getTime()/qc)},function xOe(n){var t=new Date(0);return t.setUTCDate(t.getUTCDate()+n),t.setUTCHours(0,0,0,0),t}),new bs(function EOe(n){return 12*n.getUTCFullYear()+n.getUTCMonth()},function SOe(n){var t=Math.floor(n/12);return new Date(Date.UTC(t,n-12*t,1))}),new bs(function DOe(n){return n.getUTCFullYear()},function ROe(n){var t=new Date;return t.setUTCFullYear(n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t});var TOe=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function Nz(){var n=navigator.userAgent;return!TOe.some(function(t){return t.test(n)})}var uo=function(){function n(t){var e=t.document,r=void 0===e?window.document:e,i=t.width,o=void 0===i?600:i,a=t.height,s=void 0===a?300:a,l=t.domLayer,u=void 0!==l&&l,c=t.zIndex,d=void 0===c?0:c,h=t.name,p=void 0===h?void 0:h,m=t.overrideDevicePixelRatio,v=void 0===m?void 0:m;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=r,this.element=r.createElement("canvas"),this.element.width=o,this.element.height=s,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var _=this.element.style;_.userSelect="none",_.display="block",u&&(_.position="absolute",_.zIndex=String(d),_.top="0",_.left="0",_.pointerEvents="none",_.opacity="1",p&&(this.element.id=p)),this.setPixelRatio(v),this.resize(o,s)}return Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),n.prototype.remove=function(){this.element.parentNode?.removeChild(this.element)},n.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},n.prototype.snapshot=function(){},n.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},n.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},n.prototype.getDataURL=function(t){return this.element.toDataURL(t)},n.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)},Object.defineProperty(n.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),n.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;Nz()||(e=1),n.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(n.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,i=r.element,o=r.context,a=r.pixelRatio;i.width=Math.round(t*a),i.height=Math.round(e*a),i.style.width=t+"px",i.style.height=e+"px",o.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(n,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(n,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!1,configurable:!0}),Object.defineProperty(n,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),n.measureText=function(t,e,r,i){var o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)},n.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},n.measureSvgText=function(t,e){var r=this.textSizeCache,i=r[e];if(i){var o=i[t];if(o)return o}else r[e]={};var a=this.svgText;a.style.font=e,a.textContent=t;var s=a.getBBox(),l={width:s.width,height:s.height};return r[e][t]=l,l},n.overrideScale=function(t,e){var r=0,i={save:function(){this.$save(),r++},restore:function(){if(!(r>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),r--},setTransform:function(a,s,l,u,c,d){"object"==typeof a?this.$setTransform(a):this.$setTransform(a*e,s*e,l*e,u*e,c*e,d*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==r)throw new Error("AG Charts - Save/restore depth is non-zero: "+r)}};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o])},n.textSizeCache={},n}(),BI=function(){return BI=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},BI.apply(this,arguments)},Zn=function(){function n(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.clone=function(){var t=this;return new n(t.x,t.y,t.width,t.height)},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},n.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},n.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},n.prototype.shrink=function(t,e){var r=this,i=function(o,a){switch(o){case"top":r.y+=a;case"bottom":r.height-=a;break;case"left":r.x+=a;case"right":r.width-=a;break;case"vertical":r.y+=a,r.height-=2*a;break;case"horizontal":r.x+=a,r.width-=2*a;break;default:r.x+=a,r.width-=2*a,r.y+=a,r.height-=2*a}};return"number"==typeof t?i(e,t):Object.entries(t).forEach(function(o){var a=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(o,2);return i(a[0],a[1])}),this},n.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var r=BI({},t);for(var i in r)r[i]*=-1;this.shrink(r)}return this},n.merge=function(t){var e=1/0,r=1/0,i=-1/0,o=-1/0;return t.forEach(function(a){a.x<e&&(e=a.x),a.y<r&&(r=a.y),a.x+a.width>i&&(i=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new n(e,r,i-e,o-r)},n}(),Af=function(){function n(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return n.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(n.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),n.prototype.AxB=function(t,e,r){var o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];(r=r||t)[0]=t[0]*e[0]+t[2]*e[1],r[1]=o,r[2]=a,r[3]=s,r[4]=l,r[5]=u},n.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},n.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new n(e)},n.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},n.prototype.inverse=function(){var t=this.elements,e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=1/(e*o-r*i);return new n([o*=l,-(r*=l),-(i*=l),e*=l,i*s-o*a,r*a-e*s])},n.prototype.inverseTo=function(t){var e=this.elements,r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=1/(r*a-i*o);return t.setElements([a*=u,-(i*=u),-(o*=u),r*=u,o*l-a*s,i*s-r*l]),this},n.prototype.invertSelf=function(){var t=this.elements,e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,t[0]=o*=l,t[1]=-r,t[2]=-i,t[3]=e,t[4]=i*s-o*a,t[5]=r*a-e*s,this},n.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},n.prototype.transformBBox=function(t,e){var r=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=.5*t.width,u=.5*t.height,c=t.x+l,d=t.y+u,h=Math.abs(l*i)+Math.abs(u*a),p=Math.abs(l*o)+Math.abs(u*s);return e||(e=new Zn(0,0,0,0)),e.x=c*i+d*a+r[4]-h,e.y=c*o+d*s+r[5]-p,e.width=h+h,e.height=p+p,e},n.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},n.flyweight=function(t){return n.instance.setElements(t.elements)},n.updateTransformMatrix=function(t,e,r,i,o,a,s){var p,m,l=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}([0,0],2),u=l[0],c=l[1],d=e,h=r;1===d&&1===h?(p=0,m=0):(p=null==s?.scalingCenterX?u:s?.scalingCenterX,m=null==s?.scalingCenterY?c:s?.scalingCenterY);var w,b,v=i,_=Math.cos(v),C=Math.sin(v);0===v?(w=0,b=0):(w=null==s?.rotationCenterX?u:s?.rotationCenterX,b=null==s?.rotationCenterY?c:s?.rotationCenterY);var O=p*(1-d)-w,R=m*(1-h)-b;return t.setElements([_*d,C*d,-C*h,_*h,_*O-C*R+w+o,C*O+_*R+b+a]),t},n.fromContext=function(t){var e=t.getTransform();return new n([e.a,e.b,e.c,e.d,e.e,e.f])},n.instance=new n,n}(),_S={};function Pf(n){var t,e=n.constructor,r=Object.prototype.hasOwnProperty.call(e,"className")?e.className:e.name;if(!r)throw new Error("The "+e+" is missing the 'className' property.");var i=(null!==(t=_S[r])&&void 0!==t?t:0)+1;return _S[r]=i,r+"-"+i}var Ce=Ke(310),POe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sl=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},O0=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},MOe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},IOe=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(MOe(arguments[t]));return n},la=(()=>(function(n){n[n.All=0]="All",n[n.None=1]="None"}(la||(la={})),la))(),Bz=function(n){n.parent&&(n.parent.dirtyZIndex=!0),n.zIndexChanged()},yS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.serialNumber=t._nextSerialNumber++,e.id=Pf(e),e.tag=NaN,e.isContainerNode=!1,e._children=[],e.childSet={},e.matrix=new Af,e.inverseMatrix=new Af,e._dirtyTransform=!1,e.scalingX=1,e.scalingY=1,e.scalingCenterX=null,e.scalingCenterY=null,e.rotationCenterX=null,e.rotationCenterY=null,e.rotation=0,e.translationX=0,e.translationY=0,e.visible=!0,e.dirtyZIndex=!1,e.zIndex=0,e.zIndexSubOrder=void 0,e.pointerEvents=la.All,e}return POe(t,n),Object.defineProperty(t.prototype,"datum",{get:function(){var e;return void 0!==this._datum?this._datum:null===(e=this._parent)||void 0===e?void 0:e.datum},set:function(e){this._datum=e},enumerable:!1,configurable:!0}),t.prototype._setLayerManager=function(e){var r,i;this._layerManager=e,this._debug=e?.debug;try{for(var o=O0(this.children),a=o.next();!a.done;a=o.next())a.value._setLayerManager(e)}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),t.prototype.append=function(e){var r,i;Array.isArray(e)||(e=[e]);try{for(var o=O0(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.parent)throw new Error(s+" already belongs to another parent: "+s.parent+".");if(s.layerManager)throw new Error(s+" already belongs to a scene: "+s.layerManager+".");if(this.childSet[s.id])throw new Error("Duplicate "+s.constructor.name+" node: "+s);this._children.push(s),this.childSet[s.id]=!0,s._parent=this,s._setLayerManager(this.layerManager)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.dirtyZIndex=!0,this.markDirty(this,Ce.Xl.MAJOR)},t.prototype.appendChild=function(e){return this.append(e),e},t.prototype.removeChild=function(e){if(e.parent===this){var r=this.children.indexOf(e);if(r>=0)return this._children.splice(r,1),delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,Ce.Xl.MAJOR),e}throw new Error("The node to be removed is not a child of this node.")},t.prototype.insertBefore=function(e,r){var i=e.parent;if(e.parent&&e.parent.removeChild(e),r&&r.parent===this){var o=this.children.indexOf(r);if(!(o>=0))throw new Error(r+" has "+i+" as the parent, but is not in its list of children.");this._children.splice(o,0,e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(e,Ce.Xl.MAJOR)}else this.append(e);return e},t.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var e=Af.flyweight(this.matrix),r=this.parent;r;)r.computeTransformMatrix(),e.preMultiplySelf(r.matrix),r=r.parent;return e},t.prototype.transformPoint=function(e,r){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,r)},t.prototype.inverseTransformPoint=function(e,r){return this.calculateCumulativeMatrix().transformPoint(e,r)},t.prototype.transformBBox=function(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)},t.prototype.inverseTransformBBox=function(e){return this.calculateCumulativeMatrix().transformBBox(e)},t.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,Ce.Xl.MAJOR)},t.prototype.containsPoint=function(e,r){return!1},t.prototype.pickNode=function(e,r){var i;if(this.visible&&this.pointerEvents!==la.None&&this.containsPoint(e,r)){var o=this.children;if(o.length>1e3){for(var a=o.length-1;a>=0;a--)if(s=null!==(i=o[a].computeBBox())&&void 0!==i&&i.containsPoint(e,r)?o[a].pickNode(e,r):void 0)return s}else if(o.length)for(a=o.length-1;a>=0;a--){var s;if(s=o[a].pickNode(e,r))return s}else if(!this.isContainerNode)return this}},t.prototype.findNodes=function(e){var r,i,o=e(this)?[this]:[];try{for(var a=O0(this.children),s=a.next();!s.done;s=a.next()){var u=s.value.findNodes(e);u&&o.push.apply(o,IOe(u))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},t.prototype.computeBBox=function(){},t.prototype.computeTransformedBBox=function(){var e=this.computeBBox();if(e){this.computeTransformMatrix();for(var r=Af.flyweight(this.matrix),i=this.parent;i;)i.computeTransformMatrix(),r.preMultiplySelf(i.matrix),i=i.parent;return r.transformBBox(e,e),e}},t.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var e=this,r=e.matrix;Af.updateTransformMatrix(r,e.scalingX,e.scalingY,e.rotation,e.translationX,e.translationY,{scalingCenterX:e.scalingCenterX,scalingCenterY:e.scalingCenterY,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY}),r.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},t.prototype.render=function(e){var r=e.stats;this._dirty=Ce.Xl.NONE,r&&r.nodesRendered++},t.prototype.clearBBox=function(e){var r=this.computeBBox();if(null!=r){var i=r.x,o=r.y,a=r.width,s=r.height,l=this.transformPoint(i,o),u=this.transformPoint(i+a,o+s);e.clearRect(l.x,l.y,u.x-l.x,u.y-l.y)}},t.prototype.markDirty=function(e,r,i){void 0===r&&(r=Ce.Xl.TRIVIAL),void 0===i&&(i=r),!(this._dirty>r)&&(this._dirty===r&&r===i||(this._dirty=r,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty()))},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),t.prototype.markClean=function(e){var r,i,o=e||{},a=o.force,l=o.recursive,u=void 0===l||l;if((this._dirty!==Ce.Xl.NONE||void 0!==a&&a)&&(this._dirty=Ce.Xl.NONE,u))try{for(var c=O0(this.children),d=c.next();!d.done;d=c.next())d.value.markClean()}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},t.prototype.visibilityChanged=function(){},Object.defineProperty(t.prototype,"nodeCount",{get:function(){var e,r,i=1,o=this._dirty>=Ce.Xl.NONE||this._dirtyTransform?1:0,a=this.visible?1:0;try{for(var s=O0(this._children),l=s.next();!l.done;l=s.next()){var c=l.value.nodeCount;i+=c.count,a+=c.visibleCount,o+=c.dirtyCount}}catch(m){e={error:m}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return{count:i,visibleCount:a,dirtyCount:o}},enumerable:!1,configurable:!0}),t.prototype.zIndexChanged=function(){},t._nextSerialNumber=0,sl([(0,Ce.Js)({type:"transform"})],t.prototype,"scalingX",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"scalingY",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"scalingCenterX",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"scalingCenterY",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"rotationCenterX",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"rotationCenterY",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"rotation",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"translationX",void 0),sl([(0,Ce.Js)({type:"transform"})],t.prototype,"translationY",void 0),sl([(0,Ce.Js)({redraw:Ce.Xl.MAJOR,changeCb:function(e){return e.visibilityChanged()}})],t.prototype,"visible",void 0),sl([(0,Ce.Js)({redraw:Ce.Xl.TRIVIAL,changeCb:Bz})],t.prototype,"zIndex",void 0),sl([(0,Ce.Js)({redraw:Ce.Xl.TRIVIAL,changeCb:Bz})],t.prototype,"zIndexSubOrder",void 0),t}(Ce.l9);function Gz(n,t){var e=0;return"number"==typeof n&&"number"==typeof t?e=n-t:"string"==typeof n&&"string"==typeof t?e=n.localeCompare(t):null==n&&null==t||(e=null==n?-1:null==t?1:String(n).localeCompare(String(t))),e}function Vz(n,t,e){var r=function(a){return"function"==typeof a?a():a};for(var i in n){var o=e(r(n[i]),r(t[i]));if(0!==o)return o}return 0}var CS={};function Hz(n,t){CS[t]||(n(),CS[t]=!0)}var FOe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},A0=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(FOe(arguments[t]));return n},Dt={debug:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.log.apply(console,A0(n))},warn:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.warn.apply(console,A0(["AG Charts - "+n],t))},error:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.error.apply(console,A0(["AG Charts - "+n],t))},warnOnce:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];Hz(function(){return Dt.warn.apply(Dt,A0([n],t))},"Logger.warn: "+n)},errorOnce:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];Hz(function(){return Dt.error.apply(Dt,A0([n],t))},"Logger.warn: "+n)}},kOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wS=function(){return wS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},wS.apply(this,arguments)},BOe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Wz=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(BOe(arguments[t]));return n},cn=function(n){function t(e){var r,i=n.call(this)||this;i.opts=e,i.opacity=1,i.lastBBox=void 0;var o=e||{},a=o.zIndex,s=o.zIndexSubOrder;return i.isContainerNode=!0,void 0!==a&&(i.zIndex=a),void 0!==s&&(i.zIndexSubOrder=s),i.name=null===(r=i.opts)||void 0===r?void 0:r.name,i}return kOe(t,n),t.prototype.zIndexChanged=function(){var e;this.layer&&(null===(e=this._layerManager)||void 0===e||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},t.prototype.isLayer=function(){return null!=this.layer},t.prototype._setLayerManager=function(e){var i,r=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(n.prototype._setLayerManager.call(this,e),e&&null!==(i=this.opts)&&void 0!==i&&i.layer){var o=this.opts||{};this.layer=e.addLayer({zIndex:o.zIndex,zIndexSubOrder:o.zIndexSubOrder,name:o.name,getComputedOpacity:function(){return r.getComputedOpacity()},getVisibility:function(){return r.getVisibility()}})}},t.prototype.getComputedOpacity=function(){var e=1,r=this;do{r instanceof t&&(e*=r.opacity)}while(r=r.parent);return e},t.prototype.getVisibility=function(){for(var e=this,r=this.visible;e=e.parent;)e.visible||(r=e.visible);return r},t.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},t.prototype.markDirty=function(e,r){void 0===r&&(r=Ce.Xl.TRIVIAL),n.prototype.markDirty.call(this,e,r,r<=Ce.Xl.MINOR?Ce.Xl.TRIVIAL:r)},t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){return this.computeTransformMatrix(),t.computeBBox(this.children)},t.prototype.computeTransformedBBox=function(){return this.computeBBox()},t.prototype.render=function(e){var r,i,o,a,s=this.opts,l=(void 0===s?{}:s).name,u=void 0===l?void 0:l,c=this._debug,d=(void 0===c?{}:c).consoleLog,h=void 0!==d&&d,p=this,m=p.dirty,v=p.dirtyZIndex,_=p.layer,C=p.children,w=p.clipRect,b=e.ctx,E=e.forceRender,S=e.clipBBox,O=e.resized,R=e.stats,D=b.getTransform(),P=m>=Ce.Xl.MINOR||v||O,M=P||C.some(function(W){return W.dirty>=Ce.Xl.TRIVIAL});if(u&&h&&Dt.debug({name:u,group:this,isDirty:P,isChildDirty:M,renderCtx:e,forceRender:E}),_){var B=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(B)?B.isInfinite()||(E=!1):(E=!0,this.lastBBox=B)}if(!P&&!M&&!E)return u&&h&&R&&Dt.debug({name:u,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this}),_&&R&&(R.layersSkipped++,R.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});var U=this.visible;if(_){if((b=_.context).save(),b.resetTransform(),E=!0,_.clear(),S){var le=S.width,ie=S.height,te=S.x,J=S.y;h&&Dt.debug({name:u,clipBBox:S,ctxTransform:b.getTransform(),renderCtx:e,group:this}),this.clipCtx(b,te,J,le,ie)}b.setTransform(D)}else b.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(b),w&&(te=w.x,J=w.y,le=w.width,ie=w.height,b.save(),h&&Dt.debug({name:u,clipRect:w,ctxTransform:b.getTransform(),renderCtx:e,group:this}),this.clipCtx(b,te,J,le,ie),S=this.matrix.inverse().transformBBox(w)),v&&(this.sortChildren(),E=!0);var de=E!==e.forceRender||S!==e.clipBBox||b!==e.ctx?wS(wS({},e),{ctx:b,forceRender:E,clipBBox:S}):e,_e=0;try{for(var ue=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(C),G=ue.next();!G.done;G=ue.next()){var re=G.value;re.visible&&U?E||re.dirty!==Ce.Xl.NONE?(b.save(),re.render(de),b.restore()):R&&(_e+=re.nodeCount.count):(re.markClean(),R&&(_e+=re.nodeCount.count))}}catch(W){r={error:W}}finally{try{G&&!G.done&&(i=ue.return)&&i.call(ue)}finally{if(r)throw r.error}}R&&(R.nodesSkipped+=_e),n.prototype.render.call(this,e),w&&b.restore(),_&&(R&&R.layersRendered++,b.restore(),_.snapshot(),null===(a=(o=_.context).verifyDepthZero)||void 0===a||a.call(o)),u&&h&&R&&Dt.debug({name:u,result:"rendered",skipped:_e,renderCtx:e,counts:this.nodeCount,group:this})},t.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort(function(e,r){var i,o;return Vz(Wz([e.zIndex],null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[e.serialNumber]),Wz([r.zIndex],null!==(o=r.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[r.serialNumber]),Gz)})},t.prototype.clipCtx=function(e,r,i,o,a){e.beginPath(),e.moveTo(r,i),e.lineTo(r+o,i),e.lineTo(r+o,i+a),e.lineTo(r,i+a),e.closePath(),e.clip()},t.computeBBox=function(e){var r=1/0,i=-1/0,o=1/0,a=-1/0;return e.forEach(function(s){if(s.visible){var l=s.computeTransformedBBox();if(l){var u=l.x,c=l.y;u<r&&(r=u),c<o&&(o=c),u+l.width>i&&(i=u+l.width),c+l.height>a&&(a=c+l.height)}}}),new Zn(r,o,i-r,a-o)},t.prototype.setClipRectInGroupCoordinateSpace=function(e){this.clipRect=e?this.transformBBox(e):void 0},t.className="Group",function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([(0,Ce.Js)({convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),t}(yS),jz=function(){function n(t){var e=t.width,r=void 0===e?600:e,i=t.height,o=void 0===i?300:i,a=t.overrideDevicePixelRatio,s=void 0===a?void 0:a;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(r,o),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(s),this.resize(r,o)}return n.isSupported=function(){return null!=window.OffscreenCanvas},n.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},n.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},n.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(n.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),n.prototype.setPixelRatio=function(t){var e=t??window.devicePixelRatio;Nz()||(e=1),uo.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,i=r.canvas,o=r.context,a=r.pixelRatio;i.width=Math.round(t*a),i.height=Math.round(e*a),o.resetTransform(),this._width=t,this._height=e}},n}(),Wg=Ke(812),bS=function(){return bS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},bS.apply(this,arguments)},GI=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xS=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(GI(arguments[t]));return n},P0=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WOe=function(){function n(t){var e,r;this.id=Pf(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var i=t.document,o=void 0===i?window.document:i,a=t.mode,s=void 0===a?(0,Wg.X)("agChartsSceneRenderModel")||"adv-composite":a,l=t.width,u=t.height,c=t.overrideDevicePixelRatio,d=void 0===c?void 0:c;this.overrideDevicePixelRatio=d,this.opts={document:o,mode:s},this.debug.consoleLog=!0===(0,Wg.X)("agChartsDebug"),this.debug.stats=null!==(e=(0,Wg.X)("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(r=(0,Wg.X)("agChartsSceneDirtyTree"))&&void 0!==r&&r,this.debug.sceneNodeHighlight=function HOe(){var n,t=null!==(n=(0,Wg.X)("agChartsSceneDebug"))&&void 0!==n?n:[];"string"==typeof t&&(t=[t]);var e=[];return t.forEach(function(r){"layout"===r?e.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):e.push(r)}),e}(),this.canvas=new uo({document:o,width:l,height:u,overrideDevicePixelRatio:d})}return Object.defineProperty(n.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),n.prototype.download=function(t,e){this.canvas.download(t,e)},n.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(n.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),n.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var r=t<=0||e<=0,i=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||i||r||(this.pendingSize=[t,e],this.markDirty(),0))},n.prototype.addLayer=function(t){var e,r=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(r)){var o=t.zIndex,a=void 0===o?this._nextZIndex++:o,s=t.name,l=t.zIndexSubOrder,u=t.getComputedOpacity,c=t.getVisibility,d=this,h=d.width,p=d.height,m=d.overrideDevicePixelRatio,v="dom-composite"===r,C="adv-composite"===r&&jz.isSupported()?new jz({width:h,height:p,overrideDevicePixelRatio:m}):new uo({document:this.opts.document,width:h,height:p,domLayer:v,zIndex:a,name:s,overrideDevicePixelRatio:m}),w={id:this._nextLayerId++,name:s,zIndex:a,zIndexSubOrder:l,canvas:C,getComputedOpacity:u,getVisibility:c};if(a>=this._nextZIndex&&(this._nextZIndex=a+1),this.layers.push(w),this.sortLayers(),v){var b=this.layers.map(function(O){return O.canvas}).filter(function(O){return O instanceof uo}),E=b.findIndex(function(O){return O===C});(null!==(e=b[E-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",C.element)}return this.debug.consoleLog&&Dt.debug({layers:this.layers}),w.canvas}},n.prototype.removeLayer=function(t){var e=this.layers.findIndex(function(r){return r.canvas===t});e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&Dt.debug({layers:this.layers}))},n.prototype.moveLayer=function(t,e,r){var i=this.layers.find(function(o){return o.canvas===t});i&&(i.zIndex=e,i.zIndexSubOrder=r,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&Dt.debug({layers:this.layers}))},n.prototype.sortLayers=function(){this.layers.sort(function(t,e){var r,i;return Vz(xS([t.zIndex],null!==(r=t.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0],[t.id]),xS([e.zIndex],null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[e.id]),Gz)})},n.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(n.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),n.prototype.strip=function(){var t,e,r=this.layers;try{for(var i=P0(r),o=i.next();!o.done;o=i.next()){var a=o.value;a.canvas.destroy(),delete a.canvas}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}r.splice(0,r.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},n.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},n.prototype.render=function(t){var e;return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,E;return function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(S){return o=void 0===(i=(r=t||{}).debugSplitTimes)?[performance.now()]:i,s=void 0===(a=r.extraDebugStats)?{}:a,u=(l=this).canvas,c=l.canvas.context,d=l.root,h=l.layers,m=l.opts.mode,(p=l.pendingSize)&&((E=this.canvas).resize.apply(E,xS(p)),this.layers.forEach(function(O){var R;return(R=O.canvas).resize.apply(R,xS(p))}),this.pendingSize=void 0),d&&!d.visible?(this._dirty=!1,[2]):d&&!this.dirty?(this.debug.consoleLog&&Dt.debug("no-op",{redrawType:Ce.Xl[d.dirty],tree:this.buildTree(d)}),this.debugStats(o,c,void 0,s),[2]):(v={ctx:c,forceRender:!0,resized:!!p,debugNodes:{}},"detailed"===this.debug.stats&&(v.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),_=!1,(!d||d.dirty>=Ce.Xl.TRIVIAL)&&(_=!0,u.clear()),d&&this.debug.dirtyTree&&(C=this.buildDirtyTree(d),Dt.debug({dirtyTree:C.dirtyTree,paths:C.paths})),d&&_&&(this.debug.consoleLog&&Dt.debug("before",{redrawType:Ce.Xl[d.dirty],canvasCleared:_,tree:this.buildTree(d)}),d.visible&&(c.save(),d.render(v),c.restore())),"dom-composite"!==m&&h.length>0&&_&&(this.sortLayers(),c.save(),c.setTransform(1/u.pixelRatio,0,0,1/u.pixelRatio,0,0),h.forEach(function(O){var R=O.canvas,D=R.imageSource,M=O.getComputedOpacity;!R.enabled||!(0,O.getVisibility)()||(c.globalAlpha=M(),c.drawImage(D,0,0))}),c.restore()),null===(e=c.verifyDepthZero)||void 0===e||e.call(c),this._dirty=!1,this.debugStats(o,c,v.stats,s),this.debugSceneNodeHighlight(c,this.debug.sceneNodeHighlight,v.debugNodes),d&&this.debug.consoleLog&&Dt.debug("after",{redrawType:Ce.Xl[d.dirty],canvasCleared:_,tree:this.buildTree(d)}),[2])})})},n.prototype.debugStats=function(t,e,r,i){var o,a;void 0===i&&(i={});var s=performance.now();if(this.debug.stats){var l=t[0];t.push(s);var u=function(I,U){var le=I+U;return I+" / "+le+" ("+Math.round(100*I/le)+"%)"},c=function(I,U){return Math.round(100*(U-I))/100+"ms"},d=r??{},h=d.layersRendered,p=void 0===h?0:h,m=d.layersSkipped,v=void 0===m?0:m,_=d.nodesRendered,C=void 0===_?0:_,w=d.nodesSkipped,b=void 0===w?0:w,E=t.map(function(I,U){return U>0?c(t[U-1],I):null}).filter(function(I){return null!=I}).join(" + "),S=Object.entries(i).map(function(I){var U=GI(I,2);return U[0]+": "+U[1]}).join(" ; "),O=[c(l,s)+" ("+E+")",""+S,"detailed"===this.debug.stats?"Layers: "+u(p,v):null,"detailed"===this.debug.stats?"Nodes: "+u(C,b):null].filter(function(I){return null!=I});e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*O.length),e.fillStyle="black";var D=0;try{for(var P=P0(O),M=P.next();!M.done;M=P.next())e.fillText(M.value,2,10+15*D++)}catch(I){o={error:I}}finally{try{M&&!M.done&&(a=P.return)&&a.call(P)}finally{if(o)throw o.error}}e.restore()}},n.prototype.debugSceneNodeHighlight=function(t,e,r){var i,o,a,s,l,u,c,d=function(M){return function(B){return!!M.test(B.id)||B instanceof cn&&null!=B.name&&M.test(B.name)}},h=function(M){return function(B){return M===B.id||B instanceof cn&&null!=B.name&&M===B.name}};try{for(var p=P0(e),m=p.next();!m.done;m=p.next()){var v=m.value;if("string"!=typeof v||null==r[v]){var _="string"==typeof v?h(v):d(v),C=null===(c=this.root)||void 0===c?void 0:c.findNodes(_);if(!C||0===C.length){Dt.debug("no debugging node with id ["+v+"] in scene graph.");continue}try{for(var w=(a=void 0,P0(C)),b=w.next();!b.done;b=w.next())(E=b.value)instanceof cn&&E.name?r[E.name]=E:r[E.id]=E}catch(M){a={error:M}}finally{try{b&&!b.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}}}}catch(M){i={error:M}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}t.save();try{for(var S=P0(Object.entries(r)),O=S.next();!O.done;O=S.next()){var E,R=GI(O.value,2),D=R[0],P=(E=R[1]).computeTransformedBBox();P?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(P.x,P.y,P.width,P.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(D,P.x,P.y,P.width),t.fillText(D,P.x,P.y,P.width)):Dt.debug("no bbox for debugged node ["+D+"].")}}catch(M){l={error:M}}finally{try{O&&!O.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}t.restore()},n.prototype.buildTree=function(t){var r,e=this,i=null!==(r=t instanceof cn?t.name:null)&&void 0!==r?r:t.id;return bS({name:i,node:t,dirty:Ce.Xl[t.dirty]},t.children.map(function(o){return e.buildTree(o)}).reduce(function(o,a){var s=a.name,l=a.node,d=l.zIndex,h=l.zIndexSubOrder,p=a.node;return(!l.visible||l.opacity<=0)&&(s="("+s+")"),p instanceof cn&&p.isLayer()&&(s="*"+s+"*"),o[[""+(s??"<unknown>"),"z: "+d,h&&"zo: "+h.join(" / ")].filter(function(v){return!!v}).join(" ")]=a,o},{}))},n.prototype.buildDirtyTree=function(t){var r,e=this;if(t.dirty===Ce.Xl.NONE)return{dirtyTree:{},paths:[]};var i=t.children.map(function(s){return e.buildDirtyTree(s)}).filter(function(s){return s.paths.length>0}),o=null!==(r=t instanceof cn?t.name:null)&&void 0!==r?r:t.id,a=0===i.length?[o]:i.map(function(s){return s.paths}).reduce(function(s,l){return s.concat(l)},[]).map(function(s){return o+"."+s});return{dirtyTree:bS({name:o,node:t,dirty:Ce.Xl[t.dirty]},i.map(function(s){return s.dirtyTree}).filter(function(s){return void 0!==s.dirty}).reduce(function(s,l){return s[l.name||"<unknown>"]=l,s},{})),paths:a}},n.className="Scene",n}(),Uz=function(){function n(){this.allEventListeners=new Map}return n.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var r=this.allEventListeners,i=r.get(t);i||r.set(t,i=new Set),i.has(e)||i.add(e)},n.prototype.removeEventListener=function(t,e){var r=this.allEventListeners,i=r.get(t);i&&(i.delete(e),0===i.size&&r.delete(t))},n.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},n.prototype.clearEventListeners=function(){this.allEventListeners.clear()},n.prototype.fireEvent=function(t){this.allEventListeners.get(t.type)?.forEach(function(r){return r(t)})},n}(),zz=function(n){return"string"==typeof n},jOe=function(n){return!!n&&Object.prototype.hasOwnProperty.call(n,"toString")&&zz(n.toString())};function VI(n){return zz(n)||jOe(n)}function M0(n){var r;return ll(n)||!!(r=n)&&Object.prototype.hasOwnProperty.call(r,"valueOf")&&ll(r.valueOf())||function(r){return r instanceof Date&&!isNaN(+r)}(n)}function Uu(n,t){return t&&M0(n)?n:t?void 0:VI(n)?n:String(n)}var ll=function(n){return"number"==typeof n&&Number.isFinite(n)},$z=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Yl=function(){function n(t,e,r,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,i||0))}return n.validColorString=function(t){return t.indexOf("#")>=0?!!n.parseHex(t):t.indexOf("rgb")>=0?!!n.stringToRgba(t):!!n.nameToHex[t.toLowerCase()]},n.fromString=function(t){if(t.indexOf("#")>=0)return n.fromHexString(t);var e=n.nameToHex[t.toLowerCase()];if(e)return n.fromHexString(e);if(t.indexOf("rgb")>=0)return n.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},n.tryParseFromString=function(t){try{return n.fromString(t)}catch{return Dt.warnOnce("invalid color string: '"+t+"'."),n.fromArray([0,0,0])}},n.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(i){return parseInt(i,16)}).map(function(i){return i+16*i})}if(e?.length>=3&&e.every(function(i){return i>=0}))return 3===e.length&&e.push(255),e},n.fromHexString=function(t){var e=n.parseHex(t);if(e){var r=$z(e,4);return new n(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},n.stringToRgba=function(t){for(var e=$z([NaN,NaN],2),r=e[0],i=e[1],o=0;o<t.length;o++){var a=t[o];if(r||"("!==a){if(")"===a){i=o;break}}else r=o}var s=r&&i&&t.substring(r+1,i);if(s){var l=s.split(","),u=[];for(o=0;o<l.length;o++){var c=l[o],d=parseFloat(c);if(isNaN(d))return;c.indexOf("%")>=0?(d=Math.max(0,Math.min(100,d)),d/=100):3===o?d=Math.max(0,Math.min(1,d)):(d=Math.max(0,Math.min(255,d)),d/=255),u.push(d)}return u}},n.fromRgbaString=function(t){var e=n.stringToRgba(t);if(e){if(3===e.length)return new n(e[0],e[1],e[2]);if(4===e.length)return new n(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},n.fromArray=function(t){if(4===t.length)return new n(t[0],t[1],t[2],t[3]);if(3===t.length)return new n(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},n.fromHSB=function(t,e,r,i){void 0===i&&(i=1);var o=n.HSBtoRGB(t,e,r);return new n(o[0],o[1],o[2],i)},n.padHex=function(t){return 1===t.length?"0"+t:t},n.prototype.toHexString=function(){var t="#"+n.padHex(Math.round(255*this.r).toString(16))+n.padHex(Math.round(255*this.g).toString(16))+n.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=n.padHex(Math.round(255*this.a).toString(16))),t},n.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},n.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},n.prototype.toHSB=function(){return n.RGBtoHSB(this.r,this.g,this.b)},n.RGBtoHSB=function(t,e,r){var i=Math.min(t,e,r),o=Math.max(t,e,r),s=NaN;if(i!==o){var l=o-i,u=(o-t)/l,c=(o-e)/l,d=(o-r)/l;s=t===o?d-c:e===o?2+u-d:4+c-u,(s/=6)<0&&(s+=1)}return[360*s,0!==o?(o-i)/o:0,o]},n.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,a=0;if(0===e)i=o=a=r;else{var s=6*(t-Math.floor(t)),l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),d=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=d,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=d;break;case 3:i=u,o=c,a=r;break;case 4:i=d,o=u,a=r;break;case 5:i=r,o=u,a=c}}return[i,o,a]},n.prototype.derive=function(t,e,r,i){var o=n.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&r>1&&(a=.05);var s=((o[0]+t)%360+360)%360,l=Math.max(Math.min(o[1]*e,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=n.HSBtoRGB(s,l,a);return c.push(u),n.fromArray(c)},n.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},n.prototype.darker=function(){return this.derive(0,1,.7,1)},n.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),n}(),Kz=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ES=Symbol("BREAK"),HI="__decorator_config";function jg(n,t){return function(e,r){var i=r.toString(),a=function UOe(n,t,e,r){null==Object.getOwnPropertyDescriptor(n,HI)&&Object.defineProperty(n,HI,{value:{}});var i=n[HI];if(null!=i[e])return i[e];i[e]={setters:[],getters:[]};var o=Object.getOwnPropertyDescriptor(n,t),a=o?.set,s=o?.get;return Object.defineProperty(n,t,{set:function(c){var d,h,p,m,_,v=null!==(m=null===(p=i[e])||void 0===p?void 0:p.setters)&&void 0!==m?m:[];v.some(function(E){return E.length>2})&&(_=s?s.call(this):this[r]);try{for(var C=Kz(v),w=C.next();!w.done;w=C.next())if((c=(0,w.value)(this,t,c,_))===ES)return}catch(E){d={error:E}}finally{try{w&&!w.done&&(h=C.return)&&h.call(C)}finally{if(d)throw d.error}}a?a.call(this,c):this[r]=c},get:function(){var c,d,h,p,m=s?s.call(this):this[r];try{for(var v=Kz(null!==(p=null===(h=i[e])||void 0===h?void 0:h.getters)&&void 0!==p?p:[]),_=v.next();!_.done;_=v.next())if((m=(0,_.value)(this,t,m))===ES)return}catch(w){c={error:w}}finally{try{_&&!_.done&&(d=v.return)&&d.call(v)}finally{if(c)throw c.error}}return m},enumerable:!0,configurable:!1}),i[e]}(e,r,i,"__"+i),s=a.getters;a.setters.push(n),t&&s.splice(0,0,t)}}function V(n){return jg(function(t,e,r){var i,o,a;if(n(r,{target:t}))return r;var s=e.toString().replace(/^_*/,""),l=null!==(o=null===(i=t.constructor)||void 0===i?void 0:i.className)&&void 0!==o?o:null===(a=t.constructor)||void 0===a?void 0:a.name;l?.length<3&&(l=null);var u=l?"of ["+l+"] ":"";return Dt.warn(n.message?"Property ["+s+"] "+u+"cannot be set to ["+JSON.stringify(r)+"]; "+n.message+", ignoring.":"Property ["+s+"] "+u+"cannot be set to ["+JSON.stringify(r)+"], ignoring."),ES})}function Mt(n,t){return n.message=t,n}var $r=function(n,t,e){return void 0===n||e(n,t)},Mf=function(n,t){return Mt(function(e,r){return Array.isArray(e)&&(!n||e.length===n)&&(!t||e.every(function(i){return t(i,r)}))},"expecting an Array")},WI=function(n){return Mt(function(t,e){return $r(t,e,Mf(n))},"expecting an optional Array")},If=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Mt(function(e,r){return n.every(function(i){return i(e,r)})},n.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" AND "))},SS=function(n){return null!=n&&!isNaN(n)},DS=function(n){return Mt(function(t,e){return!SS(t)||!SS(e.target[n])||t<e.target[n]},"expected to be less than "+n)},RS=function(n){return Mt(function(t,e){return!SS(t)||!SS(e.target[n])||t>e.target[n]},"expected to be greater than "+n)},$Oe=Mt(function(n){return"function"==typeof n},"expecting a Function"),_i=Mt(function(n,t){return $r(n,t,$Oe)},"expecting an optional Function"),Ir=Mt(function(n){return!0===n||!1===n},"expecting a Boolean"),_p=Mt(function(n,t){return $r(n,t,Ir)},"expecting an optional Boolean"),Kn=Mt(function(n){return"string"==typeof n},"expecting a String"),Kr=Mt(function(n,t){return $r(n,t,Kn)},"expecting an optional String"),Yz=Mt(function(n){return n instanceof Date&&!isNaN(+n)},"expecting a Date object"),KOe=Mt(function(n,t){return $r(n,t,Yz)},"expecting an optional Date"),YOe=(Mt(Mf(void 0,Yz),"expecting an Array of Date objects"),et(0)),qOe=Mt(function(n,t){return $r(n,t,YOe)},"expecting an optional number"),qz=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Mt(function(e,r){return n.some(function(i){return i(e,r)})},n.map(function(e){return e.message}).filter(function(e){return null!=e}).join(" OR "))}(KOe,qOe),TS="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ql=Mt(function(n){return"string"==typeof n&&Yl.validColorString(n)},"expecting a color String. "+TS),ai=Mt(function(n,t){return $r(n,t,ql)},"expecting an optional color String. "+TS),Ff=Mt(Mf(void 0,ql),"expecting an Array of color strings. "+TS),XOe=Mt(function(n,t){return $r(n,t,Ff)},"expecting an optional Array of color strings. "+TS);function et(n,t){return Mt(function(r){return"number"==typeof r&&Number.isFinite(r)&&(void 0===n||r>=n)&&(void 0===t||r<=t)},"expecting a finite Number"+(void 0!==n?", more than or equal to "+n:"")+(void 0!==t?", less than or equal to "+t:""))}function yr(n,t){return Mt(function(r,i){return $r(r,i,et(n,t))},"expecting an optional finite Number"+(void 0!==n?", more than or equal to "+n:"")+(void 0!==t?", less than or equal to "+t:""))}function yp(n,t){return Mt(function(r){return"number"==typeof r&&(isNaN(r)||Number.isFinite(r)&&(void 0===n||r>=n)&&(void 0===t||r<=t))},"expecting a finite Number"+(void 0!==n?", more than or equal to "+n:"")+(void 0!==t?", less than or equal to "+t:""))}var Xz=Mt(Mf(void 0,et()),"expecting an Array of numbers"),ZOe=Mt(function(n,t){return $r(n,t,Xz)},"expecting an optional Array of numbers"),I0=Mt(Mf(void 0,Kn),"expecting an Array of strings");function Zz(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Mt(function(r){return"string"==typeof r&&n.indexOf(r)>=0},"expecting one of: "+n.join(", "))}Mt(function(n,t){return $r(n,t,I0)},"expecting an optional Array of strings");var jI=Mt(Mf(void 0,Ir),"expecting an Array of boolean values"),QOe=(Mt(function(n,t){return $r(n,t,jI)},"expecting an optional Array of boolean values"),["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]),JOe=Mt(function(n){return"normal"===n||"italic"===n||"oblique"===n},"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),Ug=Mt(function(n,t){return $r(n,t,JOe)},"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),e1e=Mt(function(n){return QOe.includes(n)},"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),zg=Mt(function(n,t){return $r(n,t,e1e)},"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),t1e=Mt(Mf(void 0,et(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),$g=Mt(function(n,t){return $r(n,t,t1e)},"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),n1e=["butt","round","square"],UI=Mt(function(n){return n1e.includes(n)},"expecting a line cap keyword such as 'butt', 'round' or 'square'"),r1e=(Mt(function(n,t){return $r(n,t,UI)},"expecting an optional line cap keyword such as 'butt', 'round' or 'square'"),["round","bevel","miter"]),i1e=Mt(function(n){return r1e.includes(n)},"expecting a line join keyword such as 'round', 'bevel' or 'miter'"),o1e=(Mt(function(n,t){return $r(n,t,i1e)},"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'"),["top","right","bottom","left"]),Qz=Mt(function(n){return o1e.includes(n)},"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),a1e=["exact","nearest"],Jz=Mt(function(n){return"number"==typeof n&&Number.isFinite(n)||a1e.includes(n)},"expecting an interaction range of 'exact', 'nearest' or a number"),OS=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tr=function(){function n(t,e){this.domain=t,this.range=e,this.nice=!1,this.tickCount=n.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return n.prototype.transform=function(t){return t},n.prototype.transformInvert=function(t){return t},n.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},n.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},n.prototype.convert=function(t,e){var i,r=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var o=null!==(i=e?.strict)&&void 0!==i?i:this.strictClampByDefault,a=this.getDomain().map(function(m){return r.transform(m)}),s=OS(a,2),l=s[0],u=s[1],d=OS(this.range,2),h=d[0],p=d[1];return(t=this.transform(t))<l?o?NaN:h:t>u?o?NaN:p:l===u?(h+p)/2:t===l?h:t===u?p:h+(this.fromDomain(t)-this.fromDomain(l))/(this.fromDomain(u)-this.fromDomain(l))*(p-h)},n.prototype.invert=function(t){var e=this;this.refresh();var m,r=this.getDomain().map(function(v){return e.transform(v)}),i=OS(r,2),o=i[0],a=i[1],l=OS(this.range,2),u=l[0],c=l[1],d=u>c;return t<(d?c:u)?d?a:o:t>(d?u:c)?d?o:a:(m=this.toDomain(u===c?(this.fromDomain(o)+this.fromDomain(a))/2:this.fromDomain(o)+(t-u)/(c-u)*(this.fromDomain(a)-this.fromDomain(o))),this.transformInvert(m))},n.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(i){return t[i]!==e[i]})||(this.cache={},this.cacheProps.forEach(function(i){return t.cache[i]=t[i]}),0))},n.prototype.refresh=function(){this.didChange()&&this.update()},n.prototype.isDenseInterval=function(t){var i=t.interval,o=t.count,a=this.range,s=t.stop-t.start,l=Math.min(a[0],a[1]);return o??(o=s/("number"==typeof i?i:1)),o>=Math.max(a[0],a[1])-l&&(Dt.warn("the configured tick interval, "+JSON.stringify(i)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},n.defaultTickCount=5,n.defaultMaxTickCount=6,n}(),s1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function zI(n,t,e,r,i){if(e<2)return AS(n,t,t-n);var o=F0(n,t,e,r,i);return isNaN(o)?new $I(0):AS(n=Math.ceil(n/o)*o,t=Math.floor(t/o)*o,o)}var e6=[1,2,5,10];function F0(n,t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=1/0);var a=Math.floor(Math.log10((t-n)/e)),s=Math.pow(10,a),l=e6.map(function(u){var d=Math.ceil((t-n)/(u*s));return{multiplier:u,isWithinBounds:d>=r&&d<=i,diffCount:Math.abs(d-e)}}).sort(function(u,c){return u.isWithinBounds!==c.isWithinBounds?u.isWithinBounds?-1:1:u.diffCount-c.diffCount})[0].multiplier;return!l||isNaN(l)?NaN:l*s}var $I=function(n){function t(e,r){var i=n.call(this)||this;if(r)for(var o=0,a=r.length;o<a;o++)i[o]=r[o];return i.fractionDigits=e,i}return s1e(t,n),t}(Array);function AS(n,t,e){for(var i=(void 0,void 0,p=void 0,p=(e%1).toExponential().split("e"),Math.max((null!==(h=null===(d=p[0].split(".")[1])||void 0===d?void 0:d.length)&&void 0!==h?h:0)-Number(p[1]),0)),o=Math.pow(10,i),a=Math.ceil((t-n)/e),s=new $I(i),l=0;l<=a;l++)s.push(Math.round((n+e*l)*o)/o);var d,h,p;return s}var PS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function KI(n,t){void 0===t&&(t=new Date(n.getFullYear(),0,1));var e=n.getTimezoneOffset()-t.getTimezoneOffset(),r=n.getTime()-t.getTime()+6e4*e;return Math.floor(r/864e5)}function t6(n,t){var i=(t-new Date(n.getFullYear(),0,1).getDay()+7)%7,o=new Date(n.getFullYear(),0,i+1);return o<=n?Math.floor(KI(n,o)/7)+1:0}var n6=1,r6=4;function o6(n,t){void 0===t&&(t=n.getFullYear());var r=new Date(t,0,1).getDay(),o=new Date(t,0,(r6-r+7)%7-(r6-n6)+1);return o<=n?Math.floor(KI(n,o)/7)+1:o6(n,t-1)}var d1e={a:function(n){return PS.shortDays[n.getDay()]},A:function(n){return PS.days[n.getDay()]},b:function(n){return PS.shortMonths[n.getMonth()]},B:function(n){return PS.months[n.getMonth()]},c:"%x, %X",d:function(n,t){return To(n.getDate(),2,t??"0")},e:"%_d",f:function(n,t){return To(1e3*n.getMilliseconds(),6,t??"0")},H:function(n,t){return To(n.getHours(),2,t??"0")},I:function(n,t){var e=n.getHours()%12;return 0===e?"12":To(e,2,t??"0")},j:function(n,t){return To(KI(n)+1,3,t??"0")},m:function(n,t){return To(n.getMonth()+1,2,t??"0")},M:function(n,t){return To(n.getMinutes(),2,t??"0")},L:function(n,t){return To(n.getMilliseconds(),3,t??"0")},p:function(n){return n.getHours()<12?"AM":"PM"},Q:function(n){return String(n.getTime())},s:function(n){return String(Math.floor(n.getTime()/1e3))},S:function(n,t){return To(n.getSeconds(),2,t??"0")},u:function(n){var t=n.getDay();return t<1&&(t+=7),String(t%7)},U:function(n,t){return To(t6(n,0),2,t??"0")},V:function(n,t){return To(o6(n),2,t??"0")},w:function(n,t){return To(n.getDay(),2,t??"0")},W:function(n,t){return To(t6(n,n6),2,t??"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(n,t){return To(n.getFullYear()%100,2,t??"0")},Y:function(n,t){return To(n.getFullYear(),4,t??"0")},Z:function(n){return function c1e(n){var t=n.getTimezoneOffset(),e=Math.abs(t);return(t>0?"-":"+")+To(Math.floor(e/60),2,"0")+To(Math.floor(e%60),2,"0")}(n)},"%":function(){return"%"}},f1e={_:" ",0:"0","-":""};function To(n,t,e){var r=String(Math.floor(n));return r.length>=t?r:""+e.repeat(t-r.length)+r}function MS(n){for(var t=[];n.length>0;){var e=n.indexOf("%");if(0!==e){var r=e>0?n.substring(0,e):n;t.push(r)}if(e<0)break;var o=f1e[n[e+1]];null!=o&&e++;var a=n[e+1],s=d1e[a];if("function"==typeof s)t.push([s,o]);else if("string"==typeof s){var l=MS(s);t.push([l,o])}else t.push(""+(o??"")+a);n=n.substring(e+2)}return function(u){var c="number"==typeof u?new Date(u):u;return t.map(function(d){return"string"==typeof d?d:d[0](c,d[1])}).join("")}}var Xl,h1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),k0=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},L0=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(k0(arguments[t]));return n},Yn=(()=>(function(n){n[n.MILLISECOND=0]="MILLISECOND",n[n.SECOND=1]="SECOND",n[n.MINUTE=2]="MINUTE",n[n.HOUR=3]="HOUR",n[n.WEEK_DAY=4]="WEEK_DAY",n[n.SHORT_MONTH=5]="SHORT_MONTH",n[n.MONTH=6]="MONTH",n[n.SHORT_YEAR=7]="SHORT_YEAR",n[n.YEAR=8]="YEAR"}(Yn||(Yn={})),Yn))(),Cp=((Xl={})[Yn.MILLISECOND]=".%L",Xl[Yn.SECOND]=":%S",Xl[Yn.MINUTE]="%I:%M",Xl[Yn.HOUR]="%I %p",Xl[Yn.WEEK_DAY]="%a",Xl[Yn.SHORT_MONTH]="%b %d",Xl[Yn.MONTH]="%B",Xl[Yn.SHORT_YEAR]="%y",Xl[Yn.YEAR]="%Y",Xl);function Zl(n){return n instanceof Date?n.getTime():n}var a6=function(n){function t(){var e=n.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=vOe,e.month=hOe,e.week=uOe,e.day=sOe,e.hour=rOe,e.minute=JTe,e.second=qTe,e.millisecond=zTe,e.tickIntervals=[[e.second,1,gp],[e.second,5,5*gp],[e.second,15,15*gp],[e.second,30,30*gp],[e.minute,1,xs],[e.minute,5,5*xs],[e.minute,15,15*xs],[e.minute,30,30*xs],[e.hour,1,ju],[e.hour,3,3*ju],[e.hour,6,6*ju],[e.hour,12,12*ju],[e.day,1,qc],[e.day,2,2*qc],[e.week,1,R0],[e.week,2,2*R0],[e.week,3,3*R0],[e.month,1,T0],[e.month,2,2*T0],[e.month,3,3*T0],[e.month,4,4*T0],[e.month,6,6*T0],[e.year,1,vS]],e}return h1e(t,n),t.prototype.toDomain=function(e){return new Date(e)},t.prototype.calculateDefaultTickFormat=function(e){var r,i;void 0===e&&(e=[]);var _,o=Yn.YEAR;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),l=s.next();!l.done;l=s.next()){(_=this.getLowestGranularityFormat(l.value))<o&&(o=_)}}catch(_){r={error:_}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}var d=Zl(e[0]),h=Zl(e[e.length-1]),p=new Date(d).getFullYear(),m=new Date(h).getFullYear();return this.buildFormatString(o,m-p>0)},t.prototype.buildFormatString=function(e,r){var i=[Cp[e]],o=0,a=this.getDomain(),s=Math.min.apply(Math,L0(a.map(Zl))),u=Math.max.apply(Math,L0(a.map(Zl)))-s;switch(e){case Yn.SECOND:u/xs>1&&i.push(Cp[Yn.MINUTE]);case Yn.MINUTE:u/ju>1&&i.push(Cp[Yn.HOUR]);case Yn.HOUR:o=i.length,u/qc>1&&i.push(Cp[Yn.WEEK_DAY]);case Yn.WEEK_DAY:if(u/R0>1||r){var c=i.indexOf(Cp[Yn.WEEK_DAY]);c>-1&&i.splice(c,1,Cp[Yn.SHORT_MONTH])}case Yn.SHORT_MONTH:case Yn.MONTH:(u/vS>1||r)&&i.push(Cp[Yn.YEAR])}return o<i.length&&(i=L0(i.slice(0,o),[i.slice(o).join(" ")])),o>0&&o<(i=L0(i.slice(0,o).reverse(),i.slice(o))).length&&i.splice(o,0," "),i.join("")},t.prototype.getLowestGranularityFormat=function(e){return this.second.floor(e)<e?Yn.MILLISECOND:this.minute.floor(e)<e?Yn.SECOND:this.hour.floor(e)<e?Yn.MINUTE:this.day.floor(e)<e?Yn.HOUR:this.month.floor(e)<e?this.week.floor(e)<e?Yn.WEEK_DAY:Yn.SHORT_MONTH:this.year.floor(e)<e?Yn.MONTH:Yn.YEAR},t.prototype.defaultTickFormat=function(e){var r=this.calculateDefaultTickFormat(e);return function(i){return MS(r)(i)}},t.prototype.getTickInterval=function(e){for(var r,c,d,i=e.start,o=e.stop,s=e.minCount,l=e.maxCount,u=this.tickIntervals,h=e.count??tr.defaultTickCount,p=Math.abs(o-i)/Math.max(h,1),m=0;m<u.length&&p>u[m][2];)m++;return 0===m?(d=Math.max(F0(i,o,h,s,l),1),c=this.millisecond):m===u.length?(d=F0(i/vS,o/vS,h,s,l),c=this.year):(c=(r=k0(u[p-u[m-1][2]<u[m][2]-p?m-1:m],2))[0],d=r[1]),c.every(d)},t.prototype.invert=function(e){return new Date(n.prototype.invert.call(this,e))},t.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var e=k0(this.getDomain().map(Zl),2),r=e[0],i=e[1];if(void 0!==this.interval)return this.getTicksForInterval({start:r,stop:i});if(this.nice){var o=this.tickCount;if(2===o)return this.niceDomain;if(1===o)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:r,stop:i})},t.prototype.getDefaultTicks=function(e){var r=e.start,i=e.stop,o=this.getTickInterval({start:r,stop:i,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return o?o.range(new Date(r),new Date(i)):[]},t.prototype.getTicksForInterval=function(e){var r=e.start,i=e.stop,a=this.interval,s=this.tickIntervals;if(!a)return[];if(a instanceof Hg){var l=a.range(new Date(r),new Date(i));return this.isDenseInterval({start:r,stop:i,interval:a,count:l.length})?this.getDefaultTicks({start:r,stop:i}):l}var u=Math.abs(a);if(this.isDenseInterval({start:r,stop:i,interval:u}))return this.getDefaultTicks({start:r,stop:i});var c=L0(s);c.reverse();var d=c.find(function(_){return u%_[2]==0});if(d)return d[0].every(u/(d[2]/d[1])).range(new Date(r),new Date(i));for(var p=new Date(r),m=new Date(i),v=[];p<=m;)v.push(p),(p=new Date(p)).setMilliseconds(p.getMilliseconds()+u);return v},t.prototype.tickFormat=function(e){var i=e.specifier;return null==i?this.defaultTickFormat(e.ticks):MS(i)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){for(var r=k0(this.domain,2),i=r[0],o=r[1],a=0;a<4;a++){this.updateNiceDomainIteration(i,o);var s=k0(this.niceDomain,2),l=s[0],u=s[1];if(Zl(i)===Zl(l)&&Zl(o)===Zl(u))break;i=l,o=u}},t.prototype.updateNiceDomainIteration=function(e,r){var s,i=Zl(e),o=Zl(r),a=this.interval;if(a instanceof Hg)s=a;else{var l="number"==typeof a?(o-i)/Math.max(a,1):this.tickCount;s=this.getTickInterval({start:i,stop:o,count:l,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(s){var u=s.range(e,r,!0);this.niceDomain=[u[0],u[u.length-1]]}},t}(tr);function ua(n){var t=n.length;if(0!==t){for(var e=1/0,r=-1/0,i=0;i<t;i++){var o=n[i];o instanceof Date&&(o=o.getTime()),"number"==typeof o&&(o<e&&(e=o),o>r&&(r=o))}var a=[e,r];if(!a.some(function(s){return!isFinite(s)}))return a}}var yi=function(){function n(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(yS,e)?function(){return new e}:e}return n.select=function(t,e){return new n(t,e)},n.prototype.each=function(t){return this._nodes.forEach(function(e,r){return t(e,e.datum,r)}),this},n.prototype.update=function(t,e){var r=this,i=this._data,o=this._parent,a=this._factory;t.length>i.length?t.slice(i.length).forEach(function(l){var u=a(l);u.datum=l,e&&e(u),o.appendChild(u),r._nodes.push(u)}):t.length<i.length&&this._nodes.splice(t.length).forEach(function(l){o.removeChild(l)}),this._data=t;for(var s=0;s<t.length;s++)this._nodes[s].datum=this._data[s];return this},n.prototype.clear=function(){return this.update([]),this},n.prototype.select=function(t){var e=[],r=function(i){t(i)&&e.push(i),i.children.forEach(r)};return r(this._parent),e},n.prototype.selectByClass=function(t){return this.select(function(e){return e instanceof t})},n.prototype.selectByTag=function(t){return this.select(function(e){return e.tag===t})},n.prototype.nodes=function(){return this._nodes},n}(),v1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ql=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zu=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.lastInstanceId=0,e.fillOpacity=1,e.strokeOpacity=1,e.fill=t.defaultStyles.fill,e.stroke=t.defaultStyles.stroke,e.strokeWidth=t.defaultStyles.strokeWidth,e.lineDash=t.defaultStyles.lineDash,e.lineDashOffset=t.defaultStyles.lineDashOffset,e.lineCap=t.defaultStyles.lineCap,e.lineJoin=t.defaultStyles.lineJoin,e.opacity=t.defaultStyles.opacity,e.fillShadow=t.defaultStyles.fillShadow,e}return v1e(t,n),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),i=0,o=r.length;i<o;i++){var a=r[i];this[a]=e[a]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&Object.prototype.hasOwnProperty.call(r,i)&&(this[i]=e[i])},t.prototype.align=function(e,r){var i,o,a,s=null!==(a=null===(o=null===(i=this.layerManager)||void 0===i?void 0:i.canvas)||void 0===o?void 0:o.pixelRatio)&&void 0!==a?a:1,l=Math.round(e*s)/s;return null==r?l:0===r?0:r<1?Math.ceil(r*s)/s:Math.round((r+e)*s)/s-l},t.prototype.fillStroke=function(e){if(this.layerManager){var r=this.layerManager.canvas.pixelRatio||1,i=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=i*this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.fill()}e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth&&(e.strokeStyle=this.stroke,e.globalAlpha=i*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke())}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"fillOpacity",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"strokeOpacity",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"fill",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"stroke",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"strokeWidth",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"lineDash",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"lineDashOffset",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"lineCap",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"lineJoin",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR,convertor:function(e){return Math.min(1,Math.max(0,e))}})],t.prototype,"opacity",void 0),Ql([(0,Ce.Js)({redraw:Ce.Xl.MINOR,checkDirtyOnAssignment:!0})],t.prototype,"fillShadow",void 0),t}(yS),_1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),IS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xc=function(n){function t(){var e=n.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return _1e(t,n),t.prototype.computeBBox=function(){return new Zn(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){var r,i=e.ctx,a=e.stats;if(this.dirty!==Ce.Xl.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(i);var s=this.x1,l=this.y1,u=this.x2,c=this.y2;if(s===u){var d=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=d,u=d}else if(l===c){var h=Math.round(l)+Math.floor(this.strokeWidth)%2/2;l=h,c=h}i.beginPath(),i.moveTo(s,l),i.lineTo(u,c),this.fillStroke(i),null===(r=this.fillShadow)||void 0===r||r.markClean(),n.prototype.render.call(this,e)}else a&&(a.nodesSkipped+=this.nodeCount.count)},t.className="Line",t.defaultStyles=Object.assign({},zu.defaultStyles,{fill:void 0,strokeWidth:1}),IS([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"x1",void 0),IS([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"y1",void 0),IS([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"x2",void 0),IS([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"y2",void 0),t}(zu),y1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$u=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function FS(n){var t=n||{},e=t.redraw;return(0,Ce.Js)({redraw:void 0===e?Ce.Xl.MAJOR:e,type:"font",changeCb:t.changeCb})}var ca=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.x=0,e.y=0,e.lines=[],e.text="",e._dirtyFont=!0,e.fontSize=10,e.fontFamily="sans-serif",e.textAlign=t.defaultStyles.textAlign,e.textBaseline=t.defaultStyles.textBaseline,e.lineHeight=void 0,e}return y1e(t,n),t.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(t.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=YI(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){return uo.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){for(var e,r,i=0,o=0,a=0,s=0,l=0,u=0;u<this.lines.length;u++){var c=uo.measureText(this.lines[u],this.font,this.textBaseline,this.textAlign);i=Math.max(i,c.actualBoundingBoxLeft),a=Math.max(a,c.width),0==u?(o+=c.actualBoundingBoxAscent,s+=c.actualBoundingBoxAscent):l+=null!==(e=c.fontBoundingBoxAscent)&&void 0!==e?e:c.emHeightAscent,u==this.lines.length-1?s+=c.actualBoundingBoxDescent:l+=null!==(r=c.fontBoundingBoxDescent)&&void 0!==r?r:c.emHeightDescent}return void 0!==this.lineHeight&&(l=(this.lines.length-1)*this.lineHeight),s+=l,o+=l*this.getVerticalOffset(),new Zn(this.x-i,this.y-o,a,s)},t.prototype.getVerticalOffset=function(){switch(this.textBaseline){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}},t.prototype.getApproximateBBox=function(){var e,r=0,i=0,o=0;this.lines.length>0&&(r=(a=uo.getTextSize(this.lines[0],this.font)).width,i=a.height);for(var s=1;s<this.lines.length;s++){var a=uo.getTextSize(this.lines[s],this.font);r=Math.max(r,a.width),o+=null!==(e=this.lineHeight)&&void 0!==e?e:a.height}var u=this.x,c=this.y;switch(this.textAlign){case"end":case"right":u-=r;break;case"center":u-=r/2}switch(this.textBaseline){case"alphabetic":c-=.7*i+.5*o;break;case"middle":c-=.45*i+.5*o;break;case"ideographic":case"bottom":c-=i+o;break;case"hanging":c-=.2*i+.5*o}return new Zn(u,c,r,i+o)},t.prototype.getLineHeight=function(e){var r,i;if(this.lineHeight)return this.lineHeight;if(uo.has.textMetrics){var o=uo.measureText(e,this.font,this.textBaseline,this.textAlign);return(null!==(r=o.fontBoundingBoxAscent)&&void 0!==r?r:o.emHeightAscent)+(null!==(i=o.fontBoundingBoxDescent)&&void 0!==i?i:o.emHeightDescent)}return uo.getTextSize(e,this.font).height},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return!!o&&o.containsPoint(i.x,i.y)},t.prototype.render=function(e){var r=e.ctx,o=e.stats;if(this.dirty!==Ce.Xl.NONE||e.forceRender)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this,s=a.fill,l=a.stroke,u=a.strokeWidth;r.font=this.font,r.textAlign=this.textAlign,r.textBaseline=this.textBaseline;var c=this.layerManager.canvas.pixelRatio||1,d=r.globalAlpha;if(s){r.fillStyle=s,r.globalAlpha=d*this.opacity*this.fillOpacity;var h=this.fillShadow;h&&h.enabled&&(r.shadowColor=h.color,r.shadowOffsetX=h.xOffset*c,r.shadowOffsetY=h.yOffset*c,r.shadowBlur=h.blur*c),this.renderLines(function(w,b,E){return r.fillText(w,b,E)})}if(l&&u){r.strokeStyle=l,r.lineWidth=u,r.globalAlpha=d*this.opacity*this.strokeOpacity;var p=this,m=p.lineDash,v=p.lineDashOffset,_=p.lineCap,C=p.lineJoin;m&&r.setLineDash(m),v&&(r.lineDashOffset=v),_&&(r.lineCap=_),C&&(r.lineJoin=C),this.renderLines(function(w,b,E){return r.strokeText(w,b,E)})}n.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count);else o&&(o.nodesSkipped+=this.nodeCount.count)},t.prototype.renderLines=function(e){for(var r=this,i=this,o=i.lines,a=i.x,s=i.y,l=this.lines.map(function(h){return r.getLineHeight(h)}),c=-(l.reduce(function(h,p){return h+p},0)-l[0])*this.getVerticalOffset(),d=0;d<o.length;d++)e(o[d],a,s+c),c+=l[d]},t.className="Text",t.defaultStyles=Object.assign({},zu.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"x",void 0),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"y",void 0),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR,changeCb:function(e){return e._splitText()}})],t.prototype,"text",void 0),$u([FS()],t.prototype,"fontStyle",void 0),$u([FS()],t.prototype,"fontWeight",void 0),$u([FS()],t.prototype,"fontSize",void 0),$u([FS()],t.prototype,"fontFamily",void 0),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"textAlign",void 0),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"textBaseline",void 0),$u([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"lineHeight",void 0),t}(zu);function YI(n,t,e,r){return[e||"",r||"",n+"px",t].join(" ").trim()}var Ku=2*Math.PI;function Qa(n){return n%=Ku,(n+=Ku)%Ku}function kS(n){return n%=Ku,(n+=Ku)!==Ku&&(n%=Ku),n}function kf(n){return n/180*Math.PI}var E1e=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function qI(n,t,e,r,i,o,a,s){var l=(e-n)*(s-o)-(r-t)*(a-i);if(0===l)return null;var u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function S1e(n,t,e,r,i,o,a,s,l,u,c,d){var h,p,m=[],v=u-d,_=c-l,C=l*(d-u)-u*(c-l),w=s6(n,e,i,a),b=s6(t,r,o,s),D=function x1e(n,t,e,r){if(0===n)return function b1e(n,t,e){if(0===n)return function w1e(n,t){var e=-t/n;return 0!==n&&e>=0&&e<=1?[e]:[]}(t,e);var r=t*t-4*n*e,i=[];if(0===r){var o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),s=(-t-a)/(2*n),l=(-t+a)/(2*n);s>=0&&s<=1&&i.push(s),l>=0&&l<=1&&i.push(l)}return i}(t,e,r);var i=t/n,o=e/n,s=(3*o-i*i)/9,l=(9*i*o-r/n*27-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,d=[];if(u>=0){var h=Math.sqrt(u),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),c),m=Math.sign(l-h)*Math.pow(Math.abs(l-h),c),v=Math.abs(Math.sqrt(3)*(p-m)/2),_=-c*i+(p+m);if(_>=0&&_<=1&&d.push(_),0===v){var C=-c*i-(p+m)/2;C>=0&&C<=1&&d.push(C)}}else{var w=Math.acos(l/Math.sqrt(-s*s*s)),b=c*i,E=2*Math.sqrt(-s),S=E*Math.cos(c*w)-b,O=E*Math.cos(c*(w+2*Math.PI))-b,R=E*Math.cos(c*(w+4*Math.PI))-b;S>=0&&S<=1&&d.push(S),O>=0&&O<=1&&d.push(O),R>=0&&R<=1&&d.push(R)}return d}(v*w[0]+_*b[0],v*w[1]+_*b[1],v*w[2]+_*b[2],v*w[3]+_*b[3]+C);try{for(var P=E1e(D),M=P.next();!M.done;M=P.next()){var te,B=M.value,I=B*B,U=B*I,le=w[0]*U+w[1]*I+w[2]*B+w[3],ie=b[0]*U+b[1]*I+b[2]*B+b[3];(te=l!==c?(le-l)/(c-l):(ie-u)/(d-u))>=0&&te<=1&&m.push({x:le,y:ie})}}catch(J){h={error:J}}finally{try{M&&!M.done&&(p=P.return)&&p.call(P)}finally{if(h)throw h.error}}return m}function s6(n,t,e,r){return[3*t-n-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}function D1e(n,t,e,r,i,o,a,s,l,u){var c=(u-s)/(l-a),d=s-c*a,h=Math.pow(c,2)+1,p=2*(c*(d-t)-n),m=Math.pow(n,2)+Math.pow(d-t,2)-Math.pow(e,2),v=Math.pow(p,2)-4*h*m;if(v<0)return[];var _=(-p+Math.sqrt(v))/2/h,C=(-p-Math.sqrt(v))/2/h,w=[];return[_,C].forEach(function(b){if(b>=Math.min(a,l)&&b<=Math.max(a,l)){var S=c*b,O=Qa(o?i:r),R=Qa(o?r:i),D=Qa(Math.atan2(S,b));R<=O&&(R+=2*Math.PI),D<O&&(D+=2*Math.PI),D>=O&&D<=R&&w.push({x:b,y:S})}}),w}var co=(()=>(function(n){n[n.Move=0]="Move",n[n.Line=1]="Line",n[n.Arc=2]="Arc",n[n.Curve=3]="Curve",n[n.ClosePath=4]="ClosePath"}(co||(co={})),co))(),LS=function(){function n(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return n.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},n.prototype.draw=function(t){var e,r,i=this.commands,o=this.params,a=0;t.beginPath();try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),l=s.next();!l.done;l=s.next())switch(l.value){case co.Move:t.moveTo(o[a++],o[a++]);break;case co.Line:t.lineTo(o[a++],o[a++]);break;case co.Curve:t.bezierCurveTo(o[a++],o[a++],o[a++],o[a++],o[a++],o[a++]);break;case co.Arc:t.arc(o[a++],o[a++],o[a++],o[a++],o[a++],1===o[a++]);break;case co.ClosePath:t.closePath()}}catch(c){e={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}0===i.length&&t.closePath()},n.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(co.Move),this.params.push(t,e)},n.prototype.lineTo=function(t,e){this.xy?(this.commands.push(co.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},n.prototype.rect=function(t,e,r,i){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+i),this.lineTo(t,e+i),this.closePath()},n.prototype.arc=function(t,e,r,i,o,a){void 0===a&&(a=!1);var s=t+r*Math.cos(o),l=e+r*Math.sin(o);this.xy?(this.xy[0]=s,this.xy[1]=l):this.xy=[s,l],this.commands.push(co.Arc),this.params.push(t,e,r,i,o,a?1:0)},n.prototype.cubicCurveTo=function(t,e,r,i,o,a){this.xy||this.moveTo(t,e),this.commands.push(co.Curve),this.params.push(t,e,r,i,o,a),this.xy[0]=o,this.xy[1]=a},Object.defineProperty(n.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),n.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(co.ClosePath),this._closedPath=!0)},n.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},n.prototype.isPointInPath=function(t,e){for(var r=this.commands,i=this.params,o=r.length,a=-1e4,s=-1e4,l=NaN,u=NaN,c=0,d=0,h=0,p=0,m=0;p<o;p++)switch(r[p]){case co.Move:isNaN(l)||qI(l,u,c,d,a,s,t,e)&&h++,l=c=i[m++],u=d=i[m++];break;case co.Line:qI(c,d,i[m++],i[m++],a,s,t,e)&&h++,c=i[m-2],d=i[m-1];break;case co.Curve:h+=S1e(c,d,i[m++],i[m++],i[m++],i[m++],i[m++],i[m++],a,s,t,e).length,c=i[m-2],d=i[m-1];break;case co.Arc:h+=D1e(i[m++],i[m++],i[m++],i[m++],i[m++],Boolean(i[m++]),a,s,t,e).length,c=i[m-2],d=i[m-1];break;case co.ClosePath:isNaN(l)||qI(l,u,c,d,a,s,t,e)&&h++}return h%2==1},n}(),T1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l6=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Sr(n){var t=n||{},e=t.redraw;return(0,Ce.Js)({redraw:void 0===e?Ce.Xl.MAJOR:e,type:"path",convertor:t.convertor,changeCb:t.changeCb})}var wp=function(n){function t(e){var r=n.call(this)||this;return r.renderOverride=e,r.path=new LS,r._dirtyPath=!0,r}return T1e(t,n),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,Ce.Xl.MAJOR))},enumerable:!1,configurable:!0}),t.prototype.checkPathDirty=function(){var e,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(r=null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())&&void 0!==r&&r)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)},t.prototype.isDirtyPath=function(){},t.prototype.updatePath=function(){},t.prototype.render=function(e){var r,i,o=e.ctx,s=e.stats;if(this.dirty!==Ce.Xl.NONE||e.forceRender){if(this.computeTransformMatrix(),this.matrix.toContext(o),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(o.save(),"normal"===this.clipMode&&(this.clipPath.draw(o),o.clip()),this.renderOverride?this.renderOverride(o):(this.path.draw(o),this.fillStroke(o)),"punch-out"===this.clipMode){this.clipPath.draw(o),o.clip();var l=null!==(r=this.computeBBox())&&void 0!==r?r:{},u=l.x,d=l.y,p=l.width,v=l.height;o.clearRect(void 0===u?-1e4:u,void 0===d?-1e4:d,void 0===p?2e4:p,void 0===v?2e4:v)}o.restore()}else this.renderOverride?this.renderOverride(o):(this.path.draw(o),this.fillStroke(o));null===(i=this.fillShadow)||void 0===i||i.markClean(),n.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count)},t.className="Path",l6([Sr()],t.prototype,"clipPath",void 0),l6([Sr()],t.prototype,"clipMode",void 0),t}(zu);function u6(n,t,e){return void 0===e&&(e=1e-10),Math.abs(n-t)<e}function c6(n,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}var A1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xp=(()=>(function(n){n[n.Open=0]="Open",n[n.Chord=1]="Chord",n[n.Round=2]="Round"}(xp||(xp={})),xp))(),d6=function(n){function t(){var e=n.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=xp.Open,e.restoreOwnStyles(),e}return A1e(t,n),Object.defineProperty(t.prototype,"fullPie",{get:function(){return u6(Qa(this.startAngle),Qa(this.endAngle))},enumerable:!1,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===xp.Chord?e.closePath():this.type===xp.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Zn(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r),o=this.computeBBox();return this.type!==xp.Open&&o.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)},t.className="Arc",t.defaultStyles=Object.assign({},zu.defaultStyles,{lineWidth:1,fillStyle:null}),bp([Sr()],t.prototype,"centerX",void 0),bp([Sr()],t.prototype,"centerY",void 0),bp([Sr()],t.prototype,"radius",void 0),bp([Sr()],t.prototype,"startAngle",void 0),bp([Sr()],t.prototype,"endAngle",void 0),bp([Sr()],t.prototype,"counterClockwise",void 0),bp([Sr()],t.prototype,"type",void 0),t}(wp);function Ki(n,t){return jg(function(e,r,i){return e[n][t??r]=i,i})}function Zc(n){var t=n.newValue,e=n.oldValue,r=n.changeValue;return jg(function(i,o,a,s){return a!==s&&(void 0!==s&&e?.call(i,s),void 0!==a&&t?.call(i,a),r?.call(i,a,s)),a})}var Qc=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N0=function(){function n(){this.node=new ca,this.enabled=!1,this.text="",this.fontSize=10,this.fontFamily="sans-serif",this.spacing=n.PADDING,this._lineHeight=void 0;var t=this.node;t.textAlign="center",t.pointerEvents=la.None}return Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.node.lineHeight=t},enumerable:!1,configurable:!0}),n.PADDING=10,Qc([V(Ir)],n.prototype,"enabled",void 0),Qc([V(Kn),Ki("node")],n.prototype,"text",void 0),Qc([V(Ug),Ki("node")],n.prototype,"fontStyle",void 0),Qc([V(zg),Ki("node")],n.prototype,"fontWeight",void 0),Qc([V(et(0)),Ki("node")],n.prototype,"fontSize",void 0),Qc([V(Kn),Ki("node")],n.prototype,"fontFamily",void 0),Qc([V(ai),Ki("node","fill")],n.prototype,"color",void 0),Qc([V(yr(0))],n.prototype,"spacing",void 0),Qc([V(yr(0))],n.prototype,"_lineHeight",void 0),n}();function XI(n,t){return n.length===t.length&&n.every(function(e,r){var i=t[r];return Array.isArray(e)&&Array.isArray(i)?XI(e,i):e===i})}function P1e(n,t){return n.length===t.length&&n.every(function(e,r){return Number(e)===Number(t[r])})}var Ci=(()=>(function(n){n[n.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",n[n.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",n[n.AXIS_ZINDEX=20]="AXIS_ZINDEX",n[n.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",n[n.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",n[n.SERIES_LABEL_ZINDEX=1e3]="SERIES_LABEL_ZINDEX",n[n.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",n[n.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Ci||(Ci={})),Ci))();function M1e(n,t,e,r,i){var s=n.x-(n.x<t?t:n.x>t+r?t+r:n.x),l=n.y-(n.y<e?e:n.y>e+i?e+i:n.y);return Math.sqrt(s*s+l*l)<=.5*n.size}function f6(n,t,e,r,i){return n.x+n.width>t&&n.x<t+r&&n.y+n.height>e&&n.y<e+i}function I1e(n,t,e,r,i){return t+r<n.x+n.width&&t>n.x&&e>n.y&&e+i<n.y+n.height}function F1e(n){return null!=n&&"object"==typeof n.point&&"object"==typeof n.label}function h6(n,t){for(var e=[],r=function(a){var s=n[a],l=s.point,u=l.x,c=l.y,d=s.label.text,h=s.label,p=h.width,m=h.height;if(p+=t??0,m+=t??0,e.some(function(_){return f6(_,u,c,p,m)}))return{value:!0};e.push({index:a,text:d,x:u,y:c,width:p,height:m,datum:s})},i=0;i<n.length;i++){var o=r(i);if("object"==typeof o)return o.value}return!1}var Yi,ZI=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},p6=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(ZI(arguments[t]));return n},Kg=function(n){return"("+n+")"},Jc=function(n){return Kg(n)+"?"},m6=function(n){return Jc("?:"+n)},L1e=new RegExp(["^",m6(""+Jc(".")+Kg("[<>=^]")),Jc("[+\\-( ]"),Jc("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),Jc("0"),Jc("\\d+"),Jc(","),m6("\\."+Kg("\\d+")),Jc("~"),Jc("[%a-z]"),"$"].join(""),"i"),N1e=new RegExp(["^",Kg(".*?"),"#\\{"+Kg(".+?")+"\\}",Kg(".*?"),"$"].join(""));function g6(n){var t,e,r,i=n.match(N1e);i&&(e=(t=ZI(i,4))[1],n=t[2],r=t[3]);var o=n.match(L1e);if(!o)throw new Error("The number formatter is invalid: "+n);var a=ZI(o,11),p=a[7],m=a[8],v=a[9],_=a[10];return{fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:parseInt(a[6]),comma:p,precision:parseInt(m),trim:Boolean(v),type:_,prefix:e,suffix:r}}function v6(n){var C,t="string"==typeof n?g6(n):n,e=t.fill,r=t.align,i=t.sign,o=void 0===i?"-":i,a=t.symbol,s=t.zero,l=t.width,u=t.comma,c=t.type,d=t.prefix,h=void 0===d?"":d,p=t.suffix,m=void 0===p?"":p,v=t.precision,_=t.trim;if(c)if(c in Es&&c in Yg)C=isNaN(v)?Yg[c]:Es[c];else if(c in Es)C=Es[c];else{if(!(c in Yg))throw new Error("The number formatter type is invalid: "+c);C=Yg[c]}else C=Es.g,_=!0;return isNaN(v)&&(v=c?6:12),function(w){var b=C(w,v);return _&&(b=function B1e(n){return n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}(b)),u&&(b=function G1e(n,t){var e=n.indexOf(".");e<0&&(e=n.length);for(var r=n.substring(0,e).split(""),i=n.substring(e),o=r.length-3;o>0;o-=3)r.splice(o,0,t);return""+r.join("")+i}(b,u)),b=function j1e(n,t,e){return void 0===e&&(e=""),"("===e?n>=0?t:"("+t+")":""+(n>=0?"+"===e?"+":"":W1e)+t}(w,b,o),a&&"#"!==a&&(b=""+a+b),"#"===a&&"x"===c&&(b="0x"+b),"s"===c&&(b=""+b+function V1e(n){return H1e[_6(n)]}(w)),("%"===c||"p"===c)&&(b+="%"),isNaN(l)||(b=function U1e(n,t,e,r){void 0===e&&(e=" "),void 0===r&&(r=">");var i=n;if(">"!==r&&r){if("<"===r)i=i.padEnd(t,e);else if("^"===r){var o=Math.max(0,t-i.length),a=Math.ceil(o/2),s=Math.floor(o/2);i=(i=i.padStart(a+i.length,e)).padEnd(s+i.length,e)}}else i=i.padStart(t,e);return i}(b,l,e||s,r)),""+h+b+m}}var NS=function(n){return Math.floor(Math.abs(n))},Yg={b:function(n){return NS(n).toString(2)},c:function(n){return String.fromCharCode(n)},d:function(n){return Math.round(Math.abs(n)).toFixed(0)},o:function(n){return NS(n).toString(8)},x:function(n){return NS(n).toString(16)},X:function(n){return Yg.x(n).toUpperCase()},n:function(n){return Yg.d(n)},"%":function(n){return""+NS(100*n).toFixed(0)}},Es={e:function(n,t){return Math.abs(n).toExponential(t)},E:function(n,t){return Es.e(n,t).toUpperCase()},f:function(n,t){return Math.abs(n).toFixed(t)},F:function(n,t){return Es.f(n,t).toUpperCase()},g:function(n,t){if(0===n)return"0";var e=Math.abs(n),r=Math.floor(Math.log10(e));return r>=-4&&r<t?e.toFixed(t-1-r):e.toExponential(t-1)},G:function(n,t){return Es.g(n,t).toUpperCase()},n:function(n,t){return Es.g(n,t)},p:function(n,t){return Es.r(100*n,t)},r:function(n,t){if(0===n)return"0";var e=Math.abs(n),i=Math.floor(Math.log10(e))-(t-1);if(i<=0)return e.toFixed(-i);var o=Math.pow(10,i);return(Math.round(e/o)*o).toFixed()},s:function(n,t){var e=_6(n);return Es.r(n/Math.pow(10,e),t)},"%":function(n,t){return Es.f(100*n,t)}};function _6(n){var t=Math.log10(Math.abs(n)),e=3*Math.floor(t/3);return Math.max(y6,Math.min(C6,e))}var y6=-24,C6=24,H1e=((Yi={})[y6]="y",Yi[-21]="z",Yi[-18]="a",Yi[-15]="f",Yi[-12]="p",Yi[-9]="n",Yi[-6]="\xb5",Yi[-3]="m",Yi[0]="",Yi[3]="k",Yi[6]="M",Yi[9]="G",Yi[12]="T",Yi[15]="P",Yi[18]="E",Yi[21]="Z",Yi[C6]="Y",Yi),W1e="\u2212",$1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QI=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},w6=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(QI(arguments[t]));return n},b6=function(n){return n},x6=function(n){function t(){var e=n.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=b6,e.basePow=b6,e.log=function(r){return e.domain[0]>=0?e.baseLog(r):-e.baseLog(-r)},e.pow=function(r){return e.domain[0]>=0?e.basePow(r):-e.basePow(-r)},e}return $1e(t,n),t.prototype.toDomain=function(e){return e},t.prototype.transform=function(e){return this.domain[0]>=0?Math.log(e):-Math.log(-e)},t.prototype.transformInvert=function(e){return this.domain[0]>=0?Math.exp(e):-Math.exp(-e)},t.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},t.prototype.updateLogFn=function(){var r,e=this.base;if(10===e)r=Math.log10;else if(e===Math.E)r=Math.log;else if(2===e)r=Math.log2;else{var i=Math.log(e);r=function(o){return Math.log(o)/i}}this.baseLog=r},t.prototype.updatePowFn=function(){var r,e=this.base;r=10===e?t.pow10:e===Math.E?Math.exp:function(i){return Math.pow(e,i)},this.basePow=r},t.prototype.updateNiceDomain=function(){var e=QI(this.domain,2),i=e[1],o=this.pow(Math.floor(this.log(e[0]))),a=this.pow(Math.ceil(this.log(i)));this.niceDomain=[o,a]},t.pow10=function(e){return e>=0?Math.pow(10,e):1/Math.pow(10,-e)},t.prototype.ticks=function(){var r,e=this,i=null!==(r=this.tickCount)&&void 0!==r?r:10;if(!this.domain||this.domain.length<2||i<1)return[];this.refresh();var o=this.base,a=QI(this.getDomain(),2),s=a[0],l=a[1],u=this.log(s),c=this.log(l);if(this.interval){var d=Math.abs(this.interval),h=Math.abs(c-u),p=AS(u,c,Math.min(h,d)).map(function(ie){return e.pow(ie)}).filter(function(ie){return ie>=s&&ie<=l});if(!this.isDenseInterval({start:s,stop:l,interval:d,count:p.length}))return p}if(o%1!=0||c-u>=i)return zI(u,c,Math.min(c-u,i)).map(function(ie){return e.pow(ie)});var _=[],C=s>0;u=Math.floor(u)-1,c=Math.round(c)+1;for(var w=Math.min.apply(Math,w6(this.range)),E=(Math.max.apply(Math,w6(this.range))-w)/i,S=1/0,O=u;O<=c;O++)for(var R=this.convert(this.pow(O+1)),D=1;D<o;D++){var P=C?D:o-D+1,M=this.pow(O)*P,B=this.convert(M),I=Math.abs(S-B),U=Math.abs(B-R);M>=s&&M<=l&&(1===D||I>=E&&U>=E)&&(_.push(M),S=B)}return _},t.prototype.tickFormat=function(e){var r=this,i=e.count,o=e.ticks,a=e.specifier,s=this.base;if(null==a&&(a=10===s?".0e":","),"function"!=typeof a&&(a=v6(a)),i===1/0)return a;null==i&&(i=10),o=o??this.ticks();var l=Math.max(1,s*i/o.length);return function(u){var c=u/r.pow(Math.round(r.log(u)));return c*s<s-.5&&(c*=s),c<=l?a(u):""}},function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([V(et(0))],t.prototype,"base",void 0),t}(tr);function Ep(n,t){return void 0===t&&(t=[void 0]),jg(function(e,r,i){return t.includes(i)?n:i})}function JI(){return function(n,t){var e=["Property ["+n+"] is deprecated.",t].filter(function(r){return null!=r}).join(" ");Dt.warnOnce(e)}}function Y1e(n,t){var e=t?.default,r=JI();return jg(function(i,o,a){return a!==e&&r(o.toString(),n),a})}function qg(n,t){var e=JI();return jg(function(r,i,o){return o!==r[n]&&(e(i.toString(),"Use ["+n+"] instead."),r[n]=t?t(o):o),ES},function(r,i){return e(i.toString(),"Use ["+n+"] instead."),r[n]})}var bn=(()=>(function(n){n.X="x",n.Y="y"}(bn||(bn={})),bn))(),Xg=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ss=function(){function n(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return n.prototype.getFont=function(){return YI(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Xg([V(Ir)],n.prototype,"enabled",void 0),Xg([V(et(0))],n.prototype,"fontSize",void 0),Xg([V(Kn)],n.prototype,"fontFamily",void 0),Xg([V(Ug)],n.prototype,"fontStyle",void 0),Xg([V(zg)],n.prototype,"fontWeight",void 0),Xg([V(ql)],n.prototype,"color",void 0),n}();function eF(n){var t=n.parallelFlipRotation,e=void 0===t?0:t,r=n.regularFlipRotation,i=void 0===r?0:r,o=n.rotation?Qa(kf(n.rotation)):0,a=!o&&e>=0&&e<=Math.PI?-1:1,s=!o&&i>=0&&i<=Math.PI?-1:1,l=0;return n.parallel?l=a*Math.PI/2:-1===s&&(l=Math.PI),{labelRotation:o,autoRotation:l,parallelFlipFlag:a,regularFlipFlag:s}}var Cr=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},BS=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(tF(arguments[t]));return n},q1e=Mt(function(n,t){return et(0)(n,t)||n instanceof Hg},"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),X1e=Mt(function(n,t){return $r(n,t,q1e)},"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Z1e=Mt(function(n,t){return $r(n,t,function(e,r){return 0!==e&&et(0)(e,r)||e instanceof Hg})},"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Q1e=["stroke","lineDash"],J1e=Mt(Mf(void 0,function(n){for(var t in n)if(!Q1e.includes(t))return!1;return!0}),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Sp=(()=>(function(n){n[n.TickLine=0]="TickLine",n[n.TickLabel=1]="TickLabel",n[n.GridLine=2]="GridLine",n[n.GridArc=3]="GridArc",n[n.AxisLine=4]="AxisLine"}(Sp||(Sp={})),Sp))(),E6=function(){function n(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return Cr([V(et(0))],n.prototype,"width",void 0),Cr([V(ai)],n.prototype,"color",void 0),n}(),eAe=function(){function n(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return Cr([V(et(0))],n.prototype,"width",void 0),Cr([V(et(0))],n.prototype,"size",void 0),Cr([V(ai)],n.prototype,"color",void 0),Cr([V(X1e),Y1e("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],n.prototype,"count",void 0),Cr([V(Z1e)],n.prototype,"interval",void 0),Cr([V(WI())],n.prototype,"values",void 0),Cr([V(If(yp(1),DS("maxSpacing"))),Ep(NaN)],n.prototype,"minSpacing",void 0),Cr([V(If(yp(1),RS("minSpacing"))),Ep(NaN)],n.prototype,"maxSpacing",void 0),n}(),S6=function(){function n(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return Cr([V(Ug)],n.prototype,"fontStyle",void 0),Cr([V(zg)],n.prototype,"fontWeight",void 0),Cr([V(et(1))],n.prototype,"fontSize",void 0),Cr([V(Kn)],n.prototype,"fontFamily",void 0),Cr([V(et(0))],n.prototype,"padding",void 0),Cr([V(yp()),Ep(NaN)],n.prototype,"minSpacing",void 0),Cr([V(ai)],n.prototype,"color",void 0),Cr([V(yr(-360,360))],n.prototype,"rotation",void 0),Cr([V(_p)],n.prototype,"autoRotate",void 0),Cr([V(et(-360,360))],n.prototype,"autoRotateAngle",void 0),Cr([V(Ir)],n.prototype,"avoidCollisions",void 0),Cr([V(Ir)],n.prototype,"mirrored",void 0),Cr([V(Ir)],n.prototype,"parallel",void 0),Cr([V(Kr)],n.prototype,"format",void 0),n}(),tAe=function(){function n(t){this.id=Pf(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new cn({name:this.id+"-axis",zIndex:Ci.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Xc),this.tickLineGroup=this.axisGroup.appendChild(new cn({name:this.id+"-Axis-tick-lines",zIndex:Ci.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new cn({name:this.id+"-Axis-tick-labels",zIndex:Ci.AXIS_ZINDEX})),this.crossLineGroup=new cn({name:this.id+"-CrossLines"}),this.gridGroup=new cn({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new cn({name:this.id+"-gridLines",zIndex:Ci.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new cn({name:this.id+"-gridArcs",zIndex:Ci.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=yi.select(this.tickLineGroup,Xc),this.tickLabelGroupSelection=yi.select(this.tickLabelGroup,ca),this.gridLineGroupSelection=yi.select(this.gridLineGroup,Xc),this.gridArcGroupSelection=yi.select(this.gridArcGroup,d6),this._crossLines=[],this.line=new E6,this.tick=new eAe,this.label=new S6,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{align:"center",baseline:"middle",rotation:0,fractionDigits:0}},this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(n.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var r,i,e=this;null===(r=this._crossLines)||void 0===r||r.forEach(function(o){return e.detachCrossLine(o)}),this._crossLines=t,null===(i=this._crossLines)||void 0===i||i.forEach(function(o){e.attachCrossLine(o),e.initCrossLine(o)})},enumerable:!1,configurable:!0}),n.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},n.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},n.prototype.destroy=function(){},n.prototype.refreshScale=function(){var e,t=this;this.requestedRange=this.scale.range.slice(),null===(e=this.crossLines)||void 0===e||e.forEach(function(r){t.initCrossLine(r)})},n.prototype.updateRange=function(){var t,e=this,r=e.requestedRange,i=e.visibleRange,a=(r[1]-r[0])/(i[1]-i[0]),l=r[0]-a*i[0];e.scale.range=[l,l+a],null===(t=this.crossLines)||void 0===t||t.forEach(function(u){u.clippedRange=[r[0],r[1]]})},n.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},n.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},n.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},n.prototype.inRange=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=0),0===this.inRangeEx(t,e,r)},n.prototype.inRangeEx=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=this.range,o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return t+e<o-r?-1:t>a+r?1:0},Object.defineProperty(n.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=tF(t,2),r=e[0],i=e[1];r=Math.max(0,r),i=Math.min(1,i),r=Math.min(r,i),i=Math.max(r,i),this._visibleRange=[r,i],this.updateRange()}},enumerable:!1,configurable:!0}),n.prototype.onLabelFormatChange=function(t,e){var i=this.scale,o=this.fractionDigits,s=!(i instanceof x6)&&o>0?function(l){return"number"==typeof l?l.toFixed(o):String(l)}:function(l){return String(l)};if(e&&i&&i.tickFormat)try{this.labelFormatter=i.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=s,Dt.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=s},Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.axisGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.axisGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),n.prototype.setDomain=function(){var t,e=this,r=e.scale,i=e.dataDomain,o=e.tick.values;if(o&&r instanceof tr){var a=tF(null!==(t=ua(o))&&void 0!==t?t:[1/0,-1/0],2),s=a[0],l=a[1],u=Math.min(r.fromDomain(i[0]),s),c=Math.max(r.fromDomain(i[1]),l);r.domain=[r.toDomain(u),r.toDomain(c)]}else r.domain=i},n.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},n.prototype.setTickCount=function(t,e,r){var i=this.scale;if(t&&i instanceof tr){if("number"==typeof t)return i.tickCount=t,i.minTickCount=e??0,void(i.maxTickCount=r??1/0);i instanceof a6&&this.setTickInterval(t)}},Object.defineProperty(n.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var r,e=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(r=this.crossLines)||void 0===r||r.forEach(function(i){e.initCrossLine(i)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),n.prototype.update=function(t){var e,r;this.calculateDomain();var i=this,o=i.scale,a=i.gridLength,s=i.tick,l=i.label,u=l.parallel,c=l.mirrored,d=l.avoidCollisions,h=i.requestedRange,p=Math.min.apply(Math,BS(h)),m=Math.max.apply(Math,BS(h)),v=kf(this.rotation),_=this.isAnySeriesActive(),C=c?1:-1,w=Qa(v),b=Qa(v-Math.PI/2),E=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),o instanceof tr&&(o.nice=E,this.setTickCount(this.tick.count),o.update());var S=(o.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var O=0,R=!0,D=[],P=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),M=P.maxTickCount,B=P.minTickCount,I=P.defaultTickCount,U=o instanceof tr,le=void 0!==t,ie=d&&void 0===this.tick.interval&&void 0===this.tick.values,te=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),J=this.tick.count||!U||isNaN(M)?10:M;R;){for(var ce=!0,de=function(){if(O>J)return"break";var at=D,vt=Math.max(I-O,B),Rt=ie&&!(U&&void 0===_e.tick.count)&&(te||0!==O);if(_e.tick.values?D=_e.tick.values:0===M?D=[]:(0===O||!Rt)&&(_e.setTickCount(null!==(e=_e.tick.count)&&void 0!==e?e:vt,B,M),D=o.ticks()),Rt){var Ct=te?Math.ceil(D.length/vt):2;D=D.filter(function(mn,bi){return bi%Ct==0})}var Qe=void 0;le&&(Qe=_e.updateSecondaryAxisTicks(t),D=Qe),_e.updateSelections({halfBandwidth:S,gridLength:a,ticks:D}),!le&&D.length>0&&(t=D.length),ce=!!ie&&P1e(D,at),O++},_e=this;ce&&"break"!==de(););if(ce)break;this.onLabelFormatChange(D,this.label.format);var G=this.updateLabels({parallelFlipRotation:w,regularFlipRotation:b,sideFlag:C,tickLabelGroupSelection:this.tickLabelGroupSelection,ticks:D}),re=G.labelData,X=this.getLabelSpacing(G.rotated);R=!!ie&&h6(re,X)}this.updateGridLines({gridLength:a,halfBandwidth:S,sideFlag:C});var ge=!1,Ee=function(at){var vt=Math.floor(p),Rt=Math.ceil(m);if(vt!==Rt){at.translationY>=vt-1&&at.translationY<vt&&(at.translationY=vt),at.translationY>Rt&&at.translationY<=Rt+1&&(at.translationY=Rt);var Ct=at.translationY>=vt&&at.translationY<=Rt;Ct&&(ge=!0),at.visible=Ct}else at.visible=!1},ye=this.gridArcGroupSelection,st=this.tickLineGroupSelection,K=this.tickLabelGroupSelection;return this.gridLineGroupSelection.each(Ee),ye.each(Ee),st.each(Ee),K.each(Ee),this.tickLineGroup.visible=ge,this.tickLabelGroup.visible=ge,this.gridLineGroup.visible=ge,this.gridArcGroup.visible=ge,null===(r=this.crossLines)||void 0===r||r.forEach(function(at){at.sideFlag=-C,at.direction=v===-Math.PI/2?bn.X:bn.Y,at.label.parallel=void 0!==at.label.parallel?at.label.parallel:u,at.parallelFlipRotation=w,at.regularFlipRotation=b,at.update(_)}),this.updateTitle({ticks:D}),st.each(function(at){at.strokeWidth=s.width,at.stroke=s.color,at.visible=ge,at.x1=C*s.size,at.x2=0,at.y1=0,at.y2=0}),t},n.prototype.estimateTickCount=function(t){var e=t.minSpacing,r=t.maxSpacing,i=this.requestedRange,o=Math.min.apply(Math,BS(i)),s=Math.max.apply(Math,BS(i))-o,l=Math.max(n.defaultTickMinSpacing,s/tr.defaultMaxTickCount);isNaN(e)&&isNaN(r)?(e=l)>(r=s)&&(r=e):isNaN(e)?(e=l)>r&&(e=r):isNaN(r)&&e>(r=s)&&(r=e);var u=Math.max(1,Math.floor(s/e)),c=Math.min(u,Math.ceil(s/r)),d=tr.defaultTickCount;return d>u?d=u:d<c&&(d=c),{minTickCount:c,maxTickCount:u,defaultTickCount:d}},n.prototype.getLabelSpacing=function(t){var e=this.label;return isNaN(e.minSpacing)?t?0:10:e.minSpacing},n.prototype.calculateDomain=function(){},n.prototype.updatePosition=function(){var t=this,e=t.label,r=t.crossLineGroup,i=t.axisGroup,o=t.gridGroup,a=t.translation,s=t.gridLineGroupSelection,l=t.gridPadding,u=t.gridLength,c=kf(this.rotation),d=e.mirrored?1:-1,h=Math.floor(a.x),p=Math.floor(a.y);r.translationX=h,r.translationY=p,r.rotation=c,i.translationX=h,i.translationY=p,i.rotation=c,o.translationX=h,o.translationY=p,o.rotation=c,s.each(function(m){m.x1=l,m.x2=-d*u+l,m.y1=0,m.y2=0})},n.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},n.prototype.updateSelections=function(t){var r=t.halfBandwidth,i=t.gridLength,o=this.scale,a=t.ticks.map(function(h){return{tick:h,translationY:o.convert(h)+r}}),s=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(i?a:[],function(h){var p=new Xc;p.tag=Sp.GridLine,h.append(p)}),l=this.radialGrid?this.gridArcGroupSelection.update(i?a:[],function(h){var p=new d6;p.tag=Sp.GridArc,h.append(p)}):this.gridArcGroupSelection,u=this.tickLineGroupSelection.update(a,function(h){var p=new Xc;p.tag=Sp.TickLine,h.appendChild(p)}),c=this.tickLabelGroupSelection.update(a,function(h){var p=new ca;p.tag=Sp.TickLabel,h.appendChild(p)}),d=function(h){return h.translationY=Math.round(h.datum.translationY)};s.each(d),l.each(d),u.each(d),c.each(d),this.tickLineGroupSelection=u,this.tickLabelGroupSelection=c,this.gridLineGroupSelection=s,this.gridArcGroupSelection=l},n.prototype.updateGridLines=function(t){var e=t.gridLength,r=t.halfBandwidth,i=t.sideFlag,o=this,a=o.gridStyle,s=o.scale,l=o.tick,u=o.gridPadding;if(e&&a.length){var c=a.length,d=void 0;if(this.radialGrid){var h=kS(kf(e));d=this.gridArcGroupSelection.each(function(p,m){var v=Math.round(s.convert(m)+r);p.centerX=0,p.centerY=s.range[0]-v,p.endAngle=h,p.radius=v})}else d=this.gridLineGroupSelection.each(function(p){p.x1=u,p.x2=-i*e+u,p.y1=0,p.y2=0});d.each(function(p,m,v){var _=a[v%c];p.stroke=_.stroke,p.strokeWidth=l.width,p.lineDash=_.lineDash,p.fill=void 0})}},n.prototype.updateLabels=function(t){var e=this,r=t.ticks,i=t.tickLabelGroupSelection,o=t.sideFlag,l=this,u=l.label,c=l.label,d=c.parallel,p=l.tick,m=0,v=eF({rotation:c.rotation,parallel:d,regularFlipRotation:t.regularFlipRotation,parallelFlipRotation:t.parallelFlipRotation}),_=v.autoRotation,C=v.labelRotation,w=v.parallelFlipFlag,b=v.regularFlipFlag;this.fractionDigits=r.fractionDigits>=0?r.fractionDigits:0;var E=new Map,S=o*(p.size+u.padding+this.seriesAreaPadding),O=new Af;Af.updateTransformMatrix(O,1,1,_,0,0);var R=[],D=i.each(function(J,ce,de){var _e=ce.tick,ue=ce.translationY;J.fontStyle=u.fontStyle,J.fontWeight=u.fontWeight,J.fontSize=u.fontSize,J.fontFamily=u.fontFamily,J.fill=u.color,J.text=e.formatTickDatum(_e,de);var G=""===J.text||null==J.text,re=J.computeBBox(),W=re.width,X=re.height,ge=new Zn(S,ue,0,0);O.transformBBox(ge,re);var Ee=re.x,Ve=void 0===Ee?0:Ee,he=re.y,ye=void 0===he?0:he;re.width=W,re.height=X,E.set(de,G?null:re),!G&&R.push({point:{x:Ve,y:ye,size:0},label:{width:W,height:X,text:""}})}),P=this.getLabelSpacing(),M=h6(R,P);void 0===u.rotation&&!0===u.autoRotate&&M&&(m=Qa(kf(u.autoRotateAngle)));var B="middle";d&&!C&&(B=o*w==-1?"hanging":"bottom");var I=C>0&&C<=Math.PI,U=m>0&&m<=Math.PI,ie="start";d?C||m?o*(I||U?-1:1)==-1&&(ie="end"):ie="center":o*b==-1&&(ie="end");var te=_+C+m;return te&&Af.updateTransformMatrix(O,1,1,te,0,0),R=[],D.each(function(J,ce,de){if(""!==J.text&&null!=J.text){J.textBaseline=B,J.textAlign=ie,J.x=S,J.rotationCenterX=S,J.rotation=te;var _e=E.get(de);if(_e){J.visible=!0;var ue=_e.width,G=void 0===ue?0:ue,re=_e.height,W=void 0===re?0:re,ge=new Zn(S,ce.translationY,0,0);O.transformBBox(ge,_e);var Ee=_e.x,he=_e.y;R.push({point:{x:void 0===Ee?0:Ee,y:void 0===he?0:he,size:0},label:{width:G,height:W,text:J.text}})}}else J.visible=!1}),this.layout.label={align:ie,baseline:B,rotation:te,fractionDigits:this.fractionDigits},{labelData:R,rotated:!(!C&&!m)}},n.prototype.updateLine=function(){var e=this.lineNode,r=this.requestedRange;e.x1=0,e.x2=0,e.y1=r[0],e.y2=r[1],e.strokeWidth=this.line.width,e.stroke=this.line.color,e.visible=!0},n.prototype.updateTitle=function(t){var e=t.ticks,r=this,o=r.rotation,a=r.title,l=r.requestedRange,u=r.tickLineGroup,c=r.tickLabelGroup;if(a){var d=!1;if(a.enabled&&r.lineNode.visible){d=!0;var h=r.label.mirrored?1:-1,p=Qa(o),m=N0.PADDING,v=a.node,_=-1===h&&p>Math.PI&&p<2*Math.PI?-1:1;v.rotation=_*h*Math.PI/2,v.x=Math.floor(_*h*(l[0]+l[1])/2);var C=0;if(e?.length>0){var w=cn.computeBBox([u,c]),b=0===o?w.width:w.height;Math.abs(b)<1/0&&(C+=b)}v.y=-1===h?Math.floor(_*(-m-C)):Math.floor(-m-C),v.textBaseline=1===_?"bottom":"top"}a.node.visible=d}},n.prototype.formatTickDatum=function(t,e){var r=this,i=r.label,o=r.labelFormatter,a=r.fractionDigits;return i.formatter?i.formatter({value:a>0?t:String(t),index:e,fractionDigits:a,formatter:o}):o?o(t):String(t)},n.prototype.formatDatum=function(t){return String(t)},n.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},n.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},n.prototype.isAnySeriesActive=function(){return!1},n.prototype.clipTickLines=function(t,e,r,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Zn(t,e,r,i))},n.prototype.clipGrid=function(t,e,r,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new Zn(t,e,r,i))},n.defaultTickMinSpacing=50,Cr([V(Ir)],n.prototype,"nice",void 0),Cr([V(J1e)],n.prototype,"gridStyle",void 0),Cr([V(et(0))],n.prototype,"thickness",void 0),n}(),nAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},B0=function(n){function t(){var e=n.call(this,[0,1],[0,1])||this;return e.type="linear",e}return nAe(t,n),t.prototype.toDomain=function(e){return e},t.prototype.ticks=function(){var e,r=null!==(e=this.tickCount)&&void 0!==e?e:tr.defaultTickCount;if(!this.domain||this.domain.length<2||r<1||this.domain.some(function(u){return!isFinite(u)}))return[];this.refresh();var i=nF(this.getDomain(),2),o=i[0],a=i[1],s=this.interval;if(s){var l=Math.abs(s);if(!this.isDenseInterval({start:o,stop:a,interval:l}))return AS(o,a,l)}return zI(o,a,r,this.minTickCount,this.maxTickCount)},t.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},t.prototype.updateNiceDomain=function(){var e,r,i=null!==(e=this.tickCount)&&void 0!==e?e:tr.defaultTickCount,o=nF(this.domain,2),a=o[0],s=o[1];if(i<1)this.niceDomain=[a,s];else if(1!==i){for(var u=a,c=s,d=0;d<4;d++){var h=null!==(r=this.interval)&&void 0!==r?r:F0(a,s,i,this.minTickCount,this.maxTickCount),p=nF(this.domain,2),m=p[0],v=p[1];if(h>=1)a=Math.floor(m/h)*h,s=Math.ceil(v/h)*h;else{var _=1/h;a=Math.floor(m*_)/_,s=Math.ceil(v*_)/_}if(a===u&&s===c)break;u=a,c=s}this.niceDomain=[a,s]}else this.niceDomain=function l1e(n,t){var e=Math.floor(Math.log10(t-n)),r=Math.pow(10,e);return e6.map(function(i){var o=i*r,a=Math.floor(n/o)*o,s=Math.ceil(t/o)*o;return{error:1-(t-n)/(s-a),domain:[a,s]}}).sort(function(i,o){return i.error-o.error})[0].domain}(a,s)},t.prototype.tickFormat=function(e){var i=e.specifier;return function z1e(n,t){var e=g6(t||",f");isNaN(e.precision)&&("f"===e.type||"%"===e.type?e.precision=Math.max.apply(Math,p6(n.map(function(i){if("number"!=typeof i||0===i)return 0;var o=Math.floor(Math.log10(Math.abs(i))),s=i.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e"),l=s.indexOf(".");if(l<0)return o>=0?0:-o;var u=s.indexOf("e")-l;return Math.max(0,u-o-1)}))):(!e.type||e.type in Es)&&(e.precision=Math.max.apply(Math,p6(n.map(function(i){if("number"!=typeof i)return 0;var o=i.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return o.substring(0,o.indexOf("e")).replace(".","").length})))));var r=v6(e);return function(i){return r(Number(i))}}(e.ticks||this.ticks(),i)},t}(tr),rAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),G0=function(){return G0=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},G0.apply(this,arguments)},D6=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R6=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function T6(n){return n===bn.X?bn.Y:bn.X}var GS=function(n){function t(e,r){var i=n.call(this,r)||this;return i.moduleCtx=e,i.keys=[],i.direction=bn.Y,i.boundSeries=[],i.includeInvisibleDomains=!1,i.modules={},i._position="left",i}return rAe(t,n),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),t.prototype.useCalculatedTickCount=function(){return this.scale instanceof B0},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e){switch(this._position=e,e){case"top":this.direction=bn.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=bn.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=bn.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=bn.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=e,this.axisContext.direction=this.direction)}},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,r=this,i=r.direction,o=r.boundSeries,a=r.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var s=[];o.filter(function(u){return a||u.isEnabled()}).forEach(function(u){s.push(u.getDomain(i))});var l=(e=new Array).concat.apply(e,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(R6(arguments[t]));return n}(s));this.dataDomain=this.normaliseDataDomain(l)}},t.prototype.normaliseDataDomain=function(e){return e},t.prototype.isAnySeriesActive=function(){var e=this;return this.boundSeries.some(function(r){return e.includeInvisibleDomains||r.isEnabled()})},t.prototype.getLayoutState=function(){return G0({rect:this.computeBBox()},this.layout)},t.prototype.addModule=function(e){var r=this;if(null!=this.modules[e.optionsKey])throw new Error("AG Charts - module already initialised: "+e.optionsKey);null==this.axisContext&&(this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof tr,scaleConvert:function(o){return r.scale.convert(o)},scaleInvert:function(o){var a,s,l;return null!==(l=null===(s=(a=r.scale).invert)||void 0===s?void 0:s.call(a,o))&&void 0!==l?l:void 0}});var i=e.initialiseModule(G0(G0({},this.moduleCtx),{parent:this.axisContext}));this.modules[e.optionsKey]=i,this[e.optionsKey]=i.instance},t.prototype.removeModule=function(e){var r,i;null===(i=null===(r=this.modules[e.optionsKey])||void 0===r?void 0:r.instance)||void 0===i||i.destroy(),delete this.modules[e.optionsKey],delete this[e.optionsKey]},t.prototype.isModuleEnabled=function(e){return null!=this.modules[e.optionsKey]},t.prototype.destroy=function(){var e,r;n.prototype.destroy.call(this);try{for(var i=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(this.modules)),o=i.next();!o.done;o=i.next()){var a=R6(o.value,2),s=a[0];a[1].instance.destroy(),delete this.modules[s],delete this[s]}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},D6([V(I0)],t.prototype,"keys",void 0),D6([V(Qz)],t.prototype,"_position",void 0),t}(tAe),aAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),O6=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rF=function(n){function t(e){var r=n.call(this,e,new a6)||this;r.datumFormat="%m/%d/%y, %H:%M:%S",r.min=void 0,r.max=void 0;var i=r.scale;return i.strictClampByDefault=!0,r.refreshScale(),r.datumFormatter=i.tickFormat({specifier:r.datumFormat}),r}return aAe(t,n),t.prototype.normaliseDataDomain=function(e){var i=this.min,o=this.max;return"number"==typeof i&&(i=new Date(i)),"number"==typeof o&&(o=new Date(o)),e.length>2&&(e=(ua(e)||[0,1e3]).map(function(a){return new Date(a)})),i instanceof Date&&(e=[i,e[1]]),o instanceof Date&&(e=[e[0],o]),e[0]>e[1]&&(e=[]),e},t.prototype.onLabelFormatChange=function(e,r){r?n.prototype.onLabelFormatChange.call(this,e,r):this.labelFormatter=this.scale.tickFormat({ticks:e})},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",O6([V(If(qz,DS("max")))],t.prototype,"min",void 0),O6([V(If(qz,RS("min")))],t.prototype,"max",void 0),t}(GS),iF=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ja=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A6=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P6=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Li=(()=>(function(n){n[n.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",n[n.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",n[n.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",n[n.NEAREST_NODE=3]="NEAREST_NODE"}(Li||(Li={})),Li))(),lAe=JI(),V0=function(){function n(t,e,r){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=r.id,this._series=r}return Object.defineProperty(n.prototype,"series",{get:function(){return lAe("series","Use seriesId to get the series ID"),this._series},enumerable:!1,configurable:!0}),n}(),cAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return iF(t,n),t}(V0),dAe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return iF(t,n),t}(V0),fAe=function(){function n(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return Ja([V(ai)],n.prototype,"fill",void 0),Ja([V(yr(0,1))],n.prototype,"fillOpacity",void 0),Ja([V(ai)],n.prototype,"stroke",void 0),Ja([V(yr(0))],n.prototype,"strokeWidth",void 0),n}(),hAe=function(){function n(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return Ja([V(yr(0))],n.prototype,"strokeWidth",void 0),Ja([V(yr(0,1))],n.prototype,"dimOpacity",void 0),Ja([V(_p)],n.prototype,"enabled",void 0),n}(),pAe=function(){function n(){this.color="black"}return Ja([V(ai)],n.prototype,"color",void 0),n}(),oF=function n(){this.item=new fAe,this.series=new hAe,this.text=new pAe},Dp=function(){function n(){this.enabled=!0}return Ja([V(Ir)],n.prototype,"enabled",void 0),n}(),VS=function(n){function t(e){var r=void 0===e?{}:e,i=r.useSeriesGroupLayer,o=void 0===i||i,a=r.useLabelLayer,s=void 0!==a&&a,l=r.pickModes,u=void 0===l?[Li.NEAREST_BY_MAIN_AXIS_FIRST]:l,c=r.directionKeys,d=void 0===c?{}:c,h=n.call(this)||this;h.id=Pf(h),h.rootGroup=new cn({name:"seriesRoot"}),h.directions=[bn.X,bn.Y],h.nodeDataRefresh=!0,h._data=void 0,h._visible=!0,h.showInLegend=!0,h.cursor="default",h.nodeClickRange="exact",h._declarationOrder=-1,h.highlightStyle=new oF;var p=h.rootGroup;return h.directionKeys=d,h.contentGroup=p.appendChild(new cn({name:h.id+"-content",layer:o,zIndex:Ci.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},0]})),h.highlightGroup=p.appendChild(new cn({name:h.id+"-highlight",layer:!0,zIndex:Ci.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},15e3]})),h.highlightNode=h.highlightGroup.appendChild(new cn({name:"highlightNode"})),h.highlightLabel=h.highlightGroup.appendChild(new cn({name:"highlightLabel"})),h.highlightNode.zIndex=0,h.highlightLabel.zIndex=10,h.pickModes=u,s&&(h.labelGroup=p.appendChild(new cn({name:h.id+"-series-labels",layer:!0,zIndex:Ci.SERIES_LABEL_ZINDEX}))),h}return iF(t,n),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),t.prototype.hasData=function(){var e=this.data;return e&&(!Array.isArray(e)||e.length>0)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.visibleChanged()},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),t.prototype.getKeys=function(e){var r=this,i=this.directionKeys,o=this.resolveKeyDirection(e),a=i&&i[o],s=[],l=function(){for(var c,d,h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];try{for(var m=A6(h),v=m.next();!v.done;v=m.next())u(v.value)}catch(C){c={error:C}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(c)throw c.error}}},u=function(c){Array.isArray(c)?l.apply(void 0,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(P6(arguments[t]));return n}(c)):s.push(c)};return a&&a.forEach(function(c){var d=r[c];d&&u(d)}),s},t.prototype.resolveKeyDirection=function(e){return e},t.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},t.prototype.visibleChanged=function(){},t.prototype.getOpacity=function(e){var r=this.highlightStyle.series,i=r.dimOpacity,o=void 0===i?1:i,a=r.enabled;if(!1===(void 0===a||a)||1===o)return 1;switch(this.isItemIdHighlighted(e)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return o}},t.prototype.getStrokeWidth=function(e,r){var i=this.highlightStyle.series,o=i.strokeWidth,a=i.enabled;if(!1===(void 0===a||a)||void 0===o)return e;switch(this.isItemIdHighlighted(r)){case"highlighted":return o;case"no-highlight":case"other-highlighted":case"peer-highlighted":return e}},t.prototype.isItemIdHighlighted=function(e){var r,i=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),o=i??{},a=o.series,s=o.itemId;return null!=a?a!==this?"other-highlighted":void 0===s?"highlighted":e&&i!==e&&s!==e.itemId?"peer-highlighted":"highlighted":"no-highlight"},t.prototype.pickNode=function(e,r){var i,o,a=this,s=a.pickModes;if(a.visible&&a.rootGroup.visible)try{for(var c=A6(s),d=c.next();!d.done;d=c.next()){var h=d.value;if(!r||r.includes(h)){var p=void 0;switch(h){case Li.EXACT_SHAPE_MATCH:p=this.pickNodeExactShape(e);break;case Li.NEAREST_BY_MAIN_AXIS_FIRST:case Li.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:p=this.pickNodeMainAxisFirst(e,h===Li.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case Li.NEAREST_NODE:p=this.pickNodeClosestDatum(e)}if(p)return{pickMode:h,match:p.datum,distance:p.distance}}}}catch(m){i={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},t.prototype.pickNodeExactShape=function(e){var r=this.contentGroup.pickNode(e.x,e.y);if(r)return{datum:r.datum,distance:0}},t.prototype.pickNodeClosestDatum=function(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},t.prototype.pickNodeMainAxisFirst=function(e,r){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},t.prototype.fireNodeClickEvent=function(e,r){var i=this.getNodeClickEvent(e,r);this.fireEvent(i)},t.prototype.fireNodeDoubleClickEvent=function(e,r){var i=this.getNodeDoubleClickEvent(e,r);this.fireEvent(i)},t.prototype.getNodeClickEvent=function(e,r){return new cAe(e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new dAe(e,r,this)},t.prototype.toggleSeriesItem=function(e,r){this.visible=r,this.nodeDataRefresh=!0},t.prototype.isEnabled=function(){return this.visible},t.prototype.fixNumericExtent=function(e,r){if(void 0===e)return[];var i=P6(e,2),o=i[0],a=i[1];if(a=+a,0==(o=+o)&&0===a)return[0,1];if(o===1/0&&a===-1/0)return[];if(o===1/0&&(o=0),a===-1/0&&(a=0),o===a)if(r instanceof rF)o-=1,a+=1;else{var s=Math.abs(.01*o);o-=s,a+=s}return ll(o)&&ll(a)?[o,a]:[]},t.highlightedZIndex=1e12,Ja([V(Kn)],t.prototype,"id",void 0),Ja([V(Ir)],t.prototype,"_visible",void 0),Ja([V(Ir)],t.prototype,"showInLegend",void 0),Ja([V(Kn)],t.prototype,"cursor",void 0),Ja([V(Jz)],t.prototype,"nodeClickRange",void 0),t}(Uz),HS=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aF=function(){function n(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===r&&(r=t),void 0===i&&(i=e),this.top=t,this.right=e,this.bottom=r,this.left=i}return n.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},HS([V(et(0))],n.prototype,"top",void 0),HS([V(et(0))],n.prototype,"right",void 0),HS([V(et(0))],n.prototype,"bottom",void 0),HS([V(et(0))],n.prototype,"left",void 0),n}(),gAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vAe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.angle=0,e}return gAe(t,n),t.prototype.createGradient=function(e,r){var i=this.stops,o=this.angle%360*Math.PI/180,a=Math.cos(o),s=Math.sin(o),l=r.width,u=r.height,c=r.x+.5*l,d=r.y+.5*u;if(l>0&&u>0){var h=Math.sqrt(u*u+l*l)*Math.abs(Math.cos(o-Math.atan(u/l)))/2,p=e.createLinearGradient(c+a*h,d+s*h,c-a*h,d-s*h);return i.forEach(function(m){p.addColorStop(m.offset,m.color)}),p}return"black"},t}(function n(){this.stops=[]}),_Ae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rp=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zg=function(n){function t(){var e=n.call(this,function(r){return e.renderRect(r)})||this;return e.borderPath=new LS,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.gradient=!1,e.lastUpdatePathStrokeWidth=zu.defaultStyles.strokeWidth,e.effectiveStrokeWidth=zu.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return _Ae(t,n),t.prototype.updateGradientInstance=function(){var e=this.fill;if(this.gradient){if(e){var r=new vAe;r.angle=270,r.stops=[{offset:0,color:Yl.tryParseFromString(e).brighter().toString()},{offset:1,color:Yl.tryParseFromString(e).darker().toString()}],this.gradientInstance=r}}else this.gradientInstance=void 0;this.gradientFill=e},t.prototype.isDirtyPath=function(){var e;return!!(this.lastUpdatePathStrokeWidth!==this.strokeWidth||this.path.isDirty()||this.borderPath.isDirty()||null!==(e=this.clipPath)&&void 0!==e&&e.isDirty())},t.prototype.updatePath=function(){var e,r,i,o=this,a=o.path,s=o.borderPath,l=o.crisp,u=this,c=u.x,d=u.y,h=u.width,p=u.height,m=u.strokeWidth,_=1/(null!==(r=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==r?r:1),C=1;if(a.clear({trackChanges:!0}),s.clear({trackChanges:!0}),l&&(h<=_&&(C*=h/_),p<=_&&(C*=p/_),h=this.align(c,h),p=this.align(d,p),c=this.align(c),d=this.align(d)),m)if(h<_){var w=c+_/2;s.moveTo(w,d),s.lineTo(w,d+p),m=_,this.borderClipPath=void 0}else if(p<_){var b=d+_/2;s.moveTo(c,b),s.lineTo(c+h,b),m=_,this.borderClipPath=void 0}else if(m<h&&m<p){var E=m/2;c+=E,d+=E,h-=m,p-=m,this.borderClipPath=void 0,a.rect(c,d,h,p),s.rect(c,d,h,p)}else this.borderClipPath=null!==(i=this.borderClipPath)&&void 0!==i?i:new LS,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(c,d,h,p),s.rect(c,d,h,p);else this.borderClipPath=void 0,a.rect(c,d,h,p);this.effectiveStrokeWidth=m,this.lastUpdatePathStrokeWidth=m,this.microPixelEffectOpacity=C},t.prototype.computeBBox=function(){var e=this;return new Zn(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r);return this.computeBBox().containsPoint(i.x,i.y)},t.prototype.renderRect=function(e){var r,i,o=this,a=o.stroke,s=o.effectiveStrokeWidth,l=o.fill,u=o.path,c=o.borderPath,d=o.borderClipPath,h=o.opacity,p=o.microPixelEffectOpacity,m=!!a&&!!s;if(l){var v=this,C=v.fillOpacity,w=v.fillShadow;l!==v.gradientFill&&this.updateGradientInstance();var b=this.gradientInstance;if(e.fillStyle=b?b.createGradient(e,this.computeBBox()):l,e.globalAlpha=h*C*p,w&&w.enabled){var E=null!==(i=null===(r=this.layerManager)||void 0===r?void 0:r.canvas.pixelRatio)&&void 0!==i?i:1;e.shadowColor=w.color,e.shadowOffsetX=w.xOffset*E,e.shadowOffsetY=w.yOffset*E,e.shadowBlur=w.blur*E}u.draw(e),e.fill(),e.shadowColor="rgba(0, 0, 0, 0)"}if(m){var S=this,O=S.strokeOpacity,R=S.lineDash,D=S.lineDashOffset,P=S.lineCap,M=S.lineJoin;d&&(d.draw(e),e.clip()),c.draw(e),e.strokeStyle=a,e.globalAlpha=h*O*p,e.lineWidth=s,R&&e.setLineDash(R),D&&(e.lineDashOffset=D),P&&(e.lineCap=P),M&&(e.lineJoin=M),e.stroke()}},t.className="Rect",Rp([Sr()],t.prototype,"x",void 0),Rp([Sr()],t.prototype,"y",void 0),Rp([Sr()],t.prototype,"width",void 0),Rp([Sr()],t.prototype,"height",void 0),Rp([Sr()],t.prototype,"radius",void 0),Rp([Sr()],t.prototype,"crisp",void 0),Rp([Sr({changeCb:function(e){return e.updateGradientInstance()}})],t.prototype,"gradient",void 0),t}(wp),sF=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yAe=function(){function n(t){this.image=void 0,this.node=new cn,this.rectNode=new Zg,this.node.appendChild(this.rectNode),this.visible=!0,this.imageLoadCallback=t}return n.prototype.performLayout=function(t,e){this.rectNode.width=t,this.rectNode.height=e,this.image&&this.image.performLayout(t,e)},sF([V(Ir),Ki("node","visible")],n.prototype,"visible",void 0),sF([V(ai),Ki("rectNode","fill")],n.prototype,"fill",void 0),sF([Zc({newValue:function(t){this.node.appendChild(t.node),t.onload=this.imageLoadCallback},oldValue:function(t){this.node.removeChild(t.node),t.onload=void 0}})],n.prototype,"image",void 0),n}(),CAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lF=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lf=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return CAe(t,n),t.prototype.computeBBox=function(){var e=this,o=e.size,a=o/2;return new Zn(e.x-a,e.y-a,o,o)},t.prototype.applyPath=function(e,r){var i,o,a=this.path,l=this.x,u=this.y;a.clear();try{for(var c=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),d=c.next();!d.done;d=c.next()){var h=d.value;l+=h.x*e,u+=h.y*e,"move"===h.t?a.moveTo(l,u):a.lineTo(l,u)}}catch(_){i={error:_}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}a.closePath()},lF([Sr()],t.prototype,"x",void 0),lF([Sr()],t.prototype,"y",void 0),lF([Sr({convertor:Math.abs})],t.prototype,"size",void 0),t}(wp),bAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WS=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return bAe(t,n),t.prototype.updatePath=function(){var e=this,r=e.path,i=e.x,o=e.y,a=this.size/2;r.clear(),r.moveTo(this.align(i-a),this.align(o-a)),r.lineTo(this.align(i+a),this.align(o-a)),r.lineTo(this.align(i+a),this.align(o+a)),r.lineTo(this.align(i-a),this.align(o+a)),r.closePath()},t.className="Square",t}(Lf),xAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jl=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},M6=function(n){function t(){var e=n.call(this,{name:"markerLabelGroup"})||this;e.label=new ca,e._marker=new WS,e._markerSize=15,e._spacing=8;var r=e.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=uo.has.textMetrics?1:0,e.append([e.marker,r]),e.update(),e}return xAe(t,n),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!1,configurable:!0}),t.prototype.update=function(){var r=this.markerSize;this.marker.size=r,this.label.x=r/2+this.spacing},t.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,n.prototype.render.call(this,e)},t.className="MarkerLabel",Jl([Ki("label")],t.prototype,"text",void 0),Jl([Ki("label")],t.prototype,"fontStyle",void 0),Jl([Ki("label")],t.prototype,"fontWeight",void 0),Jl([Ki("label")],t.prototype,"fontSize",void 0),Jl([Ki("label")],t.prototype,"fontFamily",void 0),Jl([Ki("label","fill")],t.prototype,"color",void 0),Jl([Ki("marker","fill")],t.prototype,"markerFill",void 0),Jl([Ki("marker","stroke")],t.prototype,"markerStroke",void 0),Jl([Ki("marker","strokeWidth")],t.prototype,"markerStrokeWidth",void 0),Jl([Ki("marker","fillOpacity")],t.prototype,"markerFillOpacity",void 0),Jl([Ki("marker","strokeOpacity")],t.prototype,"markerStrokeOpacity",void 0),t}(cn),EAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uF=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return EAe(t,n),t.prototype.updatePath=function(){var e=this,r=e.x,i=e.y,o=e.path,s=e.size/2;o.clear(),o.arc(r,i,s,0,2*Math.PI),o.closePath()},t.className="Circle",t}(Lf),SAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),DAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SAe(t,n),t.prototype.updatePath=function(){n.prototype.applyPath.call(this,this.size/4.2,t.moves)},t.className="Cross",t.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],t}(Lf),RAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),TAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return RAe(t,n),t.prototype.updatePath=function(){n.prototype.applyPath.call(this,this.size/2,t.moves)},t.className="Diamond",t.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],t}(Lf),OAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return OAe(t,n),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,r=e.x,i=e.path,a=e.rad,s=e.size/4,l=this.y+s/2;i.clear(),i.arc(r-s,l-s,s,a(130),a(330)),i.arc(r+s,l-s,s,a(220),a(50)),i.lineTo(r,l+s),i.closePath()},t.className="Heart",t}(Lf),PAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),MAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return PAe(t,n),t.prototype.updatePath=function(){n.prototype.applyPath.call(this,this.size/3,t.moves)},t.className="Plus",t.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],t}(Lf),IAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),H0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return IAe(t,n),t.prototype.updatePath=function(){n.prototype.applyPath.call(this,1.1*this.size,t.moves)},t.className="Triangle",t.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],t}(Lf);function Qg(n){if(void 0===n&&(n=WS),"string"==typeof n)switch(n){case"circle":return uF;case"cross":return DAe;case"diamond":return TAe;case"heart":return AAe;case"plus":return MAe;case"triangle":return H0;default:return WS}return"function"==typeof n?n:WS}var Wn=(()=>(function(n){n[n.FULL=0]="FULL",n[n.PROCESS_DATA=1]="PROCESS_DATA",n[n.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",n[n.SERIES_UPDATE=3]="SERIES_UPDATE",n[n.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",n[n.SCENE_RENDER=5]="SCENE_RENDER",n[n.NONE=6]="NONE"}(Wn||(Wn={})),Wn))(),FAe=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function kAe(n){for(var t=n.orientation,e=n.bboxes,r=n.maxHeight,i=n.maxWidth,o=n.itemPaddingY,a=void 0===o?0:o,s=n.itemPaddingX,l=void 0===s?0:s,u=n.forceResult,c=void 0!==u&&u,d="horizontal"===t,h={max:d?i:r,fn:d?function(w){return w.width}:function(w){return w.height},padding:d?l:a},p={max:d?r:i,fn:d?function(w){return w.height}:function(w){return w.width},padding:d?a:l},m=0,v=[];m<e.length;){var C=LAe(e.slice(m),m,h,p,c);if(!C)return;m+=C.processedBBoxCount,v.push(C.pageIndices)}return function BAe(n,t,e,r,i){var o=0,a=0,s=n.map(function(l){"horizontal"===t&&(l=function GAe(n){var t,e,r=[];try{for(var i=FAe(n[0]),o=i.next();!o.done;o=i.next())r.push([])}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n.forEach(function(s,l){s.forEach(function(u,c){r[c][l]=u})}),r}(l));var u=0,c=l.map(function(p){var m=p.map(function(C){return u=Math.max(C,u),e[C]}),v=0,_=0;return m.forEach(function(C){v+=C.height+r,_=Math.max(_,C.width+i)}),{indices:p,bboxes:m,columnHeight:v,columnWidth:_}}),d=0,h=0;return c.forEach(function(p){d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),o=Math.max(d,o),a=Math.max(h,a),{columns:c,startIndex:l[0][0],endIndex:u,pageWidth:d,pageHeight:h}});return{pages:s,maxPageWidth:o,maxPageHeight:a}}(v,t,e,a,l)}function LAe(n,t,e,r,i){var a=function VAe(n,t){for(var e=n.length,r=0,i=0;i<e;i++)if((r+=t.fn(n[i])+t.padding)>t.max)return e/i<2?Math.ceil(e/2):i;return e}(n,e);if(a<1){if(!i)return;a=1}for(var s=a;s>=1;s--){var l=NAe(n,t,s,e,r,i);if(null==l&&s<=1)return;if(null!=l){if("number"==typeof l){if(l<=1)return;s=l<s&&l>1?l:s;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}}function NAe(n,t,e,r,i,o){for(var a,s=[],l=0,u=0,c=[],d=[],h=0;h<n.length;h++){var p=(h+e)%e;0===p&&(l+=u,u=0,c.length>0&&s.push(c),c=[]);var m=r.fn(n[h])+r.padding;if(d[p]=Math.max(null!==(a=d[p])&&void 0!==a?a:0,m),l+(u=Math.max(u,i.fn(n[h])+i.padding))>i.max&&(!o||s.length>0)){c=[];break}if(d.reduce(function(w,b){return w+b},0)>r.max&&!o)return d.length<e?d.length:void 0;c.push(h+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}var Ds=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HAe=function(){function n(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return Ds([V(ql)],n.prototype,"color",void 0),Ds([V(Ug)],n.prototype,"fontStyle",void 0),Ds([V(zg)],n.prototype,"fontWeight",void 0),Ds([V(et(0))],n.prototype,"fontSize",void 0),Ds([V(Kn)],n.prototype,"fontFamily",void 0),n}(),cF=function(){function n(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return Ds([V(et(0))],n.prototype,"size",void 0),Ds([V(ai)],n.prototype,"fill",void 0),Ds([V(yr(0,1))],n.prototype,"fillOpacity",void 0),Ds([V(ai)],n.prototype,"stroke",void 0),Ds([V(et(0))],n.prototype,"strokeWidth",void 0),Ds([V(et(0,1))],n.prototype,"strokeOpacity",void 0),n}(),WAe=function(){function n(){this.size=15,this._shape=H0,this.padding=8}return Object.defineProperty(n.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),Ds([V(et(0))],n.prototype,"size",void 0),Ds([V(et(0))],n.prototype,"padding",void 0),n}(),jAe=function(){function n(t,e,r,i){var o=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=r,this.cursorManager=i,this.id=Pf(this),this.group=new cn({name:"pagination"}),this.labelNode=new ca,this.marker=new WAe,this.activeStyle=new cF,this.inactiveStyle=new cF,this.highlightStyle=new cF,this.label=new HAe,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new H0,this._previousButton=new H0;var a=this.labelNode;a.textBaseline="middle",a.fontSize=12,a.fontFamily="Verdana, sans-serif",a.fill="black",a.y=uo.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,a]),this.interactionManager.addListener("click",function(s){return o.onPaginationClick(s)}),this.interactionManager.addListener("hover",function(s){return o.onPaginationMouseMove(s)}),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),n.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(t){"horizontal"===(this._orientation=t,t)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},n.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},n.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,r=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+r},n.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},n.prototype.updateLabel=function(){var t=this,i=t.labelNode,o=t.label,a=o.color,s=o.fontStyle,l=o.fontWeight,u=o.fontSize,c=o.fontFamily;i.text=t.currentPage+1+" / "+t.totalPages,i.fill=a,i.fontStyle=s,i.fontWeight=l,i.fontSize=u,i.fontFamily=c},n.prototype.updateMarkers=function(){var t=this,r=t.previousButton,o=t.previousButtonDisabled,a=t.activeStyle,s=t.inactiveStyle,l=t.highlightStyle,u=t.highlightActive,c=function(d,h){return h?s:d===u?l:a};this.updateMarker(t.nextButton,c("next",t.nextButtonDisabled)),this.updateMarker(r,c("previous",o))},n.prototype.updateMarker=function(t,e){var r;t.size=this.marker.size,t.fill=e.fill,t.fillOpacity=null!==(r=e.fillOpacity)&&void 0!==r?r:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},n.prototype.enableOrDisableButtons=function(){var e=this.currentPage,r=this.totalPages,i=0===r,a=0===e;this.nextButtonDisabled=e===r-1||i,this.previousButtonDisabled=a||i},n.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},n.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},n.prototype.onPaginationClick=function(t){var e=t.offsetX,r=t.offsetY;this.nextButtonContainsPoint(e,r)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,r)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},n.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,r=t.offsetY;this.nextButtonContainsPoint(e,r)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,r)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(Wn.SCENE_RENDER)},n.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},n.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},n.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},n.prototype.onMarkerShapeChange=function(){var t=Qg(this.marker.shape||H0);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(Wn.SCENE_RENDER)},n.prototype.attachPagination=function(t){t.append(this.group)},n.prototype.computeBBox=function(){return this.group.computeBBox()},n.className="Pagination",n}(),W0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UAe=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tp="ag-chart-tooltip",zAe='\n.ag-chart-tooltip {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-no-animation {\n    transition: none !important;\n}\n\n.ag-chart-tooltip-hidden {\n    visibility: hidden;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function Oo(n,t){if("string"==typeof n)return n;t=t||{};var e=n.content,i=n.title,o=void 0===i?t.title||void 0:i,a=n.color,l=n.backgroundColor;return(o?'<div class="'+Tp+'-title"\n        style="color: '+(void 0===a?t.color||"white":a)+"; background-color: "+(void 0===l?t.backgroundColor||"#888":l)+'">'+o+"</div>":"")+'<div class="'+Tp+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var $Ae=function(){function n(t,e,r){var i=this;this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.showTimeout=0,this.constrained=!1,this.tooltipRoot=r;var o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(Tp),this.canvasElement=t,window.IntersectionObserver){var a=new IntersectionObserver(function(l){var u,c;try{for(var d=UAe(l),h=d.next();!h.done;h=d.next()){var p=h.value;p.target===i.canvasElement&&0===p.intersectionRatio&&i.toggle(!1)}}catch(m){u={error:m}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}if(n.tooltipDocuments.indexOf(e)<0){var s=e.createElement("style");s.innerHTML=zAe,e.head.insertBefore(s,e.head.querySelector("style")),n.tooltipDocuments.push(e)}}return n.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},n.prototype.isVisible=function(){return!this.element.classList.contains(Tp+"-hidden")},n.prototype.updateClass=function(t,e){var r=this,i=r.element,o=r.class,a=r.lastClass,l=function(u,c){var d=Tp+"-"+u;c?i.classList.add(d):i.classList.remove(d)};l("no-animation",!!i.classList.contains(Tp+"-hidden")&&!!t),l("hidden",!t),l("arrow",!e),o!==a&&(a&&i.classList.remove(a),o&&i.classList.add(o),this.lastClass=o)},n.prototype.show=function(t,e,r){var i=this;void 0===r&&(r=!1);var a=this.element,s=this.canvasElement;if(void 0!==e)a.innerHTML=e;else if(!a.innerHTML)return;var l=function(C,w,b){return Math.max(Math.min(w,b),C)},u=s.getBoundingClientRect(),c=u.left+t.offsetX-a.clientWidth/2,d=u.top+t.offsetY-a.clientHeight-8,h=this.getWindowBoundingBox(),m=h.y+h.height-a.clientHeight,v=l(h.x,c,h.x+h.width-a.clientWidth-1),_=l(h.y,d,m);if(this.constrained=v!==c||_!==d,a.style.transform="translate("+Math.round(v)+"px, "+Math.round(_)+"px)",this.delay>0&&!r)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){i.toggle(!0)},this.delay));this.toggle(!0)},n.prototype.getWindowBoundingBox=function(){return new Zn(0,0,window.innerWidth,window.innerHeight)},n.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.constrained)},n.tooltipDocuments=[],W0([V(Ir)],n.prototype,"enabled",void 0),W0([V(Kr)],n.prototype,"class",void 0),W0([V(et(0))],n.prototype,"delay",void 0),W0([qg("range",function(t){return t?"nearest":"exact"})],n.prototype,"tracking",void 0),W0([V(Jz)],n.prototype,"range",void 0),n}(),si=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},I6=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},F6=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(I6(arguments[t]));return n},k6=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},KAe=["horizontal","vertical"],YAe=Mt(function(n,t){return $r(n,t,function(e){return KAe.includes(e)})},"expecting an orientation keyword such as 'horizontal' or 'vertical'"),qAe=function(){function n(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return n.prototype.getFont=function(){return YI(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},si([V(yr(0))],n.prototype,"maxLength",void 0),si([V(ql)],n.prototype,"color",void 0),si([V(Ug)],n.prototype,"fontStyle",void 0),si([V(zg)],n.prototype,"fontWeight",void 0),si([V(et(0))],n.prototype,"fontSize",void 0),si([V(Kn)],n.prototype,"fontFamily",void 0),si([V(_i)],n.prototype,"formatter",void 0),n}(),XAe=function(){function n(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(n.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),si([V(et(0))],n.prototype,"size",void 0),si([V(et(0))],n.prototype,"padding",void 0),si([V(et(0))],n.prototype,"strokeWidth",void 0),n}(),ZAe=function(){function n(){this.marker=new XAe,this.label=new qAe,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return si([V(yr(0))],n.prototype,"maxWidth",void 0),si([V(et(0))],n.prototype,"paddingX",void 0),si([V(et(0))],n.prototype,"paddingY",void 0),si([V(Ir)],n.prototype,"toggleSeriesVisible",void 0),n}(),QAe=function(){function n(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return si([V(_i)],n.prototype,"legendItemClick",void 0),n}(),JAe=function(){function n(t,e,r,i,o){var a=this;this.chart=t,this.interactionManager=e,this.cursorManager=r,this.highlightManager=i,this.tooltipManager=o,this.id=Pf(this),this.group=new cn({name:"legend",layer:!0,zIndex:Ci.LEGEND_ZINDEX}),this.itemSelection=yi.select(this.group,M6),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new ZAe,this.listeners=new QAe,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new jAe(function(s){return a.chart.update(s)},function(s){return a.updatePageNumber(s)},this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this,this.interactionManager.addListener("click",function(s){return a.checkLegendClick(s)}),this.interactionManager.addListener("dblclick",function(s){return a.checkLegendDoubleClick(s)}),this.interactionManager.addListener("hover",function(s){return a.handleLegendMouseMove(s)})}return Object.defineProperty(n.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),n.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},n.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,Ce.Xl.MINOR)},n.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var r={"...":uo.getTextSize("...",t).width};return e.set(t,r),r},Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),n.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},n.prototype.attachLegend=function(t){t.append(this.group)},n.prototype.performLayout=function(t,e){var r=this,i=this.item,o=i.paddingX,a=i.paddingY,s=i.label,l=i.maxWidth,u=i.marker,c=u.size,d=u.padding,h=u.shape,p=i.label,m=p.maxLength,v=void 0===m?1/0:m,_=p.fontStyle,C=p.fontWeight,w=p.fontSize,b=p.fontFamily,E=F6(this.data);this.reverseOrder&&E.reverse(),this.itemSelection.update(E,function(ce){var _e=Qg(h||ce.datum.marker.shape);ce.marker=new _e});var S=[],O=s.getFont(),D=l??.8*t,P=c+d+o;if(this.itemSelection.each(function(ce,de){var _e;ce.markerSize=c,ce.spacing=d,ce.fontStyle=_,ce.fontWeight=C,ce.fontSize=w,ce.fontFamily=b;var ue=de.itemId||de.id,G=(null!==(_e=de.label.text)&&void 0!==_e?_e:"<unknown>").replace(/\r?\n/g," ");ce.text=r.truncate(G,v,D,P,O,ue),S.push(ce.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var M=this.size,B=this.oldSize;M[0]=t,M[1]=e,(M[0]!==B[0]||M[1]!==B[1])&&(B[0]=M[0],B[1]=M[1]);var I=this.updatePagination(S,t,e),le=I.maxPageHeight,ie=I.maxPageWidth;this.pages=I.pages,this.maxPageSize=[ie-o,le-a];var te=this.pagination.currentPage;this.pages.length<1||!this.pages[te]?this.visible=!1:(this.visible=!0,this.updatePositions(te),this.update())},n.prototype.truncate=function(t,e,r,i,o,a){var s,l,c=t.split(""),d=!1;if(t.length>e&&(t=""+t.substring(0,e),d=!0),Math.floor(i+uo.getTextSize(t,o).width)>r){var p="",m=this.getCharacterWidths(o),v=i+m["..."];try{for(var _=k6(c),C=_.next();!C.done;C=_.next()){var w=C.value;if(m[w]||(m[w]=uo.getTextSize(w,o).width),(v+=m[w])>r)break;p+=w}}catch(b){s={error:b}}finally{try{C&&!C.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}t=p,d=!0}return d?(t+="...",this.truncatedItems.add(a)):this.truncatedItems.delete(a),t},n.prototype.updatePagination=function(t,e,r){var i=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;var a=this.calculatePagination(t,e,r),s=a.pages,l=a.maxPageHeight,u=a.maxPageWidth,c=a.paginationBBox,d=a.paginationVertical,h=s.findIndex(function(S){return S.endIndex>=o});this.pagination.currentPage=Math.min(Math.max(h,0),s.length-1);var p=this.item,w=l-p.paddingY,b=0,E=-c.y-this.item.marker.size/2;return d?E+=w+8:(b+=u-p.paddingX-c.x+8,E+=(w-c.height)/2),this.pagination.translationX=b,this.pagination.translationY=E,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:l,maxPageWidth:u,pages:s}},n.prototype.calculatePagination=function(t,e,r){var i,o,a,D,s=this.item,l=s.paddingX,u=s.paddingY,c=this.getOrientation(),d=["left","right"].includes(this.position),h=this.pagination.computeBBox(),p=new Zn(0,0,0,0),m=[],v=0,_=0,C=0,b=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(C++>10){Dt.warn("unable to find stable legend layout.");break}h=p;var O=kAe({orientation:c,bboxes:t,maxHeight:r-(d?h.height:0),maxWidth:e-(d?0:h.width),itemPaddingY:u,itemPaddingX:l,forceResult:b});m=null!==(i=O?.pages)&&void 0!==i?i:[],v=null!==(o=O?.maxPageWidth)&&void 0!==o?o:0,_=null!==(a=O?.maxPageHeight)&&void 0!==a?a:0;var R=m.length;if(this.pagination.visible=R>1,this.pagination.totalPages=R,this.pagination.update(),p=this.pagination.computeBBox(),!this.pagination.visible)break}while((D=p).width!==h.width||D.height!==h.height);return{maxPageWidth:v,maxPageHeight:_,pages:m,paginationBBox:h,paginationVertical:d}},n.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,r=e.item.paddingY,i=e.itemSelection,o=e.pages;if(!(o.length<1)&&o[t]){var a=o[t],s=a.columns,l=a.startIndex,u=a.endIndex,c=0,d=0,h=s.length,p=s[0].indices.length,m="horizontal"===this.getOrientation(),v=s[0].bboxes[0].height+r,_=[];i.each(function(C,w,b){var E,S;if(b<l||b>u)C.visible=!1;else{var O=b-l,R=0,D=0;m?(R=O%h,D=Math.floor(O/h)):(R=Math.floor(O/p),D=O%p),C.visible=!0;var P=s[R];P&&(d=v*D,c=null!==(E=_[D])&&void 0!==E?E:0,_[D]=(null!==(S=_[D])&&void 0!==S?S:0)+P.columnWidth,C.translationX=Math.floor(c),C.translationY=Math.floor(d))}})}},n.prototype.updatePageNumber=function(t){var e=this.pages,r=e[t],i=r.startIndex,o=r.endIndex;this.paginationTrackingIndex=0===i?0:t===e.length-1?o:Math.floor((i+o)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(Wn.SCENE_RENDER)},n.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,r=t.label.color;this.itemSelection.each(function(i,o){var a=o.marker;i.markerFill=a.fill,i.markerStroke=a.stroke,i.markerStrokeWidth=e,i.markerFillOpacity=a.fillOpacity,i.markerStrokeOpacity=a.strokeOpacity,i.opacity=o.enabled?1:.5,i.color=r})},n.prototype.getDatumForPoint=function(t,e){var r,i,o=[],a={dist:1/0,datum:void 0};try{for(var s=k6(this.group.children),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.visible&&u instanceof M6){var c=u.computeBBox();if(c.grow(this.item.paddingX/2,"horizontal"),c.grow(this.item.paddingY/2,"vertical"),c.containsPoint(t,e))return u.datum;var d=t-c.x-this.item.paddingX/2,h=e-c.y-this.item.paddingY/2,p=Math.pow(d,2)+Math.pow(h,2);d>=0&&h>=0&&p<a.dist&&(a.dist=p,a.datum=u.datum),o.push(c)}}}catch(_){r={error:_}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}if(Zn.merge(o).containsPoint(t,e))return a.datum},n.prototype.computeBBox=function(){return this.group.computeBBox()},n.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=I6(this.maxPageSize,2),r=e[0];return t.height=Math.max(e[1],t.height),t.width=Math.max(r,t.width),t},n.prototype.checkLegendClick=function(t){var e=this,r=e.listeners.legendItemClick,i=e.chart,o=e.highlightManager,a=e.item.toggleSeriesVisible,s=this.getDatumForPoint(t.offsetX,t.offsetY);if(s){var l=s.id,u=s.itemId,c=s.enabled,d=i.series.find(function(p){return p.id===l});if(d){t.consume();var h=c;a&&d.toggleSeriesItem(u,h=!c),h?o.updateHighlight(this.id,{series:d,itemId:u,datum:void 0}):o.updateHighlight(this.id),this.chart.update(Wn.PROCESS_DATA,{forceNodeDataRefresh:!0}),r?.({type:"click",enabled:h,itemId:u,seriesId:d.id})}}},n.prototype.checkLegendDoubleClick=function(t){var e=this,r=e.listeners.legendItemDoubleClick,i=e.chart,o=e.item.toggleSeriesVisible;if("integrated"!==i.mode){var a=this.getDatumForPoint(t.offsetX,t.offsetY);if(a){var s=a.id,l=a.itemId,u=a.seriesId,c=i.series.find(function(m){return m.id===s});if(c){if(t.consume(),o){var d=i.series.reduce(function(m,v){return F6(m,v.getLegendData())},[]),h=d.filter(function(m){return m.enabled}).length,p=d.find(function(m){return m.itemId===l&&m.seriesId===u});i.series.forEach(function(m){m.getLegendData().forEach(function(_){var C,b=1===h&&null!==(C=p?.enabled)&&void 0!==C&&C;m.toggleSeriesItem(_.itemId,_.itemId===l&&_.seriesId===u||b)})})}this.chart.update(Wn.PROCESS_DATA,{forceNodeDataRefresh:!0}),r?.({type:"dblclick",enabled:!0,itemId:l,seriesId:c.id})}}}},n.prototype.handleLegendMouseMove=function(t){var e=this,i=e.item.toggleSeriesVisible,o=e.listeners;if(e.enabled){var a=this.computeBBox(),s=t.pageX,l=t.pageY,u=t.offsetX,c=t.offsetY,d=this.group.visible&&a.containsPoint(u,c);if(!d)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.updateTooltip(this.id);t.consume();var h=this.getDatumForPoint(u,c);if(!d||void 0===h)return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var m=h?this.chart.series.find(function(v){return v.id===h?.id}):void 0;h&&this.truncatedItems.has(h.itemId||h.id)?this.tooltipManager.updateTooltip(this.id,{pageX:s,pageY:l,offsetX:u,offsetY:c,event:t},Oo({content:h.label.text})):this.tooltipManager.updateTooltip(this.id),(i||null!=o.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),h?.enabled&&m?this.highlightManager.updateHighlight(this.id,{series:m,itemId:h?.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},n.className="Legend",si([V(Ir)],n.prototype,"_enabled",void 0),si([V(Qz)],n.prototype,"position",void 0),si([V(yr(0))],n.prototype,"maxWidth",void 0),si([V(yr(0))],n.prototype,"maxHeight",void 0),si([V(_p)],n.prototype,"reverseOrder",void 0),si([V(YAe)],n.prototype,"orientation",void 0),si([V(et(0))],n.prototype,"spacing",void 0),n}(),L6=function(){function n(){}return n.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(i){var o,a;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.contentRect,d=c.width,h=c.height;t.checkSize(t.elements.get(u.target),u.target,d,h)}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}}):window.setInterval(function(){t.elements.forEach(function(i,o){t.checkClientSize(o,i)})},100),this.ready=!0},n.checkSize=function(t,e,r,i){t&&(!t.size||r!==t.size.width||i!==t.size.height)&&(t.size={width:r,height:i},t.cb(t.size,e))},n.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},n.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},n.checkClientSize=function(t,e){this.checkSize(e,t,t.clientWidth?t.clientWidth:0,t.clientHeight?t.clientHeight:0)},n.elements=new Map,n.ready=!1,n}(),tPe=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},nPe=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function N6(n,t){var i,o,e=0,r=!1,a=function(){return r},s=function(){r=!1,o?.(),o=void 0,i=void 0,e>0&&n(l)},l=function(){var u=e;e=0,r=!0;var c=t({count:u});c?c.then(s).catch(s):s()};return{schedule:function(){0===e&&!a()&&n(l),e++},await:function(){return tPe(this,void 0,void 0,function(){return nPe(this,function(u){switch(u.label){case 0:if(!a())return[2];i||(i=new Promise(function(c){o=c})),u.label=1;case 1:return a()?[4,i]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}})})}}}var oPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yu=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aPe=["circle","cross","diamond","heart","plus","square","triangle"],sPe=Mt(function(n){return aPe.includes(n)||Object.getPrototypeOf(n)===Lf},"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),lPe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.enabled=!0,e.shape=uF,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return oPe(t,n),Yu([V(Ir),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"enabled",void 0),Yu([V(sPe),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"shape",void 0),Yu([V(et(0)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"size",void 0),Yu([V(et(0)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"maxSize",void 0),Yu([V(ZOe),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"domain",void 0),Yu([V(ai),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"fill",void 0),Yu([V(ai),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"stroke",void 0),Yu([V(yr(0)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"strokeWidth",void 0),Yu([V(yr(0,1)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"fillOpacity",void 0),Yu([V(yr(0,1)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"strokeOpacity",void 0),t}(Ce.l9);function dF(n,t,e){return Math.max(t,Math.min(e,n))}var jS=function(){function n(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return n.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some(function(i){return t[i]!==e[i]})||(this.cache={},this.cacheProps.forEach(function(i){return t.cache[i]=t[i]}),0))},n.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(n.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var r=this.index;t.forEach(function(i){void 0===r.get(i)&&r.set(i,e.push(i)-1)}),this._domain=e},enumerable:!1,configurable:!0}),n.prototype.ticks=function(){this.refresh();var t=this.interval,r=Math.abs(Math.round(void 0===t?1:t));return this._domain.filter(function(i,o){return o%r==0})},n.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},n.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex(function(r){return r===t});return this.domain[e]},Object.defineProperty(n.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=dF(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=dF(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=dF(t,0,1)},enumerable:!1,configurable:!0}),n.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,r=this._paddingInner,i=this._paddingOuter,o=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(this.range,2),a=o[0],l=o[1]-a,u=l/Math.max(1,t+2*i-r),c=e?Math.floor(u):u,h=a+(l-c*(t-r))/2,p=e?Math.round(h):h,m=c*(1-r),v=e?Math.round(m):m,_=u*(1-r),C=[],w=0;w<t;w++)C.push(p+c*w);this._bandwidth=v,this._rawBandwidth=_,this.ordinalRange=C}},n}(),cPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fPe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Jg=function(n){function t(e){var r=n.call(this,e,new jS)||this;return r._paddingOverrideEnabled=!1,r.groupPaddingInner=.1,r.includeInvisibleDomains=!0,r}return cPe(t,n),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!1,configurable:!0}),t.prototype.normaliseDataDomain=function(e){var r=new Set(e);return new(Array.bind.apply(Array,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(fPe(arguments[t]));return n}([void 0],r.values())))},t.prototype.calculateDomain=function(){return this._paddingOverrideEnabled||(this.boundSeries.some(function(r){return["bar","column"].includes(r.type)})?(this.scale.paddingInner=.2,this.scale.paddingOuter=.3):(this.scale.paddingInner=1,this.scale.paddingOuter=0)),n.prototype.calculateDomain.call(this)},t.className="CategoryAxis",t.type="category",function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([V(et(0,1))],t.prototype,"groupPaddingInner",void 0),t}(GS),ed=function(){return ed=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},ed.apply(this,arguments)},pPe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Op=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(pPe(arguments[t]));return n},B6=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function ev(n,t){var e,r,i=ul(n),o=ul(t);if("array"===o){var a=t;return"array"!==i||n.length!==a.length||a.some(function(_,C){var w;return null!=ev(null===(w=n)||void 0===w?void 0:w[C],_)})?Op(a):null}if("primitive"===o)return"primitive"!==i?ed({},t):n!==t?t:null;var s=n||{},l=t||{},u=new Set(Op(Object.keys(s),Object.keys(l))),c=0,d={},h=function(_){if(s[_]===l[_])return"continue";var C=function(S){d[_]=S,c++},w=ul(s[_]),b=ul(l[_]);if(w!==b||"primitive"===b||null===b||"array"===b&&s[_].length!==l[_].length||"class-instance"===b||"function"===b&&s[_]!==l[_])return C(l[_]),"continue";var E=ev(s[_],l[_]);null!==E&&C(E)};try{for(var p=B6(u),m=p.next();!m.done;m=p.next())h(m.value)}catch(_){e={error:_}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return 0===c?null:d}var qu=Symbol("<delete-property>"),G6=Symbol("<unspecified-property>");function Ao(n,t){var e,r,i=t?.avoidDeepClone||[];if(n.map(function(p){return ul(p)}).some(function(p){return"array"===p})){var a=n[n.length-1];return a instanceof Array?a.map(function(p){var m=ul(p);return"array"===m?Ao([[],p],t):"object"===m?Ao([{},p],t):p}):a}var s={},l=new Set(n.map(function(p){return null!=p?Object.keys(p):[]}).reduce(function(p,m){return p.concat(m)},[])),u=function(p){var m=n.map(function(w){return null!=w&&p in w?w[p]:G6}).filter(function(w){return w!==G6});if(0===m.length)return"continue";var v=m[m.length-1];if(v===qu)return"continue";var _=m.map(function(w){return ul(w)}),C=_[0];if(_.some(function(w){return w!==C}))return s[p]=v,"continue";s[p]="array"!==C&&"object"!==C||i.includes(p)?"array"===C?Op(v):v:Ao(m,t)};try{for(var c=B6(l),d=c.next();!d.done;d=c.next())u(d.value)}catch(p){e={error:p}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return s}function j0(n,t,e){var r;void 0===e&&(e={});var i=e.path,o=void 0===i?void 0:i,a=e.matcherPath,s=void 0===a?o?o.replace(/(\[[0-9+]+\])/i,"[]"):void 0:a,l=e.skip,u=void 0===l?[]:l,c=e.constructors,d=void 0===c?{}:c,h=e.allowedTypes,p=void 0===h?{}:h,m=e.idx;if(null==n)throw new Error("AG Charts - target is uninitialised: "+(o||"<root>"));if(null==t)return n;var v=n;null!=m&&"_declarationOrder"in v&&(v._declarationOrder=m);var _=ul(n),C=function(b){var E=(s?s+".":"")+b;if(u.indexOf(E)>=0)return"continue";var S=t[b],O=(o?o+".":"")+b,R=v.constructor,D=v[b],P=null!==(r=d[b])&&void 0!==r?r:d[E];try{var M=ul(D),B=ul(S);if("class-instance"===_&&!(b in n)&&!Object.prototype.hasOwnProperty.call(v,b))return Dt.warn("unable to set ["+O+"] in "+R?.name+" - property is unknown"),"continue";var I=p[E]||[M];if(("class-instance"!==M||"object"!==B)&&null!=M&&null!=B&&!I.includes(B))return Dt.warn("unable to set ["+O+"] in "+R?.name+" - can't apply type of ["+B+"], allowed types are: ["+I+"]"),"continue";"array"===B?v[b]=null!=(P=P??d[E+"[]"])?S.map(function(ie,te){return j0(new P,ie,ed(ed({},e),{path:O,matcherPath:E+"[]",idx:te}))}):S:"class-instance"===B?v[b]=S:"object"===B?null!=D?j0(D,S,ed(ed({},e),{path:O,matcherPath:E,idx:void 0})):v[b]=null!=P?j0(new P,S,ed(ed({},e),{path:O,matcherPath:E,idx:void 0})):S:v[b]=S}catch(ie){return Dt.warn("unable to set ["+O+"] in ["+R?.name+"]; nested error is: "+ie.message),"continue"}};for(var w in t)C(w);return n}function US(n,t,e){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ul(n),a=e.skip||[];if("array"!==o){if("object"===o){t.apply(void 0,Op([o,n],r));var s=function(u){if(a.indexOf(u)>=0)return"continue";var c=n[u],d=r?.map(function(p){return p?.[u]}),h=ul(c);("object"===h||"array"===h)&&US.apply(void 0,Op([c,t,e],d))};for(var l in n)s(l)}}else n.forEach(function(u,c){US.apply(void 0,Op([u,t,e],(r??[]).map(function(d){return d?.[c]})))})}function ul(n){return null==n?null:n instanceof HTMLElement?"primitive":n instanceof Array?"array":n instanceof Date?"primitive":"object"==typeof n&&n.constructor===Object?"object":"function"==typeof n?"function":"object"==typeof n&&null!=n.constructor?"class-instance":"primitive"}var zS,U0=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ia=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Fa=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},fF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Xu=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vPe=((zS={})[bn.X]=["xKey"],zS[bn.Y]=["yKey"],zS),hF=function(n){function t(e,r,i,o,a){var s=n.call(this,i,o,a)||this;return s.xKey=e,s.yKey=r,s}return U0(t,n),t}(V0),$S=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeClick",e}return U0(t,n),t}(hF),KS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return U0(t,n),t}(hF),tv=function(n){function t(e){void 0===e&&(e={});var r,i=n.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes,directionKeys:null!==(r=e.directionKeys)&&void 0!==r?r:vPe})||this;i._contextNodeData=[],i.nodeDataDependencies={},i.highlightSelection=yi.select(i.highlightNode,function(){return i.opts.hasMarkers?i.markerFactory():i.nodeFactory()}),i.highlightLabelSelection=yi.select(i.highlightLabel,ca),i.subGroups=[],i.subGroupId=0,i.seriesItemEnabled=new Map;var o=e.pathsPerSeries,s=e.hasMarkers,u=e.pathsZIndexSubOrderOffset,d=e.renderLayerPerSubSeries;return i.opts={pathsPerSeries:void 0===o?1:o,hasMarkers:void 0!==s&&s,pathsZIndexSubOrderOffset:void 0===u?[]:u,renderLayerPerSubSeries:void 0===d||d},i}return U0(t,n),Object.defineProperty(t.prototype,"contextNodeData",{get:function(){var e;return null===(e=this._contextNodeData)||void 0===e?void 0:e.slice()},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){n.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},t.prototype.checkDomainXY=function(e,r,i,o){return(i&&M0(e)||!i&&VI(e))&&(o&&M0(r)||!o&&VI(r))?[e,r]:void 0},t.prototype.checkRangeXY=function(e,r,i,o){return!isNaN(e)&&!isNaN(r)&&i.inRange(e)&&o.inRange(r)},t.prototype.update=function(e){var r,i,o=e.seriesRect;return Ia(this,void 0,void 0,function(){var a,s,l,u,c,d,h;return Fa(this,function(p){switch(p.label){case 0:return s=(a=this).seriesItemEnabled,l=a.visible,u=(null!==(i=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight())&&void 0!==i?i:{}).series,c=u?u===this:void 0,d=l&&0===s.size||function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(fF(arguments[t]));return n}(s.values()).some(function(m){return!0===m}),null!=ev(this.nodeDataDependencies,h={seriesRectWidth:o?.width,seriesRectHeight:o?.height})&&(this.nodeDataDependencies=h,this.markNodeDataDirty()),[4,this.updateSelections(c,d)];case 1:return p.sent(),[4,this.updateNodes(c,d)];case 2:return p.sent(),[2]}})})},t.prototype.updateSelections=function(e,r){return Ia(this,void 0,void 0,function(){var i,o=this;return Fa(this,function(a){switch(a.label){case 0:return[4,this.updateHighlightSelection(e)];case 1:return a.sent(),r&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())?this.nodeDataRefresh?(this.nodeDataRefresh=!1,i=this,[4,this.createNodeData()]):[3,4]:[2];case 2:return i._contextNodeData=a.sent(),[4,this.updateSeriesGroups()];case 3:a.sent(),a.label=4;case 4:return[4,Promise.all(this.subGroups.map(function(s,l){return o.updateSeriesGroupSelections(s,l,e)}))];case 5:return a.sent(),[2]}})})},t.prototype.updateSeriesGroupSelections=function(e,r,i){return Ia(this,void 0,void 0,function(){var o,a,s,u,c,d,p,m,v;return Fa(this,function(_){switch(_.label){case 0:return o=e.datumSelection,a=e.labelSelection,s=e.markerSelection,c=(u=this._contextNodeData[r]).nodeData,d=u.labelData,[4,this.updatePaths({seriesHighlighted:i,itemId:u.itemId,contextData:u,paths:e.paths,seriesIdx:r})];case 1:return _.sent(),p=e,[4,this.updateDatumSelection({nodeData:c,datumSelection:o,seriesIdx:r})];case 2:return p.datumSelection=_.sent(),m=e,[4,this.updateLabelSelection({labelData:d,labelSelection:a,seriesIdx:r})];case 3:return m.labelSelection=_.sent(),s?(v=e,[4,this.updateMarkerSelection({nodeData:c,markerSelection:s,seriesIdx:r})]):[3,5];case 4:v.markerSelection=_.sent(),_.label=5;case 5:return[2]}})})},t.prototype.nodeFactory=function(){return new cn},t.prototype.markerFactory=function(){return new(Qg())},t.prototype.updateSeriesGroups=function(){var e;return Ia(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O=this;return Fa(this,function(R){if(o=(r=this).contentGroup,l=(s=r.opts).pathsPerSeries,u=s.hasMarkers,c=s.pathsZIndexSubOrderOffset,d=s.renderLayerPerSubSeries,(i=r._contextNodeData).length===(a=r.subGroups).length)return[2];for(i.length<a.length&&a.splice(i.length).forEach(function(D){var P,M,I=D.markerGroup,U=D.labelGroup,le=D.paths;o.removeChild(D.dataNodeGroup),I&&o.removeChild(I),U&&o.removeChild(U);try{for(var ie=Xu(le),te=ie.next();!te.done;te=ie.next())o.removeChild(te.value)}catch(ce){P={error:ce}}finally{try{te&&!te.done&&(M=ie.return)&&M.call(ie)}finally{if(P)throw P.error}}}),h=i.length;h>a.length;){for(p=d,m=this.subGroupId++,_=new cn({name:this.id+"-series-sub"+m+"-dataNodes",layer:p,zIndex:Ci.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return O._declarationOrder},v=m]}),C=u?new cn({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:p,zIndex:Ci.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return O._declarationOrder},1e4+m]}):void 0,w=new cn({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:p,zIndex:Ci.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return O._declarationOrder},m]}),o.appendChild(_),o.appendChild(w),C&&o.appendChild(C),b=d?_:o,E=[],S=0;S<l;S++)E[S]=new wp,E[S].zIndex=Ci.SERIES_LAYER_ZINDEX,E[S].zIndexSubOrder=[function(){return O._declarationOrder},(null!==(e=c[S])&&void 0!==e?e:0)+v],b.appendChild(E[S]);a.push({paths:E,dataNodeGroup:_,markerGroup:C,labelGroup:w,labelSelection:yi.select(w,ca),datumSelection:yi.select(_,function(){return O.nodeFactory()}),markerSelection:C?yi.select(C,function(){return O.markerFactory()}):void 0})}return[2]})})},t.prototype.updateNodes=function(e,r){var i;return Ia(this,void 0,void 0,function(){var o,a,s,l,u,c,d,h,p,m,v,_,C=this;return Fa(this,function(w){switch(w.label){case 0:return a=(o=this).highlightSelection,s=o.highlightLabelSelection,l=o._contextNodeData,u=o.seriesItemEnabled,d=(c=o.opts).hasMarkers,h=c.renderLayerPerSubSeries,p=this.visible&&(null===(i=this._contextNodeData)||void 0===i?void 0:i.length)>0&&r,this.rootGroup.visible=p,this.contentGroup.visible=p,this.highlightGroup.visible=p&&!!e,m=this.getOpacity(),v=this.subGroups.map(function(b,E){return C.getOpacity({itemId:l[E].itemId})}),_=v.some(function(b){return b!==m}),this.contentGroup.opacity=_?1:m,d?[4,this.updateMarkerNodes({markerSelection:a,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return w.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:a,isHighlight:!0,seriesIdx:-1})];case 3:w.sent(),w.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:s,seriesIdx:-1})];case 5:return w.sent(),[4,Promise.all(this.subGroups.map(function(b,E){return Ia(C,void 0,void 0,function(){var S,O,R,D,P,M,B,I,U,le,ie,te,J,ce,de,_e;return Fa(this,function(ue){switch(ue.label){case 0:S=b.dataNodeGroup,O=b.markerGroup,R=b.datumSelection,D=b.labelSelection,P=b.markerSelection,M=b.paths,B=b.labelGroup,I=l[E].itemId,U=p&&(null===(_e=u.get(I))||void 0===_e||_e),S.opacity=le=_?v[E]:1,S.visible=U,B.visible=U,O&&(O.opacity=le,O.zIndex=S.zIndex>=Ci.SERIES_LAYER_ZINDEX?S.zIndex:S.zIndex+1,O.visible=U),B&&(B.opacity=le);try{for(ie=Xu(M),te=ie.next();!te.done;te=ie.next())J=te.value,h||(J.opacity=le,J.visible=U)}catch(G){ce={error:G}}finally{try{te&&!te.done&&(de=ie.return)&&de.call(ie)}finally{if(ce)throw ce.error}}return S.visible?[4,this.updatePathNodes({seriesHighlighted:e,itemId:I,paths:M,seriesIdx:E})]:[2];case 1:return ue.sent(),[4,this.updateDatumNodes({datumSelection:R,isHighlight:!1,seriesIdx:E})];case 2:return ue.sent(),[4,this.updateLabelNodes({labelSelection:D,seriesIdx:E})];case 3:return ue.sent(),d&&P?[4,this.updateMarkerNodes({markerSelection:P,isHighlight:!1,seriesIdx:E})]:[3,5];case 4:ue.sent(),ue.label=5;case 5:return[2]}})})}))];case 6:return w.sent(),[2]}})})},t.prototype.updateHighlightSelection=function(e){var r;return Ia(this,void 0,void 0,function(){var i,o,a,s,l,u,c,d,h,p,m,v,C,w,b;return Fa(this,function(E){switch(E.label){case 0:return o=(i=this).highlightSelection,a=i.highlightLabelSelection,s=i._contextNodeData,l=null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight(),c=this,[4,this.updateHighlightSelectionItem({item:u=e&&l?.datum?l:void 0,highlightSelection:o})];case 1:if(c.highlightSelection=E.sent(),this.isLabelEnabled()&&null!=u){p=void 0===(h=u.itemId)?void 0:h;try{for(m=Xu(s),v=m.next();!v.done&&null==(d=v.value.labelData.find(function(S){return S.datum===u.datum&&S.itemId===p}));v=m.next());}catch(S){w={error:S}}finally{try{v&&!v.done&&(b=m.return)&&b.call(m)}finally{if(w)throw w.error}}}return C=this,[4,this.updateHighlightSelectionLabel({item:d,highlightLabelSelection:a})];case 2:return C.highlightLabelSelection=E.sent(),[2]}})})},t.prototype.pickNodeExactShape=function(e){var r,i,o=n.prototype.pickNodeExactShape.call(this,e);if(o)return o;var a=e.x,s=e.y,l=this.opts.hasMarkers;try{for(var u=Xu(this.subGroups),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.markerGroup,m=d.dataNodeGroup.pickNode(a,s);if(!m&&l&&(m=p?.pickNode(a,s)),m)return{datum:m.datum,distance:0}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.pickNodeClosestDatum=function(e){var r,i,o,a,s,l,w,d=this,h=d.xAxis,p=d.yAxis,v=d._contextNodeData,_=d.rootGroup.transformPoint(e.x,e.y),C=1/0;try{for(var b=Xu(v),E=b.next();!E.done;E=b.next()){var S=E.value;try{for(var O=(o=void 0,Xu(S.nodeData)),R=O.next();!R.done;R=O.next()){var te,D=R.value,P=D.point,M=void 0===P?{}:P,B=M.x,I=void 0===B?NaN:B,U=M.y,le=void 0===U?NaN:U;isNaN(I)||isNaN(le)||h?.inRange(I)&&p?.inRange(le)&&(te=Math.max(Math.pow(_.x-I,2)+Math.pow(_.y-le,2),0))<C&&(C=te,w=D)}}catch(J){o={error:J}}finally{try{R&&!R.done&&(a=O.return)&&a.call(O)}finally{if(o)throw o.error}}}}catch(J){r={error:J}}finally{try{E&&!E.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}if(w)return{datum:w,distance:te=Math.max(Math.sqrt(C)-(null!==(l=null===(s=w.point)||void 0===s?void 0:s.size)&&void 0!==l?l:0),0)}},t.prototype.pickNodeMainAxisFirst=function(e,r){var i,o,a,s,l,u,c=e.x,d=e.y,h=this,p=h.xAxis,m=h.yAxis,v=h.rootGroup,_=h._contextNodeData,C=[p,m].filter(function(Ee){return Ee instanceof Jg}).map(function(Ee){return Ee.direction});if(!r||0!==C.length){var b=fF(C,1)[0],E=void 0===b?bn.X:b,S=v.transformPoint(c,d),O=E===bn.X?[S.x,S.y]:[S.y,S.x],R=[1/0,1/0],D=void 0;try{for(var P=Xu(_),M=P.next();!M.done;M=P.next()){var B=M.value;try{for(var I=(a=void 0,Xu(B.nodeData)),U=I.next();!U.done;U=I.next()){var le=U.value,ie=le.point,te=void 0===ie?{}:ie,J=te.x,ce=void 0===J?NaN:J,de=te.y,_e=void 0===de?NaN:de;if(!isNaN(ce)&&!isNaN(_e)&&p?.inRange(ce)&&m?.inRange(_e)){for(var G=E===bn.X?[ce,_e]:[_e,ce],re=!0,W=0;W<G.length;W++){var X=Math.abs(G[W]-O[W]);if(X>R[W]){re=!1;break}X<R[W]&&(R[W]=X,R.fill(1/0,W+1,R.length))}re&&(D=le)}}}catch(Ee){a={error:Ee}}finally{try{U&&!U.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}}}catch(Ee){i={error:Ee}}finally{try{M&&!M.done&&(o=P.return)&&o.call(P)}finally{if(i)throw i.error}}if(D)return{datum:D,distance:Math.max(Math.sqrt(Math.pow(R[0],2)+Math.pow(R[1],2))-(null!==(u=null===(l=D.point)||void 0===l?void 0:l.size)&&void 0!==u?u:0),0)}}},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,r),this.nodeDataRefresh=!0):n.prototype.toggleSeriesItem.call(this,e,r)},t.prototype.isEnabled=function(){var e,r;if(this.seriesItemEnabled.size>0){try{for(var i=Xu(this.seriesItemEnabled),o=i.next();!o.done;o=i.next())if(fF(o.value,2)[1])return!0}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!1}return n.prototype.isEnabled.call(this)},t.prototype.isPathOrSelectionDirty=function(){return!1},t.prototype.getLabelData=function(){return[]},t.prototype.isAnySeriesVisible=function(){var e,r;try{for(var i=Xu(this.seriesItemEnabled.values()),o=i.next();!o.done;o=i.next())if(o.value)return!0}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.validateXYData=function(e,r,i,o,a,s,l,u){var c;if(void 0===u&&(u=1),"integrated"===(null===(c=this.chart)||void 0===c?void 0:c.mode)||!o||!a||0===i.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var d=function(v,_,C){return void 0===_&&(_=0),void 0===C&&(C=0),v.some(_===C?function(w){return M0(w)}:function(w){return d(w,_+1,C)})},p=a.scale instanceof tr,m=!0;return o.scale instanceof tr&&!d(s)&&(Dt.warnOnce("the number axis has no numeric data supplied for xKey: ["+e+"]."),m=!1),p&&!d(l,0,u-1)&&(Dt.warnOnce("the number axis has no numeric data supplied for yKey: ["+r+"]."),m=!1),m},t.prototype.updatePaths=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return e.paths.forEach(function(i){return i.visible=!1}),[2]})})},t.prototype.updatePathNodes=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return[2]})})},t.prototype.updateHighlightSelectionItem=function(e){return Ia(this,void 0,void 0,function(){var i,o,a;return Fa(this,function(l){return o=e.highlightSelection,a=(i=e.item)?[i]:[],this.opts.hasMarkers?[2,this.updateMarkerSelection({nodeData:a,markerSelection:o,seriesIdx:-1})]:[2,this.updateDatumSelection({nodeData:a,datumSelection:o,seriesIdx:-1})]})})},t.prototype.updateHighlightSelectionLabel=function(e){return Ia(this,void 0,void 0,function(){var r;return Fa(this,function(a){return[2,this.updateLabelSelection({labelData:(r=e.item)?[r]:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})]})})},t.prototype.updateDatumSelection=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return[2,e.datumSelection]})})},t.prototype.updateDatumNodes=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return[2]})})},t.prototype.updateMarkerSelection=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return[2,e.markerSelection]})})},t.prototype.updateMarkerNodes=function(e){return Ia(this,void 0,void 0,function(){return Fa(this,function(r){return[2]})})},t}(VS),pF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e}return U0(t,n),function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([V(_i),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"formatter",void 0),t}(lPe);function V6(n){return new Promise(function(t){setTimeout(function(){return t(void 0)},n)})}var H6=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Pe=function(){function n(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return n.prototype.show=function(t){var e,r,i=this.element;if(this.element||((i=document.createElement("div")).className=this.className,this.element=i),i.style.position="absolute",i.style.left=t.x+"px",i.style.top=t.y+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var o=document.createElement("div");o.style.alignItems="center",o.style.boxSizing="border-box",o.style.display="flex",o.style.justifyContent="center",o.style.margin="8px",o.style.height="100%",o.style.font="12px Verdana, sans-serif",o.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",i.append(o)}null===(r=this.parentElement)||void 0===r||r.append(i)},n.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},H6([V(_i)],n.prototype,"renderer",void 0),H6([V(Kr)],n.prototype,"text",void 0),n}(),yPe=function n(t){this.noData=new _Pe("ag-chart-no-data-overlay",t)},CPe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},YS=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(CPe(arguments[t]));return n},W6=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mF=function(){function n(){this.registeredListeners={}}return n.prototype.addListener=function(t,e){var r,i=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(r=this.registeredListeners[t])||void 0===r||r.push({symbol:i,handler:e}),i},n.prototype.dispatch=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map(function(a){return a.handler.apply(a,YS(r))})},n.prototype.cancellableDispatch=function(t,e){for(var r,i,o,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var l=null!==(o=this.registeredListeners[t])&&void 0!==o?o:[],u=[];try{for(var c=W6(l),d=c.next();!d.done;d=c.next()){var h=d.value;if(e())break;u.push(h.handler.apply(h,YS(a)))}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},n.prototype.reduceDispatch=function(t,e){for(var r,i,o,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var l=null!==(o=this.registeredListeners[t])&&void 0!==o?o:[],u=void 0;try{for(var c=W6(l),d=c.next();!d.done;d=c.next()){var h=d.value;u=h.handler.apply(h,YS(a)),a=e.apply(void 0,YS([u],a))}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u},n.prototype.removeListener=function(t){for(var e in this.registeredListeners){var r=this.registeredListeners[e],i=r?.findIndex(function(o){return o.symbol===t});null!=i&&i>=0&&r?.splice(i,1),null!=i&&0===r?.length&&delete this.registeredListeners[e]}},n}(),gF=function(){function n(){this.listeners=new mF}return n.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},n.prototype.removeListener=function(t){this.listeners.removeListener(t)},n}(),wPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nv=function(){return nv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},nv.apply(this,arguments)},z0=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j6=["pagehide","mousemove","mouseup","wheel"],U6=["click","dblclick","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],EPe="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",SPe=function(n){function t(e,r){var i,o,a,s;void 0===r&&(r=document);var l=n.call(this)||this;l.eventHandler=function(v){return l.processEvent(v)},l.mouseDown=!1,l.touchDown=!1,l.rootElement=r.body,l.element=e;try{for(var u=z0(U6),c=u.next();!c.done;c=u.next())(d=c.value).startsWith("touch")?e.addEventListener(d,l.eventHandler,{passive:!0}):e.addEventListener(d,l.eventHandler)}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var h=z0(j6),p=h.next();!p.done;p=h.next()){var d=p.value;window.addEventListener(d,l.eventHandler)}}catch(v){a={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}if(t.interactionDocuments.indexOf(r)<0){var m=document.createElement("style");m.innerHTML=EPe,document.head.insertBefore(m,document.head.querySelector("style")),t.interactionDocuments.push(r)}return l}return wPe(t,n),t.prototype.destroy=function(){var e,r,i,o;try{for(var a=z0(j6),s=a.next();!s.done;s=a.next()){var l=s.value;window.removeEventListener(l,this.eventHandler)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}try{for(var u=z0(U6),c=u.next();!c.done;c=u.next())this.element.removeEventListener(l=c.value,this.eventHandler)}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},t.prototype.processEvent=function(e){var r=this.decideInteractionEventTypes(e);r.length>0&&this.dispatchEvent(e,r)},t.prototype.dispatchEvent=function(e,r){return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var i,o,a,s,l,c,d;return function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(h){if(null==(i=this.calculateCoordinates(e)))return[2];o=function(p){var m=a.buildEvent(nv(nv({event:e},i),{type:p}));a.listeners.cancellableDispatch(p,function(){return m.consumed},m)},a=this;try{for(s=z0(r),l=s.next();!l.done;l=s.next())o(l.value)}catch(p){c={error:p}}finally{try{l&&!l.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}}return[2]})})},t.prototype.decideInteractionEventTypes=function(e){switch(e.type){case"click":return["click"];case"dblclick":return["dblclick"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=e.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(e)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(e)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(e)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var r=e instanceof MouseEvent&&1==(1&e.buttons);return this.mouseDown!==r?(this.mouseDown=r,[r?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},t.prototype.isEventOverElement=function(e){var r;return e.target===this.element||(null===(r=e.target)||void 0===r?void 0:r.parentElement)===this.element},t.prototype.calculateCoordinates=function(e){var r;if(e instanceof MouseEvent)return this.fixOffsets(e,{clientX:i=e.clientX,clientY:o=e.clientY,pageX:a=e.pageX,pageY:s=e.pageY,offsetX:e.offsetX,offsetY:e.offsetY});if(typeof TouchEvent<"u"&&e instanceof TouchEvent){var c=null!==(r=e.touches[0])&&void 0!==r?r:e.changedTouches[0],i=c.clientX,o=c.clientY,a=c.pageX,s=c.pageY;return nv(nv({},t.NULL_COORDS),{clientX:i,clientY:o,pageX:a,pageY:s})}return e instanceof PageTransitionEvent?e.persisted?void 0:t.NULL_COORDS:void 0},t.prototype.fixOffsets=function(e,r){var i=function(s){for(var l=0,u=0;s;)l+=s.offsetLeft,u+=s.offsetTop,s=s.offsetParent;return{x:l,y:u}};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){var o=i(this.dragStartElement),a=i(e.target);r.offsetX-=o.x-a.x,r.offsetY-=o.y-a.y}return r},t.prototype.buildEvent=function(e){var r=e.type,i=e.event,o=e.clientX,a=e.clientY,s=e.offsetX,l=e.offsetY,u=e.pageX,c=e.pageY;if(!ll(s)||!ll(l)){var d=this.element.getBoundingClientRect();s=o-d.left,l=a-d.top}if(!ll(u)||!ll(c)){var h=this.rootElement.getBoundingClientRect();u=o-h.left,c=a-h.top}var p={type:r,offsetX:s,offsetY:l,pageX:u,pageY:c,sourceEvent:i,consumed:!1,consume:function(){return p.consumed=!0}};return p},t.interactionDocuments=[],t.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},t}(gF),RPe=function(){function n(t){this.states={},this.element=t}return n.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},n.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach(function(e){var r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(e,2);return t=r[1].style}),this.element.style.cursor=t},n}(),TPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PPe=function(n){function t(){var e=n.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return TPe(t,n),t.prototype.updateHighlight=function(e,r){delete this.states[e],null!=r&&(this.states[e]={highlightedDatum:r}),this.applyStates()},t.prototype.getActiveHighlight=function(){return this.activeHighlight},t.prototype.applyStates=function(){var e=this.activeHighlight,r=void 0;Object.entries(this.states).reverse().slice(0,1).forEach(function(a){var s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(a,2);return r=s[1].highlightedDatum}),this.activeHighlight=r;var i=!function APe(n,t){return n===t||!(n?.series!==t?.series||n?.itemId!==t?.itemId||n?.datum!==t?.datum)}(e,this.activeHighlight);i&&this.listeners.dispatch("highlight-change",{type:"highlight-change",previousHighlight:e,currentHighlight:this.activeHighlight})},t}(gF),IPe=function(){function n(t){this.states={},this.tooltip=t}return n.prototype.updateTooltip=function(t,e,r){var i;null==r&&(r=null===(i=this.states[t])||void 0===i?void 0:i.content),delete this.states[t],null!=e&&null!=r&&(this.states[t]={content:r,meta:e}),this.applyStates()},n.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},n.prototype.applyStates=function(){var t,e=void 0,r=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach(function(o){var a=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(o,2),l=a[1];e=l.content,r=l.meta}),void 0===r||void 0===e)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===e){var i=this.tooltip.isVisible();this.tooltip.show(r,void 0,i)}else this.tooltip.show(r,e);this.appliedState={content:e,meta:r}},n}(),FPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qS=function(){return qS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},qS.apply(this,arguments)},LPe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},BPe=function(n){function t(){var e=n.call(this)||this;return e.states={},e.currentZoom=void 0,e}return FPe(t,n),t.prototype.updateZoom=function(e,r){delete this.states[e],null!=r&&(this.states[e]=qS({},r)),this.applyStates()},t.prototype.getZoom=function(){return this.currentZoom},t.prototype.applyStates=function(){var e,r,i=this.currentZoom,o={};try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(this.states)),s=a.next();!s.done;s=a.next()){var c=LPe(s.value,2)[1],h=c.y;o.x=c.x??o.x,o.y=h??o.y}}catch(v){e={error:v}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}this.currentZoom=null!=o.x||null!=o.y?o:void 0;var p=!function NPe(n,t){var e,r,i,o,a,s,l,u;return n===t||!((null===(e=n?.x)||void 0===e?void 0:e.min)!==(null===(r=t?.x)||void 0===r?void 0:r.min)||(null===(i=n?.x)||void 0===i?void 0:i.max)!==(null===(o=t?.x)||void 0===o?void 0:o.max)||(null===(a=n?.y)||void 0===a?void 0:a.max)!==(null===(s=t?.y)||void 0===s?void 0:s.max)||(null===(l=n?.y)||void 0===l?void 0:l.min)!==(null===(u=t?.y)||void 0===u?void 0:u.min))}(i,this.currentZoom);if(p){var m=qS({type:"zoom-change"},i??{});this.listeners.dispatch("zoom-change",m)}},t}(gF),XS=function(){return XS=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},XS.apply(this,arguments)},HPe=function(){function n(){this.layoutProcessors=new mF,this.listeners=new mF}return n.prototype.addListener=function(t,e){if(function GPe(n){return"layout-complete"!==n}(t))return this.layoutProcessors.addListener(t,e);if(function VPe(n){return"layout-complete"===n}(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},n.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},n.prototype.dispatchPerformLayout=function(t,e){return this.layoutProcessors.reduceDispatch(t,function(i,o){var a=i.shrinkRect;return[XS(XS({},o),{shrinkRect:a})]},e)??e},n.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},n}(),jPe=function(){function n(){this.range="tooltip"}return function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([V(Zz("tooltip","node"))],n.prototype,"range",void 0),n}(),UPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nf=function(){return Nf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Nf.apply(this,arguments)},td=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ap=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Pp=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},rv=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_F=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(vF(arguments[t]));return n},yF=function(n){function t(e,r,i){void 0===e&&(e=window.document);var o,a=n.call(this)||this;a.id=Pf(a),a.processedOptions={},a.userOptions={},a.queuedUserOptions=[],a.seriesRoot=new cn({name:a.id+"-Series-root"}),a.background=new yAe(function(){return a.update(Wn.SCENE_RENDER)}),a.extraDebugStats={},a._container=void 0,a.data=[],a.padding=new aF(20),a.seriesAreaPadding=new aF(0),a.title=void 0,a.subtitle=void 0,a.footnote=void 0,a.mode="standalone",a._destroyed=!1,a.modules={},a._pendingFactoryUpdates=[],a._performUpdateNoRenderCount=0,a._performUpdateType=Wn.NONE,a.seriesToUpdate=new Set,a.performUpdateTrigger=function iPe(n){return N6(function(t){return setTimeout(t,0)},n)}(function(h){var p=h.count;return Ap(a,void 0,void 0,function(){var m;return Pp(this,function(v){switch(v.label){case 0:if(this._destroyed)return[2];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.performUpdate(p)];case 2:return v.sent(),[3,4];case 3:return m=v.sent(),this._lastPerformUpdateError=m,Dt.error("update error",m),[3,4];case 4:return[2]}})})}),a._axes=[],a._series=[],a.lastInteractionEvent=void 0,a.pointerScheduler=function rPe(n){return N6(function(t){return requestAnimationFrame(t)},n)}(function(){a.lastInteractionEvent&&a.handlePointer(a.lastInteractionEvent),a.lastInteractionEvent=void 0}),a.onSeriesNodeClick=function(h){var p=Nf(Nf({},h),{type:"seriesNodeClick"});Object.defineProperty(p,"series",{enumerable:!1,get:function(){return h.series}}),a.fireEvent(p)},a.onSeriesNodeDoubleClick=function(h){var p=Nf(Nf({},h),{type:"seriesNodeDoubleClick"});a.fireEvent(p)};var s=i?.scene,l=null!==(o=i?.element)&&void 0!==o?o:e.createElement("div"),u=i?.container,c=new cn({name:"root"});c.visible=!1,c.append(a.seriesRoot);var d=a.background;return d.fill="white",c.appendChild(d.node),a.axisGroup=new cn({name:"Axes",layer:!0,zIndex:Ci.AXIS_ZINDEX}),c.appendChild(a.axisGroup),a.element=l,l.classList.add("ag-chart-wrapper"),l.style.position="relative",a.scene=s??new WOe({document:e,overrideDevicePixelRatio:r}),a.debug=!1,a.scene.debug.consoleLog=!1,a.scene.root=c,a.scene.container=l,a.autoSize=!0,a.interactionManager=new SPe(l),a.cursorManager=new RPe(l),a.highlightManager=new PPe,a.zoomManager=new BPe,a.layoutService=new HPe,L6.observe(a.element,function(h){var p=h.width,m=h.height;a.autoSize&&(0===p&&0===m||p===a.width&&m===a.height||(a._lastAutoSize=[p,m],a.resize(p,m)))}),a.tooltip=new $Ae(a.scene.canvas.element,e,e.body),a.tooltipManager=new IPe(a.tooltip),a.legend=new JAe(a,a.interactionManager,a.cursorManager,a.highlightManager,a.tooltipManager),a.overlays=new yPe(a.element),a.highlight=new jPe,a.container=u,a.interactionManager.addListener("click",function(h){return a.onClick(h)}),a.interactionManager.addListener("dblclick",function(h){return a.onDoubleClick(h)}),a.interactionManager.addListener("hover",function(h){return a.onMouseMove(h)}),a.interactionManager.addListener("leave",function(){return a.disablePointer()}),a.interactionManager.addListener("page-left",function(){return a.destroy()}),a.zoomManager.addListener("zoom-change",function(h){return a.update(Wn.PROCESS_DATA,{forceNodeDataRefresh:!0})}),a.highlightManager.addListener("highlight-change",function(h){return a.changeHighlightDatum(h)}),a}return UPe(t,n),t.prototype.getOptions=function(){var e,r=this.queuedUserOptions;return Ao([null!==(e=r[r.length-1])&&void 0!==e?e:this.userOptions])},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.element.parentNode?.removeChild(this.element),e&&!this.destroyed&&e.appendChild(this.element),this._container=e)},enumerable:!1,configurable:!0}),t.prototype.autoSizeChanged=function(e){var r=this.element.style;if(e){if(r.display="block",r.width="100%",r.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else r.display="inline-block",r.width="auto",r.height="auto"},t.prototype.download=function(e,r){this.scene.download(e,r)},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype.addModule=function(e){if(null!=this.modules[e.optionsKey])throw new Error("AG Charts - module already initialised: "+e.optionsKey);var r=e.initialiseModule(this.getModuleContext());this.modules[e.optionsKey]=r,this[e.optionsKey]=r.instance},t.prototype.removeModule=function(e){var r,i;null===(i=null===(r=this.modules[e.optionsKey])||void 0===r?void 0:r.instance)||void 0===i||i.destroy(),delete this.modules[e.optionsKey],delete this[e.optionsKey]},t.prototype.isModuleEnabled=function(e){return null!=this.modules[e.optionsKey]},t.prototype.getModuleContext=function(){var e=this;return{scene:e.scene,interactionManager:e.interactionManager,zoomManager:e.zoomManager,cursorManager:e.cursorManager,highlightManager:e.highlightManager,tooltipManager:e.tooltipManager,layoutService:e.layoutService}},t.prototype.destroy=function(e){var r,i;if(!this._destroyed){var o=e?.keepTransferableResources,a=void 0;this._performUpdateType=Wn.NONE,this._pendingFactoryUpdates.splice(0),this.tooltip.destroy(),L6.unobserve(this.element);try{for(var s=rv(Object.entries(this.modules)),l=s.next();!l.done;l=s.next()){var u=vF(l.value,2),c=u[0];u[1].instance.destroy(),delete this.modules[c],delete this[c]}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return this.interactionManager.destroy(),o?(this.scene.strip(),a={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach(function(h){return h.destroy()}),this.series=[],this.axes.forEach(function(h){return h.destroy()}),this.axes=[],this._destroyed=!0,a}},t.prototype.log=function(e){this.debug&&Dt.debug(e)},t.prototype.disablePointer=function(e){void 0===e&&(e=!1),e||this.tooltipManager.updateTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},t.prototype.requestFactoryUpdate=function(e){var r=this._pendingFactoryUpdates,i=r.length;0===i?(r.push(e),this._processCallbacks()):r.splice(1,i-1,e)},t.prototype._processCallbacks=function(){return Ap(this,void 0,void 0,function(){var e,r;return Pp(this,function(i){switch(i.label){case 0:e=this._pendingFactoryUpdates,i.label=1;case 1:return e.length>0?this.updatePending?[4,V6(1)]:[3,3]:[3,7];case 2:return i.sent(),[3,1];case 3:return i.trys.push([3,5,,6]),[4,e[0]()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),Dt.error("update error",r),[3,6];case 6:return e.shift(),[3,1];case 7:return[2]}})})},Object.defineProperty(t.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._performUpdateType!==Wn.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),t.prototype.awaitUpdateCompletion=function(){return Ap(this,void 0,void 0,function(){return Pp(this,function(e){switch(e.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return e.sent(),[2]}})})},t.prototype.update=function(e,r){var i,o;void 0===e&&(e=Wn.FULL);var a=r||{},s=a.forceNodeDataRefresh,u=a.seriesToUpdate,c=void 0===u?this.series:u;void 0!==s&&s&&this.series.forEach(function(m){return m.markNodeDataDirty()});try{for(var d=rv(c),h=d.next();!h.done;h=d.next())this.seriesToUpdate.add(h.value)}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}e<this._performUpdateType&&(this._performUpdateType=e,this.performUpdateTrigger.schedule())},t.prototype.performUpdate=function(e){var r;return Ap(this,void 0,void 0,function(){var i,o,a,s,c,d,h,p;return Pp(this,function(m){switch(m.label){case 0:switch(o=(i=this)._performUpdateType,a=i.extraDebugStats,s=[performance.now()],o){case Wn.FULL:case Wn.PROCESS_DATA:return[3,1];case Wn.PERFORM_LAYOUT:return[3,3];case Wn.SERIES_UPDATE:return[3,5];case Wn.TOOLTIP_RECALCULATION:return[3,7];case Wn.SCENE_RENDER:return[3,8];case Wn.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:m.sent(),this.disablePointer(!0),s.push(performance.now()),m.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=Wn.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,this.background.performLayout(this.scene.width,this.scene.height),[4,this.performLayout()]);case 4:m.sent(),this.handleOverlays(),s.push(performance.now()),m.label=5;case 5:return c=this.seriesRect,d=_F(this.seriesToUpdate).map(function(v){return v.update({seriesRect:c})}),this.seriesToUpdate.clear(),[4,Promise.all(d)];case 6:m.sent(),s.push(performance.now()),m.label=7;case 7:h=this.tooltipManager.getTooltipMeta(this.id),o<Wn.SERIES_UPDATE&&"hover"===(null===(r=h?.event)||void 0===r?void 0:r.type)&&this.handlePointer(h.event),m.label=8;case 8:return[4,this.scene.render({debugSplitTimes:s,extraDebugStats:a})];case 9:m.sent(),this.extraDebugStats={},m.label=10;case 10:this._performUpdateType=Wn.NONE,m.label=11;case 11:return p=performance.now(),this.log({chart:this,durationMs:Math.round(100*(p-s[0]))/100,count:e,performUpdateType:Wn[o]}),[2]}})})},Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var r=this,i=new Set;this._axes.forEach(function(o){o.detachAxis(r.axisGroup),i.add(o)}),this._axes=e.filter(function(o){return!o.linkedTo}).concat(e.filter(function(o){return o.linkedTo})),this._axes.forEach(function(o){o.attachAxis(r.axisGroup),i.delete(o)}),i.forEach(function(o){return o.destroy()})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var r=this;this.removeAllSeries(),e.forEach(function(i){return r.addSeries(i)})},enumerable:!1,configurable:!0}),t.prototype.addSeries=function(e,r){var o=this.series,a=this.seriesRoot;if(o.indexOf(e)<0){var l=r?o.indexOf(r):-1;return l>=0?(o.splice(l,0,e),a.insertBefore(e.rootGroup,r.rootGroup)):(o.push(e),a.append(e.rootGroup)),this.initSeries(e),!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.highlightManager=this.highlightManager,e.data||(e.data=this.data),this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(r){e.freeSeries(r),e.seriesRoot.removeChild(r.rootGroup)}),this._series=[]},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(r){r.boundSeries=e.series.filter(function(i){return(r.direction===bn.X?i.xAxis:i.yAxis)===r})})},t.prototype.assignAxesToSeries=function(e){var r=this;void 0===e&&(e=!1);var i={};this.axes.forEach(function(o){var a=o.direction;(i[a]||(i[a]=[])).push(o)}),this.series.forEach(function(o){o.directions.forEach(function(a){if(!(a===bn.X?o.xAxis:o.yAxis)||e){var l=i[a];if(!l)return void Dt.warn("no available axis for direction ["+a+"]; check series and axes configuration.");var u=o.getKeys(a),c=r.findMatchingAxis(l,o.getKeys(a));if(!c)return void Dt.warn("no matching axis for direction ["+a+"] and keys ["+u+"]; check series and axes configuration.");a===bn.X?o.xAxis=c:o.yAxis=c}})})},t.prototype.findMatchingAxis=function(e,r){var i,o,a,s;try{for(var l=rv(e),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.keys;if(!d.length)return c;if(r)try{for(var h=(a=void 0,rv(r)),p=h.next();!p.done;p=h.next())if(d.indexOf(p.value)>=0)return c}catch(v){a={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}}catch(v){i={error:v}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},t.prototype.resize=function(e,r){!e||!r||!Number.isFinite(e)||!Number.isFinite(r)||this.scene.resize(e,r)&&(this.disablePointer(),this.update(Wn.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},t.prototype.processData=function(){return Ap(this,void 0,void 0,function(){return Pp(this,function(e){switch(e.label){case 0:return(this.axes.length>0||this.series.some(function(r){return r instanceof tv}))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map(function(r){return r.processData()}))];case 1:return e.sent(),[4,this.updateLegend()];case 2:return e.sent(),[2]}})})},t.prototype.placeLabels=function(){var e,r,i=[],o=[];try{for(var a=rv(this.series),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.visible){var u=l.getLabelData();u&&F1e(u[0])&&(o.push(u),i.push(l))}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}var c=this.seriesRect,d=c&&o.length>0?function k1e(n,t,e){void 0===e&&(e=5);var r=[];n=n.map(function(c){return c.slice().sort(function(d,h){return h.point.size-d.point.size})});for(var i=0;i<n.length;i++){var o=r[i]=[],a=n[i];if(a&&a.length&&a[0].label)for(var s=function(c,d){var h=a[c],p=h.label,v=h.point.x-.5*p.width,_=h.point.y-.5*h.point.size-p.height-e,C=p.width,w=p.height;return!t||I1e(t,v,_,C,w)?n.some(function(O){return O.some(function(R){return M1e(R.point,v,_,C,w)})})||r.some(function(O){return O.some(function(R){return f6(R,v,_,C,w)})})?"continue":void o.push({index:c,text:p.text,x:v,y:_,width:C,height:w,datum:h}):"continue"},l=0,u=a.length;l<u;l++)s(l)}return r}(o,{x:0,y:0,width:c.width,height:c.height}):[];return new Map(d.map(function(h,p){return[i[p],h]}))},t.prototype.updateLegend=function(){return Ap(this,void 0,void 0,function(){var e,r;return Pp(this,function(i){return e=[],this.series.filter(function(o){return o.showInLegend}).forEach(function(o){e.push.apply(e,_F(o.getLegendData()))}),(r=this.legend.item.label.formatter)&&e.forEach(function(o){return o.label.text=r({get id(){return Dt.warnOnce("LegendLabelFormatterParams.id is deprecated, use seriesId instead"),o.seriesId},itemId:o.itemId,value:o.label.text,seriesId:o.seriesId})}),this.legend.data=e,[2]})})},t.prototype.positionCaptions=function(e){var r=this,i=r.title,o=r.subtitle,a=r.footnote,s=e.clone(),l=function(c){var d,h=s.y;c.node.x=s.x+s.width/2,c.node.y=h,c.node.textBaseline="top";var p=c.node.computeBBox(),m=Math.ceil(p.y-h+p.height+(null!==(d=c.spacing)&&void 0!==d?d:0));s.shrink(m,"top")};return i&&(i.node.visible=i.enabled,i.node.visible&&l(i)),o&&(o.node.visible=void 0!==i&&i.enabled&&o.enabled,o.node.visible&&l(o)),a&&(a.node.visible=a.enabled,a.node.visible&&function(c){var d,h=s.y+s.height;c.node.x=s.x+s.width/2,c.node.y=h,c.node.textBaseline="bottom";var p=c.node.computeBBox(),m=Math.ceil(h-p.y+(null!==(d=c.spacing)&&void 0!==d?d:0));s.shrink(m,"bottom")}(a)),s},t.prototype.positionLegend=function(e){var r=this.legend,i=e.clone();if(!r.enabled||!r.data.length)return i;var o=vF(this.calculateLegendDimensions(e),2),a=o[0],s=o[1],l=0,u=0;r.translationX=0,r.translationY=0,r.performLayout(a,s);var c=r.computePagedBBox(),d=function(){switch(r.position){case"top":case"left":return 0;case"bottom":return e.height-c.height;default:return e.width-c.width}};if(r.visible){switch(r.position){case"top":case"bottom":l=(e.width-c.width)/2,u=d(),i.shrink(c.height,r.position);break;default:l=d(),u=(e.height-c.height)/2,i.shrink(c.width,r.position)}r.translationX=Math.floor(-c.x+e.x+l),r.translationY=Math.floor(-c.y+e.y+u)}return i},t.prototype.calculateLegendDimensions=function(e){var r=this.legend,i=e.width,o=e.height,a=i/o,c=0,d=0;switch(r.position){case"top":case"bottom":var h=a<1?Math.min(.5,1/a*.2):.2;c=r.maxWidth?Math.min(r.maxWidth,i):i,d=r.maxHeight?Math.min(r.maxHeight,o):Math.round(o*h);break;default:var p=a>1?Math.min(.5,.25*a):.25;c=r.maxWidth?Math.min(r.maxWidth,i):Math.round(i*p),d=r.maxHeight?Math.min(r.maxHeight,o):o}return[c,d]},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,r,i){var o,a,s,l,u=performance.now(),c=r?[Li.EXACT_SHAPE_MATCH]:void 0,d=_F(this.series).reverse(),h=void 0;try{for(var p=rv(d),m=p.next();!m.done;m=p.next()){var v=m.value;if(v.visible&&v.rootGroup.visible){var _=null!==(s=v.pickNode(e,c))&&void 0!==s?s:{},C=_.match,w=_.distance;if(C&&null!=w&&((!h||h.distance>w)&&w<=(i??1/0)&&(h={series:v,distance:w,datum:C}),0===w))break}}}catch(b){o={error:b}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(l=this.extraDebugStats.pickSeriesNode)&&void 0!==l?l:0)+(performance.now()-u)),h},t.prototype.onMouseMove=function(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(Wn.SCENE_RENDER)},t.prototype.handlePointer=function(e){var i,r=this,o=this.lastPick,a=e.offsetX,s=e.offsetY,l=function(d){void 0===d&&(d=!1),o&&r.disablePointer(d)};(null===(i=this.seriesRect)||void 0===i?void 0:i.clone().grow(20).grow(this.seriesAreaPadding))?.containsPoint(a,s)?(this.handlePointerTooltip(e,l),this.handlePointerNodeCursor(e)):l()},t.prototype.handlePointerTooltip=function(e,r){var h,o=this.lastPick,s=this.tooltip.range,l=e.pageX,u=e.pageY,c=e.offsetX,d=e.offsetY;"number"==typeof s&&Number.isFinite(s)&&(h=s);var p=this.pickSeriesNode({x:c,y:d},"exact"===s,h);if(!p)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&r(!0));var v,m="node"===this.highlight.range||!o||o.datum!==p.datum;m?(v=p.series.getTooltipHtml(p.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,p.datum)):o&&(o.event=e.sourceEvent);var E=this.tooltip.enabled&&p.series.tooltip.enabled&&("nearest"===s||null!=h||"exact"===s&&0===p.distance)&&(!m||void 0!==v),S=this.mergePointerDatum({pageX:l,pageY:u,offsetX:c,offsetY:d,event:e},p.datum);E&&this.tooltipManager.updateTooltip(this.id,S,v)},t.prototype.handlePointerNodeCursor=function(e){var r=this;this.checkSeriesNodeRange(e,function(o,a){(o.hasEventListener("nodeClick")||o.hasEventListener("nodeDoubleClick"))&&(r.cursorManager.updateCursor("chart","pointer"),"node"===r.highlight.range&&r.highlightManager.updateHighlight(r.id,a))})||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},t.prototype.onClick=function(e){this.checkSeriesNodeClick(e)?this.update(Wn.SERIES_UPDATE):this.fireEvent({type:"click",event:e.sourceEvent})},t.prototype.onDoubleClick=function(e){this.checkSeriesNodeDoubleClick(e)?this.update(Wn.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:e.sourceEvent})},t.prototype.checkSeriesNodeClick=function(e){return this.checkSeriesNodeRange(e,function(r,i){return r.fireNodeClickEvent(e.sourceEvent,i)})},t.prototype.checkSeriesNodeDoubleClick=function(e){return this.checkSeriesNodeRange(e,function(r,i){return r.fireNodeDoubleClickEvent(e.sourceEvent,i)})},t.prototype.checkSeriesNodeRange=function(e,r){var s,o=("nearest"===this.tooltip.range&&void 0!==this.lastPick?this.lastPick:this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1))?.datum,a=o?.series.nodeClickRange;if(o&&"nearest"===a)return r(o.series,o),!0;"number"==typeof a&&Number.isFinite(a)&&(s=a);var l=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},"exact"===a,s);return!(!l||null==s&&("exact"!==a||0!==l.distance)||(r(l.series,l.datum),0))},t.prototype.mergePointerDatum=function(e,r){if(r.point){var i=r.point,s=this.scene.canvas,l=r.series.rootGroup.inverseTransformPoint(i.x,i.y),u=s.element.getBoundingClientRect();return Nf(Nf({},e),{pageX:Math.round(u.left+window.scrollX+l.x),pageY:Math.round(u.top+window.scrollY+l.y),offsetX:Math.round(l.x),offsetY:Math.round(l.y)})}return e},t.prototype.changeHighlightDatum=function(e){var r=new Set,i=e.currentHighlight||{},o=i.series,a=void 0===o?void 0:o,s=i.datum,l=e.previousHighlight||{},u=l.series,c=void 0===u?void 0:u,d=l.datum;c&&r.add(c),a&&r.add(a),c?.cursor&&d&&this.cursorManager.updateCursor(c.id),a?.cursor&&s&&this.cursorManager.updateCursor(a.id,a.cursor),this.lastPick=e.currentHighlight?{datum:e.currentHighlight}:void 0,null==a||null==c?this.update(Wn.SERIES_UPDATE):this.update(Wn.SERIES_UPDATE,{seriesToUpdate:r})},t.prototype.waitForUpdate=function(e){return void 0===e&&(e=5e3),Ap(this,void 0,void 0,function(){var r;return Pp(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-r>e)throw new Error("waitForUpdate() timeout reached.");return[4,V6(5)];case 2:return i.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return i.sent(),[2]}})})},t.prototype.handleOverlays=function(){this.handleNoDataOverlay()},t.prototype.handleNoDataOverlay=function(){var e=!this.series.some(function(i){return i.hasData()}),r=this.getSeriesRect();e&&r?this.overlays.noData.show(r):this.overlays.noData.hide()},td([Zc({newValue:function(e){this.scene.debug.consoleLog=e}})],t.prototype,"debug",void 0),td([Zc({newValue:function(e){var r;null===(r=this.series)||void 0===r||r.forEach(function(i){return i.data=e})}})],t.prototype,"data",void 0),td([Zc({newValue:function(e){this.autoSize=!1,this.resize(e,this.height)}})],t.prototype,"width",void 0),td([Zc({newValue:function(e){this.autoSize=!1,this.resize(this.width,e)}})],t.prototype,"height",void 0),td([Zc({changeValue:function(e){this.autoSizeChanged(e)}}),V(Ir)],t.prototype,"autoSize",void 0),td([Zc({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"title",void 0),td([Zc({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"subtitle",void 0),td([Zc({newValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.appendChild(e.node)},oldValue:function(e){var r;null===(r=this.scene.root)||void 0===r||r.removeChild(e.node)}})],t.prototype,"footnote",void 0),td([V(Zz("standalone","integrated"))],t.prototype,"mode",void 0),t}(Uz),z6=function(){function n(t,e,r){void 0===t&&(t=""),void 0===r&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=r}return n.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},n.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},n.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},n.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},n.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,r){return r!==t.number}):[]},n}();function KPe(n,t,e){var i=e/(t.number-n.number);t.change-=i,t.shift+=e,n.change+=i,t.prelim+=e,t.mod+=e}function YPe(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function $6(n,t){var e=n.children;if(e.length){var r=e[0];e.forEach(function(a){$6(a,t),r=function XPe(n,t,e){var r=n.getLeftSibling();if(r){for(var i=n,o=n,a=r,s=o.getLeftmostSibling(),l=o.mod,u=i.mod,c=a.mod,d=s.mod;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),(i=i.nextRight()).ancestor=n;var h=a.prelim+c-(o.prelim+l)+e;h>0&&(KPe(YPe(a,n,t),n,h),l+=h,u+=h),c+=a.mod,l+=o.mod,d+=s.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=n)}return t}(a,r,t)}),function qPe(n){var t=n.children;if(t)for(var e=0,r=0,i=t.length-1;i>=0;i--){var o=t[i];o.prelim+=e,o.mod+=e,e+=o.shift+(r+=o.change)}}(n);var i=(e[0].prelim+e[e.length-1].prelim)/2;(o=n.getLeftSibling())?(n.prelim=o.prelim+t,n.mod=n.prelim-i):n.prelim=i}else{var o=n.getLeftSibling();n.prelim=o?o.prelim+t:0}}var K6=function(){function n(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return n.prototype.update=function(t,e){var r=e(t),i=r.x,o=r.y;i>this.right&&(this.right=i),i<this.left&&(this.left=i),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},n}();function Y6(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(function(r){return Y6(r,t+n.mod,e)})}function q6(n){var t=n.children,e=0;t.forEach(function(r){q6(r),r.children.length?e+=r.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function ZPe(n){var t=new QPe;return $6(n,1),Y6(n,-n.prelim,t),q6(n),t}var QPe=function(){function n(){this.dimensions=new K6,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return n.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},n.prototype.resize=function(t,e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=!1);var a=this.leafCount-1,s=this.depth,l=this.dimensions,u=1,c=1;t>0&&a&&(u=t/a/((l.right-l.left)/a),o&&(u=-u)),e>0&&s&&(c=e/s/((l.bottom-l.top)/s));var v=new K6;this.nodes.forEach(function(w){w.screenX=w.x*u,w.screenY=w.y*c,v.update(w,function(b){return{x:b.screenX,y:b.screenY}})});var _=-v.left,C=-v.top;this.nodes.forEach(function(w){w.screenX+=_+r,w.screenY+=C+i})},n}(),X6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z6=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JPe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},tMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.grid=!1,e}return X6(t,n),Z6([V(Ir)],t.prototype,"grid",void 0),t}(S6),ZS=function(n){function t(e){var r=n.call(this,e,new jS)||this;r.tickScale=new jS,r.translation={x:0,y:0},r.line=new E6,r.label=new tMe,r.labelColor="rgba(87, 87, 87, 1)",r.includeInvisibleDomains=!0;var o=r.tickLineGroup,a=r.tickLabelGroup,s=r.gridLineGroup,l=r.tickScale,u=r.scale;return u.paddingOuter=.1,u.paddingInner=2*u.paddingOuter,r.requestedRange=u.range.slice(),r.refreshScale(),l.paddingInner=1,l.paddingOuter=0,r.gridLineSelection=yi.select(s,Xc),r.axisLineSelection=yi.select(o,Xc),r.separatorSelection=yi.select(o,Xc),r.labelSelection=yi.select(a,ca),r}return X6(t,n),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(){var e=this,r=e.requestedRange,i=e.visibleRange,a=(r[1]-r[0])/(i[1]-i[0]),l=r[0]-a*i[0];this.tickScale.range=e.scale.range=[l,l+a],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,r=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,o=this.lineHeight;i&&i.resize(Math.abs(r[1]-r[0]),i.depth*o,(Math.min(r[0],r[1])||0)+(e.bandwidth||0)/2,-i.depth*o,r[1]-r[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=e},enumerable:!1,configurable:!0}),t.prototype.calculateDomain=function(){var e,i=this.direction,a=[],s=void 0;this.boundSeries.filter(function(c){return c.visible}).forEach(function(c){if(i===bn.X)if(void 0===s){var d=c.getDomain(i);a.push(d),s="number"==typeof d[0]}else s&&a.push(c.getDomain(i));else a.push(c.getDomain(i))});var l=(e=new Array).concat.apply(e,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(JPe(arguments[t]));return n}(a)),u=ua(l)||l;this.dataDomain=this.normaliseDataDomain(u)},t.prototype.normaliseDataDomain=function(e){var r=e.filter(function(a,s,l){return l.indexOf(a)===s}),i=function zPe(n,t){void 0===t&&(t=!0);var e=new z6,r=0;return t&&n.forEach(function(i){return r=Math.max(r,i.labels.length)}),n.forEach(function(i){if(t)for(;i.labels.length<r;)i.labels.unshift("");!function $Pe(n,t){var e=t.labels.slice().reverse(),r=e.length-1;e.forEach(function(i,o){var a=n.children,s=a.find(function(c){return c.label===i}),l=o!==r;if(s&&l)n=s;else{var u=new z6(i,n);u.number=a.length,a.push(u),l&&(n=u)}})}(e,i)}),e}(r);this.tickTreeLayout=ZPe(i);var o=r.slice();return o.push(""),this.tickScale.domain=o,this.resizeTickTree(),r},t.prototype.update=function(e){var r=this;this.calculateDomain();var i=this,o=i.scale,a=i.label,s=i.label.parallel,l=i.tickScale,u=i.requestedRange;o.domain=this.dataDomain;var c=o.range[0],d=o.range[1],p=Math.abs(d-c)/o.domain.length||0,m=kf(this.rotation),v=Math.abs(Math.cos(m))<1e-8;this.updatePosition();var _=this.title;_&&(_.node.visible=!1);var C=this.lineHeight,w=this.tickTreeLayout,b=o.ticks(),E=w?w.nodes:[],S=!!w&&w.depth>1,O=l.ticks(),R=a.mirrored?1:-1,D=eF({rotation:a.rotation,parallel:s,regularFlipRotation:Qa(m-Math.PI/2),parallelFlipRotation:Qa(m)}),P=D.autoRotation,M=D.labelRotation,B=D.parallelFlipFlag,I=this.gridLineSelection.update(this.gridLength?O:[]),U=this.labelSelection.update(E),le=a.formatter,ie=new Map,te=0;U.each(function(he,ye,st){he.fontStyle=a.fontStyle,he.fontWeight=a.fontWeight,he.fontSize=a.fontSize,he.fontFamily=a.fontFamily,he.fill=a.color,he.textBaseline=-1===B?"bottom":"hanging",he.textAlign="center",he.translationX=ye.screenY-.25*a.fontSize,he.translationY=ye.screenX,0===st?_&&_.enabled&&b.length>0?(he.visible=!0,he.text=_.text,he.fontSize=_.fontSize,he.fontStyle=_.fontStyle,he.fontWeight=_.fontWeight,he.fontFamily=_.fontFamily,he.textBaseline="hanging"):he.visible=!1:(he.text=le?le({value:String(ye.label),index:st}):String(ye.label),he.visible=ye.screenX>=u[0]&&ye.screenX<=u[1]);var K=he.computeBBox();ie.set(he.id,K),K.width>te&&(te=K.width)});var J=R*a.padding,ce=this.label.grid,de=[];U.each(function(he,ye,st){if(he.x=J,he.rotationCenterX=J,ye.children.length){he.translationX-=te-C+r.label.padding;var at=ye.leafCount*p;(K=ie.get(he.id))&&K.width>at?he.visible=!1:he.rotation=v?P:-Math.PI/2}else{var K;he.rotation=M,he.textAlign="end",he.textBaseline="middle",(K=ie.get(he.id))&&K.height>p&&(he.visible=!1)}if(ye.parent&&S){var vt=ye.children.length?ye.screenX-ye.leafCount*p/2:ye.screenX-p/2;if(ye.children.length){var Rt=-te-2*r.label.padding+ye.screenY;de.push({y:vt,x1:Rt+C,x2:Rt,toString:function(){return String(st)}})}else(ye.number!==ye.children.length-1||ce)&&de.push({y:vt,x1:0,x2:-te-2*r.label.padding,toString:function(){return String(st)}})}});var _e=0;de.forEach(function(he){return _e=Math.min(_e,he.x2)}),de.push({y:Math.max(c,d),x1:0,x2:_e,toString:function(){return String(de.length)}}),this.separatorSelection.update(de).each(function(he,ye){he.x1=ye.x1,he.x2=ye.x2,he.y1=ye.y,he.y2=ye.y,he.visible=ye.y>=u[0]-1e-7&&ye.y<=u[1]+1e-7,he.stroke=r.tick.color,he.fill=void 0,he.strokeWidth=1}),this.gridLineSelection=I,this.labelSelection=U;for(var re=w?w.depth+1:1,W=[],X=0;X<re;X++)W.push(X);if(this.axisLineSelection.update(W).each(function(he,ye,st){var K=st>0?-te-2*r.label.padding-(st-1)*C:0;he.x1=K,he.x2=K,he.y1=u[0],he.y2=u[1],he.strokeWidth=r.line.width,he.stroke=r.line.color,he.visible=b.length>0&&(0===st||ce&&S)}),this.gridLength){var Ee=this.gridStyle,Ve=Ee.length;I.each(function(he,ye,st){var K=Math.round(l.convert(ye));he.x1=0,he.x2=-R*r.gridLength,he.y1=K,he.y2=K,he.visible=K>=u[0]&&K<=u[1];var at=Ee[st%Ve];he.stroke=at.stroke,he.strokeWidth=r.tick.width,he.lineDash=at.lineDash,he.fill=void 0})}return e},t.className="GroupedCategoryAxis",t.type="groupedCategory",Z6([V(ai)],t.prototype,"labelColor",void 0),t}(GS),nMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$0=function(){return $0=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},$0.apply(this,arguments)},Q6=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},CF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},oMe=["top","right","bottom","left"],J6=function(n){function t(e,r,i){void 0===e&&(e=window.document);var o=n.call(this,e,r,i)||this;return o.paired=!0,o._lastAxisWidths={top:0,bottom:0,left:0,right:0},o._lastVisibility={crossLines:!0,series:!0},o.legend.attachLegend(o.scene.root),o}return nMe(t,n),t.prototype.performLayout=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var e,r,i,o,l,c,d,h,p,m,v,_;return function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(S){return this.scene.root.visible=!0,r=(e=this).legend,i=e.padding,(l=new Zn(0,0,(o=e.scene).width,o.height)).x+=i.left,l.y+=i.top,l.width-=i.left+i.right,l.height-=i.top+i.bottom,l=this.positionCaptions(l),l=this.positionLegend(l),r.visible&&r.enabled&&r.data.length&&l.shrink(r.spacing,r.position),l=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:l}).shrinkRect,c=this.updateAxes(l),d=c.seriesRect,p=c.clipSeries,this.seriesRoot.visible=(h=c.visibility).series,this.seriesRect=d,this.series.forEach(function(O){O.rootGroup.translationX=Math.floor(d.x),O.rootGroup.translationY=Math.floor(d.y)}),this.layoutService.dispatchLayoutComplete({type:"layout-complete",series:{rect:d,visible:h.series},axes:this.axes.map(function(O){return $0({id:O.id},O.getLayoutState())})}),v=(m=this).seriesRoot,_=m.seriesAreaPadding,p?v.setClipRectInGroupCoordinateSpace(new Zn(d.x-_.left,d.y-_.top,_.left+d.width+_.right,_.top+d.height+_.bottom)):v.setClipRectInGroupCoordinateSpace(),[2]})})},t.prototype.updateAxes=function(e){var r,i,o,a=$0({},this._lastAxisWidths),s=$0({},this._lastVisibility),l=new Set(this._axes.map(function(S){return S.position}));try{for(var u=Q6(Object.keys(a)),c=u.next();!c.done;c=u.next()){var d=c.value;l.has(d)||delete a[d]}}catch(S){r={error:S}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var S,h=function(S,O){return!Object.keys(S).some(function(R){return null==a[R]})&&s.crossLines===O.crossLines&&s.series===O.series&&Object.entries(a).every(function(R){var D=CF(R,2),M=D[1],B=S[D[0]];return null==M&&null==B||M===B})},m={},v={},_=!1,C=null===(o=this.seriesRect)||void 0===o?void 0:o.clone(),w=0;do{Object.assign(a,m),Object.assign(s,v);var b=this.updateAxesPass(a,e.clone(),C);if(m=Object.entries(S=b.axisWidths).reduce(function(O,R){var D=CF(R,2),P=D[0],M=D[1];return M&&Math.abs(M)===1/0&&(M=0),O[P]=null!=M?Math.ceil(M):M,O},{}),v=b.visibility,_=b.clipSeries,C=b.seriesRect,w++>10){Dt.warn("unable to find stable axis layout.");break}}while(!h(m,v));return this.axes.forEach(function(S){if(S.setCrossLinesVisible(s.crossLines),C)switch(S.clipGrid(C.x,C.y,C.width+5,C.height+5),S.position){case"left":case"right":S.clipTickLines(e.x,C.y,e.width+5,C.height+5);break;case"top":case"bottom":S.clipTickLines(C.x,e.y,C.width+5,e.height+5)}}),this._lastAxisWidths=a,this._lastVisibility=s,{seriesRect:C,visibility:s,clipSeries:_}},t.prototype.updateAxesPass=function(e,r,i){var o=this,a=this.axes,s={},l={},u={series:!0,crossLines:!0},c=!1,d={},h=this.applySeriesPadding(r),p=i?this.buildCrossLinePadding(i,e):{},m=this.buildAxisBound(h,e,p,u),v=this.buildSeriesRect(m,e);return a.forEach(function(_){var C,w,b=_.position,E=o.calculateAxisDimensions({axis:_,seriesRect:v,axisWidths:e,newAxisWidths:l,primaryTickCounts:d,clipSeries:c,addInterAxisPadding:(null!==(C=s[b])&&void 0!==C?C:0)>0}),S=E.clipSeries,O=E.axisThickness,R=E.axisOffset;s[b]=(null!==(w=s[b])&&void 0!==w?w:0)+1,c=c||S,o.positionAxis({axis:_,axisBound:m,axisOffset:R,axisThickness:O,axisWidths:e,primaryTickCounts:d,seriesRect:v})}),{clipSeries:c,seriesRect:v,axisWidths:l,visibility:u}},t.prototype.buildCrossLinePadding=function(e,r){var i,o,a,s={};this.axes.forEach(function(m){m.crossLines&&m.crossLines.forEach(function(v){v.calculatePadding(s,e)})});try{for(var l=Q6(Object.entries(s)),u=l.next();!u.done;u=l.next()){var c=CF(u.value,2),d=c[0],h=c[1];s[d]=Math.max((void 0===h?0:h)-(null!==(a=r[d])&&void 0!==a?a:0),0)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s},t.prototype.applySeriesPadding=function(e){var r=this,i=e.clone(),o=this.axes.slice().reverse();return oMe.forEach(function(a){var s=r.seriesAreaPadding[a],l=o.find(function(u){return u.position===a});l?l.seriesAreaPadding=s:i.shrink(s,a)}),i},t.prototype.buildAxisBound=function(e,r,i,o){var a,s,l,u,c=e.clone(),d=i.top,h=void 0===d?0:d,p=i.right,v=i.bottom,C=i.left,w=void 0===C?0:C,b=w+(void 0===p?0:p),E=h+(void 0===v?0:v),S=(null!==(a=r.left)&&void 0!==a?a:0)+(null!==(s=r.right)&&void 0!==s?s:0)+b,O=(null!==(l=r.top)&&void 0!==l?l:0)+(null!==(u=r.bottom)&&void 0!==u?u:0)+E;return c.width<=S||c.height<=O?(o.crossLines=!1,o.series=!1,c):(c.x+=w,c.y+=h,c.width-=b,c.height-=E,c)},t.prototype.buildSeriesRect=function(e,r){var i=e.clone(),o=r.top,a=r.bottom,s=r.left,l=r.right;return i.x+=s??0,i.y+=o??0,i.width-=(s??0)+(l??0),i.height-=(o??0)+(a??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i},t.prototype.clampToOutsideSeriesRect=function(e,r,i,o){var a=e.x,s=e.y;return(1===o?Math.min:Math.max)(r,[a,s,a+e.width,s+e.height][("x"===i?0:1)+(1===o?0:2)])},t.prototype.calculateAxisDimensions=function(e){var r,i,o,a,s,l,u=e.axis,c=e.seriesRect,d=e.axisWidths,h=e.newAxisWidths,p=e.primaryTickCounts,m=e.addInterAxisPadding,v=e.clipSeries,_=u.position,C=u.direction;u.label.mirrored=["top","right"].includes(_);var le,b=null!==(r=h[_])&&void 0!==r?r:0;switch(_){case"top":case"bottom":u.range=[0,c.width],u.gridLength=c.height;break;case"right":case"left":u.range=(le=u)instanceof Jg||le instanceof ZS?[0,c.height]:[c.height,0],u.gridLength=c.width}var S=(null===(i=this.zoomManager.getZoom())||void 0===i?void 0:i[u.direction])??{},O=S.min,D=S.max;u.visibleRange=[void 0===O?0:O,void 0===D?1:D],!v&&(u.visibleRange[0]>0||u.visibleRange[1]<1)&&(v=!0);var M=u.nice?p[C]:void 0;M=u.update(M),p[C]=null!==(o=p[C])&&void 0!==o?o:M;var B=0;if(u.thickness)B=u.thickness;else{var I=u.computeBBox();B=C===bn.X?I.height:I.width}return m&&(B+=15),B=Math.ceil(B),h[_]=(null!==(a=h[_])&&void 0!==a?a:0)+B,u.gridPadding=(null!==(s=d[_])&&void 0!==s?s:0)-(null!==(l=h[_])&&void 0!==l?l:0),{clipSeries:v,axisThickness:B,axisOffset:b}},t.prototype.positionAxis=function(e){var r,i,o,a,s=e.axis,l=e.axisBound,u=e.axisWidths,c=e.seriesRect,d=e.axisOffset,h=e.axisThickness;switch(s.position){case"top":s.translation.x=l.x+(null!==(r=u.left)&&void 0!==r?r:0),s.translation.y=this.clampToOutsideSeriesRect(c,l.y+1+d+h,"y",1);break;case"bottom":s.translation.x=l.x+(null!==(i=u.left)&&void 0!==i?i:0),s.translation.y=this.clampToOutsideSeriesRect(c,l.y+l.height+1-h-d,"y",-1);break;case"left":s.translation.y=l.y+(null!==(o=u.top)&&void 0!==o?o:0),s.translation.x=this.clampToOutsideSeriesRect(c,l.x+d+h,"x",1);break;case"right":s.translation.y=l.y+(null!==(a=u.top)&&void 0!==a?a:0),s.translation.x=this.clampToOutsideSeriesRect(c,l.x+l.width-h-d,"x",-1)}s.updatePosition()},t.className="CartesianChart",t.type="cartesian",t}(yF),aMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),e9=function(n){function t(e){var r,i=e.useLabelLayer,a=n.call(this,{useLabelLayer:void 0!==i&&i,pickModes:[Li.EXACT_SHAPE_MATCH],directionKeys:(r={},r[bn.X]=["angleKey"],r[bn.Y]=["radiusKey"],r)})||this;return a.centerX=0,a.centerY=0,a.radius=0,a}return aMe(t,n),t.prototype.getLabelData=function(){return[]},t.prototype.computeLabelsBBox=function(e){return null},t}(VS),sMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),t9=function(n){function t(e,r,i){void 0===e&&(e=window.document);var o=n.call(this,e,r,i)||this;return o.padding=new aF(40),o.legend.attachLegend(o.scene.root),o}return sMe(t,n),t.prototype.performLayout=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var e,r,i,s;return function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(l){return this.scene.root.visible=!0,r=(e=this).padding,(s=new Zn(0,0,(i=e.scene).width,i.height)).shrink(r.left,"left"),s.shrink(r.top,"top"),s.shrink(r.right,"right"),s.shrink(r.bottom,"bottom"),s=this.positionCaptions(s),s=this.positionLegend(s),this.computeSeriesRect(s),this.computeCircle(),[2]})})},t.prototype.computeSeriesRect=function(e){var i=this.legend,o=this.seriesAreaPadding;i.visible&&i.enabled&&i.data.length&&e.shrink(i.spacing,i.position),e.shrink(o.left,"left"),e.shrink(o.top,"top"),e.shrink(o.right,"right"),e.shrink(o.bottom,"bottom"),this.seriesRect=e},t.prototype.computeCircle=function(){var e=this,r=this.seriesRect,i=this.series.filter(function(d){return d instanceof e9}),o=function(d,h,p){i.forEach(function(m){m.centerX=d,m.centerY=h,m.radius=p})},a=r.x+r.width/2,s=r.y+r.height/2,l=Math.max(0,Math.min(r.width,r.height)/2),u=l;o(a,s,u);var c=function(d){var h=(void 0===d?{}:d).hideWhenNecessary,p=void 0!==h&&h,m=i.map(function(C){return C.computeLabelsBBox({hideWhenNecessary:p})}).filter(function(C){return null!=C});if(0!==m.length){var v=Zn.merge(m),_=e.refineCircle(v,u);o(_.centerX,_.centerY,_.radius),_.radius!==u&&(u=_.radius)}else o(a,s,l)};c(),c(),c({hideWhenNecessary:!0}),c({hideWhenNecessary:!0})},t.prototype.refineCircle=function(e,r){var o=this.seriesRect,s=-r,l=r,u=r,c=Math.max(0,-r-e.x),d=Math.max(0,s-e.y),h=Math.max(0,e.x+e.width-l),p=Math.max(0,e.y+e.height-u),_=Math.min(o.width-c-h,o.height-d-p)/2,C=.5*o.width/2,w=.5*o.height/2,b=Math.min(C,w);if(_<b){if((_=b)===w){var E=o.height/(2*_+d+p);d*=E,p*=E}if(_===C){var S=o.width-2*_;2*Math.min(c,h)>S?(c=S/2,h=S/2):c>h?c=S-h:h=S-c}}return{centerX:o.x+(o.width-(c+2*_+h))/2+c+_,centerY:o.y+(o.height-(d+2*_+p))/2+d+_,radius:_}},t.className="PolarChart",t.type="polar",t}(yF),cMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n9=function(n){function t(e,r,i){void 0===e&&(e=window.document);var o=n.call(this,e,r,i)||this;return o._data={},o.legend.attachLegend(o.scene.root),o}return cMe(t,n),t.prototype.performLayout=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var e,r,a,s,l,u;return function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(h){return this.scene.root.visible=!0,a=(e=this).legend,s=e.padding,l=e.seriesAreaPadding,(u=new Zn(0,0,(r=e.scene).width,r.height)).shrink(s.left,"left"),u.shrink(s.top,"top"),u.shrink(s.right,"right"),u.shrink(s.bottom,"bottom"),u=this.positionCaptions(u),u=this.positionLegend(u),a.visible&&a.enabled&&a.data.length&&u.shrink(a.spacing,a.position),u.shrink(l.left,"left"),u.shrink(l.top,"top"),u.shrink(l.right,"right"),u.shrink(l.bottom,"bottom"),this.seriesRect=u,this.series.forEach(function(p){p.rootGroup.translationX=Math.floor(u.x),p.rootGroup.translationY=Math.floor(u.y),p.update({seriesRect:u})}),this.seriesRoot.setClipRectInGroupCoordinateSpace(new Zn(u.x,u.y,u.width,u.height)),[2]})})},t.className="HierarchyChart",t.type="hierarchy",t}(yF),hMe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pMe=/(#\{(.*?)\})/g;function r9(n,t,e){return n.replace(pMe,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var c,a=hMe(r[2].split(":"),2),l=a[1],u=t[a[0]];return"number"==typeof u?(c=l&&e&&e[l])?u.toLocaleString(c.locales,c.options):String(u):u instanceof Date?"string"==typeof(c=l&&e&&e[l])?MS(c)(u):u.toDateString():"string"==typeof u||u&&u.toString?String(u):""})}var QS=null;function Po(n){return QS=QS||document.createElement("div"),n?(QS.textContent=n,QS.innerHTML):""}var CMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o9=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wF=function(n){function t(e,r){void 0===r&&(r=new B0);var i=n.call(this,e,r)||this;return i.min=NaN,i.max=NaN,r.strictClampByDefault=!0,i}return CMe(t,n),t.prototype.normaliseDataDomain=function(e){var i=this.min,o=this.max;return e.length>2&&(e=ua(e)||[NaN,NaN]),isNaN(i)||(e=[i,e[1]]),isNaN(o)||(e=[e[0],o]),e[0]>e[1]&&(e=[]),e},t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(Dt.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))},t.prototype.updateSecondaryAxisTicks=function(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(function mMe(n,t){var e=Math.floor(n[0]),r=n[1];e=function gMe(n,t,e){var r=Math.abs(t-n)/(e-1),i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return Math.floor(n/o)*o}(e,r,t);var i=function _Me(n,t,e){return function yMe(n){var t=Math.floor(Math.log10(n)),e=Math.pow(10,t),r=n/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}((t-n)/(e-1))}(e,r,t),a=[e,r=e+(t-1)*i],s=function vMe(n,t,e){for(var r=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(r):0,o=Math.pow(10,i),a=new $I(i),s=0;s<e;s++)a[s]=Math.round((n+t*s)*o)/o;return a}(e,i,t);return[a,s]}(this.dataDomain,e??0),2),i=r[0],o=r[1];return this.scale.nice=!1,this.scale.domain=i,this.scale.update(),o},t.className="NumberAxis",t.type="number",o9([V(If(yp(),DS("max"))),Ep(NaN)],t.prototype,"min",void 0),o9([V(If(yp(),RS("min"))),Ep(NaN)],t.prototype,"max",void 0),t}(GS),bMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a9=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function s9(){return Mt(function(t){return"number"==typeof t&&0!==t},"expecting a non-zero Number")}var JS=function(n){function t(e){var r=n.call(this,e,new x6)||this;return r.min=NaN,r.max=NaN,r.scale.strictClampByDefault=!0,r}return bMe(t,n),t.prototype.normaliseDataDomain=function(e){var i=this.min,o=this.max;e.length>2&&(e=ua(e)||[NaN,NaN]),isNaN(i)||(e=[i,e[1]]),isNaN(o)||(e=[e[0],o]);var s=e[0]<0&&e[1]>0,l=0===e[0]&&0===e[1];return(e[0]>e[1]||s||l)&&(e=[],s?Dt.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):l&&Dt.warn("the data domain has 0 extent, no data is rendered.")),0===e[0]&&(e[0]=1),0===e[1]&&(e[1]=-1),e},Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!1,configurable:!0}),t.className="LogAxis",t.type="log",a9([V(If(yp(),DS("max"),s9())),Ep(NaN)],t.prototype,"min",void 0),a9([V(If(yp(),RS("min"),s9())),Ep(NaN)],t.prototype,"max",void 0),t}(wF),bF=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),da=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bf=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Gf=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},K0=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},EMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e}return bF(t,n),da([V(_i)],t.prototype,"formatter",void 0),t}(Ss),SMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return bF(t,n),da([V(_i)],t.prototype,"renderer",void 0),da([V(Kr)],t.prototype,"format",void 0),t}(Dp),Mp=(()=>(function(n){n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Marker=2]="Marker",n[n.Label=3]="Label"}(Mp||(Mp={})),Mp))(),DMe=function(n){function t(){var e=n.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1,directionKeys:{x:["xKey"],y:["yKeys"]}})||this;e.tooltip=new SMe,e.xData=[],e.yData=[],e.yDomain=[],e.xDomain=[],e.marker=new pF,e.label=new EMe,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var o=e.label;return e.marker.enabled=!1,o.enabled=!1,e}return bF(t,n),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){XI(this._yKeys,e)||(this._yKeys=e,this.yData=[],this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),t.prototype.processSeriesItemEnabled=function(){var r=this.seriesItemEnabled,i=this._visibles,o=void 0===i?[]:i;r.clear(),this._yKeys.forEach(function(a,s){var l;return r.set(a,null===(l=o[s])||void 0===l||l)})},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){var e;return Bf(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,O,D,P,M,B,I,U,le,ie,te,J,ce,de,ue,G,re,W,X,ge,Ee;return Gf(this,function(Ve){if(o=(r=this).yKeys,a=r.seriesItemEnabled,l=r.yAxis,u=r.normalizedTo,c=(i=r.xKey)&&o.length&&this.data?this.data:[],!(s=r.xAxis)||!l)return[2];d=s.scale instanceof tr,h=l.scale instanceof tr,p=u&&isFinite(u),m=[],v=[],_=[],C=new Set(o),w=function(he){if(!(i in he))return Dt.warnOnce("the key '"+i+"' was not found in the data: ",he),"continue";var ye=Uu(he[i],d);if(d&&void 0===ye)return"continue";_.push(ye),v.push({xDatum:ye,seriesDatum:he}),o.forEach(function(st,K){var at=m[K]||(m[K]=[]);if(st in he){C.delete(st);var vt=he[st];if(a.get(st)){var Rt=Uu(vt,h);at.push(Rt)}else at.push(NaN)}else at.push(NaN)})};try{for(b=K0(c),E=b.next();!E.done;E=b.next())w(E.value)}catch(he){G={error:he}}finally{try{E&&!E.done&&(re=b.return)&&re.call(b)}finally{if(G)throw G.error}}if(C.size>0&&(O=JSON.stringify(function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(xF(arguments[t]));return n}(C)),Dt.warnOnce("yKeys "+O+" were not found in the data.")),!this.validateXYData(this.xKey,this.yKeys.join(", "),c,s,l,v.map(function(he){return he.xDatum}),m,2))return this.xData=[],this.yData=[],this.yDomain=[],[2];for(this.yData=m,this.xData=v,this.xDomain=d?this.fixNumericExtent(ua(_),s):_,D=void 0,P=void 0,M=0;M<v.length;M++){B={sum:0,absSum:0};try{for(W=void 0,I=K0(m),U=I.next();!U.done;U=I.next())void 0!==(ce=U.value)[M]&&!isNaN(ce[M])&&(le=+ce[M],B.absSum+=Math.abs(le),B.sum+=le,B.sum>=(P??0)?P=B.sum:B.sum<=(D??0)&&(D=B.sum))}catch(he){W={error:he}}finally{try{U&&!U.done&&(X=I.return)&&X.call(I)}finally{if(W)throw W.error}}if(p&&u){ie=void 0;try{for(ge=void 0,te=K0(m),J=te.next();!J.done;J=te.next())(ce=J.value)[M]=de=+ce[M]/B.absSum*u,isNaN(de)||((ie=(ie??0)+de)>=(P??0)?P=ie:ie<=(D??0)&&(D=ie))}catch(he){ge={error:he}}finally{try{J&&!J.done&&(Ee=te.return)&&Ee.call(te)}finally{if(ge)throw ge.error}}}}return p&&u&&(D=(D??0)<.5*-u?-u:D,P=(P??0)>.5*u?u:P),ue=l instanceof JS,void 0===D&&ue&&(D=null===(e=ua(m[0]))||void 0===e?void 0:e[0]),this.yDomain=this.fixNumericExtent(void 0===D&&void 0===P?void 0:[D??0,P??0],l),[2]})})},t.prototype.getDomain=function(e){return e===bn.X?this.xDomain:this.yDomain},t.prototype.createNodeData=function(){return Bf(this,void 0,void 0,function(){var e,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D=this;return Gf(this,function(P){return i=(e=this).xAxis,o=e.yAxis,a=e.xData,s=e.yData,e.data&&i&&o&&a.length&&s.length?(l=[],c=(u=this).yKeys,d=u.marker,h=u.label,p=u.fills,m=u.strokes,v=u.id,w=(C=o.scale)instanceof tr,b=((_=i.scale).bandwidth||0)/2,E=new Array(a.length).fill(null).map(function(){return{left:0,right:0}}),S=new Array(a.length).fill(0),O=function(M,B,I,U){var le=_.convert(M)+b,te=E[I][U]+B,J=C.convert(E[I][U],{strict:!1}),ce=C.convert(te,{strict:!1});return E[I][U]=te,[{x:le,y:ce,size:d.size},{x:le,y:J,size:d.size}]},R=function(M,B,I,U){var le,ie=D.normalizedTo&&isFinite(D.normalizedTo),te=ie&&w&&M0(U);return(!ie&&!isNaN(U)||te)&&(le=S[I]+=B),{x:_.convert(M)+b,y:C.convert(le,{strict:!1}),size:d.size}},s.forEach(function(M,B){var I=c[B],U=[],le=[],ie={itemId:I,points:[],yValues:[]},te={itemId:I,points:[]};if(l[B]={itemId:I,fillSelectionData:te,labelData:U,nodeData:le,strokeSelectionData:ie},D.seriesItemEnabled.get(I)){var J=te.points,ce=[],de=ie.points,_e=ie.yValues;M.forEach(function(G,re){var W,at,X=isNaN(G)?void 0:G,ge=a[re],Ee=ge.xDatum,Ve=ge.seriesDatum,he=null===(W=a[re+1])||void 0===W?void 0:W.xDatum,ye=M[re+1],st=isNaN(ye)?void 0:ye,K=R(Ee,+X,re,Ve[I]);d&&le.push({index:re,series:D,itemId:I,datum:Ve,yValue:X,yKey:I,point:K,fill:p[B%p.length],stroke:m[B%m.length]}),at=h.formatter?h.formatter({value:X,seriesId:v}):ll(X)?Number(X).toFixed(2):String(X),h&&U.push({index:re,itemId:I,point:K,label:D.seriesItemEnabled.get(I)&&at?{text:at,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0});var vt=[Ee,he],Rt=[X,st];if(!vt.some(function(mn){return null==mn})){Rt.some(function(mn){return null==mn})&&(Rt[0]=0,Rt[1]=0);var Ct=O(vt[0],+Rt[0],re,"right");J.push(Ct[0]),ce.push(Ct[1]);var Qe=O(vt[1],+Rt[1],re,"left");J.push(Qe[0]),ce.push(Qe[1]),de.push({x:NaN,y:NaN}),_e.push(void 0),de.push(Ct[0]),_e.push(X),void 0!==st&&(de.push(Qe[0]),_e.push(X))}});for(var ue=ce.length-1;ue>=0;ue--)J.push(ce[ue])}}),[2,l]):[2,[]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return Bf(this,void 0,void 0,function(){var r,i,o,a,s,l;return Gf(this,function(u){return i=(r=e.contextData).fillSelectionData,o=r.strokeSelectionData,a=xF(e.paths,2),l=a[1],(s=a[0]).datum=i,s.tag=Mp.Fill,s.lineJoin="round",s.stroke=void 0,s.pointerEvents=la.None,l.datum=o,l.tag=Mp.Stroke,l.fill=void 0,l.lineJoin=l.lineCap="round",l.pointerEvents=la.None,[2]})})},t.prototype.updatePathNodes=function(e){return Bf(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M,B,I,U;return Gf(this,function(le){r=xF(e.paths,2),o=r[1],s=e.itemId,u=(l=this).strokes,d=l.fillOpacity,h=l.strokeOpacity,p=l.strokeWidth,m=l.shadow,w=(i=r[0]).datum.points,i.fill=(c=l.fills)[(a=e.seriesIdx)%c.length],i.fillOpacity=d,i.strokeOpacity=h,i.strokeWidth=p,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,i.fillShadow=m,(S=i.path).clear({trackChanges:!0}),O=0;try{for(v=K0(w),_=v.next();!_.done;_=v.next())P=_.value,O++>0?S.lineTo(P.x,P.y):S.moveTo(P.x,P.y)}catch(ie){M={error:ie}}finally{try{_&&!_.done&&(B=v.return)&&B.call(v)}finally{if(M)throw M.error}}S.closePath(),i.checkPathDirty(),w=(C=o.datum).points,b=C.yValues,E=!0,o.stroke=u[a%u.length],o.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:s}),o.strokeOpacity=h,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,(S=o.path).clear({trackChanges:!0}),O=0;try{for(R=K0(w),D=R.next();!D.done;D=R.next())P=D.value,void 0===b[O++]?E=!0:E?(S.moveTo(P.x,P.y),E=!1):S.lineTo(P.x,P.y)}catch(ie){I={error:ie}}finally{try{D&&!D.done&&(U=R.return)&&U.call(R)}finally{if(I)throw I.error}}return o.checkPathDirty(),[2]})})},t.prototype.markerFactory=function(){return new(Qg(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return Bf(this,void 0,void 0,function(){var r,i,a;return Gf(this,function(s){return r=e.nodeData,i=e.markerSelection,a=this.marker.enabled&&r?r:[],this.marker.isDirty()&&i.clear(),[2,i.update(a,function(l){l.tag=Mp.Marker})]})})},t.prototype.updateMarkerNodes=function(e){return Bf(this,void 0,void 0,function(){var i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M;return Gf(this,function(B){return i=e.isHighlight,a=(o=this).id,s=o.xKey,u=o.seriesItemEnabled,c=o.yKeys,d=o.fills,h=o.strokes,p=o.fillOpacity,v=void 0===(m=o.marker.fillOpacity)?p:m,_=o.strokeOpacity,w=(C=o.highlightStyle.item).fill,E=void 0===(b=C.fillOpacity)?v:b,S=C.stroke,O=C.strokeWidth,R=(l=o.marker).size,D=l.formatter,P=void 0!==l.strokeWidth?l.strokeWidth:this.strokeWidth,M="function"==typeof l.shape,e.markerSelection.each(function(I,U){var le,ie,te=c.indexOf(U.yKey),J=i&&void 0!==w?w:l.fill||d[te%d.length],ce=i?E:v,de=i&&void 0!==S?S:l.stroke||h[te%d.length],_e=i&&void 0!==O?O:P,ue=void 0;D&&(ue=D({datum:U.datum,xKey:s,yKey:U.yKey,fill:J,stroke:de,strokeWidth:_e,size:R,highlighted:i,seriesId:a})),I.fill=ue&&ue.fill||J,I.stroke=ue&&ue.stroke||de,I.strokeWidth=ue&&void 0!==ue.strokeWidth?ue.strokeWidth:_e,I.fillOpacity=ce??1,I.strokeOpacity=null!==(ie=null!==(le=l.strokeOpacity)&&void 0!==le?le:_)&&void 0!==ie?ie:1,I.size=ue&&void 0!==ue.size?ue.size:R,I.translationX=U.point.x,I.translationY=U.point.y,I.visible=I.size>0&&!!u.get(U.yKey)&&!isNaN(U.point.x)&&!isNaN(U.point.y),M&&!I.dirtyPath&&(I.path.clear({trackChanges:!0}),I.updatePath(),I.checkPathDirty())}),i||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return Bf(this,void 0,void 0,function(){return Gf(this,function(o){return[2,e.labelSelection.update(e.labelData,function(a){a.tag=Mp.Label})]})})},t.prototype.updateLabelNodes=function(e){return Bf(this,void 0,void 0,function(){var i,o,a,s,l,u,c;return Gf(this,function(d){return o=(i=this.label).enabled,a=i.fontStyle,s=i.fontWeight,l=i.fontSize,u=i.fontFamily,c=i.color,e.labelSelection.each(function(h,p){var m=p.point,v=p.label;v&&o?(h.fontStyle=a,h.fontWeight=s,h.fontSize=l,h.fontFamily=u,h.textAlign=v.textAlign,h.textBaseline=v.textBaseline,h.text=v.text,h.x=m.x,h.y=m.y-10,h.fill=c,h.visible=!0):h.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,r){return new $S(this.xKey,r.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new KS(this.xKey,r.yKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var i=this.xKey,o=this.id,a=e.yKey;if(!i||!a||!this.seriesItemEnabled.get(a))return"";var s=e.datum,l=s[i],u=s[a],d=this.xAxis,h=this.yAxis;if(!(d&&h&&ll(u)))return"";var p=this,m=p.xName,v=p.yKeys,_=p.yNames,C=p.yData,w=p.fills,b=p.strokes,E=p.tooltip,S=p.marker,O=S.size,R=S.formatter,D=S.strokeWidth,P=S.fill,M=S.stroke,B=d.formatDatum(l),I=h.formatDatum(u),U=v.indexOf(a),ie=C[U][e.index],te=_[U],J=Po(te),ce=Po(B+": "+I),_e=P||w[U%w.length],G=void 0;R&&(G=R({datum:s,xKey:i,yKey:a,fill:_e,stroke:M||b[U%w.length],strokeWidth:void 0!==D?D:this.strokeWidth,size:O,highlighted:!1,seriesId:o}));var re=G&&G.fill||_e,W={title:J,backgroundColor:re,content:ce},X=E.renderer,ge=E.format;if(ge||X){var Ee={datum:s,xKey:i,xName:m,xValue:l,yKey:a,yValue:u,processedYValue:ie,yName:te,color:re,title:J,seriesId:o};if(ge)return Oo({content:r9(ge,Ee)},W);if(X)return Oo(X(Ee),W)}return Oo(W)},t.prototype.getLegendData=function(){var e,r,i=this,o=i.data,a=i.id,l=i.yKeys,u=i.yNames,c=i.seriesItemEnabled,d=i.marker,h=i.fills,p=i.strokes,m=i.fillOpacity,v=i.strokeOpacity;if(!(o&&o.length&&i.xKey&&l.length))return[];for(var _=[],C=l.length-1;C>=0;C--){var w=l[C];_.push({id:a,itemId:w,seriesId:a,enabled:c.get(w)||!1,label:{text:u[C]||l[C]},marker:{shape:d.shape,fill:d.fill||h[C%h.length],stroke:d.stroke||p[C%p.length],fillOpacity:null!==(e=d.fillOpacity)&&void 0!==e?e:m,strokeOpacity:null!==(r=d.strokeOpacity)&&void 0!==r?r:v}})}return _},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="AreaSeries",t.type="area",da([V(Ff)],t.prototype,"fills",void 0),da([V(Ff)],t.prototype,"strokes",void 0),da([V(et(0,1))],t.prototype,"fillOpacity",void 0),da([V(et(0,1))],t.prototype,"strokeOpacity",void 0),da([V($g)],t.prototype,"lineDash",void 0),da([V(et(0))],t.prototype,"lineDashOffset",void 0),da([V(Kn)],t.prototype,"_xKey",void 0),da([V(Kn)],t.prototype,"xName",void 0),da([V(I0)],t.prototype,"_yKeys",void 0),da([V(jI)],t.prototype,"_visibles",void 0),da([V(I0)],t.prototype,"yNames",void 0),da([V(yr())],t.prototype,"_normalizedTo",void 0),da([V(et(0))],t.prototype,"strokeWidth",void 0),t}(tv),EF=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fo=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iv=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},ov=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},SF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},l9=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(SF(arguments[t]));return n},u9=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RMe=["inside","outside"],TMe=function(n,t){return $r(n,t,function(e){return RMe.includes(e)})},Y0=(()=>(function(n){n[n.Bar=0]="Bar",n[n.Label=1]="Label"}(Y0||(Y0={})),Y0))(),OMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return EF(t,n),fo([V(_i)],t.prototype,"formatter",void 0),fo([V(TMe)],t.prototype,"placement",void 0),t}(Ss),AMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e}return EF(t,n),fo([V(_i)],t.prototype,"renderer",void 0),t}(Dp),c9=function(n){function t(){var e,r=n.call(this,{pickModes:[Li.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(e={},e[bn.X]=["xKey"],e[bn.Y]=["yKeys"],e)})||this;return r.xData=[],r.yData=[],r.yDomain=[],r.label=new OMe,r.tooltip=new AMe,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.formatter=void 0,r.groupScale=new jS,r._xKey="",r.xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r.yKeys=[],r.yKeysCache=[],r.visibles=[],r._grouped=!1,r.stackGroups={},r.yNames={},r.strokeWidth=1,r.shadow=void 0,r.smallestDataInterval=void 0,r.label.enabled=!1,r}return EF(t,n),t.prototype.resolveKeyDirection=function(e){return this.flipXY?T6(e):e},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),t.prototype.processYKeys=function(){var e=this,r=this.yKeys,i=void 0;(function PMe(n){return n.length>0&&Array.isArray(n[0])})(r)||(i=r,r=this.grouped?i.map(function(C){return[C]}):[i]);var o=Object.values(this.stackGroups);if(o.length>0){var a=function(C){return C.reduce(function(w,b){return w.concat(b)},[])},s=a(r),l=new Set(a(o)),u=s.filter(function(C){return!l.has(C)});r=o.map(function(C){return C}),u.length>0&&r.push(u);var h=a(r).reduce(function(w,b,E){return w.set(b,E)},new Map),p=function(C){var w=Array.from({length:C.length});return C.forEach(function(b,E){var O=h.get(s[E]);w[O]=b}),w};this.fills=p(this.fills),this.strokes=p(this.strokes),this.visibles=p(this.visibles)}if(!XI(this.yKeysCache,r)){this.flatYKeys=i||void 0,this.yKeys=r;var m=0;this.cumYKeyCount=[];var v=[];r.forEach(function(C,w){C.length>0&&v.push(String(w)),e.cumYKeyCount.push(m),m+=C.length}),this.processSeriesItemEnabled(),this.groupScale.domain=v}this.yKeysCache=r},t.prototype.processSeriesItemEnabled=function(){var e=this.seriesItemEnabled,i=this.visibles.reduce(function(a,s){return a.concat.apply(a,l9(Array.isArray(s)?s:[s]))},[]);e.clear();var o=0;this.yKeys.forEach(function(a){a.forEach(function(s){var l;return e.set(s,null===(l=i[o++])||void 0===l||l)})})},Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped=e},enumerable:!1,configurable:!0}),t.prototype.getStackGroup=function(e){var r;return null===(r=Object.entries(this.stackGroups).find(function(o){return SF(o,2)[1].includes(e)}))||void 0===r?void 0:r[0]},t.prototype.processYNames=function(){var e=this.yNames;if(Array.isArray(e)&&this.flatYKeys){var r={};this.flatYKeys.forEach(function(i,o){r[i]=e[o]}),this.yNames=r}},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo=r},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return iv(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,v,_,C,w,b,E,S,O,R,D=this;return ov(this,function(P){return this.processYKeys(),this.processYNames(),i=(e=this).yKeys,o=e.seriesItemEnabled,a=(r=e.xKey)&&i.length&&this.data?this.data:[],s=this.getCategoryAxis(),l=this.getValueAxis(),s&&l?(u=function(M,B){void 0===D.smallestDataInterval&&(D.smallestDataInterval={x:1/0,y:1/0});var I=D.smallestDataInterval.x,U=Math.abs(M-B);U>0&&U<I&&(D.smallestDataInterval.x=U)},c=s.scale instanceof tr,d=l.scale instanceof tr,h=!0,p=1/0,this.xData=a.map(function(M){h&&!(r in M)&&(h=!1,Dt.warn("the key '"+r+"' was not found in the data: ",M));var B=Uu(M[r],c);return c&&u(B,p),p=B,B}),this.yData=a.map(function(M){return i.map(function(B){return B.map(function(I){h&&!(I in M)&&(h=!1,Dt.warn("the key '"+I+"' was not found in the data: ",M));var U=Uu(M[I],d);return o.get(I)&&void 0!==U?U:NaN})})}),this.validateXYData(this.xKey,this.yKeys.join(", "),a,s,l,this.xData,this.yData,3)?(_=this.yData.map((v=l instanceof JS)?function(M){return M.map(function(B){var I,U=null!==(I=ua(B))&&void 0!==I?I:[];return{min:U[0],max:U[1]}})}:function(M){return M.map(function(B){return function g1e(n){var t,e,r=void 0,i=void 0;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),a=o.next();!a.done;a=o.next()){var s=a.value;s<0?r=(r??0)+s:s>=0&&(i=(i??0)+s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return{min:r,max:i}}(B)})}),w=(C=this).yData,b=C.normalizedTo,E=this.yData.map(function(M){return M.map(function(B){return B.reduce(function(I,U){return I+(isNaN(U)?0:Math.abs(U))},0)})}),S=this.findLargestMinMax(_),R=S.max,(O=S.min)===1/0&&R===-1/0?(this.yDomain=[],[2]):(b&&isFinite(b)&&(O=O<0?-b:v?1:0,R=R>0?b:v?-1:0,w.forEach(function(M,B){M.forEach(function(I,U){I.forEach(function(le,ie){I[ie]=le/E[B][U]*b})})})),this.yDomain=this.fixNumericExtent([O,R],this.yAxis),[2])):(this.xData=[],this.yData=[],this.yDomain=[],[2])):[2]})})},t.prototype.findLargestMinMax=function(e){var r,i,o,a,s=1/0,l=-1/0;try{for(var u=u9(e),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var h=(o=void 0,u9(d)),p=h.next();!p.done;p=h.next()){var m=p.value,v=m.min,_=void 0===v?1/0:v,C=m.max,w=void 0===C?-1/0:C;_<s&&(s=_),w>l&&(l=w)}}catch(b){o={error:b}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(b){r={error:b}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{min:s,max:l}},t.prototype.getDomain=function(e){var r,i,o,a,s,l=this.flipXY;if(this.flipXY&&(e=T6(e)),e===bn.X){if(!((null===(r=this.getCategoryAxis())||void 0===r?void 0:r.scale)instanceof tr))return this.xData;var u=ua(this.xData)||[NaN,NaN];return l?u[0]=u[0]-(null!==(o=null===(i=this.smallestDataInterval)||void 0===i?void 0:i.x)&&void 0!==o?o:0):u[1]=u[1]+(null!==(s=null===(a=this.smallestDataInterval)||void 0===a?void 0:a.x)&&void 0!==s?s:0),u}return this.yDomain},t.prototype.getNodeClickEvent=function(e,r){return new $S(this.xKey,r.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new KS(this.xKey,r.yKey,e,r,this)},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.calculateStep=function(e){var r,i=this.smallestDataInterval,o=this.getCategoryAxis();if(o){var s=(o.dataDomain[1]-o.dataDomain[0])/(null!==(r=i?.x)&&void 0!==r?r:1)+1,l=Math.floor(e),u=Math.min(s,l);return e/Math.max(1,u)}},t.prototype.createNodeData=function(){return iv(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M,B,I,U,le,ie,te,J,ce=this;return ov(this,function(de){return r=(e=this).data,i=e.visible,o=this.getCategoryAxis(),a=this.getValueAxis(),r&&i&&o&&a?(l=a.scale,c=(u=this).groupScale,d=u.yKeys,h=u.cumYKeyCount,p=u.fills,m=u.strokes,v=u.strokeWidth,_=u.seriesItemEnabled,C=u.xData,w=u.yData,E=u.flipXY,S=u.id,O=(b=u.label).fontStyle,R=b.fontWeight,D=b.fontSize,P=b.fontFamily,M=b.color,B=b.formatter,I=b.placement,U=(s=o.scale).bandwidth,s instanceof tr&&(le=Math.max(o.range[0],o.range[1]),ie=this.calculateStep(le),U=ie),c.range=[0,U],c.padding=o instanceof Jg?o.groupPaddingInner:o instanceof ZS?.1:0,c.round=0!==c.padding,te=c.bandwidth>=1?c.bandwidth:c.rawBandwidth,J=[],C.forEach(function(_e,ue){for(var G,re,W=r[ue],X=s.convert(_e),ge=w[ue],Ee=0;Ee<ge.length;Ee++){var Ve=ge[Ee];J[Ee]=null!==(G=J[Ee])&&void 0!==G?G:[];for(var he=0,ye=0,st=0;st<Ve.length;st++){var K=+Ve[st],at=d[Ee][st],vt=X+c.convert(String(Ee));if(J[Ee][st]=null!==(re=J[Ee][st])&&void 0!==re?re:{itemId:at,nodeData:[],labelData:[]},o.inRange(vt,te)&&!isNaN(K)){var bi,Rt=K<0?he:ye,Ct=l.convert(Rt+K,{strict:!1}),Qe=l.convert(Rt,{strict:!1}),mn=W[at];bi=B?B({value:ll(mn)?mn:void 0,seriesId:S}):ll(mn)?mn.toFixed(2):"";var Io=void 0,ha=void 0;E?(ha=vt+te/2,Io="inside"===I?Ct+(mn>=0?-1:1)*Math.abs(Qe-Ct)/2:Ct+4*(mn>=0?1:-1)):(Io=vt+te/2,ha="inside"===I?Ct+(mn>=0?1:-1)*Math.abs(Qe-Ct)/2:Ct+(mn>=0?-3:4));var tu=void 0,fl=void 0;"inside"===I?(tu="center",fl="middle"):(tu=E?mn>=0?"start":"end":"center",fl=E?"middle":mn>=0?"bottom":"top");var Fo=h[Ee]+st,hl={index:ue,series:ce,itemId:at,datum:W,yValue:mn,yKey:at,x:E?Math.min(Ct,Qe):vt,y:E?vt:Math.min(Ct,Qe),width:E?Math.abs(Qe-Ct):te,height:E?te:Math.abs(Qe-Ct),colorIndex:Fo,fill:p[Fo%p.length],stroke:m[Fo%m.length],strokeWidth:v,label:_.get(at)&&bi?{text:bi,fontStyle:O,fontWeight:R,fontSize:D,fontFamily:P,textAlign:tu,textBaseline:fl,fill:M,x:Io,y:ha}:void 0};J[Ee][st].nodeData.push(hl),J[Ee][st].labelData.push(hl),K<0?he+=K:ye+=K}}}}),[2,J.reduce(function(_e,ue){return _e.concat.apply(_e,l9(ue))},[])]):[2,[]]})})},t.prototype.nodeFactory=function(){return new Zg},t.prototype.updateDatumSelection=function(e){return iv(this,void 0,void 0,function(){return ov(this,function(o){return[2,e.datumSelection.update(e.nodeData,function(a){return a.tag=Y0.Bar})]})})},t.prototype.updateDatumNodes=function(e){var r,i;return iv(this,void 0,void 0,function(){var o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,P,B,I=this;return ov(this,function(U){return o=e.datumSelection,a=e.isHighlight,l=(s=this).fills,u=s.strokes,c=s.fillOpacity,d=s.strokeOpacity,h=s.shadow,p=s.formatter,m=s.xKey,v=s.flipXY,C=(_=s.highlightStyle.item).fill,b=void 0===(w=_.fillOpacity)?c:w,E=_.stroke,S=_.strokeWidth,O=s.id,R=SF(null!==(i=null===(r=this.xAxis)||void 0===r?void 0:r.visibleRange)&&void 0!==i?i:[],2),P=R[1],B=!(0!==R[0]||1!==P),o.each(function(le,ie){var te=ie.colorIndex,J=a&&void 0!==C?C:l[te%l.length],ce=a&&void 0!==E?E:u[te%l.length],de=a&&void 0!==S?S:I.getStrokeWidth(I.strokeWidth,ie),_e=a?b:c,ue=I.getStackGroup(ie.yKey),G=void 0;p&&(G=p({datum:ie.datum,fill:J,stroke:ce,strokeWidth:de,highlighted:a,xKey:m,yKey:ie.yKey,seriesId:O,stackGroup:ue})),le.crisp=B,le.x=ie.x,le.y=ie.y,le.width=ie.width,le.height=ie.height,le.fill=G&&G.fill||J,le.stroke=G&&G.stroke||ce,le.strokeWidth=G&&void 0!==G.strokeWidth?G.strokeWidth:de,le.fillOpacity=_e,le.strokeOpacity=d,le.lineDash=I.lineDash,le.lineDashOffset=I.lineDashOffset,le.fillShadow=h,le.visible=v?ie.width>0:ie.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return iv(this,void 0,void 0,function(){var r;return ov(this,function(s){return r=e.labelData,[2,e.labelSelection.update(this.label.enabled?r:[],function(l){l.tag=Y0.Label,l.pointerEvents=la.None})]})})},t.prototype.updateLabelNodes=function(e){return iv(this,void 0,void 0,function(){var i,o,a,s,l,u,c;return ov(this,function(d){return o=(i=this.label).enabled,a=i.fontStyle,s=i.fontWeight,l=i.fontSize,u=i.fontFamily,c=i.color,e.labelSelection.each(function(h,p){var m=p.label;m&&o?(h.fontStyle=a,h.fontWeight=s,h.fontSize=l,h.fontFamily=u,h.textAlign=m.textAlign,h.textBaseline=m.textBaseline,h.text=m.text,h.x=m.x,h.y=m.y,h.fill=c,h.visible=!0):h.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKeys,a=r.yData,s=this.getCategoryAxis(),l=this.getValueAxis(),u=e.yKey;if(!(a.length&&i&&u&&s&&l))return"";for(var c=0,d=0,h=0;h<o.length;h++){var p=o[h];if((d=p.indexOf(u))>=0){c+=d;break}c+=p.length}var m=this,v=m.xName,C=m.fills,w=m.strokes,E=m.formatter,S=m.id,O=m.tooltip.renderer,R=e.datum,D=m.yNames[u],P=this.getStackGroup(u),M=C[c%C.length],B=w[c%C.length],I=this.getStrokeWidth(this.strokeWidth),U=R[i],le=R[u],ie=Po(s.formatDatum(U)),te=Po(l.formatDatum(le)),J=Po(D),ce=ie+": "+te,de=void 0;E&&(de=E({datum:R,fill:M,stroke:B,strokeWidth:I,highlighted:!1,xKey:i,yKey:u,seriesId:S,stackGroup:P}));var _e=de&&de.fill||M,ue={title:J,backgroundColor:_e,content:ce};return O?Oo(O({datum:R,xKey:i,xValue:U,xName:v,yKey:u,yValue:le,yName:D,color:_e,title:J,seriesId:S,stackGroup:P}),ue):Oo(ue)},t.prototype.getLegendData=function(){var e=this,r=e.id,i=e.data,s=e.yNames,l=e.cumYKeyCount,u=e.seriesItemEnabled,c=e.hideInLegend,d=e.fills,h=e.strokes,p=e.fillOpacity,m=e.strokeOpacity,v=e.flipXY;if(!(i&&i.length&&e.xKey&&e.yKeys.length))return[];var _=[];return this.yKeys.forEach(function(C,w){for(var E=v?1:-1,S=v?0:C.length-1,O=0;O<C.length;S+=E,O++){var R=C[S];if(c.indexOf(R)>=0)return;var D=l[w]+S;_.push({id:r,itemId:R,seriesId:r,enabled:u.get(R)||!1,label:{text:s[R]||R},marker:{fill:d[D%d.length],stroke:h[D%h.length],fillOpacity:p,strokeOpacity:m}})}}),_},t.prototype.toggleSeriesItem=function(e,r){n.prototype.toggleSeriesItem.call(this,e,r);var i=this.yKeys.map(function(a){return a.slice()});this.seriesItemEnabled.forEach(function(a,s){a||i.forEach(function(l){var u=l.indexOf(s);u>=0&&l.splice(u,1)})});var o=[];i.forEach(function(a,s){a.length>0&&o.push(String(s))}),this.groupScale.domain=o,this.nodeDataRefresh=!0},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="BarSeries",t.type="bar",fo([V(Ir)],t.prototype,"flipXY",void 0),fo([V(Ff)],t.prototype,"fills",void 0),fo([V(Ff)],t.prototype,"strokes",void 0),fo([V(et(0,1))],t.prototype,"fillOpacity",void 0),fo([V(et(0,1))],t.prototype,"strokeOpacity",void 0),fo([V($g)],t.prototype,"lineDash",void 0),fo([V(et(0))],t.prototype,"lineDashOffset",void 0),fo([V(_i)],t.prototype,"formatter",void 0),fo([V(Kn)],t.prototype,"_xKey",void 0),fo([V(Kn)],t.prototype,"xName",void 0),fo([V(I0)],t.prototype,"hideInLegend",void 0),fo([V(jI)],t.prototype,"visibles",void 0),fo([V(Ir)],t.prototype,"_grouped",void 0),fo([V(yr())],t.prototype,"_normalizedTo",void 0),fo([V(et(0))],t.prototype,"strokeWidth",void 0),t}(tv),DF=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mo=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},av=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},sv=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},q0=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},IMe=["count","sum","mean"],FMe=Mt(function(n){return IMe.includes(n)},"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),X0=(()=>(function(n){n[n.Bin=0]="Bin",n[n.Label=1]="Label"}(X0||(X0={})),X0))(),kMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e}return DF(t,n),Mo([V(_i)],t.prototype,"formatter",void 0),t}(Ss),RF={count:function(n){return n.data.length},sum:function(n,t){return n.data.reduce(function(e,r){return e+r[t]},0)},mean:function(n,t){return RF.sum(n,t)/RF.count(n,t)}},f9=function(){function n(t){var e=q0(t,2),r=e[0],i=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,i]}return n.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(n.prototype,"domainWidth",{get:function(){var t=q0(this.domain,2);return t[1]-t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),n.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,RF[t])(this,e)},n.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},n}(),LMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e}return DF(t,n),Mo([V(_i)],t.prototype,"renderer",void 0),t}(Dp),NMe=function(n){function t(){var e=n.call(this,{pickModes:[Li.EXACT_SHAPE_MATCH]})||this;return e.binnedData=[],e.xDomain=[],e.yDomain=[],e.label=new kMe,e.tooltip=new LMe,e.fill=void 0,e.stroke=void 0,e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.xKey="",e.areaPlot=!1,e.bins=void 0,e.aggregation="count",e.binCount=void 0,e.xName="",e.yKey="",e.yName="",e.strokeWidth=1,e.shadow=void 0,e.label.enabled=!1,e}return DF(t,n),t.prototype.deriveBins=function(){var e=this,r=this.bins;if(!this.data)return[];var i=this.data.map(function(c){return c[e.xKey]}),o=this.fixNumericExtent(ua(i));if(void 0===this.binCount){if(r)return r;var a=zI(o[0],o[1],10),s=F0(o[0],o[1],10),l=a[0];return function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(q0(arguments[t]));return n}([[l-s,l]],a.map(function(c){return[c,c+s]}))}return this.calculateNiceBins(o,this.binCount)},t.prototype.calculateNiceBins=function(e,r){var i=Math.floor(e[0]),o=e[1],a=r||1,s=this.calculateNiceStart(i,o,a);return this.getBins(s.start,o,s.binSize,a)},t.prototype.getBins=function(e,r,i,o){for(var a=[],s=0;s<o;s++){var l=Math.round(10*(e+s*i))/10,u=Math.round(10*(e+(s+1)*i))/10;s===o-1&&(u=Math.max(u,r)),a[s]=[l,u]}return a},t.prototype.calculateNiceStart=function(e,r,i){var o=Math.abs(r-e)/i,a=Math.floor(Math.log10(o)),s=Math.pow(10,a);return{start:Math.floor(e/s)*s,binSize:o}},t.prototype.placeDataInBins=function(e){var r=this,i=this.xKey,o=this.deriveBins();this.bins=o;for(var a=e.slice().sort(function(d,h){return d[i]<h[i]?-1:d[i]>h[i]?1:0}),s=[new f9(o[0])],l=0,u=0;u<a.length&&l<o.length;u++){for(var c=a[u];c[i]>o[l][1]&&l<o.length;)l++,s.push(new f9(o[l]));l<o.length&&s[l].addDatum(c)}return s.forEach(function(d){return d.calculateAggregatedValue(r.aggregation,r.yKey)}),s},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(r,i){return Math.max(r,i[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return av(this,void 0,void 0,function(){var e,i,o,a,d=this;return sv(this,function(h){return i=(e=this).data,this.binnedData=this.placeDataInBins(e.xKey&&i?i:[]),o=this.binnedData.map(function(p){return p.getY(d.areaPlot)}),a=ua(o),this.yDomain=this.fixNumericExtent([0,a?a[1]:1]),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],[2]})})},t.prototype.getDomain=function(e){return e===bn.X?this.xDomain:this.yDomain},t.prototype.getNodeClickEvent=function(e,r){return new $S(this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new KS(this.xKey,this.yKey,e,r,this)},t.prototype.createNodeData=function(){return av(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O=this;return sv(this,function(R){return r=(e=this).xAxis,i=e.yAxis,this.seriesItemEnabled&&r&&i?(o=r.scale,a=i.scale,l=(s=this).fill,u=s.stroke,c=s.strokeWidth,d=s.id,h=[],p=function(D){return String(D.value)},_=void 0===(v=(m=this.label).formatter)?p:v,C=m.fontStyle,w=m.fontWeight,b=m.fontSize,E=m.fontFamily,S=m.color,this.binnedData.forEach(function(D){var P=D.aggregatedValue,M=D.frequency,B=q0(D.domain,2),U=B[1],le=D.relativeHeight,ie=o.convert(B[0]),te=o.convert(U),J=O.areaPlot?le:O.yKey?P:M,ce=a.convert(0),de=a.convert(J),_e=te-ie,ue=Math.abs(de-ce),G=0!==J?{text:_({value:D.aggregatedValue,seriesId:d}),fontStyle:C,fontWeight:w,fontSize:b,fontFamily:E,fill:S,x:ie+_e/2,y:de+ue/2}:void 0;h.push({series:O,datum:D,x:ie,y:de,width:_e,height:ue,fill:l,stroke:u,strokeWidth:c,label:G})}),[2,[{itemId:this.yKey,nodeData:h,labelData:h}]]):[2,[]]})})},t.prototype.nodeFactory=function(){return new Zg},t.prototype.updateDatumSelection=function(e){return av(this,void 0,void 0,function(){return sv(this,function(o){return[2,e.datumSelection.update(e.nodeData,function(a){a.tag=X0.Bin,a.crisp=!0})]})})},t.prototype.updateDatumNodes=function(e){return av(this,void 0,void 0,function(){var i,o,a,s,l,u,c,d,h,p,m,v=this;return sv(this,function(_){return i=e.isHighlight,a=(o=this).fillOpacity,s=o.strokeOpacity,l=o.shadow,c=(u=o.highlightStyle.item).fill,h=void 0===(d=u.fillOpacity)?a:d,p=u.stroke,m=u.strokeWidth,e.datumSelection.each(function(C,w,b){var E=i&&void 0!==m?m:w.strokeWidth,S=i?h:a;C.x=w.x,C.y=w.y,C.width=w.width,C.height=w.height,C.fill=i&&void 0!==c?c:w.fill,C.stroke=i&&void 0!==p?p:w.stroke,C.fillOpacity=S,C.strokeOpacity=s,C.strokeWidth=E,C.lineDash=v.lineDash,C.lineDashOffset=v.lineDashOffset,C.fillShadow=l,C.zIndex=i?VS.highlightedZIndex:b,C.visible=w.height>0}),[2]})})},t.prototype.updateLabelSelection=function(e){return av(this,void 0,void 0,function(){return sv(this,function(o){return[2,e.labelSelection.update(e.labelData,function(a){a.tag=X0.Label,a.pointerEvents=la.None,a.textAlign="center",a.textBaseline="middle"})]})})},t.prototype.updateLabelNodes=function(e){return av(this,void 0,void 0,function(){var i;return sv(this,function(o){return i=this.label.enabled,e.labelSelection.each(function(a,s){var l=s.label;l&&i?(a.text=l.text,a.x=l.x,a.y=l.y,a.fontStyle=l.fontStyle,a.fontWeight=l.fontWeight,a.fontSize=l.fontSize,a.fontFamily=l.fontFamily,a.fill=l.fill,a.visible=!0):a.visible=!1}),[2]})})},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKey,a=r.xAxis,s=r.yAxis;if(!i||!a||!s)return"";var l=this,u=l.xName,c=l.yName,d=l.fill,p=l.aggregation,m=l.id,v=l.tooltip.renderer,_=e.datum,C=_.aggregatedValue,w=_.frequency,b=q0(_.domain,2),E=b[0],S=b[1],O=Po(u||i)+": "+a.formatDatum(E)+" - "+a.formatDatum(S),R=o?"<b>"+Po(c||o)+" ("+p+")</b>: "+s.formatDatum(C)+"<br>":"",D={title:O,backgroundColor:d,content:R+="<b>Frequency</b>: "+w};return v?Oo(v({datum:_,xKey:i,xValue:_.domain,xName:u,yKey:o,yValue:_.aggregatedValue,yName:c,color:d,title:O,seriesId:m}),D):Oo(D)},t.prototype.getLegendData=function(){var e=this,r=e.id,i=e.data,o=e.xKey;return i&&0!==i.length?[{id:r,itemId:o,seriesId:r,enabled:e.visible,label:{text:e.yName||o||"Frequency"},marker:{fill:e.fill||"rgba(0, 0, 0, 0)",stroke:e.stroke||"rgba(0, 0, 0, 0)",fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="HistogramSeries",t.type="histogram",Mo([V(ai)],t.prototype,"fill",void 0),Mo([V(ai)],t.prototype,"stroke",void 0),Mo([V(et(0,1))],t.prototype,"fillOpacity",void 0),Mo([V(et(0,1))],t.prototype,"strokeOpacity",void 0),Mo([V($g)],t.prototype,"lineDash",void 0),Mo([V(et(0))],t.prototype,"lineDashOffset",void 0),Mo([V(Kn)],t.prototype,"xKey",void 0),Mo([V(Ir)],t.prototype,"areaPlot",void 0),Mo([V(WI())],t.prototype,"bins",void 0),Mo([V(FMe)],t.prototype,"aggregation",void 0),Mo([V(yr(0))],t.prototype,"binCount",void 0),Mo([V(Kn)],t.prototype,"xName",void 0),Mo([V(Kn)],t.prototype,"yKey",void 0),Mo([V(Kn)],t.prototype,"yName",void 0),Mo([V(et(0))],t.prototype,"strokeWidth",void 0),t}(tv),TF=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rs=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vf=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Hf=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},h9=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p9=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},BMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e}return TF(t,n),Rs([V(_i)],t.prototype,"formatter",void 0),t}(Ss),GMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return TF(t,n),Rs([V(_i)],t.prototype,"renderer",void 0),Rs([V(Kr)],t.prototype,"format",void 0),t}(Dp),VMe=function(n){function t(){var e=n.call(this,{hasMarkers:!0,pickModes:[Li.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Li.NEAREST_NODE,Li.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new pF,e.label=new BMe,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new GMe,e._xKey="",e.xName="",e._yKey="",e.yName="";var i=e.marker,o=e.label;return i.fill="#c16068",i.stroke="#874349",o.enabled=!1,e}return TF(t,n),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),t.prototype.getDomain=function(e){return e===bn.X?this.xDomain:this.yDomain},t.prototype.processData=function(){return Vf(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,m,v,C,w,b,E,S;return Hf(this,function(O){if(i=(e=this).yAxis,a=e.yKey,s=e.pointsData,l=(o=e.xKey)&&a&&this.data?this.data:[],!(r=e.xAxis)||!i)return[2];u=r.scale instanceof tr,c=i.scale instanceof tr,d=[],h=[],s.splice(0);try{for(p=h9(l),m=p.next();!m.done;m=p.next())C=(v=m.value)[a],w=Uu(v[o],u),(!u||void 0!==w)&&(b=Uu(C,c),d.push(w),h.push(b),s.push({xDatum:w,yDatum:b,datum:v}))}catch(R){E={error:R}}finally{try{m&&!m.done&&(S=p.return)&&S.call(p)}finally{if(E)throw E.error}}return this.validateXYData(this.xKey,this.yKey,l,r,i,d,h,1),this.xDomain=u?this.fixNumericExtent(ua(d),r):d,this.yDomain=c?this.fixNumericExtent(ua(h),i):h,[2]})})},t.prototype.createNodeData=function(){var e;return Vf(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M,B,U,le,ie,te,J,ce,de,_e;return Hf(this,function(ue){if(o=(r=this).xAxis,a=r.yAxis,l=(s=r.marker).enabled,u=s.size,c=s.strokeWidth,!(i=r.data)||!o||!a)return[2,[]];for(h=(d=this).pointsData,p=d.label,m=d.yKey,v=d.id,w=((_=o.scale).bandwidth||0)/2,b=((C=a.scale).bandwidth||0)/2,E=new Array(i.length),S=l?u:0,O=!0,R=void 0,D=void 0,P=0,M=0;M<h.length;M++)if(void 0===(B=D||h[M]).yDatum)R=void 0,O=!0;else{if(U=B.yDatum,le=B.datum,ie=_.convert(B.xDatum)+w,isNaN(ie)){R=void 0,O=!0;continue}if(D=void 0===(null===(e=h[M+1])||void 0===e?void 0:e.yDatum)?void 0:h[M+1],J=o.inRangeEx(ie,0,te=(_.bandwidth||.5*u+(c||0))+1),ce=D&&o.inRangeEx(_.convert(D.xDatum)+w,0,te),-1===J&&-1===ce){O=!0;continue}if(1===J&&1===R){O=!0;continue}R=J,de=C.convert(U)+b,void 0,_e=p.formatter?p.formatter({value:U,seriesId:v}):"number"==typeof U&&isFinite(U)?U.toFixed(2):U?String(U):"",E[P++]={series:this,datum:le,point:{x:ie,y:de,moveTo:O,size:S},label:_e?{text:_e,fontStyle:p.fontStyle,fontWeight:p.fontWeight,fontSize:p.fontSize,fontFamily:p.fontFamily,textAlign:"center",textBaseline:"bottom",fill:p.color}:void 0},O=!1}return E.length=P,[2,[{itemId:m,nodeData:E,labelData:E}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.updatePaths=function(e){return Vf(this,void 0,void 0,function(){var r,i,o,a,s,l,u,c,d;return Hf(this,function(h){r=e.contextData.nodeData,i=p9(e.paths,1),a=(o=i[0]).path,o.fill=void 0,o.lineJoin="round",o.pointerEvents=la.None,a.clear({trackChanges:!0});try{for(s=h9(r),l=s.next();!l.done;l=s.next())(u=l.value).point.moveTo?a.moveTo(u.point.x,u.point.y):a.lineTo(u.point.x,u.point.y)}catch(p){c={error:p}}finally{try{l&&!l.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}}return o.checkPathDirty(),[2]})})},t.prototype.updatePathNodes=function(e){return Vf(this,void 0,void 0,function(){var r,i;return Hf(this,function(o){return r=p9(e.paths,1),(i=r[0]).stroke=this.stroke,i.strokeWidth=this.getStrokeWidth(this.strokeWidth),i.strokeOpacity=this.strokeOpacity,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,[2]})})},t.prototype.markerFactory=function(){return new(Qg(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return Vf(this,void 0,void 0,function(){var r,i,o,s;return Hf(this,function(l){return r=e.nodeData,i=e.markerSelection,s=(o=this.marker).enabled,r=o.shape&&s?r:[],this.marker.isDirty()&&i.clear(),[2,i.update(r)]})})},t.prototype.updateMarkerNodes=function(e){return Vf(this,void 0,void 0,function(){var i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O;return Hf(this,function(R){return i=e.isHighlight,s=(o=this).marker.fillOpacity,l=o.xKey,u=o.yKey,c=o.stroke,d=o.strokeOpacity,p=(h=o.highlightStyle.item).fill,v=void 0===(m=h.fillOpacity)?s:m,_=h.stroke,C=h.strokeWidth,w=o.id,b=(a=o.marker).size,E=a.formatter,S=void 0!==a.strokeWidth?a.strokeWidth:this.strokeWidth,O="function"==typeof a.shape,e.markerSelection.each(function(D,P){var M,B,I=i&&void 0!==p?p:a.fill,U=i?v:s,le=i&&void 0!==_?_:a.stroke||c,ie=i&&void 0!==C?C:S,te=void 0;E&&(te=E({datum:P.datum,xKey:l,yKey:u,fill:I,stroke:le,strokeWidth:ie,size:b,highlighted:i,seriesId:w})),D.fill=te&&te.fill||I,D.stroke=te&&te.stroke||le,D.strokeWidth=te&&void 0!==te.strokeWidth?te.strokeWidth:ie,D.fillOpacity=U??1,D.strokeOpacity=null!==(B=null!==(M=a.strokeOpacity)&&void 0!==M?M:d)&&void 0!==B?B:1,D.size=te&&void 0!==te.size?te.size:b,D.translationX=P.point.x,D.translationY=P.point.y,D.visible=D.size>0&&!isNaN(P.point.x)&&!isNaN(P.point.y),O&&!D.dirtyPath&&(D.path.clear({trackChanges:!0}),D.updatePath(),D.checkPathDirty())}),i||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){return Vf(this,void 0,void 0,function(){var r,o,s;return Hf(this,function(l){return r=e.labelData,s=(o=this.marker).enabled,[2,e.labelSelection.update(r=o.shape&&s?r:[])]})})},t.prototype.updateLabelNodes=function(e){return Vf(this,void 0,void 0,function(){var i,o,a,s,l,u,c;return Hf(this,function(d){return o=(i=this.label).enabled,a=i.fontStyle,s=i.fontWeight,l=i.fontSize,u=i.fontFamily,c=i.color,e.labelSelection.each(function(h,p){var m=p.point,v=p.label;p&&v&&o?(h.fontStyle=a,h.fontWeight=s,h.fontSize=l,h.fontFamily=u,h.textAlign=v.textAlign,h.textBaseline=v.textBaseline,h.text=v.text,h.x=m.x,h.y=m.y-10,h.fill=c,h.visible=!0):h.visible=!1}),[2]})})},t.prototype.getNodeClickEvent=function(e,r){return new $S(this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new KS(this.xKey,this.yKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r=this,i=r.xKey,o=r.yKey,a=r.xAxis,s=r.yAxis;if(!(i&&o&&a&&s))return"";var l=this,u=l.xName,c=l.yName,d=l.tooltip,h=l.marker,p=l.id,m=d.renderer,v=d.format,_=e.datum,C=_[i],w=_[o],b=a.formatDatum(C),E=s.formatDatum(w),S=Po(this.title||c),O=Po(b+": "+E),R=h.formatter,D=h.fill,M=h.strokeWidth,U=void 0;R&&(U=R({datum:_,xKey:i,yKey:o,fill:D,stroke:h.stroke,strokeWidth:void 0!==M?M:this.strokeWidth,size:h.size,highlighted:!1,seriesId:p}));var le=U&&U.fill||D,ie={title:S,backgroundColor:le,content:O};if(v||m){var te={datum:_,xKey:i,xValue:C,xName:u,yKey:o,yValue:w,yName:c,title:S,color:le,seriesId:p};if(v)return Oo({content:r9(v,te)},ie);if(m)return Oo(m(te),ie)}return Oo(ie)},t.prototype.getLegendData=function(){var e,r,i,o=this,a=o.id,s=o.data,u=o.yKey,p=o.marker;return s&&s.length&&o.xKey&&u?[{id:a,itemId:u,seriesId:a,enabled:o.visible,label:{text:o.title||o.yName||u},marker:{shape:p.shape,fill:p.fill||"rgba(0, 0, 0, 0)",stroke:p.stroke||o.stroke||"rgba(0, 0, 0, 0)",fillOpacity:null!==(e=p.fillOpacity)&&void 0!==e?e:1,strokeOpacity:null!==(i=null!==(r=p.strokeOpacity)&&void 0!==r?r:o.strokeOpacity)&&void 0!==i?i:1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="LineSeries",t.type="line",Rs([V(Kr)],t.prototype,"title",void 0),Rs([V(ai)],t.prototype,"stroke",void 0),Rs([V($g)],t.prototype,"lineDash",void 0),Rs([V(et(0))],t.prototype,"lineDashOffset",void 0),Rs([V(et(0))],t.prototype,"strokeWidth",void 0),Rs([V(et(0,1))],t.prototype,"strokeOpacity",void 0),Rs([V(Kn)],t.prototype,"_xKey",void 0),Rs([V(Kn)],t.prototype,"xName",void 0),Rs([V(Kn)],t.prototype,"_yKey",void 0),Rs([V(Kn)],t.prototype,"yName",void 0),t}(tv),Z0=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q0=function(){return Q0=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Q0.apply(this,arguments)},Zu=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lv=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},uv=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},m9=function(n){function t(e,r,i,o,a,s){var l=n.call(this,r,i,o,a,s)||this;return l.sizeKey=e,l}return Z0(t,n),t}(hF),HMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeClick",e}return Z0(t,n),t}(m9),WMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Z0(t,n),t}(m9),jMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e}return Z0(t,n),Zu([V(_i)],t.prototype,"renderer",void 0),t}(Dp),UMe=function(n){function t(){var e=n.call(this,{pickModes:[Li.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Li.NEAREST_NODE,Li.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.validData=[],e.sizeData=[],e.sizeScale=new B0,e.marker=new pF,e.label=new Ss,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new jMe,e.label.enabled=!1,e}return Z0(t,n),Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.yData=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(e){this._sizeKey=e,this.sizeData=[]},enumerable:!1,configurable:!0}),t.prototype.processData=function(){return lv(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,h,p;return uv(this,function(m){return r=(e=this).xKey,i=e.yKey,o=e.sizeKey,s=e.yAxis,l=e.marker,(a=e.xAxis)&&s?(h=a.scale instanceof tr,p=s.scale instanceof tr,this.validData=(u=r&&i&&this.data?this.data:[]).filter(function(v){return void 0!==Uu(v[r],h)&&void 0!==Uu(v[i],p)}),this.xData=this.validData.map(function(v){return v[r]}),this.yData=this.validData.map(function(v){return v[i]}),this.validateXYData(this.xKey,this.yKey,u,a,s,this.xData,this.yData,1),this.sizeData=o?this.validData.map(function(v){return v[o]}):[],this.sizeScale.domain=l.domain?l.domain:ua(this.sizeData)||[1,1],this.xDomain=a.scale instanceof tr?this.fixNumericExtent(ua(this.xData),a):this.xData,this.yDomain=s.scale instanceof tr?this.fixNumericExtent(ua(this.yData),s):this.yData,[2]):[2]})})},t.prototype.getDomain=function(e){return e===bn.X?this.xDomain:this.yDomain},t.prototype.getNodeClickEvent=function(e,r){return new HMe(this.sizeKey,this.xKey,this.yKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new WMe(this.sizeKey,this.xKey,this.yKey,e,r,this)},t.prototype.createNodeData=function(){return lv(this,void 0,void 0,function(){var e,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M,B,I,U,le,ie,te;return uv(this,function(J){if(i=(e=this).visible,o=e.xAxis,a=e.yAxis,s=e.yKey,l=e.label,u=e.labelKey,!(e.data&&i&&o&&a))return[2,[]];for(h=(c=o.scale)instanceof tr,p=(d=a.scale)instanceof tr,m=(c.bandwidth||0)/2,v=(d.bandwidth||0)/2,C=(_=this).xData,w=_.yData,b=_.validData,E=_.sizeData,S=_.sizeScale,O=_.marker,R=new Array(C.length),S.range=[O.size,O.maxSize],D=l.getFont(),P=0,M=0;M<C.length;M++)(B=this.checkDomainXY(C[M],w[M],h,p))&&(I=c.convert(B[0])+m,U=d.convert(B[1])+v,this.checkRangeXY(I,U,o,a)&&(le=u?String(b[M][u]):"",ie=uo.getTextSize(le,D),te=E.length?S.convert(E[M]):O.size,R[P++]={series:this,itemId:s,datum:b[M],point:{x:I,y:U,size:te},label:Q0({text:le},ie)}));return R.length=P,[2,[{itemId:this.yKey,nodeData:R,labelData:R}]]})})},t.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},t.prototype.getLabelData=function(){var e;return null===(e=this.contextNodeData)||void 0===e?void 0:e.reduce(function(r,i){return r.concat(i.labelData)},[])},t.prototype.markerFactory=function(){return new(Qg(this.marker.shape))},t.prototype.updateMarkerSelection=function(e){return lv(this,void 0,void 0,function(){var r,i,o;return uv(this,function(s){return r=e.nodeData,i=e.markerSelection,o=this.marker.enabled,this.marker.isDirty()&&i.clear(),[2,i.update(o?r:[])]})})},t.prototype.updateMarkerNodes=function(e){return lv(this,void 0,void 0,function(){var r,i,o,a,s,l,c,d,h,p,m,v,_,C,w,b,E,S,O;return uv(this,function(R){return r=e.markerSelection,i=e.isHighlight,s=(o=this).xKey,l=o.yKey,d=(c=o.marker).fillOpacity,h=c.strokeOpacity,p=c.strokeWidth,v=(m=o.highlightStyle.item).fill,C=void 0===(_=m.fillOpacity)?d:_,w=m.stroke,b=m.strokeWidth,E=o.id,S=(a=o.marker).formatter,o.sizeScale.range=[a.size,a.maxSize],O="function"==typeof a.shape,r.each(function(D,P){var M,B,I,U,le,ie,te,J=i&&void 0!==v?v:a.fill,ce=i?C:d,de=i&&void 0!==w?w:a.stroke,_e=h,ue=i&&void 0!==b?b:p??1,G=null!==(B=null===(M=P.point)||void 0===M?void 0:M.size)&&void 0!==B?B:0,re=void 0;S&&(re=S({datum:P.datum,xKey:s,yKey:l,fill:J,stroke:de,strokeWidth:ue,size:G,highlighted:i,seriesId:E})),D.fill=re&&re.fill||J,D.stroke=re&&re.stroke||de,D.strokeWidth=null!==(I=re?.strokeWidth)&&void 0!==I?I:ue,D.size=re&&void 0!==re.size?re.size:G,D.fillOpacity=ce??1,D.strokeOpacity=_e??1,D.translationX=null!==(le=null===(U=P.point)||void 0===U?void 0:U.x)&&void 0!==le?le:0,D.translationY=null!==(te=null===(ie=P.point)||void 0===ie?void 0:ie.y)&&void 0!==te?te:0,D.visible=D.size>0,O&&!D.dirtyPath&&(D.path.clear({trackChanges:!0}),D.updatePath(),D.checkPathDirty())}),i||this.marker.markClean(),[2]})})},t.prototype.updateLabelSelection=function(e){var r,i;return lv(this,void 0,void 0,function(){var o,s,l;return uv(this,function(u){return o=e.labelSelection,s=this.label.enabled&&null!==(i=null===(r=this.chart)||void 0===r?void 0:r.placeLabels().get(this))&&void 0!==i?i:[],l=s.map(function(c){return Q0(Q0({},c.datum),{point:{x:c.x,y:c.y,size:c.datum.point.size}})}),[2,o.update(l)]})})},t.prototype.updateLabelNodes=function(e){return lv(this,void 0,void 0,function(){var i;return uv(this,function(o){return i=this.label,e.labelSelection.each(function(a,s){var l,u,c,d;a.text=s.label.text,a.fill=i.color,a.x=null!==(u=null===(l=s.point)||void 0===l?void 0:l.x)&&void 0!==u?u:0,a.y=null!==(d=null===(c=s.point)||void 0===c?void 0:c.y)&&void 0!==d?d:0,a.fontStyle=i.fontStyle,a.fontWeight=i.fontWeight,a.fontSize=i.fontSize,a.fontFamily=i.fontFamily,a.textAlign="left",a.textBaseline="top"}),[2]})})},t.prototype.getTooltipHtml=function(e){var r,i,o,a=this,s=a.xKey,l=a.yKey,u=a.xAxis,c=a.yAxis;if(!(s&&l&&u&&c))return"";var d=this,h=d.marker,p=d.tooltip,m=d.xName,v=d.yName,_=d.sizeKey,C=d.sizeName,w=d.labelKey,b=d.labelName,E=d.id,S=h.fill,O=h.stroke,R=this.getStrokeWidth(null!==(r=h.strokeWidth)&&void 0!==r?r:1),D=this.marker.formatter,P=void 0;D&&(P=D({datum:e,xKey:s,yKey:l,fill:S,stroke:O,strokeWidth:R,size:null!==(o=null===(i=e.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0,highlighted:!1,seriesId:E}));var M=P&&P.fill||S||"gray",B=this.title||v,I=e.datum,U=I[s],le=I[l],ie=Po(u.formatDatum(U)),te=Po(c.formatDatum(le)),J="<b>"+Po(m||s)+"</b>: "+ie+"<br><b>"+Po(v||l)+"</b>: "+te;_&&(J+="<br><b>"+Po(C||_)+"</b>: "+Po(I[_])),w&&(J="<b>"+Po(b||w)+"</b>: "+Po(I[w])+"<br>"+J);var ce={title:B,backgroundColor:M,content:J},de=p.renderer;return de?Oo(de({datum:I,xKey:s,xValue:U,xName:m,yKey:l,yValue:le,yName:v,sizeKey:_,sizeName:C,labelKey:w,labelName:b,title:B,color:M,seriesId:E}),ce):Oo(ce)},t.prototype.getLegendData=function(){var e=this,r=e.id,i=e.data,a=e.yKey,c=e.marker;return i&&i.length&&e.xKey&&a?[{id:r,itemId:a,seriesId:r,enabled:e.visible,label:{text:e.title||e.yName||a},marker:{shape:c.shape,fill:c.fill||c.fill||"rgba(0, 0, 0, 0)",stroke:c.stroke||c.stroke||"rgba(0, 0, 0, 0)",fillOpacity:c.fillOpacity??1,strokeOpacity:c.strokeOpacity??1}}]:[]},t.prototype.isLabelEnabled=function(){return this.label.enabled},t.className="ScatterSeries",t.type="scatter",Zu([V(Kr)],t.prototype,"title",void 0),Zu([V(Kr)],t.prototype,"labelKey",void 0),Zu([V(Kn)],t.prototype,"xName",void 0),Zu([V(Kn)],t.prototype,"yName",void 0),Zu([V(Kr)],t.prototype,"sizeName",void 0),Zu([V(Kr)],t.prototype,"labelName",void 0),Zu([V(Kn)],t.prototype,"_xKey",void 0),Zu([V(Kn)],t.prototype,"_yKey",void 0),Zu([V(Kr)],t.prototype,"_sizeKey",void 0),t}(tv),zMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ip=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$Me=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return zMe(t,n),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Zn(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.updatePath=function(){var e=this.path,r=this.angleOffset,i=Math.min(this.startAngle,this.endAngle)+r,o=Math.max(this.startAngle,this.endAngle)+r,a=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),l=u6(Qa(this.startAngle),Qa(this.endAngle)),u=this.centerX,c=this.centerY;e.clear(),l?(e.arc(u,c,s,i,o),a>0&&(e.moveTo(u+a*Math.cos(o),c+a*Math.sin(o)),e.arc(u,c,a,o,i,!0))):(e.moveTo(u+a*Math.cos(i),c+a*Math.sin(i)),e.arc(u,c,s,i,o),a>0?e.arc(u,c,a,o,i,!0):e.lineTo(u,c)),e.closePath(),this.dirtyPath=!1},t.prototype.isPointInPath=function(e,r){var i=this.angleOffset,o=kS(Math.min(this.startAngle,this.endAngle)+i),a=kS(Math.max(this.startAngle,this.endAngle)+i),s=Math.min(this.innerRadius,this.outerRadius),l=Math.max(this.innerRadius,this.outerRadius),u=this.transformPoint(e,r),c=u.x-this.centerX,d=u.y-this.centerY,h=Math.sqrt(Math.pow(c,2)+Math.pow(d,2));if(h<s||h>l)return!1;var p=kS(Math.atan2(d,c));return o>a?o<p||a>p:o===a||o<p&&a>p},t.className="Sector",Ip([Sr()],t.prototype,"centerX",void 0),Ip([Sr()],t.prototype,"centerY",void 0),Ip([Sr()],t.prototype,"innerRadius",void 0),Ip([Sr()],t.prototype,"outerRadius",void 0),Ip([Sr()],t.prototype,"startAngle",void 0),Ip([Sr()],t.prototype,"endAngle",void 0),Ip([Sr()],t.prototype,"angleOffset",void 0),t}(wp),nd=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},cv.apply(this,arguments)},rn=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dv=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},fv=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},g9=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},OF=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(g9(arguments[t]));return n},v9=function(n){function t(e,r,i,o,a,s,l){var u=n.call(this,a,s,l)||this;return u.angleKey=e,u.calloutLabelKey=r,u.sectorLabelKey=i,u.radiusKey=o,u}return nd(t,n),rn([qg("calloutLabelKey")],t.prototype,"labelKey",void 0),t}(V0),KMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeClick",e}return nd(t,n),t}(v9),YMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return nd(t,n),t}(v9),Qu=(()=>(function(n){n[n.Sector=0]="Sector",n[n.Callout=1]="Callout",n[n.Label=2]="Label"}(Qu||(Qu={})),Qu))(),qMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e.formatter=void 0,e}return nd(t,n),rn([V(et(0))],t.prototype,"offset",void 0),rn([V(et(0))],t.prototype,"minAngle",void 0),rn([V(_i)],t.prototype,"formatter",void 0),t}(Ss),XMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return nd(t,n),rn([V(et())],t.prototype,"positionOffset",void 0),rn([V(et(0,1))],t.prototype,"positionRatio",void 0),rn([V(_i)],t.prototype,"formatter",void 0),t}(Ss),ZMe=function(){function n(){this.colors=void 0,this.length=10,this.strokeWidth=1}return rn([V(XOe)],n.prototype,"colors",void 0),rn([V(et(0))],n.prototype,"length",void 0),rn([V(et(0))],n.prototype,"strokeWidth",void 0),n}(),QMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e}return nd(t,n),rn([V(_i)],t.prototype,"renderer",void 0),t}(Dp),JMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.showInLegend=!1,e}return nd(t,n),rn([V(Ir)],t.prototype,"showInLegend",void 0),t}(N0),eIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.text="",e.margin=2,e}return nd(t,n),rn([V(Kn)],t.prototype,"text",void 0),rn([V(et())],t.prototype,"margin",void 0),t}(Ss),tIe=function(){function n(){this.fill="transparent",this.fillOpacity=1}return rn([V(ql)],n.prototype,"fill",void 0),rn([V(yr(0,1))],n.prototype,"fillOpacity",void 0),n}(),rIe=function(n){function t(){var a,e=n.call(this,{useLabelLayer:!0})||this;e.radiusScale=new B0,e.groupSelection=yi.select(e.contentGroup,cn),e.highlightSelection=yi.select(e.highlightGroup,cn),e.groupSelectionData=[],e.sectorFormatData=[],e.angleScale=((a=new B0).domain=[0,1],a.range=[-Math.PI,Math.PI].map(function(s){return s+Math.PI/2}),a),e.seriesItemEnabled=[],e.calloutLabel=new qMe,e.label=e.calloutLabel,e.sectorLabel=new XMe,e.calloutLine=new ZMe,e.callout=e.calloutLine,e.tooltip=new QMe,e.angleKey="",e.angleName="",e.innerLabels=[],e.radiusKey=void 0,e.radiusName=void 0,e.radiusMin=void 0,e.radiusMax=void 0,e.calloutLabelKey=void 0,e.calloutLabelName=void 0,e.labelKey=void 0,e.labelName=void 0,e.sectorLabelKey=void 0,e.sectorLabelName=void 0,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.formatter=void 0,e.rotation=0,e.outerRadiusOffset=0,e.outerRadiusRatio=1,e.innerRadiusOffset=0,e.innerRadiusRatio=1,e.strokeWidth=1,e.shadow=void 0,e.highlightStyle=new oF,e.datumSectorRefs=new WeakMap,e.backgroundGroup=e.rootGroup.appendChild(new cn({name:e.id+"-background",layer:!0,zIndex:Ci.SERIES_BACKGROUND_ZINDEX}));var r=new cn({name:"pieCalloutLabels"}),i=new cn({name:"pieSectorLabels"}),o=new cn({name:"innerLabels"});return e.labelGroup.append(r),e.labelGroup.append(i),e.labelGroup.append(o),e.calloutLabelSelection=yi.select(r,cn),e.sectorLabelSelection=yi.select(i,ca),e.innerLabelsSelection=yi.select(o,ca),e}return nd(t,n),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var r,i,o=this._title;o!==e&&(o&&(null===(r=this.labelGroup)||void 0===r||r.removeChild(o.node)),e&&(e.node.textBaseline="bottom",null===(i=this.labelGroup)||void 0===i||i.appendChild(e.node)),this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(e){var r;if(this._innerCircleConfig!==e){var o=this._innerCircleNode,a=void 0;o&&this.backgroundGroup.removeChild(o),e&&((a=new uF).fill=e.fill,a.fillOpacity=null!==(r=e.fillOpacity)&&void 0!==r?r:1,this.backgroundGroup.appendChild(a)),this._innerCircleConfig=e,this._innerCircleNode=a}},enumerable:!1,configurable:!0}),t.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},t.prototype.processSeriesItemEnabled=function(){var i=this.visible;this.seriesItemEnabled=this.data?.map(function(){return i})||[]},t.prototype.getDomain=function(e){return e===bn.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){return dv(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O,R,D,P,M,B,I,U,le,ie,te,J,ce,de,_e,ue=this;return fv(this,function(G){return i=(e=this).radiusKey,o=e.seriesItemEnabled,a=e.angleScale,s=e.groupSelectionData,l=e.sectorFormatData,u=e.calloutLabel,c=e.sectorLabel,d=e.id,p=(h=(r=e.angleKey)&&this.data?this.data:[]).map(function(re,W){return o[W]&&Math.abs(+re[r])||0}),m=p.reduce(function(re,W){return re+W},0),re=0,v=p.map(function(W){return re+=W/m}),_=u.formatter,w=c.enabled?this.sectorLabelKey:void 0,b=[],E=[],S=[],O=function(re){return{datum:re,angleKey:r,angleValue:re[r],angleName:ue.angleName,radiusKey:i,radiusValue:i?re[i]:void 0,radiusName:ue.radiusName,labelKey:C,labelValue:C?re[C]:void 0,labelName:ue.calloutLabelName,calloutLabelKey:C,calloutLabelValue:C?re[C]:void 0,calloutLabelName:ue.calloutLabelName,sectorLabelKey:w,sectorLabelValue:w?re[w]:void 0,sectorLabelName:ue.sectorLabelName,seriesId:d}},(C=u.enabled?this.calloutLabelKey:void 0)&&(_?(R=function(){return Dt.warnOnce("the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},b=h.map(function(re){var W=re[C],X=cv(cv({},O(re)),{get value(){return R(),W},set value(ge){R(),W=ge}});return _(X)})):b=h.map(function(re){return String(re[C])})),D=c.formatter,w&&(E=h.map(D?function(re){var W=O(re);return D(W)}:function(re){return String(re[w])})),i&&(M=(P=this).radiusMin,B=P.radiusMax,I=h.map(function(re){return Math.abs(re[i])}),U=M??0,le=B||Math.max.apply(Math,OF(I)),ie=le-U,S=I.map(function(re){return ie?(re-U)/ie:1})),s.length=0,l.length=0,l.push.apply(l,OF(h.map(function(re,W){return ue.getSectorFormat(re,W,W,!1)}))),te=kf(this.rotation),J=Math.PI/2,ce=0,de=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],_e=0,v.forEach(function(re){if(!isNaN(re)){var W=i?S[ce]:1,X=a.convert(re)+te,ge=a.convert(_e)+te,Ee=(X+ge)/2,Ve=Math.abs(ge-X),he=Math.cos(Ee),ye=Math.sin(Ee),st=kf(u.minAngle),K=C&&Ve>st,at=function C1e(n){return(n%=Ku)<-Math.PI?n+=Ku:n>=Math.PI&&(n-=Ku),n}(Ee),vt=-3*Math.PI/4,Qe=function O1e(n,t){return n>=0?Math.floor(n%t):Math.floor(n%t+t)}(Math.floor((at-vt)/J),de.length),mn=de[Qe];s.push({series:ue,datum:h[ce],itemId:ce,index:ce,radius:W,startAngle:X,endAngle:ge,midAngle:Ee,midCos:he,midSin:ye,calloutLabel:K?{text:b[ce],textAlign:mn.textAlign,textBaseline:mn.textBaseline,hidden:!1}:void 0,sectorLabel:w?{text:E[ce]}:void 0,sectorFormat:l[ce]}),ce++,_e=re}}),[2];var re})})},t.prototype.getSectorFormat=function(e,r,i,o){var a,s,l,u,c,M,d=this,h=d.angleKey,p=d.radiusKey,m=d.fills,v=d.strokes,_=d.fillOpacity,C=d.formatter,w=d.id,b=null===(a=this.highlightManager)||void 0===a?void 0:a.getActiveHighlight(),E=o&&b?.series===this&&r===b.itemId,S=E?this.highlightStyle.item:null,O=S?.fill||m[i%m.length],R=null!==(s=S?.fillOpacity)&&void 0!==s?s:_,D=S?.stroke||v[i%v.length],P=null!==(l=S?.strokeWidth)&&void 0!==l?l:this.getStrokeWidth(this.strokeWidth);return C&&(M=C({datum:e,angleKey:h,radiusKey:p,fill:O,stroke:D,strokeWidth:P,highlighted:E,seriesId:w})),{fill:M?.fill||O,fillOpacity:null!==(u=M?.fillOpacity)&&void 0!==u?u:R,stroke:M?.stroke||D,strokeWidth:null!==(c=M?.strokeWidth)&&void 0!==c?c:P}},t.prototype.createNodeData=function(){return dv(this,void 0,void 0,function(){return fv(this,function(e){return[2,[]]})})},t.prototype.getInnerRadius=function(){var e=this,r=e.radius,a=r*(e.innerRadiusRatio??1)+(e.innerRadiusOffset||0);return a===r||a<0?0:a},t.prototype.getOuterRadius=function(){var e=this,a=e.radius*(e.outerRadiusRatio??1)+(e.outerRadiusOffset||0);return a<0?0:a},t.prototype.updateRadiusScale=function(){var e=this.getInnerRadius(),r=this.getOuterRadius();this.radiusScale.range=[e,r]},t.prototype.getTitleTranslationY=function(){var e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-2},t.prototype.update=function(){return dv(this,void 0,void 0,function(){var e,r;return fv(this,function(i){switch(i.label){case 0:return e=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,e&&(r=this.getTitleTranslationY(),isFinite(r)?(e.node.visible=e.enabled,e.node.translationY=r):e.node.visible=!1),[4,this.updateSelections()];case 1:return i.sent(),[4,this.updateNodes()];case 2:return i.sent(),[2]}})})},t.prototype.updateSelections=function(){return dv(this,void 0,void 0,function(){return fv(this,function(e){switch(e.label){case 0:return[4,this.updateGroupSelection()];case 1:return e.sent(),[2]}})})},t.prototype.updateGroupSelection=function(){return dv(this,void 0,void 0,function(){var e,i,o,a,s,l,u=this;return fv(this,function(c){return i=(e=this).highlightSelection,o=e.calloutLabelSelection,a=e.sectorLabelSelection,s=e.innerLabelsSelection,this.groupSelection=(l=function(d){return d.update(u.groupSelectionData,function(h){var p=new $Me;p.tag=Qu.Sector,h.appendChild(p)})})(e.groupSelection),this.highlightSelection=l(i),o.update(this.groupSelectionData,function(d){var h=new Xc;h.tag=Qu.Callout,h.pointerEvents=la.None,d.appendChild(h);var p=new ca;p.tag=Qu.Label,p.pointerEvents=la.None,d.appendChild(p)}),a.update(this.groupSelectionData,function(d){d.pointerEvents=la.None}),s.update(this.innerLabels,function(d){d.pointerEvents=la.None}),[2]})})},t.prototype.updateNodes=function(){var e;return dv(this,void 0,void 0,function(){var r,i,o,a,s,l=this;return fv(this,function(u){return r=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),i=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&r?.series===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),a=(o=this.radiusScale).convert(0),s=function(c,d,h,p){var m=o.convert(d.radius),v=c.parent,_=v?.parent;p&&v&&_&&(_.removeChild(v),_.appendChild(v)),c.innerRadius=Math.max(0,a),c.outerRadius=Math.max(0,m),c.startAngle=d.startAngle,c.endAngle=d.endAngle;var C=l.getSectorFormat(d.datum,d.itemId,h,p);c.fill=C.fill,c.stroke=C.stroke,c.strokeWidth=C.strokeWidth,c.fillOpacity=C.fillOpacity,c.strokeOpacity=l.strokeOpacity,c.lineDash=l.lineDash,c.lineDashOffset=l.lineDashOffset,c.fillShadow=l.shadow,c.lineJoin="round",c.visible=l.seriesItemEnabled[h],l.datumSectorRefs.set(d,c)},this.groupSelection.selectByTag(Qu.Sector).forEach(function(c,d){return s(c,c.datum,d,!1)}),this.highlightSelection.selectByTag(Qu.Sector).forEach(function(c,d){var h=r?.series===l&&c.datum.itemId===r.itemId;c.visible=h,c.visible&&s(c,c.datum,d,h)}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]})})},t.prototype.updateCalloutLineNodes=function(){var r=this.radiusScale,i=this.calloutLine,o=i.length,a=i.strokeWidth,s=i.colors||this.strokes;this.calloutLabelSelection.selectByTag(Qu.Callout).forEach(function(l,u){var c=l.datum,d=r.convert(c.radius),h=Math.max(0,d);c.calloutLabel&&0!==h&&!c.calloutLabel.hidden?(l.strokeWidth=a,l.stroke=s[u%s.length],l.x1=c.midCos*h,l.y1=c.midSin*h,l.x2=c.midCos*(h+o),l.y2=c.midSin*(h+o),l.visible=!0):l.visible=!1})},t.prototype.getLabelOverflow=function(e,r){var i=this.chart.getSeriesRect(),o=i.x-this.centerX,a=i.x+i.width-this.centerX,c=1;r.x+1<o?c=(r.x+r.width-o)/r.width:r.x+r.width-1>a&&(c=(a-r.x)/r.width);var d=r.y+1<i.y-this.centerY||r.y+r.height-1>i.y+i.height-this.centerY;return{visibleTextPart:c,textLength:Math.floor(e.length*c)-1,hasVerticalOverflow:d}},t.prototype.updateCalloutLabelNodes=function(){var e=this,r=this,i=r.radiusScale,o=r.calloutLabel,s=r.calloutLine.length,l=o.offset,u=o.color,c=new ca;this.calloutLabelSelection.selectByTag(Qu.Label).forEach(function(d){var h=d.datum,p=h.calloutLabel,m=i.convert(h.radius),v=Math.max(0,m);if(p&&0!==v&&!p.hidden){var _=v+s+l,C=h.midCos*_,w=h.midSin*_;e.setTextDimensionalProps(c,C,w,e.calloutLabel,p);var b=c.computeBBox(),E=e.getLabelOverflow(p.text,b),R=E.hasVerticalOverflow,D=1===E.visibleTextPart?p.text:p.text.substring(0,E.textLength)+"\u2026";e.setTextDimensionalProps(d,C,w,e.calloutLabel,cv(cv({},p),{text:D})),d.fill=u,d.visible=!R}else d.visible=!1})},t.prototype.computeLabelsBBox=function(e){var r=this,i=this,o=i.radiusScale,l=i.calloutLine.length,u=i.calloutLabel.offset;this.updateRadiusScale();var c=new ca,d=this.groupSelectionData.map(function(m){var v=m.calloutLabel,_=o.convert(m.radius),C=Math.max(0,_);if(!v||0===C)return null;var w=C+l+u;r.setTextDimensionalProps(c,m.midCos*w,m.midSin*w,r.calloutLabel,v);var S=c.computeBBox();if(e.hideWhenNecessary){var O=r.getLabelOverflow(v.text,S);if(O.hasVerticalOverflow||O.textLength<2)return v.hidden=!0,null}return v.hidden=!1,S}).filter(function(m){return null!=m});if(this.title&&this.title.text){var h=this.getTitleTranslationY();if(isFinite(h)){this.setTextDimensionalProps(c,0,h,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1});var p=c.computeBBox();d.push(p)}}return 0===d.length?null:Zn.merge(d)},t.prototype.setTextDimensionalProps=function(e,r,i,o,a){var l=o.fontWeight,u=o.fontSize,c=o.fontFamily;e.fontStyle=o.fontStyle,e.fontWeight=l,e.fontSize=u,e.fontFamily=c,e.text=a.text,e.x=r,e.y=i,e.textAlign=a.textAlign,e.textBaseline=a.textBaseline},t.prototype.updateSectorLabelNodes=function(){var e=this,r=this.radiusScale,i=r.convert(0),o=this.sectorLabel,a=o.fontSize,s=o.fontStyle,l=o.fontWeight,u=o.fontFamily,c=o.positionOffset,d=o.positionRatio,h=o.color,p=i>0,m=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each(function(v,_){var C=_.sectorLabel,w=r.convert(_.radius),b=Math.max(0,w),E=!1;if(C&&0!==b){var S=i*(1-d)+w*d+c;if(v.fill=h,v.fontStyle=s,v.fontWeight=l,v.fontSize=a,v.fontFamily=u,v.text=C.text,!p&&m?(v.x=0,v.y=0):(v.x=_.midCos*S,v.y=_.midSin*S),v.textAlign="center",v.textBaseline="middle",e.datumSectorRefs.get(_)){var D=v.computeBBox(),I={startAngle:_.startAngle,endAngle:_.endAngle,innerRadius:i,outerRadius:b};[[D.x,D.y],[D.x+D.width,D.y],[D.x+D.width,D.y+D.height],[D.x,D.y+D.height]].every(function(U){var le=g9(U,2);return function nIe(n,t,e){var r=Math.sqrt(Math.pow(n,2)+Math.pow(t,2)),i=e.innerRadius,o=e.outerRadius;if(r<Math.min(i,o)||r>Math.max(i,o))return!1;var a=Math.atan2(t,n);a<-Math.PI/2&&(a+=2*Math.PI);var s=e.startAngle,l=e.endAngle;return l===-Math.PI/2?a<s:s===3*Math.PI/2?a>l:a>=l&&a<=s}(le[0],le[1],I)})&&(E=!0)}}v.visible=E})},t.prototype.updateInnerCircle=function(){var e=this._innerCircleNode;if(e){var r=this.getInnerRadius();if(0===r)e.size=0;else{var i=Math.min(r,this.getOuterRadius());e.size=Math.ceil(2*i+1)}}},t.prototype.updateInnerLabelNodes=function(){var e=[],r=[];this.innerLabelsSelection.each(function(_,C){var b=C.fontWeight,E=C.fontSize,S=C.fontFamily,O=C.color;_.fontStyle=C.fontStyle,_.fontWeight=b,_.fontSize=E,_.fontFamily=S,_.text=C.text,_.x=0,_.y=0,_.fill=O,_.textAlign="center",_.textBaseline="alphabetic",e.push(_.computeBBox()),r.push(C.margin)});for(var i=function(_){return 0===_?0:r[_]},o=function(_){return _===r.length-1?0:r[_]},a=e.reduce(function(_,C,w){return _+C.height+i(w)+o(w)},0),s=Math.max.apply(Math,OF(e.map(function(_){return _.width}))),l=this.getInnerRadius(),c=Math.sqrt(Math.pow(s/2,2)+Math.pow(a/2,2))<=(l>0?l:this.getOuterRadius()),d=[],h=0,p=-a/2;h<e.length;h++){var v=e[h].height+p+i(h);d.push(v),p=v+o(h)}this.innerLabelsSelection.each(function(_,C,w){_.y=d[w],_.visible=c})},t.prototype.getNodeClickEvent=function(e,r){return new KMe(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new YMe(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r=this.angleKey;if(!r)return"";var i=this,a=i.angleName,s=i.radiusKey,l=i.radiusName,u=i.calloutLabelKey,c=i.sectorLabelKey,d=i.calloutLabelName,h=i.sectorLabelName,p=i.id,m=i.tooltip.renderer,v=e.sectorFormat.fill,_=e.datum,C=u?_[u]+": ":"",w=_[r],b="number"==typeof w?c6(w):w.toString(),E=this.title?this.title.text:void 0,O={title:E,backgroundColor:v,content:C+b};return m?Oo(m({datum:_,angleKey:r,angleValue:w,angleName:a,radiusKey:s,radiusValue:s?_[s]:void 0,radiusName:l,labelKey:u,labelName:d,calloutLabelKey:u,calloutLabelName:d,sectorLabelKey:c,sectorLabelName:h,title:E,color:v,seriesId:p}),O):Oo(O)},t.prototype.getLegendData=function(){var e=this,r=this,i=r.calloutLabelKey,o=r.data,a=r.sectorFormatData;if(o&&o.length&&i){var s=this.id,l=[],u=this.title&&this.title.showInLegend&&this.title.text;return o.forEach(function(c,d){var h=[];u&&h.push(u),h.push(String(c[i])),l.push({id:s,itemId:d,seriesId:s,enabled:e.seriesItemEnabled[d],label:{text:h.join(" - ")},marker:{fill:a[d].fill,stroke:a[d].stroke,fillOpacity:e.fillOpacity,strokeOpacity:e.strokeOpacity}})}),l}return[]},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled[e]=r,this.nodeDataRefresh=!0},t.className="PieSeries",t.type="pie",rn([qg("calloutLabel")],t.prototype,"label",void 0),rn([qg("calloutLine")],t.prototype,"callout",void 0),rn([V(Kn)],t.prototype,"angleKey",void 0),rn([V(Kn)],t.prototype,"angleName",void 0),rn([V(Kr)],t.prototype,"radiusKey",void 0),rn([V(Kr)],t.prototype,"radiusName",void 0),rn([V(yr(0))],t.prototype,"radiusMin",void 0),rn([V(yr(0))],t.prototype,"radiusMax",void 0),rn([V(Kr)],t.prototype,"calloutLabelKey",void 0),rn([V(Kr)],t.prototype,"calloutLabelName",void 0),rn([qg("calloutLabelKey")],t.prototype,"labelKey",void 0),rn([qg("calloutLabelName")],t.prototype,"labelName",void 0),rn([V(Kr)],t.prototype,"sectorLabelKey",void 0),rn([V(Kr)],t.prototype,"sectorLabelName",void 0),rn([V(Ff)],t.prototype,"fills",void 0),rn([V(Ff)],t.prototype,"strokes",void 0),rn([V(et(0,1))],t.prototype,"fillOpacity",void 0),rn([V(et(0,1))],t.prototype,"strokeOpacity",void 0),rn([V($g)],t.prototype,"lineDash",void 0),rn([V(et(0))],t.prototype,"lineDashOffset",void 0),rn([V(_i)],t.prototype,"formatter",void 0),rn([V(et(-360,360))],t.prototype,"rotation",void 0),rn([V(et())],t.prototype,"outerRadiusOffset",void 0),rn([V(et(0))],t.prototype,"outerRadiusRatio",void 0),rn([V(et())],t.prototype,"innerRadiusOffset",void 0),rn([V(et(0))],t.prototype,"innerRadiusRatio",void 0),rn([V(et(0))],t.prototype,"strokeWidth",void 0),t}(e9),iIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oIe=function(n){function t(){return n.call(this,{pickModes:[Li.EXACT_SHAPE_MATCH]})||this}return iIe(t,n),t.prototype.getLabelData=function(){return[]},t}(VS),aIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J0=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AF=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return aIe(t,n),J0([V(Ir),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"enabled",void 0),J0([V(ql),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"color",void 0),J0([V(et()),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"xOffset",void 0),J0([V(et()),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"yOffset",void 0),J0([V(et(0)),(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"blur",void 0),t}(Ce.l9);function eD(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var lIe=function(){function n(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map(function(t){return Yl.fromString(t)})}return Object.defineProperty(n.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map(function(e){return Yl.fromString(e)})},enumerable:!1,configurable:!0}),n.prototype.convert=function(t){var c,d,e=this,r=e.domain,i=e.range,o=e.parsedRange,a=r[0],s=r[r.length-1];if(t<=a)return i[0];if(t>=s)return i[i.length-1];if(2===r.length){var h=(t-a)/(s-a),p=1/(i.length-1);d=(h-(c=i.length<=2?0:Math.min(Math.floor(h*(i.length-1)),i.length-2))*p)/p}else{for(c=0;c<r.length-2&&!(t<r[c+1]);c++);var m=r[c];d=(t-m)/(r[c+1]-m)}return function sIe(n,t){if("string"==typeof n)try{n=Yl.fromString(n)}catch{n=Yl.fromArray([0,0,0])}if("string"==typeof t)try{t=Yl.fromString(t)}catch{t=Yl.fromArray([0,0,0])}var e=eD(n.r,t.r),r=eD(n.g,t.g),i=eD(n.b,t.b),o=eD(n.a,t.a);return function(a){return Yl.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}}(o[c],o[c+1])(d)},n}(),Fp=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),PF=function(){return PF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},PF.apply(this,arguments)},li=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eC=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},tC=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},uIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.renderer=void 0,e}return Fp(t,n),li([V(_i)],t.prototype,"renderer",void 0),t}(Dp),_9=function(n){function t(e,r,i,o,a,s){var l=n.call(this,o,a,s)||this;return l.labelKey=e,l.sizeKey=r,l.colorKey=i,l}return Fp(t,n),t}(V0),cIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeClick",e}return Fp(t,n),t}(_9),dIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Fp(t,n),t}(_9),y9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.padding=10,e}return Fp(t,n),li([V(et(0))],t.prototype,"padding",void 0),t}(Ss),fIe=function(){function n(){var t;this.style=((t=new Ss).color="white",t)}return li([V(Kr)],n.prototype,"key",void 0),li([V(Kr)],n.prototype,"name",void 0),li([V(_i)],n.prototype,"formatter",void 0),n}(),rd=(()=>(function(n){n[n.Name=0]="Name",n[n.Value=1]="Value"}(rd||(rd={})),rd))();function tD(n,t){return uo.getTextSize(n,[t.fontWeight,t.fontSize+"px",t.fontFamily].join(" "))}function MF(n){return"string"!=typeof n||Yl.validColorString(n)?n:(Dt.warnOnce('invalid Treemap tile colour string "'+n+'". Affected treemap tiles will be coloured black.'),"black")}var hIe=function(){function n(){this.color="black"}return li([V(ai)],n.prototype,"color",void 0),n}(),pIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.text=new hIe,e}return Fp(t,n),t}(oF),mIe=function(n){function t(){var r,e=null!==n&&n.apply(this,arguments)||this;return e.groupSelection=yi.select(e.contentGroup,cn),e.highlightSelection=yi.select(e.highlightGroup,cn),e.title=((r=new y9).color="white",r.fontWeight="bold",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.padding=15,r),e.subtitle=function(){var r=new y9;return r.color="white",r.fontSize=9,r.fontFamily="Verdana, sans-serif",r.padding=13,r}(),e.labels={large:function(){var r=new Ss;return r.color="white",r.fontWeight="bold",r.fontSize=18,r}(),medium:function(){var r=new Ss;return r.color="white",r.fontWeight="bold",r.fontSize=14,r}(),small:function(){var r=new Ss;return r.color="white",r.fontWeight="bold",r.fontSize=10,r}(),value:new fIe},e.nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.groupFill="#272931",e.groupStroke="black",e.groupStrokeWidth=1,e.tileStroke="black",e.tileStrokeWidth=1,e.gradient=!0,e.formatter=void 0,e.colorName="Change",e.rootName="Root",e.highlightGroups=!0,e.tileShadow=new AF,e.labelShadow=new AF,e.tooltip=new uIe,e.highlightStyle=new pIe,e}return Fp(t,n),t.prototype.getNodePaddingTop=function(e,r){var i=this,s=i.nodePadding,l=e.label;if(e.isLeaf||!l||0===e.depth)return s;var u=e.depth>1?i.subtitle:i.title,c=tD(l,u);return u.fontSize>r.width/3||u.fontSize>r.height/3||c.height>=r.height?s:c.height+2*s},t.prototype.getNodePadding=function(e,r){var i=this.nodePadding;return{top:this.getNodePaddingTop(e,r),right:i,bottom:i,left:i}},t.prototype.squarify=function(e,r,i){void 0===i&&(i=new Map);var a=this.getNodePadding(e,r);i.set(e,r);var s=r.width-a.left-a.right,l=r.height-a.top-a.bottom;if(s<=0||l<=0||e.value<=0)return i;for(var u=0,c=0,d=1/0,h=e.value,p=e.children,m=new Zn(r.x+a.left,r.y+a.top,s,l),v=0;v<p.length;v++){var _=p[v].value,w=m.width<m.height,b=w?m.height:m.width,E=w?m.width:m.height,S=E*p[c].value/(u+=_),O=b*u/h,R=Math.max(S,O)/Math.min(S,O),D=Math.abs(1-R);if(D<d)d=D;else{O=b*(u-=_)/h;for(var P=w?m.x:m.y,M=c;M<v;M++){var B=p[M],le=E*B.value/u,J=new Zn(w?P:m.x,w?m.y:P,w?le:O,w?O:le);this.squarify(B,J,i),h-=B.value,P+=le}w?(m.y+=O,m.height-=O):(m.x+=O,m.width-=O),c=v,u=0,d=1/0,v--}}var ce=m.width<m.height,de=ce?m.x:m.y;for(v=c;v<p.length;v++){var _e=p[v].value/h,ue=m.width*(ce?_e:1),G=m.height*(ce?1:_e);J=new Zn(ce?de:m.x,ce?m.y:de,ue,G),this.squarify(p[v],J,i),de+=ce?ue:G}return i},t.prototype.processData=function(){return eC(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h=this;return tC(this,function(p){return this.data?(r=(e=this).data,i=e.sizeKey,o=e.labelKey,a=e.colorKey,s=e.colorDomain,l=e.colorRange,u=e.groupFill,(c=new lIe).domain=s,c.range=l,this.dataRoot=(d=function(m,v,_){var C,w;void 0===v&&(v=0);var b=o&&m[o]||"",E=a&&null!==(C=m[a])&&void 0!==C?C:v;E=MF(E);var S=!m.children,O="string"==typeof E?E:S||!u?c.convert(E):u,R={datum:m,depth:v,parent:_,value:0,label:b,fill:O,series:h,isLeaf:S,children:[]};return S?R.value=i&&null!==(w=m[i])&&void 0!==w?w:1:(m.children.forEach(function(D){var P=d(D,v+1,R),M=P.value;isNaN(M)||!isFinite(M)||0===M||(R.value+=M,R.children.push(P))}),R.children.sort(function(D,P){return P.value-D.value})),R})(r),[2]):[2]})})},t.prototype.createNodeData=function(){return eC(this,void 0,void 0,function(){return tC(this,function(e){return[2,[]]})})},t.prototype.update=function(){return eC(this,void 0,void 0,function(){return tC(this,function(e){switch(e.label){case 0:return[4,this.updateSelections()];case 1:return e.sent(),[4,this.updateNodes()];case 2:return e.sent(),[2]}})})},t.prototype.updateSelections=function(){return eC(this,void 0,void 0,function(){var e,r,i,a,s,l,c,d;return tC(this,function(h){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,i=(e=this).dataRoot,(r=e.chart)&&i&&r.getSeriesRect()?(a=[],(s=function(p){var m;a.push(p),null===(m=p.children)||void 0===m||m.forEach(s)})(this.dataRoot),c=(l=this).highlightSelection,this.groupSelection=(d=function(p){return p.update(a,function(m){var v=new Zg,_=new ca;_.tag=rd.Name;var C=new ca;C.tag=rd.Value,m.append([v,_,C])})})(l.groupSelection),this.highlightSelection=d(c),[2]):[2]):[2]})})},t.prototype.isDatumHighlighted=function(e){var r;return e===(null===(r=this.highlightManager)||void 0===r?void 0:r.getActiveHighlight())&&(e.isLeaf||this.highlightGroups)},t.prototype.getTileFormat=function(e,r){var i,o=this.formatter;if(!o)return{};var a=this;return o({seriesId:this.id,datum:e.datum,depth:e.depth,parent:null===(i=e.parent)||void 0===i?void 0:i.datum,colorKey:a.colorKey,sizeKey:a.sizeKey,labelKey:a.labelKey,fill:e.fill,stroke:e.isLeaf?a.tileStroke:a.groupStroke,strokeWidth:e.isLeaf?a.tileStrokeWidth:a.groupStrokeWidth,gradient:a.gradient,highlighted:r})},t.prototype.updateNodes=function(){return eC(this,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d,h,p,m,v,_,C,w,b,E,S,O=this;return tC(this,function(R){return this.chart?(r=(e=this).gradient,a=(o=(i=e.highlightStyle).item).fill,s=o.fillOpacity,l=o.stroke,u=o.strokeWidth,c=i.text.color,d=e.tileStroke,h=e.tileStrokeWidth,p=e.groupStroke,m=e.groupStrokeWidth,v=e.tileShadow,_=e.labelShadow,C=this.chart.getSeriesRect(),w=this.squarify(this.dataRoot,new Zn(0,0,C.width,C.height)),b=this.buildLabelMeta(w),E=function(D,P,M){var B,I,U,le,ie,te,J=w.get(P);if(J){var ce=M&&void 0!==a?a:P.fill,de=null!==(B=M?s:1)&&void 0!==B?B:1,_e=M&&void 0!==l?l:P.isLeaf?d:p,ue=M&&void 0!==u?u:P.isLeaf?h:m,G=O.getTileFormat(P,M);if(D.fill=MF(null!==(I=G?.fill)&&void 0!==I?I:ce),D.fillOpacity=null!==(U=G?.fillOpacity)&&void 0!==U?U:de,D.stroke=MF(null!==(le=G?.stroke)&&void 0!==le?le:_e),D.strokeWidth=null!==(ie=G?.strokeWidth)&&void 0!==ie?ie:ue,D.gradient=null!==(te=G?.gradient)&&void 0!==te?te:r,D.fillShadow=v,D.crisp=!0,D.x=J.x,D.y=J.y,D.width=J.width,D.height=J.height,D.visible=!0,M&&!P.isLeaf){var re=O.getNodePadding(P,J),W=J.x+re.left,X=J.x+J.width-re.right,ge=J.y+re.top,Ee=J.y+J.height-re.bottom;D.clipPath?D.clipPath.clear():D.clipPath=new LS,D.clipMode="punch-out",D.clipPath.moveTo(W,ge),D.clipPath.lineTo(X,ge),D.clipPath.lineTo(X,Ee),D.clipPath.lineTo(W,Ee),D.clipPath.lineTo(W,ge),D.clipPath.closePath()}}else D.visible=!1},this.groupSelection.selectByClass(Zg).forEach(function(D){return E(D,D.datum,!1)}),this.highlightSelection.selectByClass(Zg).forEach(function(D){var P=O.isDatumHighlighted(D.datum);D.visible=P,D.visible&&E(D,D.datum,P)}),S=function(D,P,M,B){var U=b.get(P)?.[B];U?(D.text=U.text,D.fontFamily=U.style.fontFamily,D.fontSize=U.style.fontSize,D.fontWeight=U.style.fontWeight,D.fill=M?c??U.style.color:U.style.color,D.fillShadow=M?void 0:_,D.textAlign=U.hAlign,D.textBaseline=U.vAlign,D.x=U.x,D.y=U.y,D.visible=!0):D.visible=!1},this.groupSelection.selectByTag(rd.Name).forEach(function(D){return S(D,D.datum,!1,"label")}),this.highlightSelection.selectByTag(rd.Name).forEach(function(D){var P=O.isDatumHighlighted(D.datum);D.visible=P,D.visible&&S(D,D.datum,P,"label")}),this.groupSelection.selectByTag(rd.Value).forEach(function(D){return S(D,D.datum,!1,"value")}),this.highlightSelection.selectByTag(rd.Value).forEach(function(D){var P=O.isDatumHighlighted(D.datum);D.visible=P,D.visible&&S(D,D.datum,P,"value")}),[2]):[2]})})},t.prototype.buildLabelMeta=function(e){var r=this,i=r.labels,o=r.title,a=r.subtitle,s=r.nodePadding,l=r.labelKey,u=new Map;return e.forEach(function(c,d){if(l&&0!==d.depth){var p,h=d.isLeaf?d.label:d.label.toUpperCase();p=d.isLeaf?[i.large,i.medium,i.small].find(function(P){var M=tD(h,P);return M.width<c.width&&M.height<c.height})||i.small:1===d.depth?o:a;var m=tD(h,p),v=c.width-2*s,_=c.height-2*s;if(!(p.fontSize>c.width/3||p.fontSize>c.height/3)){if(m.width>v){var w=Math.floor(h.length*v/m.width)-1;h=h.substring(0,w)+"\u2026"}var b=i.value,E=b.style,S=(p.fontSize+E.fontSize)/8,O=String(d.isLeaf?b.formatter?b.formatter({datum:d.datum}):b.key?d.datum[b.key]:"":""),R=tD(O,E),D=O&&R.width<v&&R.height+m.height+S<_;u.set(d,{label:PF({text:h,style:p},d.isLeaf?{hAlign:"center",vAlign:"middle",x:c.x+c.width/2,y:c.y+c.height/2-(D?R.height/2+S/2:0)}:{hAlign:"left",vAlign:"top",x:c.x+s,y:c.y+s}),value:D?{text:O,style:E,hAlign:"center",vAlign:"middle",x:c.x+c.width/2,y:c.y+c.height/2+m.height/2+S/2}:void 0})}}}),u},t.prototype.getDomain=function(e){return[0,1]},t.prototype.getNodeClickEvent=function(e,r){return new cIe(this.labelKey,this.sizeKey,this.colorKey,e,r,this)},t.prototype.getNodeDoubleClickEvent=function(e,r){return new dIe(this.labelKey,this.sizeKey,this.colorKey,e,r,this)},t.prototype.getTooltipHtml=function(e){var r;if(!this.highlightGroups&&!e.isLeaf)return"";var i=this,a=i.sizeKey,s=i.labelKey,l=i.colorKey,c=i.id,d=i.labels,h=e.datum,p=i.tooltip.renderer,m=e.depth?h[s]:i.rootName||h[s],v="",C=this.getTileFormat(e,!1)?.fill||e.fill||"gray",w=d.value.key,b=d.value.formatter;if(w||b){var E="";if(b)E=b({datum:h});else{var S=h[w];"number"==typeof S&&isFinite(S)&&(E=c6(S))}E&&(d.value.name&&(v+="<b>"+d.value.name+":</b> "),v+=E)}var O={title:m,backgroundColor:C,content:v};return p?Oo(p({datum:e.datum,parent:null===(r=e.parent)||void 0===r?void 0:r.datum,depth:e.depth,sizeKey:a,labelKey:s,colorKey:l,title:m,color:C,seriesId:c}),O):m||v?Oo(O):""},t.prototype.getLegendData=function(){return[]},t.className="TreemapSeries",t.type="treemap",li([V(et(0))],t.prototype,"nodePadding",void 0),li([V(Kn)],t.prototype,"labelKey",void 0),li([V(Kr)],t.prototype,"sizeKey",void 0),li([V(Kr)],t.prototype,"colorKey",void 0),li([V(Xz)],t.prototype,"colorDomain",void 0),li([V(Ff)],t.prototype,"colorRange",void 0),li([V(Kr)],t.prototype,"groupFill",void 0),li([V(ai)],t.prototype,"groupStroke",void 0),li([V(yr(0))],t.prototype,"groupStrokeWidth",void 0),li([V(ai)],t.prototype,"tileStroke",void 0),li([V(yr(0))],t.prototype,"tileStrokeWidth",void 0),li([V(Ir)],t.prototype,"gradient",void 0),li([V(_i)],t.prototype,"formatter",void 0),li([V(Kn)],t.prototype,"colorName",void 0),li([V(Kn)],t.prototype,"rootName",void 0),li([V(_p)],t.prototype,"highlightGroups",void 0),t}(oIe),gIe={axes:[{type:wF.type,position:"left"},{type:Jg.type,position:"bottom"}]},vIe={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},_Ie={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},IF=function(){return IF=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},IF.apply(this,arguments)};function C9(n){return null!=n&&n instanceof Array&&n[0]instanceof Array}function CIe(n,t){if(null==n)return{};if(!(n instanceof Array))return n;var e=t.yKeys;if(null==e||C9(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var r={};return e.forEach(function(i,o){r[i]=n[o]}),r}function wIe(n,t){return null==n?[[]]:C9(n)?n:t.grouped?n.map(function(e){return[e]}):[n]}function w9(n){var t=IF({},n);return delete t.yKey,delete t.yName,function yIe(n,t){var e={};for(var r in n)e[r]=(t[r]||function(o){return o})(n[r],n);return e}(t,{yNames:CIe,yKeys:wIe})}function hv(n){return n}var bIe={area:hv,bar:w9,column:w9,histogram:hv,line:hv,pie:hv,scatter:hv,treemap:hv};function Wf(n,t){if(b9(n)&&b9(t)){var e={};return Object.keys(n).forEach(function(r){e[r]=r in t?Wf(n[r],t[r]):n[r]}),Object.keys(t).forEach(function(r){r in n||(e[r]=t[r])}),e}return Array.isArray(n)&&!Array.isArray(t)||FF(n)&&!FF(t)?n:t}function FF(n){return n&&"object"==typeof n}function b9(n){return FF(n)&&n.constructor===Object}var Ut=function(){return Ut=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Ut.apply(this,arguments)},SIe={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},kp=function(){function n(t){var e=(t=Wf({},t||{})).overrides,r=void 0===e?null:e,i=t.palette,o=void 0===i?null:i,a=this.createChartConfigPerChartType(this.getDefaults());if(r){var s=r.common,l=r.cartesian,u=r.polar,c=r.hierarchy,d=function(h,p,m){m&&(a[h]=Wf(a[h],m),p.forEach(function(v){a[v]=Wf(a[v],m)}))};d("common",Object.keys(a),s),d("cartesian",n.cartesianSeriesTypes,l),d("polar",n.polarSeriesTypes,u),d("hierarchy",n.hierarchySeriesTypes,c),n.seriesTypes.forEach(function(h){var p,m=r[h];m&&(m.series&&(m.series=((p={})[h]=m.series,p)),a[h]=Wf(a[h],m))})}this.palette=o??this.getPalette(),this.config=Object.freeze(a)}return n.prototype.getPalette=function(){return SIe},n.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},n.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},n.getBarSeriesDefaults=function(){return Ut(Ut({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},n.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Ut(Ut({},t),{tooltip:Ut(Ut({},t.tooltip),{format:void 0})})},n.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return Ut(Ut({},t),{nodeClickRange:"nearest"})},n.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},n.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30},legend:{enabled:!0,position:"right",spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0,class:Tp},listeners:{}}},n.prototype.createChartConfigPerChartType=function(t){return Object.entries({cartesian:n.cartesianSeriesTypes,polar:n.polarSeriesTypes,hierarchy:n.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(r){var i=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}(r,2),o=i[0];i[1].forEach(function(s){t[s]||(t[s]=Wf({},t[o]))})}),t},n.prototype.getDefaults=function(){return Wf({},n.defaults)},n.prototype.mergeWithParentDefaults=function(t,e){return Wf(t,e)},n.fontFamily="Verdana, sans-serif",n.cartesianDefaults=Ut(Ut({},n.getChartDefaults()),{axes:{number:Ut({},n.getAxisDefaults()),log:Ut(Ut({},n.getAxisDefaults()),{base:10}),category:Ut(Ut({},n.getAxisDefaults()),{groupPaddingInner:.1,label:Ut(Ut({},n.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:Ut({},n.getAxisDefaults()),time:Ut({},n.getAxisDefaults())},series:{column:Ut(Ut({},n.getBarSeriesDefaults()),{flipXY:!1}),bar:Ut(Ut({},n.getBarSeriesDefaults()),{flipXY:!0}),line:Ut(Ut({},n.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Ut(Ut({},n.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Ut(Ut({},n.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:Ut({},n.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)"}}),area:Ut(Ut({},n.getAreaSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Ut(Ut({},n.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Ut(Ut({},n.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),n.polarDefaults=Ut(Ut({},n.getChartDefaults()),{series:{pie:Ut(Ut({},n.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:n.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),n.hierarchyDefaults=Ut(Ut({},n.getChartDefaults()),{series:{treemap:Ut(Ut({},n.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),n.defaults={cartesian:n.cartesianDefaults,groupedCategory:n.cartesianDefaults,polar:n.polarDefaults,hierarchy:n.hierarchyDefaults},n.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],n.polarSeriesTypes=["pie"],n.hierarchySeriesTypes=["treemap"],n.seriesTypes=n.cartesianSeriesTypes.concat(n.polarSeriesTypes).concat(n.hierarchySeriesTypes),n}(),TIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wi=function(){return wi=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},wi.apply(this,arguments)},nC=function(n){function t(e){return n.call(this,e)||this}return TIe(t,n),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",r="rgb(150, 150, 150)",i={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},o={label:{color:e}},a={axes:{number:wi({},i),category:wi({},i),time:wi({},i)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:r},legend:{item:{label:{color:e}},pagination:{activeStyle:{fill:e},inactiveStyle:{fill:r},highlightStyle:{fill:e},label:{color:e}}}};return this.mergeWithParentDefaults(n.prototype.getDefaults.call(this),{cartesian:wi(wi(wi({},s),a),{series:{bar:wi({},o),column:wi({},o),histogram:wi({},o)}}),groupedCategory:wi(wi(wi({},s),a),{series:{bar:wi({},o),column:wi({},o),histogram:wi({},o)}}),polar:wi(wi({},s),{series:{pie:{calloutLabel:{color:e},sectorLabel:{color:e},title:{color:e},innerLabels:{color:e}}}}),hierarchy:wi(wi({},s),{series:{treemap:{tileStroke:"white",groupStroke:"white",title:{color:e},subtitle:{color:r},labels:{large:{color:e},medium:{color:e},small:{color:e},value:{style:{color:e}}}}}})})},t}(kp),OIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),AIe={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},PIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return OIe(t,n),t.prototype.getPalette=function(){return AIe},t}(kp),MIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),IIe={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},FIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return MIe(t,n),t.prototype.getPalette=function(){return IIe},t}(nC),kIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LIe={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},NIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kIe(t,n),t.prototype.getPalette=function(){return LIe},t}(kp),BIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),GIe={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},VIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return BIe(t,n),t.prototype.getPalette=function(){return GIe},t}(nC),HIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),WIe={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},jIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return HIe(t,n),t.prototype.getPalette=function(){return WIe},t}(kp),UIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zIe={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},$Ie=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return UIe(t,n),t.prototype.getPalette=function(){return zIe},t}(nC),KIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YIe={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},qIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return KIe(t,n),t.prototype.getPalette=function(){return YIe},t}(kp),XIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZIe={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},QIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return XIe(t,n),t.prototype.getPalette=function(){return ZIe},t}(nC),rC=function(){return rC=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},rC.apply(this,arguments)},nD=new kp,kF=new nC,JIe={undefined:nD,null:nD,"ag-default":nD,"ag-material":new PIe,"ag-pastel":new NIe,"ag-solar":new jIe,"ag-vivid":new qIe},eFe={undefined:kF,null:kF,"ag-default-dark":kF,"ag-material-dark":new FIe,"ag-pastel-dark":new VIe,"ag-solar-dark":new $Ie,"ag-vivid-dark":new QIe},tFe=rC(rC({},eFe),JIe);function E9(n){var t;if(n instanceof kp)return n;var e=tFe[n];if(e)return e;for(var i,r=[];"object"==typeof n;)r.push(null!==(t=n.overrides)&&void 0!==t?t:{}),n.palette&&null==i&&(i=n.palette),n=n.baseTheme;r.reverse();var o=rC({baseTheme:n,overrides:Ao(r)},i?{palette:i}:{});return o.baseTheme||o.overrides?new(E9(o.baseTheme).constructor)(o):nD}var pv=function(){return pv=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},pv.apply(this,arguments)},S9=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nFe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},LF=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(nFe(arguments[t]));return n},D9=Symbol(),mv=Symbol(),R9=function(n){return function(t,e){var r;return t.concat.apply(t,LF(null!==(r=e[n])&&void 0!==r?r:[]))}},iC=function(n,t){return function(e,r,i,o){var a,s=t===mv||t===D9,l=null!==(a=r[n])&&void 0!==a?a:t;if(l===D9)throw new Error("AG Charts - missing value for property ["+n+"] on series config.");if(l===mv)return e;if(0===e.length&&!s)for(;e.length<o;)e=e.concat(t);return s?e.concat(l):(e[i]=l,e)}},sFe={hideInChart:{outputProp:"hideInChart",reducer:R9("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:R9("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:iC("yKey",mv),start:[]},fill:{outputProp:"fills",reducer:iC("fill",mv),start:[]},stroke:{outputProp:"strokes",reducer:iC("stroke",mv),start:[]},yName:{outputProp:"yNames",reducer:iC("yName",mv),start:[]},visible:{outputProp:"visibles",reducer:iC("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:function(n,t){return function(e,r){return"boolean"==typeof r[n]?(e??!1)||r[n]:e??undefined}}("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:function(e,r){return!1===r.showInLegend?e.concat.apply(e,LF(r.yKey?[r.yKey]:r.yKeys)):e},seriesType:["bar","column"],start:[]},stackGroup:{outputProp:"stackGroups",reducer:function(n,t){var e;return pv(pv({},n),((e={})[t.stackGroup]=LF(n[t.stackGroup]||[],[t.yKey]),e))},seriesType:["bar","column"],start:{}}};function lFe(n){var t={};return n.forEach(function(e,r){Object.keys(e).forEach(function(i){var o,a=sFe[i],s=function(){var v,_;t[i]=null!==(_=null!==(v=e[i])&&void 0!==v?v:t[i])&&void 0!==_?_:void 0};if(a){var l=a.outputProp,u=a.reducer,c=a.start,d=void 0===c?void 0:c,h=a.seriesType;if((void 0===h?[e.type]:h).includes(e.type)){var m=u(null!==(o=t[l])&&void 0!==o?o:d,e,r,n.length);void 0!==m&&(t[l]=m)}else s()}else s()})}),t}var jf=function(){return jf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},jf.apply(this,arguments)},T9=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},O9=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(NF(arguments[t]));return n};function gv(n){var t,e,r,i;return null!==(i=null!==(t=n.type)&&void 0!==t?t:null===(r=null===(e=n.series)||void 0===e?void 0:e[0])||void 0===r?void 0:r.type)&&void 0!==i?i:"line"}function Uf(n){var t=gv(n);if(null==t)return!0;if("cartesian"===t)return Dt.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0;switch(t){case"area":case"bar":case"column":case"histogram":case"line":case"scatter":return!0;default:return!1}}function rD(n){var t=gv(n);return null!=t&&("hierarchy"===t?(Dt.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0):"treemap"===t)}function iD(n){var t=gv(n);return null!=t&&("polar"===t?(Dt.warnOnce("type '"+t+"' is deprecated, use a series type instead"),!0):"pie"===t)}var A9=["line","bar","column","histogram","scatter","area","pie","treemap"];function P9(n){return null!=n&&A9.indexOf(n)>=0}function M9(n){var t,e,r=0;try{for(var i=T9(n),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof Array&&(r+=M9(a)),null!=a&&r++}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r}function id(n,t,e){for(var r=[],i=0;i<e;i++)r.push(t[(i+n.colourIndex)%t.length]);return r}var Lp={avoidDeepClone:["data"]};function cFe(n){for(var t,e,r,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s=Ao(O9(o,[n]),Lp);!function dFe(n){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(function(e){var r,i=NF(e,2),o=i[0],a=i[1];null!==(r=n.series)&&void 0!==r&&r.some(function(s){return null!=s[o]})&&Dt.warnOnce("property [series."+o+"] is deprecated, please use [series."+a+"] and multiple series instead.")})}(s);var l=s.type,u=gv(s),c=function(S){if(null!=S&&!P9(S))throw new Error("AG Charts - unknown series type: "+S+"; expected one of: "+A9.join(", "))};c(u);try{for(var d=T9(null!==(r=s.series)&&void 0!==r?r:[]),h=d.next();!h.done;h=d.next()){var p=h.value.type;null!=p&&c(p)}}catch(S){t={error:S}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}s=jf(jf({},s),{type:u});var m="line";Uf(s)?m="line":rD(s)?m="treemap":iD(s)&&(m="pie");var v={};"bar"===u?v=vIe:"scatter"===u||"histogram"===u?v=_Ie:Uf(s)&&(v=gIe);var _=function fFe(n,t){var e=function hFe(n){var t=E9(n.theme),e=t.config[gv(n)||"cartesian"],r=Object.entries(t.config).reduce(function(i,o){var a=NF(o,2),s=a[0];return i[s]=a[1].series?.[s],i},{});return{theme:t,axesThemes:e.axes||{},seriesThemes:r,cleanedTheme:Ao([e,{axes:qu,series:qu}])}}(t),o=e.axesThemes,a=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:Ao([n,e.cleanedTheme,t],Lp),axesThemes:o,seriesThemes:a}}(v,s),C=_.context,w=_.mergedOptions,b=_.axesThemes,E=_.seriesThemes;return w.series=function uFe(n){var t,e,r=[],i=n.map(function(l){return"bar"!==l.type&&"column"!==l.type||null==l.yKey||l.stacked?l:pv(pv({},l),{grouped:null==l.grouped||l.grouped})});try{for(var o=S9(function rFe(n){var t,e,r={},i=[];try{for(var o=S9(n),a=o.next();!a.done;a=o.next()){var s=a.value;if("column"===s.type||"bar"===s.type||"area"===s.type&&!0===s.stacked){var c=(s.type||"line")+"-"+s.xKey+"-"+(s.stacked?"stacked":"grouped");null==r[c]&&(r[c]=[],i.push(r[c])),r[c].push(s)}else i.push([s])}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i}(i)),a=o.next();!a.done;a=o.next()){var s=a.value;switch(s[0].type){case"column":case"bar":case"area":r.push(lFe(s));break;default:s.length>1&&Dt.warn("unexpected grouping of series type: "+s[0].type),r.push(s[0])}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}((w.series||[]).map(function(S){var O=m;S.type?O=S.type:P9(l)&&(O=l);var R=Ao([E[O]||{},jf(jf({},S),{type:O})],Lp);return"pie"===O&&function _Fe(n,t,e){e.innerLabels=Array.isArray(t.innerLabels)?t.innerLabels.map(function(r){return Ao([n.innerLabels,r])}):qu}(E.pie,S,R),R})).map(function(S){return function pFe(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=function mFe(n,t){var e={},r=n.palette,i=r.fills,o=r.strokes,s=M9(t.yKeys||[])||1;switch(t.type){case"pie":s=Math.max(i.length,o.length);case"area":case"bar":case"column":e.fills=id(n,i,s),e.strokes=id(n,o,s);break;case"histogram":e.fill=id(n,i,1)[0],e.stroke=id(n,o,1)[0];break;case"scatter":e.marker={stroke:id(n,o,1)[0],fill:id(n,i,1)[0]};break;case"line":e.stroke=id(n,i,1)[0],e.marker={stroke:id(n,o,1)[0],fill:id(n,i,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return n.colourIndex+=s,e}(n,t);return function xIe(n){return(0,bIe[n.type||"line"])(n)}(Ao(O9(e,[i,t,{stacked:qu}]),Lp))}(C,S)}),Uf(w)&&(w.axes=null===(i=w.axes)||void 0===i?void 0:i.map(function(S){var O,R=null!==(O=S.type)&&void 0!==O?O:"number";return function gFe(n,t){var e={top:qu,bottom:qu,left:qu,right:qu};if(n.crossLines){Array.isArray(n.crossLines)||(Dt.warn("axis[].crossLines should be an array."),n.crossLines=[]);var r=t.crossLines;n.crossLines=n.crossLines.map(function(o){return Ao([r,o])})}return Ao([t,{crossLines:qu},n,e],Lp)}(jf(jf({},S),{type:R}),Ao([b[R],b[R][S.position||"unknown"]||{}]))})),function vFe(n,t){US(n,function(e,r,i){if(i){var o=i._enabledFromTheme;null!=o&&delete i._enabledFromTheme,"enabled"in i&&(o||null==r.enabled&&(i.enabled=!0))}},{skip:["data","theme"]},t),US(t,function(e,r){null!=r._enabledFromTheme&&delete r._enabledFromTheme},{skip:["data","theme"]})}(s,w),w}var yFe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},CFe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},BF=function(n){var e=n.xEnd,r=n.yStart,i=n.yEnd;return n.yDirection?{x:e/2,y:r}:{x:e,y:isNaN(i)?r:(r+i)/2}},I9=function(n){var r=n.xEnd,i=n.yStart,o=n.yEnd;return n.yDirection?{x:n.xStart,y:isNaN(o)?i:(i+o)/2}:{x:r/2,y:i}},F9=function(n){var e=n.xEnd,r=n.yStart,i=n.yEnd;return n.yDirection?{x:e,y:isNaN(i)?r:(r+i)/2}:{x:e/2,y:isNaN(i)?r:i}},k9=function(n){var e=n.xStart,i=n.yStart,o=n.yEnd;return n.yDirection?{x:n.xEnd/2,y:isNaN(o)?i:o}:{x:e,y:isNaN(o)?i:(i+o)/2}},L9=function(n){var i=n.yStart;return n.yDirection?{x:n.xStart/2,y:i}:{x:n.xEnd,y:i}},N9=function(n){var e=n.xStart,r=n.yStart,i=n.yEnd;return n.yDirection?{x:e,y:isNaN(i)?r:i}:{x:e,y:r}},B9=function(n){var e=n.xEnd,r=n.yStart,i=n.yEnd;return n.yDirection?{x:e,y:r}:{x:e,y:isNaN(i)?r:i}},G9=function(n){var e=n.xStart,i=n.yStart,o=n.yEnd;return n.yDirection?{x:n.xEnd,y:isNaN(o)?i:o}:{x:e,y:isNaN(o)?i:o}},xFe={top:{c:BF},bottom:{c:k9},left:{c:I9},right:{c:F9},topLeft:{c:L9},topRight:{c:B9},bottomLeft:{c:N9},bottomRight:{c:G9},inside:{c:function(n){var e=n.yStart,r=n.yEnd;return{x:n.xEnd/2,y:isNaN(r)?e:(e+r)/2}}},insideLeft:{c:I9},insideRight:{c:F9},insideTop:{c:BF},insideBottom:{c:k9},insideTopLeft:{c:L9},insideBottomLeft:{c:N9},insideTopRight:{c:B9},insideBottomRight:{c:G9}},EFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oD=function(){return oD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},oD.apply(this,arguments)},Np=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SFe=function(n){function t(){var e=n.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return EFe(t,n),t.prototype.computeBBox=function(){return new Zn(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){var r,i=e.ctx,a=e.stats;if(this.dirty!==Ce.Xl.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(i);var s=this,l=s.x1,u=s.y1,c=s.x2,d=s.y2;l=this.align(l),u=this.align(u),c=this.align(c),d=this.align(d);var h=this,p=h.fill,m=h.opacity;if(h.isRange&&p){var C=this.fillOpacity;i.fillStyle=p,i.globalAlpha=m*C,i.beginPath(),i.moveTo(l,u),i.lineTo(c,u),i.lineTo(c,d),i.lineTo(l,d),i.closePath(),i.fill()}var w=this,b=w.stroke,E=w.strokeWidth,S=w.startLine,O=w.endLine;if((S||O)&&b&&E){var D=this,P=D.strokeOpacity,M=D.lineDash,B=D.lineDashOffset,I=D.lineCap,U=D.lineJoin;i.strokeStyle=b,i.globalAlpha=m*P,i.lineWidth=E,M&&i.setLineDash(M),B&&(i.lineDashOffset=B),I&&(i.lineCap=I),U&&(i.lineJoin=U),i.beginPath(),S&&(i.moveTo(l,u),i.lineTo(c,u)),O&&(i.moveTo(c,d),i.lineTo(l,d)),i.stroke()}null===(r=this.fillShadow)||void 0===r||r.markClean(),n.prototype.render.call(this,e)}else a&&(a.nodesSkipped+=this.nodeCount.count)},t.className="Range",t.defaultStyles=oD(oD({},zu.defaultStyles),{strokeWidth:1}),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"x1",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"y1",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"x2",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"y2",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"startLine",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"endLine",void 0),Np([(0,Ce.Js)({redraw:Ce.Xl.MINOR})],t.prototype,"isRange",void 0),t}(zu),Ni=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},od=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},V9=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(od(arguments[t]));return n},DFe=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],RFe=Mt(function(n,t){return $r(n,t,function(e){return DFe.includes(e)})},"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),TFe=Mt(function(n,t){return $r(n,t,function(e){return"range"===e||"line"===e})},"expecting a crossLine type keyword such as 'range' or 'line'"),OFe=function(){function n(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return Ni([V(_p)],n.prototype,"enabled",void 0),Ni([V(Kr)],n.prototype,"text",void 0),Ni([V(Ug)],n.prototype,"fontStyle",void 0),Ni([V(zg)],n.prototype,"fontWeight",void 0),Ni([V(et(0))],n.prototype,"fontSize",void 0),Ni([V(Kn)],n.prototype,"fontFamily",void 0),Ni([V(et(0))],n.prototype,"padding",void 0),Ni([V(ai)],n.prototype,"color",void 0),Ni([V(RFe)],n.prototype,"position",void 0),Ni([V(yr(-360,360))],n.prototype,"rotation",void 0),Ni([V(_p)],n.prototype,"parallel",void 0),n}(),AFe=function(){function n(){this.id=Pf(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new OFe,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=bn.X,this.group=new cn({name:""+this.id,layer:!0,zIndex:n.LINE_LAYER_ZINDEX}),this.crossLineRange=new SFe,this.crossLineLabel=new ca,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var t=this,r=t.crossLineRange;t.group.append([r,t.crossLineLabel]),r.pointerEvents=la.None}return n.prototype.update=function(t){if(this.enabled&&(this.group.visible=t,t)){if(!this.createNodeData())return void(this.group.visible=!1);this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)}},n.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},n.prototype.createNodeData=function(){var t,e,r,i,o,a=this,s=a.scale,c=a.direction,d=a.label.position,h=void 0===d?"top":d,p=a.clippedRange,m=a.strokeWidth,v=void 0===m?0:m;if(!s)return!1;var _=null!==(i=s.bandwidth)&&void 0!==i?i:0,C=function(de){return Math.max(Math.min.apply(Math,V9(p)),Math.min(Math.max.apply(Math,V9(p)),de))},w=od([0,a.sideFlag*a.gridLength],2),b=w[0],E=w[1],S=od(this.getRange(),2),O=S[0],R=S[1],D=od([Number(s.convert(O,{strict:!1})),s.convert(R,{strict:!1})+_],2),P=D[0],M=D[1];P=C(P),M=C(M),O=(t=od([Number(s.convert(O)),s.convert(R)+_],2))[0],R=t[1];var B=!isNaN(P)&&!isNaN(M)&&(O===P||R===M||P!==M)&&Math.abs(M-P)>0;if(B&&P!==Math.min(P,M)&&(P=(e=od([Math.min(P,M),Math.max(P,M)],2))[0],M=e[1],O=(r=od([R,O],2))[0],R=r[1]),this.isRange=B,this.startLine=!isNaN(O)&&v>0&&O===P,this.endLine=!isNaN(R)&&v>0&&R===M,!B&&!this.startLine&&!this.endLine)return!1;if(this.data=[P,M],this.label.enabled){var le=(null!==(o=xFe[h])&&void 0!==o?o:{}).c,te=(void 0===le?BF:le)({yDirection:c===bn.Y,xStart:b,xEnd:E,yStart:P,yEnd:M});this.labelPoint={x:te.x,y:te.y}}return!0},n.prototype.updateRangeNode=function(){var t,e=this,r=e.crossLineRange,i=e.sideFlag,o=e.gridLength,a=e.data,s=e.startLine,l=e.endLine,u=e.isRange,c=e.fill,d=e.fillOpacity,h=e.stroke,p=e.strokeWidth,m=e.lineDash;r.x1=0,r.x2=i*o,r.y1=a[0],r.y2=a[1],r.startLine=s,r.endLine=l,r.isRange=u,r.fill=c,r.fillOpacity=d??1,r.stroke=h,r.strokeWidth=p??1,r.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,r.lineDash=m},n.prototype.updateLabel=function(){var e=this.crossLineLabel,r=this.label;r.text&&(e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.color,e.text=r.text)},n.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,r=t.labelPoint,i=void 0===r?{}:r,o=i.x,a=void 0===o?void 0:o,s=i.y,l=void 0===s?void 0:s,u=t.label,h=u.position,p=void 0===h?"top":h,m=u.padding,v=void 0===m?0:m,_=t.direction;if(void 0!==a&&void 0!==l){var b=eF({rotation:u.rotation,parallel:u.parallel,regularFlipRotation:t.regularFlipRotation,parallelFlipRotation:t.parallelFlipRotation});e.rotation=b.autoRotation+b.labelRotation,e.textBaseline="middle",e.textAlign="center";var O=this.computeLabelBBox();if(O){var D=function(n){var t,e=n.yDirection,r=n.padding,i=void 0===r?0:r,a=n.bbox,s=e?yFe:CFe,l=null!==(t=s[n.position])&&void 0!==t?t:s.top;return{xTranslation:l.xTranslationDirection*(i+(e?a.width:a.height)/2),yTranslation:l.yTranslationDirection*(i+(e?a.height:a.width)/2)}}({yDirection:_===bn.Y,padding:v,position:p,bbox:O}),M=D.yTranslation;e.translationX=a+D.xTranslation,e.translationY=l+M}}},n.prototype.getZIndex=function(t){return void 0===t&&(t=!1),t?n.RANGE_LAYER_ZINDEX:n.LINE_LAYER_ZINDEX},n.prototype.getRange=function(){var t,e=this,a=e.scale instanceof tr,s=od(e.range??[e.value,void 0],2),l=s[0],u=s[1];return!a&&void 0===u&&(u=l),l=(t=od([Uu(l,a),Uu(u,a)],2))[0],u=t[1],a&&l===u&&(u=void 0),void 0===l&&void 0!==u&&(l=u,u=void 0),[l,u]},n.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},n.prototype.calculatePadding=function(t,e){var r,i,o,a,s,l,u=this;if(u.isRange||u.startLine||u.endLine){var p=this.computeLabelBBox(),m=p?.x,v=p?.y;if(null!=m&&null!=v){var _=null!==(r=p?.width)&&void 0!==r?r:0,C=null!==(i=p?.height)&&void 0!==i?i:0;if(!(_>e.width||C>e.height)){if(m+_>=e.x+e.width){var w=m+_-(e.x+e.width);t.right=(null!==(o=t.right)&&void 0!==o?o:0)>=w?t.right:w}else if(m<=e.x){var b=e.x-m;t.left=(null!==(a=t.left)&&void 0!==a?a:0)>=b?t.left:b}if(v+C>=e.y+e.height){var E=v+C-(e.y+e.height);t.bottom=(null!==(s=t.bottom)&&void 0!==s?s:0)>=E?t.bottom:E}else if(v<=e.y){var S=e.y-v;t.top=(null!==(l=t.top)&&void 0!==l?l:0)>=S?t.top:S}}}}},n.LINE_LAYER_ZINDEX=Ci.SERIES_CROSSLINE_LINE_ZINDEX,n.RANGE_LAYER_ZINDEX=Ci.SERIES_CROSSLINE_RANGE_ZINDEX,n.className="CrossLine",Ni([V(_p)],n.prototype,"enabled",void 0),Ni([V(TFe)],n.prototype,"type",void 0),Ni([V(WI(2))],n.prototype,"range",void 0),Ni([V(ai)],n.prototype,"fill",void 0),Ni([V(yr(0,1))],n.prototype,"fillOpacity",void 0),Ni([V(ai)],n.prototype,"stroke",void 0),Ni([V(yr())],n.prototype,"strokeWidth",void 0),Ni([V(yr(0,1))],n.prototype,"strokeOpacity",void 0),Ni([V($g)],n.prototype,"lineDash",void 0),n}(),PFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oC=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MFe=function(n){function t(e){var r=n.call(this)||this;return r.x=0,r.y=0,r.width=0,r.height=0,r.opacity=1,r.sourceImage=e,r}return PFe(t,n),t.prototype.render=function(e){var r=e.ctx,o=e.stats;if(this.dirty!==Ce.Xl.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this.sourceImage;r.globalAlpha=this.opacity,r.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),n.prototype.render.call(this,e)}else o&&o.nodesSkipped++},oC([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"x",void 0),oC([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"y",void 0),oC([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"width",void 0),oC([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"height",void 0),oC([(0,Ce.Js)({redraw:Ce.Xl.MAJOR})],t.prototype,"opacity",void 0),t}(yS),IFe=function(){function n(){var t=this;this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=function(){t.loadedSynchronously||(t.node.visible=!1,t.performLayout(t.containerWidth,t.containerHeight),t.onload&&t.onload())},this.node=new MFe(this._image),this._image.onload=this.onImageLoad}return Object.defineProperty(n.prototype,"url",{get:function(){return this._image.src},set:function(t){this._image.src=t,this.loadedSynchronously=this.complete},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"complete",{get:function(){return this._image.width>0&&this._image.height>0},enumerable:!1,configurable:!0}),n.prototype.performLayout=function(t,e){if(this.containerWidth=t,this.containerHeight=e,this.complete){var r=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,r),this.node.visible=!0,this.node.opacity=this.opacity}else this.node.visible=!1},n.prototype.calculatePosition=function(t,e){var r=this.left,i=this.right,o=this.width,a=this.top,s=this.bottom,l=this.height;return null!=r?null!=i?o=this.containerWidth-r-i:null!=o&&(i=this.containerWidth-r+o):null!=i&&null!=o&&(r=this.containerWidth-i-o),null!=a?null!=s?l=this.containerHeight-s-a:null!=l&&(s=this.containerHeight-a-l):null!=s&&null!=l&&(a=this.containerHeight-s-l),null==o?null==l?(o=t,l=e):o=Math.ceil(t*l/e):null==l&&(l=Math.ceil(e*o/t)),null==r&&(r=null==i?Math.floor((this.containerWidth-o)/2):this.containerWidth-i-o),null==a&&(a=null==s?Math.floor((this.containerHeight-l)/2):this.containerHeight-l-s),{x:r,y:a,width:o,height:l}},n}(),kFe=function(){function n(){this.destroyFns=[]}return n.prototype.destroy=function(){var t,e;try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.destroyFns),i=r.next();!i.done;i=r.next())(0,i.value)()}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},n}(),GF=[],NFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zf=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return NFe(t,n),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this,o=e.width,a=e.height;return new Zn(e.centerX-o/2,e.centerY-a/2,o,a)},t.prototype.isPointInPath=function(e,r){var i=this.transformPoint(e,r);return this.computeBBox().containsPoint(i.x,i.y)},t.prototype.updatePath=function(){var e=this,r=e.path,i=e.centerX,o=e.centerY,a=e.width,s=e.height;r.clear();var l=i-a/2,u=o-s/2,c=this.align(l),d=this.align(u),h=c+this.align(l,a),p=d+this.align(u,s);r.moveTo(c,d),r.lineTo(h,d),r.lineTo(h,p),r.lineTo(c,p),r.lineTo(c,d);var m=this.gripLineGap/2,v=this.gripLineLength/2;r.moveTo(this.align(i-m),this.align(o-v)),r.lineTo(this.align(i-m),this.align(o+v)),r.moveTo(this.align(i+m),this.align(o-v)),r.lineTo(this.align(i+m),this.align(o+v))},t.className="RangeHandle",zf([V(ql)],t.prototype,"_fill",void 0),zf([V(ql)],t.prototype,"_stroke",void 0),zf([V(et(0))],t.prototype,"_strokeWidth",void 0),zf([V(UI)],t.prototype,"_lineCap",void 0),zf([V(et(0))],t.prototype,"_width",void 0),zf([V(et(0))],t.prototype,"_gripLineGap",void 0),zf([V(et(0))],t.prototype,"_gripLineLength",void 0),zf([V(et(0))],t.prototype,"_height",void 0),t}(wp),BFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ad=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return BFe(t,n),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){var r;e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,null===(r=this.onRangeChange)||void 0===r||r.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){var r;e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,null===(r=this.onRangeChange)||void 0===r||r.call(this))},enumerable:!1,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new Zn(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,r=e.x,o=e.width,u=r+o*e.min;return new Zn(u,e.y,r+o*e.max-u,e.height)},t.prototype.updatePath=function(){var e=this,r=e.path,i=e.x,o=e.y,a=e.width,s=e.height,l=e.min,u=e.max;r.clear();var c=this.align(i),d=this.align(o),h=c+this.align(i,a),p=d+this.align(o,s);r.moveTo(c,d),r.lineTo(h,d),r.lineTo(h,p),r.lineTo(c,p),r.lineTo(c,d);var m=this.align(i+a*l),v=this.align(i+a*u);r.moveTo(m,d),r.lineTo(m,p),r.lineTo(v,p),r.lineTo(v,d),r.lineTo(m,d)},t.className="RangeMask",ad([V(ql)],t.prototype,"_stroke",void 0),ad([V(et(0))],t.prototype,"_strokeWidth",void 0),ad([V(ql)],t.prototype,"_fill",void 0),ad([V(et(0,1))],t.prototype,"_fillOpacity",void 0),ad([V(UI)],t.prototype,"_lineCap",void 0),ad([V(et(0))],t.prototype,"_width",void 0),ad([V(et(0))],t.prototype,"_height",void 0),ad([V(et())],t.prototype,"_min",void 0),ad([V(et())],t.prototype,"_max",void 0),t}(wp),VFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),aD=function(){return aD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},aD.apply(this,arguments)},HFe=function(n){function t(){var e=n.call(this,{name:"rangeSelectorGroup"})||this;return e.minHandle=new H9,e.maxHandle=new H9,e.mask=function(){var r=t.defaults,i=r.x,o=r.y,a=r.width,s=r.height,l=r.min,u=r.max,c=new GFe;c.x=i,c.y=o,c.width=a,c.height=s,c.min=l,c.max=u;var h=e.minHandle,p=e.maxHandle;return h.centerX=i,p.centerX=i+a,h.centerY=p.centerY=o+s/2,e.append([c,h,p]),c.onRangeChange=function(){var m;e.updateHandles(),null===(m=e.onRangeChange)||void 0===m||m.call(e)},c}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e.isContainerNode=!0,e}return VFe(t,n),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!1,configurable:!0}),t.prototype.updateHandles=function(){var e=this,r=e.minHandle,i=e.maxHandle,o=e.x,a=e.y,s=e.width,l=e.height,u=e.mask;r.centerX=o+s*u.min,i.centerX=o+s*u.max,r.centerY=i.centerY=a+l/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){var r=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==Ce.Xl.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this;[a.mask,a.minHandle,a.maxHandle].forEach(function(c){c.visible&&(i||c.dirty>Ce.Xl.NONE)&&(r.save(),c.render(aD(aD({},e),{ctx:r,forceRender:i})),r.restore())}),this.markClean({force:!0}),o&&o.nodesRendered++}else o&&o.nodesSkipped++},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(cn),WFe=function(){function n(t){this.rm=t}return Object.defineProperty(n.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),n}(),W9=function(){function n(t){this.rh=t}return Object.defineProperty(n.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),n}(),jFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),j9=function(n,t,e,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UFe=function(n){function t(e){var r=n.call(this)||this;return r.ctx=e,r.rs=new HFe,r.mask=new WFe(r.rs.mask),r.minHandle=new W9(r.rs.minHandle),r.maxHandle=new W9(r.rs.maxHandle),r.minHandleDragging=!1,r.maxHandleDragging=!1,r.panHandleOffset=NaN,r._enabled=!1,r.margin=10,r._visible=!0,r.rs.onRangeChange=function(){return r.ctx.zoomManager.updateZoom("navigator",{x:{min:r.rs.min,max:r.rs.max}})},[e.interactionManager.addListener("drag-start",function(i){return r.onDragStart(i)}),e.interactionManager.addListener("drag",function(i){return r.onDrag(i)}),e.interactionManager.addListener("hover",function(i){return r.onDrag(i)}),e.interactionManager.addListener("drag-end",function(){return r.onDragStop()})].forEach(function(i){return r.destroyFns.push(function(){return e.interactionManager.removeListener(i)})}),[e.layoutService.addListener("before-series",function(i){return r.layout(i)}),e.layoutService.addListener("layout-complete",function(i){return r.layoutComplete(i)})].forEach(function(i){return r.destroyFns.push(function(){return e.layoutService.removeListener(i)})}),e.scene.root.appendChild(r.rs),r.destroyFns.push(function(){var i;return null===(i=e.scene.root)||void 0===i?void 0:i.removeChild(r.rs)}),r.updateGroupVisibility(),r}return jFe(t,n),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},t.prototype.layout=function(e){var r=e.shrinkRect;return this.enabled&&(r.shrink(this.rs.height+this.margin,"bottom"),this.rs.y=r.y+r.height+this.margin),{shrinkRect:r}},t.prototype.layoutComplete=function(e){var r=e.series,i=r.rect,o=r.visible;this.enabled&&o&&(this.rs.x=i.x,this.rs.width=i.width),this.visible=o},t.prototype.update=function(){},t.prototype.onDragStart=function(e){if(this.enabled){var r=e.offsetX,i=e.offsetY,o=this.rs,a=o.minHandle,s=o.maxHandle,l=o.x,u=o.width,c=o.min,d=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(a.containsPoint(r,i)?this.minHandleDragging=!0:s.containsPoint(r,i)?this.maxHandleDragging=!0:d.containsPoint(r,i)&&(this.panHandleOffset=(r-l)/u-c))}},t.prototype.onDrag=function(e){if(this.enabled){var i=this.rs,o=this.panHandleOffset,a=i.x,l=i.width,c=i.minHandle,d=i.maxHandle,h=e.offsetX,p=e.offsetY,m=a+l*i.min,_=new Zn(m,i.y,a+l*i.max-m,i.height),C=function(){return Math.min(Math.max((h-a)/l,0),1)};if(c.containsPoint(h,p)||d.containsPoint(h,p)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):_.containsPoint(h,p)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)i.min=C();else if(this.maxHandleDragging)i.max=C();else if(!isNaN(o)){var w=i.max-i.min,b=Math.min(C()-o,1-w);b<=i.min?(i.min=b,i.max=i.min+w):(i.max=b+w,i.min=i.max-w)}}},t.prototype.onDragStop=function(){this.stopHandleDragging()},t.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},j9([V(Ir)],t.prototype,"_enabled",void 0),j9([V(et(0))],t.prototype,"margin",void 0),t}(kFe),zFe={type:"root",optionsKey:"navigator",chartTypes:["cartesian"],initialiseModule:function(n){return{instance:new UFe(n)}}};!function LFe(n){GF.push(n)}(zFe);var fa=function(){return fa=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},fa.apply(this,arguments)},aC=function(n,t,e,r){return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},sC=function(n,t){var r,i,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},$Fe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,a,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},U9=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat($Fe(arguments[t]));return n},sD=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function z9(n){if(Uf(n))return"cartesian";if(iD(n))return"polar";if(rD(n))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+n.type)}var $9=function(){function n(){}return n.create=function(t){return vv.createOrUpdate(t)},n.update=function(t,e){if(!lC.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");vv.createOrUpdate(e,t)},n.updateDelta=function(t,e){if(!lC.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return vv.updateUserDelta(t,e)},n.download=function(t,e){if(!(t instanceof lC))throw new Error("AG Charts - invalid chart reference passed");return vv.download(t,e)},n.getImageDataURL=function(t,e){if(!(t instanceof lC))throw new Error("AG Charts - invalid chart reference passed");return vv.getImageDataURL(t,e)},n}(),lC=function(){function n(t){this.chart=t}return n.isInstance=function(t){var e,r;if(t instanceof n||"AgChartInstanceProxy"===(null===(e=t.constructor)||void 0===e?void 0:e.name)&&null!=t.chart)return!0;var i=Object.keys(null===(r=t.constructor)||void 0===r?void 0:r.prototype);return!(!Object.keys(n.prototype).every(function(a){return i.includes(a)})||null==t.chart)},n.prototype.getOptions=function(){return this.chart.getOptions()},n.prototype.destroy=function(){this.chart.destroy()},n}(),vv=function(){function n(){}return n.createOrUpdate=function(t,e){var r=this;Bp(">>> createOrUpdate() user options",t);var i={};!0===n.DEBUG()&&(i.debug=!0);var o=t.overrideDevicePixelRatio;delete t.overrideDevicePixelRatio;var a=cFe(t,i),s=e?.chart;(null==s||z9(t)!==z9(s.processedOptions))&&(s=n.createChartInstance(a,o,s)),null==e?e=new lC(s):e.chart=s;var l=s;l.queuedUserOptions.push(t);var u=function(){var c=l.queuedUserOptions.indexOf(t);l.queuedUserOptions.splice(0,c)};return l.requestFactoryUpdate(function(){return aC(r,void 0,void 0,function(){var c;return sC(this,function(d){switch(d.label){case 0:return l.destroyed?[2]:null==(c=ev(l.processedOptions,a))?(u(),[2]):[4,n.updateDelta(l,c,t)];case 1:return d.sent(),u(),[2]}})})}),e},n.updateUserDelta=function(t,e){var r,o=t.chart.queuedUserOptions,a=null!==(r=o[o.length-1])&&void 0!==r?r:t.chart.userOptions,s=Ao([a,e]);Bp(">>> updateUserDelta() user delta",e),Bp("base options",a),n.createOrUpdate(s,t)},n.download=function(t,e){aC(this,void 0,void 0,function(){var o;return sC(this,function(s){switch(s.label){case 0:return[4,n.prepareResizedChart(t,e)];case 1:return(o=s.sent()).chart.scene.download(e?.fileName,e?.fileFormat),o!==t&&o.destroy(),[2]}})})},n.getImageDataURL=function(t,e){return aC(this,void 0,void 0,function(){var r,o;return sC(this,function(a){switch(a.label){case 0:return[4,n.prepareResizedChart(t,e)];case 1:return r=a.sent(),o=r.chart.scene.canvas.getDataURL(e?.fileFormat),r!==t&&r.destroy(),[2,o]}})})},n.prepareResizedChart=function(t,e){return aC(this,void 0,void 0,function(){var r,i,o,a,s,l,c,d;return sC(this,function(h){switch(h.label){case 0:return a=(i=e||{}).height,s=(r=t.chart).width,l=r.height,void 0===(o=i.width)&&void 0===a||1===r.scene.canvas.pixelRatio&&s===o&&l===a?[2,t]:(o=o??s,a=a??l,c=fa(fa({},r.userOptions),{container:document.createElement("div"),width:o,height:a,autoSize:!1,overrideDevicePixelRatio:1}),[4,(d=n.createOrUpdate(c)).chart.waitForUpdate()]);case 1:return h.sent(),[2,d]}})})},n.createChartInstance=function(t,e,r){var i=r?.destroy({keepTransferableResources:!0});if(Uf(t))return new J6(document,e,i);if(rD(t))return new n9(document,e,i);if(iD(t))return new t9(document,e,i);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},n.updateDelta=function(t,e,r){return aC(this,void 0,void 0,function(){return sC(this,function(i){switch(i.label){case 0:return null==e.type&&(e=fa(fa({},e),{type:t.processedOptions.type||gv(e)})),[4,t.awaitUpdateCompletion()];case 1:return i.sent(),t.destroyed||(Bp("applying delta",e),function KFe(n,t,e){var r,i,o,a,s=Ao([null!==(r=n.processedOptions)&&void 0!==r?r:{},t],Lp),l=function YFe(n,t){var e,r,i=function(h){return n instanceof J6&&h.chartTypes.includes("cartesian")||n instanceof t9&&h.chartTypes.includes("polar")||n instanceof n9&&h.chartTypes.includes("hierarchy")},o=!1,a=GF.filter(function(h){return"root"===h.type});try{for(var s=sD(a),l=s.next();!l.done;l=s.next()){var u=l.value,c=i(u)&&null!=t[u.optionsKey];c!==n.isModuleEnabled(u)&&(o=!0,c?n.addModule(u):n.removeModule(u))}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o}(n,s),u=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(Uf(t))u.push("axes");else if(!iD(t)&&!rD(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);t.listeners&&K9(n,t.listeners),VF(n,t,{skip:u});var c=!1;if(t.series&&t.series.length>0&&(function qFe(n,t){var e=t.series;if(e){var r=n.series.length===e.length&&n.series.every(function(i,o){var a;return i.type===(null===(a=e[o])||void 0===a?void 0:a.type)});if(r)return void n.series.forEach(function(i,o){var a,s,u=ev((null===(s=null===(a=n.processedOptions)||void 0===a?void 0:a.series)||void 0===s?void 0:s[o])||{},e[o]||{});u&&(Bp("applying series diff idx "+o,u),sd(i,u,{path:"series["+o+"]",index:o}),i.markNodeDataDirty())});n.series=function ZFe(n){var t,e,r=[],i=0;try{for(var o=sD(n||[]),a=o.next();!a.done;a=o.next()){var s=a.value,l="series["+i+++"]";switch(s.type){case"area":r.push(sd(new DMe,s,{path:l,index:i}));break;case"bar":case"column":r.push(sd(new c9,s,{path:l,index:i}));break;case"histogram":r.push(sd(new NMe,s,{path:l,index:i}));break;case"line":r.push(sd(new VMe,s,{path:l,index:i}));break;case"scatter":r.push(sd(new UMe,s,{path:l,index:i}));break;case"pie":r.push(sd(new rIe,s,{path:l,index:i}));break;case"treemap":r.push(sd(new mIe,s,{path:l,index:i}));break;default:throw new Error("AG Charts - unknown series type: "+s.type)}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}(e)}}(n,t),c=!0),Uf(t)&&t.axes){var d=function XFe(n,t){var e=t.axes;if(!e)return!1;var r=n.axes.length===e.length&&n.axes.every(function(o,a){return o.type===e[a].type});if(r){var i=n.processedOptions;if(Uf(i))return n.axes.forEach(function(o,a){var s,u=ev((null===(s=i.axes)||void 0===s?void 0:s[a])||{},e[a]);Bp("applying axis diff idx "+a,u),VF(o,u,{path:"axes["+a+"]",skip:["axes[].type"]})}),!0}return n.axes=function QFe(n,t){var e,r,i=[],o=["axes[].type"],a=n.getModuleContext(),s=0;try{for(var l=sD(t||[]),u=l.next();!u.done;u=l.next()){var c=u.value,d=void 0;switch(c.type){case"number":d=new wF(a);break;case JS.type:d=new JS(a);break;case Jg.type:d=new Jg(a);break;case ZS.type:d=new ZS(a);break;case rF.type:d=new rF(a);break;default:throw new Error("AG Charts - unknown axis type: "+c.type)}var h="axes["+s+++"]";JFe(d,c),VF(d,c,{path:h,skip:o}),i.push(d)}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return i}(n,e),!0}(n,t);d&&(c=!0)}var p=!!t.data||t.series?.some(function(C){return null!=C.data});c=c||p||!!(t.legend||t.title||t.subtitle),t.data&&(n.data=t.data),null!=t.autoSize&&(n.autoSize=t.autoSize),!(null===(i=t.legend)||void 0===i)&&i.listeners&&Object.assign(n.legend.listeners,null!==(o=t.legend.listeners)&&void 0!==o?o:{}),n.processedOptions=s,n.userOptions=Ao([null!==(a=n.userOptions)&&void 0!==a?a:{},e],Lp);var _=c||l?Wn.PROCESS_DATA:Wn.PERFORM_LAYOUT;Bp("chart update type",{updateType:Wn[_]}),n.update(_,{forceNodeDataRefresh:c})}(t,e,r)),[2]}})})},n.DEBUG=function(){var t;return null!==(t=(0,Wg.X)("agChartsDebug"))&&void 0!==t&&t},n}();function Bp(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];[!0,"opts"].includes(vv.DEBUG())&&Dt.debug.apply(Dt,U9([n],t))}function JFe(n,t){var e,r,i=!1,o=GF.filter(function(d){return"axis"===d.type});try{for(var a=sD(o),s=a.next();!s.done;s=a.next()){var l=s.value,u=null!=t[l.optionsKey];u!==n.isModuleEnabled(l)&&(i=!0,u?n.addModule(l):n.removeModule(l))}}catch(d){e={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return i}function K9(n,t){for(var e in n.clearEventListeners(),t){var r=t[e];"function"==typeof r&&n.addEventListener(e,r)}}var uC={constructors:{title:N0,subtitle:N0,footnote:N0,shadow:AF,innerCircle:tIe,"axes[].crossLines[]":AFe,"series[].innerLabels[]":eIe,"background.image":IFe},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function VF(n,t,e){var r=void 0===e?{}:e,i=r.skip,o=r.path;return j0(n,t,fa(fa(fa({},uC),{skip:i}),o?{path:o}:{}))}function sd(n,t,e){var r=void 0===e?{}:e,i=r.path,o=r.index,s=uC?.constructors||{},l={constructors:fa(fa({},s),{title:"pie"===n.type?JMe:s.title})},c=j0(n,t,fa(fa(fa(fa(fa({},uC),l),{skip:U9(["series[].type"],["series[].listeners"]||[])}),i?{path:i}:{}),{idx:o??-1})),d=t?.listeners;return null!=d&&K9(n,d),c}let eke=(()=>{class n{constructor(e){this._initialised=!1,this.options={},this.onChartReady=new Ye,this._nativeElement=e.nativeElement}ngAfterViewInit(){const e=this.applyContainerIfNotSet(this.options);this.chart=$9.create(e),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){!this._initialised||!this.chart||$9.update(this.chart,this.applyContainerIfNotSet(this.options))}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}applyContainerIfNotSet(e){return e.container?e:Object.assign(Object.assign({},e),{container:this._nativeElement})}}return n.\u0275fac=function(e){return new(e||n)(pe(kr))},n.\u0275cmp=Bn({type:n,selectors:[["ag-charts-angular"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},features:[_t],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),tke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[[]]}),n})();function nke(n,t){if(1&n&&(q(0,"option",11),se(1),Y()),2&n){const e=t.index,r=Nt();qe("value",r.m_cbo_annee.m_liste_items[e].m_id),oe(1),ht(r.m_cbo_annee.m_liste_items[e].m_lib)}}class cC extends Hl{constructor(t,e,r){super(t,e,r),this.httpClient=t,this.formBuilder=e,this.modalService=r,this.options_stt=null,this.m_cbo_type_stt=null,this.nb_ligne=0,this.tab_nom_grp=new Array(0),this.nom_type_stt="",this.tab_donnees=new Array(0),this.tab_series=new Array(0),this.id_type_stt=0,this.m_cbo_annee=null,this.m_liste_annees=new Array(0),this.formRecherche=this.formBuilder.group({m_filtre_type_stt:0,m_filtre_terr:0,m_cbo_annee:0}),this.tab_series=new Array(1),this.tab_series[0]=new oke("?"),this.options_stt={data:this.tab_donnees,title:{text:"Statistiques"},subtitle:{text:"Par ann\xe9e"},series:[{type:"column",xKey:"nom_grp",yKey:"nb",yName:"Interventions",tooltip:{renderer:HF}}]}}ngOnInit(){let t=2020,o=+(new Date).toLocaleString().substring(6,10);for(;t<=o;)this.annee_string=t.toString(),this.m_liste_annees.push(this.annee_string),t++;this.m_cbo_type_stt=new xo(this.httpClient,"type_stt"),this.m_cbo_type_stt.GenererListeStd().then(a=>{},a=>{this.MessageErreur(a)}),this.m_cbo_annee=new xo(this.httpClient,"annees"),this.m_cbo_annee.InitialiserListe(this.m_liste_annees),this.Init()}TracerStats(){try{var r,i,t=new mi(this.httpClient);0==(r=this.formRecherche.get("m_cbo_annee").value)?(i="0",this.options_stt={data:this.tab_donnees,title:{text:"Nombre d'interventions"},subtitle:{text:"Par mois travaill\xe9s depuis 2020"},series:[{type:"column",xKey:"nom_grp",yKey:"nb",yName:"Interventions",tooltip:{renderer:HF}}]}):this.options_stt={data:this.tab_donnees,title:{text:"Nombre d'interventions"},subtitle:{text:"Pour l'ann\xe9e "+(i=this.m_cbo_annee.m_liste_items[r].m_lib)},yName:"Interventions",tooltip:{renderer:HF}};var o="exec AZstats @id_prs_login@,@annee@".replace("@annee@",""+i).replace("@id_prs_login@",""+Ie.m_id_prs_login);t.LireTable(o).then(a=>{if(!(""+a).startsWith("Erreur")){var u;for(this.tab_donnees=new Array(0),this.nb_ligne=t.m_lignes.length,this.tab_donnees=new Array(this.nb_ligne),u=0;u<this.nb_ligne;u++){var d=t.m_lignes[u].RecupererVal(0),h=t.m_lignes[u].RecupererVal(1);this.tab_donnees[u]=new ike(d,h)}const p={...this.options_stt};p.data=this.tab_donnees,this.options_stt=p}},a=>{this.MessageErreur(a)})}catch(a){this.MessageErreur("Erreur: "+a.message+"\n"+a.stack)}}onAfficherStt(){this.TracerStats()}}cC.\u0275fac=function(t){return new(t||cC)(pe(eo),pe($a),pe(ki))},cC.\u0275cmp=Bn({type:cC,selectors:[["my-app"]],features:[an],decls:28,vars:14,consts:[["flex","",1,"row",2,"width","100%","height","calc(100% - 50px)"],["id","erreur"],[3,"click"],["id","info"],[3,"formGroup"],[1,"form-group"],["for","lblnom_prs",2,"width","50px"],["formControlName","m_cbo_annee","id","m_cbo_annee"],[3,"value",4,"ngFor","ngForOf"],["id","stt",2,"height","100%","z-index","98"],[2,"height","100%",3,"options"],[3,"value"]],template:function(t,e){1&t&&(q(0,"div",0)(1,"jw-modal",1)(2,"h4"),se(3,"Erreur"),Y(),q(4,"h4"),se(5),Y(),q(6,"button",2),Fe("click",function(){return e.closeModal("erreur")}),se(7,"OK"),Y()(),q(8,"jw-modal",3)(9,"h4"),se(10,"Message"),Y(),q(11,"h4"),se(12),Y(),q(13,"button",2),Fe("click",function(){return e.closeModalbis("info","OK")}),se(14,"OK"),Y(),q(15,"button",2),Fe("click",function(){return e.closeModalbis("info","Cancel")}),se(16,"Cancel"),Y()(),q(17,"div")(18,"form",4)(19,"div",5)(20,"label",6),se(21," Ann\xe9e: "),Y(),q(22,"select",7),Wr(23,nke,2,2,"option",8),Y()(),q(24,"button",2),Fe("click",function(){return e.onAfficherStt()}),se(25,"Rechercher"),Y()()(),q(26,"div",9),ji(27,"ag-charts-angular",10),Y()()),2&t&&(Ue("",e.m_classe_fonte," "),oe(5),ht(e.m_msg_err),oe(7),ht(e.m_msg_info),oe(6),qe("formGroup",e.formRecherche),oe(4),$n(e.m_classe_fonte),oe(1),qe("ngForOf",e.m_cbo_annee.m_liste_items),oe(1),Ue(" ",e.m_classe_fonte," "),oe(3),qe("options",e.options_stt))},dependencies:[Tc,Ru,Gd,Vd,Ac,kl,Du,$s,Ll,Ya,eke],encapsulation:2});class rke{constructor(t){this.nom_grp="",this.nom_grp=t}}class ike extends rke{constructor(t,e){super(t),this.nb=0,this.nb=+e}}class oke{constructor(t){this.type="column",this.xKey="nom_grp",this.yKey="",this.stacked=!0,this.yKey=t}}function HF(n){return{title:n.xValue,content:n.yValue.toFixed(0)}}const ake=[{path:"menu",component:Er},{path:"interv",component:xf},{path:"seance",component:Ef},{path:"dbdict",component:Of},{path:"fic",component:Sf},{path:"prj",component:Yc},{path:"req",component:Df},{path:"dependances",component:Rf},{path:"references/:nom_ecran",component:wf},{path:"carte",component:Tf},{path:"prj",component:Yc},{path:"stt",component:cC},{path:"**",redirectTo:"not-found"}];class _v{}_v.\u0275fac=function(t){return new(t||_v)},_v.\u0275mod=on({type:_v}),_v.\u0275inj=Dn({imports:[m3.forRoot(ake),m3]});class Y9{}class ske{}const ld="*";function q9(n,t=null){return{type:2,steps:n,options:t}}function eu(n){return{type:6,styles:n,offset:null}}function Z9(n){Promise.resolve().then(n)}class hC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Z9(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Q9{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?Z9(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const UF="!";function J9(n){return new Ae(3e3,!1)}function Wke(){return typeof window<"u"&&typeof window.document<"u"}function zF(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $f(n){switch(n.length){case 0:return new hC;case 1:return n[0];default:return new Q9(n)}}function e7(n,t,e,r,i=new Map,o=new Map){const a=[],s=[];let l=-1,u=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==l,p=h&&u||new Map;c.forEach((m,v)=>{let _=v,C=m;if("offset"!==v)switch(_=t.normalizePropertyName(_,a),C){case UF:C=i.get(v);break;case ld:C=o.get(v);break;default:C=t.normalizeStyleValue(v,_,C,a)}p.set(_,C)}),h||s.push(p),u=p,l=d}),a.length)throw function Ake(n){return new Ae(3502,!1)}();return s}function $F(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&KF(e,"start",n)));break;case"done":n.onDone(()=>r(e&&KF(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&KF(e,"destroy",n)))}}function KF(n,t,e){const o=YF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function YF(n,t,e,r,i="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Ts(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function t7(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let qF=(n,t)=>!1,n7=(n,t,e)=>[],r7=null;function XF(n){const t=n.parentNode||n.host;return t===r7?null:t}(zF()||typeof Element<"u")&&(Wke()?(r7=(()=>document.documentElement)(),qF=(n,t)=>{for(;t;){if(t===n)return!0;t=XF(t)}return!1}):qF=(n,t)=>n.contains(t),n7=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Gp=null,i7=!1;const o7=qF,a7=n7;let s7=(()=>{class n{validateStyleProperty(e){return function Uke(n){Gp||(Gp=function zke(){return typeof document<"u"?document.body:null}()||{},i7=!!Gp.style&&"WebkitAppearance"in Gp.style);let t=!0;return Gp.style&&!function jke(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Gp.style,!t&&i7&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gp.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return o7(e,r)}getParentElement(e){return XF(e)}query(e,r,i){return a7(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,a,s=[],l){return new hC(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})(),ZF=(()=>{class n{}return n.NOOP=new s7,n})();const $ke=1e3,QF="ng-enter",lD="ng-leave",uD="ng-trigger",cD=".ng-trigger",u7="ng-animating",JF=".ng-animating";function ud(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ek(parseFloat(t[1]),t[2])}function ek(n,t){return"s"===t?n*$ke:n}function dD(n,t,e){return n.hasOwnProperty("duration")?n:function Yke(n,t,e){let i,o=0,a="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push(J9()),{duration:0,delay:0,easing:""};i=ek(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=ek(parseFloat(l),s[4]));const u=s[5];u&&(a=u)}else i=n;if(!e){let s=!1,l=t.length;i<0&&(t.push(function lke(){return new Ae(3100,!1)}()),s=!0),o<0&&(t.push(function uke(){return new Ae(3101,!1)}()),s=!0),s&&t.splice(l,0,J9())}return{duration:i,delay:o,easing:a}}(n,t,e)}function pC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function c7(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Kf(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function f7(n,t,e){return e?t+":"+e+";":""}function h7(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=f7(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=f7(0,Qke(e),n.style[e]));n.setAttribute("style",t)}function Ju(n,t,e){n.style&&(t.forEach((r,i)=>{const o=nk(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),zF()&&h7(n))}function Vp(n,t){n.style&&(t.forEach((e,r)=>{const i=nk(r);n.style[i]=""}),zF()&&h7(n))}function mC(n){return Array.isArray(n)?1==n.length?n[0]:q9(n):n}const tk=new RegExp("{{\\s*(.+?)\\s*}}","g");function p7(n){let t=[];if("string"==typeof n){let e;for(;e=tk.exec(n);)t.push(e[1]);tk.lastIndex=0}return t}function gC(n,t,e){const r=n.toString(),i=r.replace(tk,(o,a)=>{let s=t[a];return null==s&&(e.push(function dke(n){return new Ae(3003,!1)}()),s=""),s.toString()});return i==r?n:i}function fD(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Zke=/-+([a-z0-9])/g;function nk(n){return n.replace(Zke,(...t)=>t[1].toUpperCase())}function Qke(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Os(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function fke(n){return new Ae(3004,!1)}()}}function m7(n,t){return window.getComputedStyle(n)[t]}const mD="*";function iLe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function oLe(n,t,e){if(":"==n[0]){const l=function aLe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Dke(n){return new Ae(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function Ske(n){return new Ae(3015,!1)}()),t;const i=r[1],o=r[2],a=r[3];t.push(g7(i,a));"<"==o[0]&&!(i==mD&&a==mD)&&t.push(g7(a,i))}(r,e,t)):e.push(n),e}const gD=new Set(["true","1"]),vD=new Set(["false","0"]);function g7(n,t){const e=gD.has(n)||vD.has(n),r=gD.has(t)||vD.has(t);return(i,o)=>{let a=n==mD||n==i,s=t==mD||t==o;return!a&&e&&"boolean"==typeof i&&(a=i?gD.has(n):vD.has(n)),!s&&r&&"boolean"==typeof o&&(s=o?gD.has(t):vD.has(t)),a&&s}}const sLe=new RegExp("s*:selfs*,?","g");function rk(n,t,e,r){return new lLe(n).build(t,e,r)}class lLe{constructor(t){this._driver=t}build(t,e,r){const i=new dLe(e);return this._resetContextStyleTimingState(i),Os(this,mC(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function pke(){return new Ae(3006,!1)}()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),0==s.type){const l=s,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,e))}),l.name=u}else if(1==s.type){const l=this.visitTransition(s,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push(function mke(){return new Ae(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=i||{};r.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{p7(l).forEach(u=>{a.hasOwnProperty(u)||o.add(u)})})}),o.size&&(fD(o.values()),e.errors.push(function gke(n,t){return new Ae(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Os(this,mC(t.animation),e);return{type:1,matchers:iLe(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Hp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Os(this,r,e)),options:Hp(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(a=>{e.currentTime=r;const s=Os(this,a,e);return i=Math.max(i,e.currentTime),s});return e.currentTime=i,{type:3,steps:o,options:Hp(t.options)}}visitAnimate(t,e){const r=function hLe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ik(dD(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ik(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=dD(e,t);return ik(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:eu({});if(5==o.type)i=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;const u={};r.easing&&(u.easing=r.easing),a=eu(u)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(a,e);l.isEmptyStep=s,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of i)"string"==typeof s?s===ld?r.push(s):e.errors.push(new Ae(3002,!1)):r.push(c7(s));let o=!1,a=null;return r.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let l of s.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{const u=e.collectedStyles.get(e.currentQuerySelector),c=u.get(l);let d=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(e.errors.push(function _ke(n,t,e,r,i){return new Ae(3010,!1)}()),d=!1),o=c.startTime),d&&u.set(l,{startTime:o,endTime:i}),e.options&&function Xke(n,t,e){const r=t.params||{},i=p7(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function cke(n){return new Ae(3001,!1)}())})}(s,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function yke(){return new Ae(3011,!1)}()),r;let o=0;const a=[];let s=!1,l=!1,u=0;const c=t.steps.map(C=>{const w=this._makeStyleAst(C,e);let b=null!=w.offset?w.offset:function fLe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(w.styles),E=0;return null!=b&&(o++,E=w.offset=b),l=l||E<0||E>1,s=s||E<u,u=E,a.push(E),w});l&&e.errors.push(function Cke(){return new Ae(3012,!1)}()),s&&e.errors.push(function wke(){return new Ae(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function bke(){return new Ae(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,m=e.currentTime,v=e.currentAnimateTimings,_=v.duration;return c.forEach((C,w)=>{const b=h>0?w==p?1:h*w:a[w],E=b*_;e.currentTime=m+v.delay+E,v.duration=E,this._validateStyleAst(C,e),C.offset=b,r.styles.push(C)}),r}visitReference(t,e){return{type:8,animation:Os(this,mC(t.animation),e),options:Hp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Hp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Hp(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function uLe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(sLe,"")),n=n.replace(/@\*/g,cD).replace(/@\w+/g,e=>cD+"-"+e.slice(1)).replace(/:animating/g,JF),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Ts(e.collectedStyles,e.currentQuerySelector,new Map);const s=Os(this,mC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Hp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xke(){return new Ae(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:dD(t.timings,e.errors,!0);return{type:12,animation:Os(this,mC(t.animation),e),timings:r,options:null}}}class dLe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hp(n){return n?(n=pC(n)).params&&(n.params=function cLe(n){return n?pC(n):null}(n.params)):n={},n}function ik(n,t,e){return{duration:n,delay:t,easing:e}}function ok(n,t,e,r,i,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}class _D{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gLe=new RegExp(":enter","g"),_Le=new RegExp(":leave","g");function ak(n,t,e,r,i,o=new Map,a=new Map,s,l,u=[]){return(new yLe).buildKeyframes(n,t,e,r,i,o,a,s,l,u)}class yLe{buildKeyframes(t,e,r,i,o,a,s,l,u,c=[]){u=u||new _D;const d=new sk(t,e,u,i,o,c,[]);d.options=l;const h=l.delay?ud(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),Os(this,r,d);const p=d.timelines.filter(m=>m.containsAnimation());if(p.length&&s.size){let m;for(let v=p.length-1;v>=0;v--){const _=p[v];if(_.element===e){m=_;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([s],null,d.errors,l)}return p.length?p.map(m=>m.buildKeyframes()):[ok(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const a="number"==typeof o?o:ud(gC(o,i?.params??{},e.errors));r.delayNextStep(a)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const a=null!=r.duration?ud(r.duration):null,s=null!=r.delay?ud(r.delay):null;return 0!==a&&t.forEach(l=>{const u=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Os(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yD);const a=ud(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Os(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ud(t.options.delay):0;t.steps.forEach(a=>{const s=e.createSubContext(t.options);o&&s.delayNextStep(o),Os(this,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return dD(e.params?gC(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,s=e.createSubContext().currentTimeline;s.easing=r.easing,t.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ud(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yD);let a=r;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((u,c)=>{e.currentQueryIndex=c;const d=e.createSubContext(t.options,u);o&&d.delayNextStep(o),u===e.element&&(l=d.currentTimeline),Os(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=r.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Os(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const yD={};class sk{constructor(t,e,r,i,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new CD(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=ud(r.duration)),null!=r.delay&&(i.delay=ud(r.delay));const o=r.params;if(o){let a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=gC(o[s],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new sk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=yD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new CLe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,a){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(gLe,"."+this._enterClassName)).replace(_Le,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),s.push(...u)}return!o&&0==s.length&&a.push(function Eke(n){return new Ae(3014,!1)}()),s}}class CD{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new CD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||ld),this._currentKeyframe.set(e,ld);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},a=function wLe(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,ld)}else Kf(i,e)}),e}(t,this._globalTimelineStyles);for(let[s,l]of a){const u=gC(l,o,r);this._pendingStyles.set(s,u),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ld),this._updateStyle(s,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,l)=>{const u=Kf(s,new Map,this._backFill);u.forEach((c,d)=>{c===UF?t.add(d):c===ld&&e.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const o=t.size?fD(t.values()):[],a=e.size?fD(e.values()):[];if(r){const s=i[0],l=new Map(s);s.set("offset",0),l.set("offset",1),i=[s,l]}return ok(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}class CLe extends CD{constructor(t,e,r,i,o,a,s=!1){super(t,e,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=r+e,s=e/a,l=Kf(t[0]);l.set("offset",0),o.push(l);const u=Kf(t[0]);u.set("offset",y7(s)),o.push(u);const c=t.length-1;for(let d=1;d<=c;d++){let h=Kf(t[d]);const p=h.get("offset");h.set("offset",y7((e+p*r)/a)),o.push(h)}r=a,e=0,i="",t=o}return ok(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function y7(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class lk{}const bLe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xLe extends lk{normalizePropertyName(t,e){return nk(t)}normalizeStyleValue(t,e,r,i){let o="";const a=r.toString().trim();if(bLe.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const s=r.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push(function hke(n,t){return new Ae(3005,!1)}())}return a+o}}function C7(n,t,e,r,i,o,a,s,l,u,c,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const uk={};class w7{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function ELe(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,a,s,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||uk,m=this.buildStyles(r,s&&s.params||uk,d),v=l&&l.params||uk,_=this.buildStyles(i,v,d),C=new Set,w=new Map,b=new Map,E="void"===i,S={params:SLe(v,h),delay:this.ast.options?.delay},O=c?[]:ak(t,e,this.ast.animation,o,a,m,_,S,u,d);let R=0;if(O.forEach(P=>{R=Math.max(P.duration+P.delay,R)}),d.length)return C7(e,this._triggerName,r,i,E,m,_,[],[],w,b,R,d);O.forEach(P=>{const M=P.element,B=Ts(w,M,new Set);P.preStyleProps.forEach(U=>B.add(U));const I=Ts(b,M,new Set);P.postStyleProps.forEach(U=>I.add(U)),M!==e&&C.add(M)});const D=fD(C.values());return C7(e,this._triggerName,r,i,E,m,_,O,D,w,b,R)}}function SLe(n,t){const e=pC(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class DLe{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=pC(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(i[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=gC(a,i,e));const l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),r.set(s,a)})}),r}}class TLe{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new DLe(i.style,i.options&&i.options.params||{},r))}),b7(this.states,"true","1"),b7(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new w7(t,i,this.states))}),this.fallbackTransition=function OLe(n,t,e){return new w7(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(a=>a.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function b7(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ALe=new _D;class PLe{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],i=[],o=rk(this._driver,e,r,i);if(r.length)throw function Pke(n){return new Ae(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=e7(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let a;const s=new Map;if(o?(a=ak(this._driver,e,o,QF,lD,new Map,new Map,r,ALe,i),a.forEach(c=>{const d=Ts(s,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Mke(){return new Ae(3300,!1)}()),a=[]),i.length)throw function Ike(n){return new Ae(3504,!1)}();s.forEach((c,d)=>{c.forEach((h,p)=>{c.set(p,this._driver.computeStyle(d,p,ld))})});const u=$f(a.map(c=>{const d=s.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Fke(n){return new Ae(3301,!1)}();return e}listen(t,e,r,i){const o=YF(e,"","","");return $F(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const x7="ng-animate-queued",ck="ng-animate-disabled",LLe=[],E7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NLe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cl="__ng_removed";class dk{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function HLe(n){return n??null}(r?t.value:t),r){const o=pC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const vC="void",fk=new dk(vC);class BLe{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dl(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function kke(n,t){return new Ae(3302,!1)}();if(null==r||0==r.length)throw function Lke(n){return new Ae(3303,!1)}();if(!function WLe(n){return"start"==n||"done"==n}(r))throw function Nke(n,t){return new Ae(3400,!1)}();const o=Ts(this._elementListeners,t,[]),a={name:e,phase:r,callback:i};o.push(a);const s=Ts(this._engine.statesByElement,t,new Map);return s.has(e)||(dl(t,uD),dl(t,uD+"-"+e),s.set(e,fk)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Bke(n){return new Ae(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),a=new hk(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(dl(t,uD),dl(t,uD+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e);const u=new dk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s.set(e,u),l||(l=fk),u.value!==vC&&l.value===u.value){if(!function zLe(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,u.params)){const v=[],_=o.matchStyles(l.value,l.params,v),C=o.matchStyles(u.value,u.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Vp(t,_),Ju(t,C)})}return}const h=Ts(this._engine.playersByElement,t,[]);h.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let p=o.matchTransition(l.value,u.value,t,u.params),m=!1;if(!p){if(!i)return;p=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:u,player:a,isFallbackTransition:m}),m||(dl(t,x7),a.onStart(()=>{yv(t,x7)})),a.onDone(()=>{let v=this.players.indexOf(a);v>=0&&this.players.splice(v,1);const _=this._engine.playersByElement.get(t);if(_){let C=_.indexOf(a);C>=0&&_.splice(C,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,cD,!0);r.forEach(i=>{if(i[cl])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(a=>a.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const s=[];if(o.forEach((l,u)=>{if(a.set(u,l.value),this._triggers.has(u)){const c=this.trigger(t,u,vC,i);c&&s.push(c)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),r&&$f(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const a=o.name;if(i.has(a))return;i.add(a);const l=this._triggers.get(a).fallbackTransition,u=r.get(a)||fk,c=new dk(vC),d=new hk(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let a=t;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[cl];(!o||o===E7)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){dl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==r.triggerName){const l=YF(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,$F(r.player,s.phase,l,s.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class GLe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new BLe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){const l=i.get(s);if(l){const u=r.indexOf(l);r.splice(u+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(wD(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!wD(e))return;const o=e[cl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dl(t,ck)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yv(t,ck))}removeNode(t,e,r,i){if(wD(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[cl]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return wD(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,cD,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,JF,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $f(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[cl];if(e&&e.setForRemoval){if(t[cl]=E7,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ck)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)dl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?$f(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function Gke(n){return new Ae(3402,!1)}()}_flushAnimations(t,e){const r=new _D,i=[],o=new Map,a=[],s=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(te=>{c.add(te);const J=this.driver.query(te,".ng-animate-queued",!0);for(let ce=0;ce<J.length;ce++)c.add(J[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=R7(h,this.collectedEnterElements),m=new Map;let v=0;p.forEach((te,J)=>{const ce=QF+v++;m.set(J,ce),te.forEach(de=>dl(de,ce))});const _=[],C=new Set,w=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){const J=this.collectedLeaveElements[te],ce=J[cl];ce&&ce.setForRemoval&&(_.push(J),C.add(J),ce.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(de=>C.add(de)):w.add(J))}const b=new Map,E=R7(h,Array.from(C));E.forEach((te,J)=>{const ce=lD+v++;b.set(J,ce),te.forEach(de=>dl(de,ce))}),t.push(()=>{p.forEach((te,J)=>{const ce=m.get(J);te.forEach(de=>yv(de,ce))}),E.forEach((te,J)=>{const ce=b.get(J);te.forEach(de=>yv(de,ce))}),_.forEach(te=>{this.processLeaveNode(te)})});const S=[],O=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(e).forEach(ce=>{const de=ce.player,_e=ce.element;if(S.push(de),this.collectedEnterElements.length){const Ee=_e[cl];if(Ee&&Ee.setForMove){if(Ee.previousTriggersValues&&Ee.previousTriggersValues.has(ce.triggerName)){const Ve=Ee.previousTriggersValues.get(ce.triggerName),he=this.statesByElement.get(ce.element);if(he&&he.has(ce.triggerName)){const ye=he.get(ce.triggerName);ye.value=Ve,he.set(ce.triggerName,ye)}}return void de.destroy()}}const ue=!d||!this.driver.containsElement(d,_e),G=b.get(_e),re=m.get(_e),W=this._buildInstruction(ce,r,re,G,ue);if(W.errors&&W.errors.length)return void O.push(W);if(ue)return de.onStart(()=>Vp(_e,W.fromStyles)),de.onDestroy(()=>Ju(_e,W.toStyles)),void i.push(de);if(ce.isFallbackTransition)return de.onStart(()=>Vp(_e,W.fromStyles)),de.onDestroy(()=>Ju(_e,W.toStyles)),void i.push(de);const X=[];W.timelines.forEach(Ee=>{Ee.stretchStartingKeyframe=!0,this.disabledNodes.has(Ee.element)||X.push(Ee)}),W.timelines=X,r.append(_e,W.timelines),a.push({instruction:W,player:de,element:_e}),W.queriedElements.forEach(Ee=>Ts(s,Ee,[]).push(de)),W.preStyleProps.forEach((Ee,Ve)=>{if(Ee.size){let he=l.get(Ve);he||l.set(Ve,he=new Set),Ee.forEach((ye,st)=>he.add(st))}}),W.postStyleProps.forEach((Ee,Ve)=>{let he=u.get(Ve);he||u.set(Ve,he=new Set),Ee.forEach((ye,st)=>he.add(st))})});if(O.length){const te=[];O.forEach(J=>{te.push(function Vke(n,t){return new Ae(3505,!1)}())}),S.forEach(J=>J.destroy()),this.reportError(te)}const R=new Map,D=new Map;a.forEach(te=>{const J=te.element;r.has(J)&&(D.set(J,J),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,R))}),i.forEach(te=>{const J=te.element;this._getPreviousPlayers(J,!1,te.namespaceId,te.triggerName,null).forEach(de=>{Ts(R,J,[]).push(de),de.destroy()})});const P=_.filter(te=>O7(te,l,u)),M=new Map;D7(M,this.driver,w,u,ld).forEach(te=>{O7(te,l,u)&&P.push(te)});const I=new Map;p.forEach((te,J)=>{D7(I,this.driver,new Set(te),l,UF)}),P.forEach(te=>{const J=M.get(te),ce=I.get(te);M.set(te,new Map([...Array.from(J?.entries()??[]),...Array.from(ce?.entries()??[])]))});const U=[],le=[],ie={};a.forEach(te=>{const{element:J,player:ce,instruction:de}=te;if(r.has(J)){if(c.has(J))return ce.onDestroy(()=>Ju(J,de.toStyles)),ce.disabled=!0,ce.overrideTotalTime(de.totalTime),void i.push(ce);let _e=ie;if(D.size>1){let G=J;const re=[];for(;G=G.parentNode;){const W=D.get(G);if(W){_e=W;break}re.push(G)}re.forEach(W=>D.set(W,_e))}const ue=this._buildAnimation(ce.namespaceId,de,R,o,I,M);if(ce.setRealPlayer(ue),_e===ie)U.push(ce);else{const G=this.playersByElement.get(_e);G&&G.length&&(ce.parentPlayer=$f(G)),i.push(ce)}}else Vp(J,de.fromStyles),ce.onDestroy(()=>Ju(J,de.toStyles)),le.push(ce),c.has(J)&&i.push(ce)}),le.forEach(te=>{const J=o.get(te.element);if(J&&J.length){const ce=$f(J);te.setRealPlayer(ce)}}),i.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<_.length;te++){const J=_[te],ce=J[cl];if(yv(J,lD),ce&&ce.hasAnimation)continue;let de=[];if(s.size){let ue=s.get(J);ue&&ue.length&&de.push(...ue);let G=this.driver.query(J,JF,!0);for(let re=0;re<G.length;re++){let W=s.get(G[re]);W&&W.length&&de.push(...W)}}const _e=de.filter(ue=>!ue.destroyed);_e.length?jLe(this,J,_e):this.processLeaveNode(J)}return _.length=0,U.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();const J=this.players.indexOf(te);this.players.splice(J,1)}),te.play()}),U}elementContainsData(t,e){let r=!1;const i=e[cl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let a=[];if(e){const s=this.playersByQueriedElement.get(t);s&&(a=s)}else{const s=this.playersByElement.get(t);if(s){const l=!o||o==vC;s.forEach(u=>{u.queued||!l&&u.triggerName!=i||a.push(u)})}}return(r||i)&&(a=a.filter(s=>!(r&&r!=s.namespaceId||i&&i!=s.triggerName))),a}_beforeAnimationBuild(t,e,r){const o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,c=u!==o,d=Ts(r,u,[]);this._getPreviousPlayers(u,c,a,s,e.toState).forEach(p=>{const m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),d.push(p)})}Vp(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,a){const s=e.triggerName,l=e.element,u=[],c=new Set,d=new Set,h=e.timelines.map(m=>{const v=m.element;c.add(v);const _=v[cl];if(_&&_.removedBeforeQueried)return new hC(m.duration,m.delay);const C=v!==l,w=function ULe(n){const t=[];return T7(n,t),t}((r.get(v)||LLe).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===v),b=o.get(v),E=a.get(v),S=e7(0,this._normalizer,0,m.keyframes,b,E),O=this._buildPlayer(m,S,w);if(m.subTimeline&&i&&d.add(v),C){const R=new hk(t,s,v);R.setRealPlayer(O),u.push(R)}return O});u.forEach(m=>{Ts(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function VLe(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>dl(m,u7));const p=$f(h);return p.onDestroy(()=>{c.forEach(m=>yv(m,u7)),Ju(l,e.toStyles)}),d.forEach(m=>{Ts(i,m,[]).push(p)}),p}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new hC(t.duration,t.delay)}}class hk{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new hC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>$F(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ts(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function wD(n){return n&&1===n.nodeType}function S7(n,t){const e=n.style.display;return n.style.display=t??"none",e}function D7(n,t,e,r,i){const o=[];e.forEach(l=>o.push(S7(l)));const a=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=t.computeStyle(u,d,i);c.set(d,h),(!h||0==h.length)&&(u[cl]=NLe,a.push(u))}),n.set(u,c)});let s=0;return e.forEach(l=>S7(l,o[s++])),a}function R7(n,t){const e=new Map;if(n.forEach(s=>e.set(s,[])),0==t.length)return e;const r=1,i=new Set(t),o=new Map;function a(s){if(!s)return r;let l=o.get(s);if(l)return l;const u=s.parentNode;return l=e.has(u)?u:i.has(u)?r:a(u),o.set(s,l),l}return t.forEach(s=>{const l=a(s);l!==r&&e.get(l).push(s)}),e}function dl(n,t){n.classList?.add(t)}function yv(n,t){n.classList?.remove(t)}function jLe(n,t,e){$f(e).onDone(()=>n.processLeaveNode(t))}function T7(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Q9?T7(r.players,t):t.push(r)}}function O7(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class bD{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new GLe(t,e,r),this._timelineEngine=new PLe(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const a=t+"-"+i;let s=this._triggerCache[a];if(!s){const l=[],u=[],c=rk(this._driver,o,l,u);if(l.length)throw function Oke(n,t){return new Ae(3404,!1)}();s=function RLe(n,t,e){return new TLe(n,t,e)}(i,c,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,a]=t7(r);this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[a,s]=t7(r);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let KLe=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ju(this._element,this._initialStyles),this._endStyles&&(Ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vp(this._element,this._endStyles),this._endStyles=null),Ju(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function pk(n){let t=null;return n.forEach((e,r)=>{(function YLe(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class A7{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:m7(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class qLe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return o7(t,e)}getParentElement(t){return XF(t)}query(t,e,r){return a7(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,a=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const u=new Map,c=a.filter(p=>p instanceof A7);(function Jke(n,t){return 0===n||0===t})(r,i)&&c.forEach(p=>{p.currentSnapshot.forEach((m,v)=>u.set(v,m))});let d=function qke(n){return n.length?n[0]instanceof Map?n:n.map(t=>c7(t)):[]}(e).map(p=>Kf(p));d=function eLe(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,a)=>{r.has(a)||i.push(a),r.set(a,o)}),i.length)for(let o=1;o<t.length;o++){let a=t[o];i.forEach(s=>a.set(s,m7(n,s)))}}return t}(t,d,u);const h=function $Le(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=pk(t[0]),t.length>1&&(r=pk(t[t.length-1]))):t instanceof Map&&(e=pk(t)),e||r?new KLe(n,e,r):null}(t,d);return new A7(t,d,l,h)}}let XLe=(()=>{class n extends Y9{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:rs.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?q9(e):e;return P7(this._renderer,null,r,"register",[i]),new ZLe(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Te(l_),Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class ZLe extends ske{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new QLe(this._id,t,e||{},this._renderer)}}class QLe{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return P7(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function P7(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const M7="@.disabled";let JLe=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const s=a?.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(o);return c||(c=new I7("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,c)),c}const a=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(a,s,e,c.name,c)};return r.data.animation.forEach(l),new eNe(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Te(l_),Te(bD),Te(Pn))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();class I7{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==M7?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class eNe extends I7{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==M7?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function tNe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function nNe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,r,s)})}return this.delegate.listen(t,e,r)}}let rNe=(()=>{class n extends bD{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Te(rr),Te(ZF),Te(lk),Te(Vm))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const F7=[{provide:Y9,useClass:XLe},{provide:lk,useFactory:function iNe(){return new xLe}},{provide:bD,useClass:rNe},{provide:l_,useFactory:function oNe(n,t,e){return new JLe(n,t,e)},deps:[Vb,bD,Pn]}],mk=[{provide:ZF,useFactory:()=>new qLe},{provide:xO,useValue:"BrowserAnimations"},...F7],k7=[{provide:ZF,useClass:s7},{provide:xO,useValue:"NoopAnimations"},...F7];let gk,aNe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?k7:mk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:mk,imports:[JV]}),n})();try{gk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gk=!1}let _C,ED,Wp,cd=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ste(n){return n===OV}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Te(vb))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yC(n){return function sNe(){if(null==_C&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_C=!0}))}finally{_C=_C||!1}return _C}()?n:!!n.capture}function N7(){if(null==Wp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wp=!1,Wp;if("scrollBehavior"in document.documentElement.style)Wp=!0;else{const n=Element.prototype.scrollTo;Wp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wp}function CC(){if("object"!=typeof document||!document)return 0;if(null==ED){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),ED=0,0===n.scrollLeft&&(n.scrollLeft=1,ED=0===n.scrollLeft?1:2),n.remove()}return ED}function _k(n){return n.composedPath?n.composedPath()[0]:n.target}function yk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let mNe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[mNe]}),n})();function SD(n){return Array.isArray(n)?n:[n]}function Bi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ck(n){return n instanceof kr?n.nativeElement:n}class _Ne extends wr{constructor(t,e){super()}schedule(t,e=0){return this}}const DD={setInterval(n,t,...e){const{delegate:r}=DD;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=DD;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class wk extends _Ne{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return DD.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&DD.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,On(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const V7={now:()=>(V7.delegate||Date).now(),delegate:void 0};class wC{constructor(t,e=wC.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}wC.now=V7.now;class bk extends wC{constructor(t,e=wC.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const xk=new bk(wk),yNe=xk;function RD(n){return Jn((t,e)=>{Bo(n).subscribe(qn(e,()=>e.complete(),Yr)),!e.closed&&t.subscribe(e)})}const H7=new Set;let wv,wNe=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xNe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function bNe(n){if(!H7.has(n))try{wv||(wv=document.createElement("style"),wv.setAttribute("type","text/css"),document.head.appendChild(wv)),wv.sheet&&(wv.sheet.insertRule(`@media ${n} {body{ }}`,0),H7.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(Te(cd))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xNe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ENe=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Yt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return W7(SD(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=c1(W7(SD(e)).map(a=>this._registerQuery(a).observable));return o=Wb(o.pipe(xh(1)),o.pipe(function vNe(n){return Il((t,e)=>n<=e)}(1),function CNe(n,t=xk){return Jn((e,r)=>{let i=null,o=null,a=null;const s=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=a+n,c=t.now();if(c<u)return i=this.schedule(void 0,u-c),void r.add(i);s()}e.subscribe(qn(r,u=>{o=u,a=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(jt(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{s.matches=s.matches||l,s.breakpoints[u]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new nr(a=>{const s=l=>this._zone.run(()=>a.next(l));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(f1(r),jt(({matches:a})=>({query:e,matches:a})),RD(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(Te(wNe),Te(Pn))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W7(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const $7="cdk-high-contrast-black-on-white",K7="cdk-high-contrast-white-on-black",Ek="cdk-high-contrast-active";let Y7=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Lt(ENe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ek,$7,K7),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Ek,$7):2===r&&e.add(Ek,K7)}}}return n.\u0275fac=function(e){return new(e||n)(Te(cd),Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kNe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Te(Y7))},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[B7]}),n})();const LNe=["addListener","removeListener"],NNe=["addEventListener","removeEventListener"],BNe=["on","off"];function TD(n,t,e,r){if(dn(e)&&(r=e,e=void 0),r)return TD(n,t,e).pipe(u1(r));const[i,o]=function HNe(n){return dn(n.addEventListener)&&dn(n.removeEventListener)}(n)?NNe.map(a=>s=>n[a](t,s,e)):function GNe(n){return dn(n.addListener)&&dn(n.removeListener)}(n)?LNe.map(q7(n,t)):function VNe(n){return dn(n.on)&&dn(n.off)}(n)?BNe.map(q7(n,t)):[];if(!i&&Zp(n))return Rr(a=>TD(a,t,e))(Bo(n));if(!i)throw new TypeError("Invalid event target");return new nr(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return i(s),()=>o(s)})}function q7(n,t){return e=>r=>n[e](t,r)}const bC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=bC;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new wr(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=bC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=bC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},UNe=new class jNe extends bk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class WNe extends wk{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=bC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(bC.cancelAnimationFrame(e),t._scheduled=void 0)}});let Sk,zNe=1;const OD={};function X7(n){return n in OD&&(delete OD[n],!0)}const $Ne={setImmediate(n){const t=zNe++;return OD[t]=!0,Sk||(Sk=Promise.resolve()),Sk.then(()=>X7(t)&&n()),t},clearImmediate(n){X7(n)}},{setImmediate:KNe,clearImmediate:YNe}=$Ne,AD={setImmediate(...n){const{delegate:t}=AD;return(t?.setImmediate||KNe)(...n)},clearImmediate(n){const{delegate:t}=AD;return(t?.clearImmediate||YNe)(n)},delegate:void 0},ZNe=new class XNe extends bk{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class qNe extends wk{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=AD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(AD.clearImmediate(e),t._scheduled=void 0)}});function Dk(n,t=xk){return function QNe(n){return Jn((t,e)=>{let r=!1,i=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const u=i;i=null,e.next(u)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(qn(e,u=>{r=!0,i=u,o||Bo(n(u)).subscribe(o=qn(e,s,l))},()=>{a=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function e2e(n=0,t,e=yNe){let r=-1;return null!=t&&($C(t)?e=t:r=t),new nr(i=>{let o=function JNe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t))}const t2e=new tt("cdk-dir-doc",{providedIn:"root",factory:function n2e(){return Lt(rr)}}),r2e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let PD=(()=>{class n{constructor(e){this.value="ltr",this.change=new Ye,e&&(this.value=function i2e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?r2e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Te(t2e,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();const o2e=["contentWrapper"],a2e=["*"],s2e=new tt("VIRTUAL_SCROLL_STRATEGY");let MD=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new Yt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nr(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(Dk(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Il(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Ck(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>TD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Te(Pn),Te(cd),Te(rr,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z7=(()=>{class n{constructor(e,r,i,o){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Yt,this._elementScrolled=new nr(a=>this.ngZone.runOutsideAngular(()=>TD(this.elementRef.nativeElement,"scroll").pipe(RD(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=CC()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==CC()?e.left=e.right:1==CC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;N7()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?i:r:"end"==e&&(e=a?r:i),a&&2==CC()?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==CC()?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(MD),pe(Pn),pe(PD,8))},n.\u0275dir=bt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Rk=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new Yt,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Dk(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Te(cd),Te(Pn),Te(rr,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q7=new tt("VIRTUAL_SCROLLABLE");let c2e=(()=>{class n extends Z7{constructor(e,r,i,o){super(e,r,i,o)}measureViewportSize(e){const r=this.elementRef.nativeElement;return"horizontal"===e?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(MD),pe(Pn),pe(PD,8))},n.\u0275dir=bt({type:n,features:[an]}),n})();const f2e=typeof requestAnimationFrame<"u"?UNe:ZNe;let h2e=(()=>{class n extends c2e{constructor(e,r,i,o,a,s,l,u){super(e,s,i,a),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=u,this._platform=Lt(cd),this._detachedSubject=new Yt,this._renderedRangeSubject=new Yt,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new nr(c=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=wr.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function G7(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(f1(null),Dk(0,f2e)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(RD(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function d2e(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){e=this.appendOnly&&"to-start"===r?0:e;const o="horizontal"==this.orientation,a=o?"X":"Y";let l=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===r&&(l+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollable.scrollTo(i)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let r;const i="left",o="right",a="rtl"==this.dir?.value;r="start"==e?a?o:i:"end"==e?a?i:o:e||("horizontal"===this.orientation?"left":"top");const s=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-s}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(pe(kr),pe(R_),pe(Pn),pe(s2e,8),pe(PD,8),pe(MD),pe(Rk),pe(Q7,8))},n.\u0275cmp=Bn({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&E_(o2e,7),2&e){let i;Dd(i=Rd())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&m_("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[gr([{provide:Z7,useFactory:(t,e)=>t||e,deps:[[new gc,new Fw(Q7)],n]}]),an,lO],ngContentSelectors:a2e,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(KT(),q(0,"div",0,1),YT(2),Y(),ji(3,"div",2)),2&e&&(oe(3),QT("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})(),J7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[xC,Tk,h2e,xC,Tk]}),n})();class Ok{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class p2e extends Ok{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class m2e extends Ok{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class g2e extends Ok{constructor(t){super(),this.element=t instanceof kr?t.nativeElement:t}}class v2e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof p2e?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof m2e?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof g2e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _2e extends v2e{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||os.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let e$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();const t$=N7();class y2e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Bi(-this._previousScrollPosition.left),t.style.top=Bi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),t$&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t$&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class C2e{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class n${enable(){}disable(){}attach(){}}function Ak(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function r$(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class w2e{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ak(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let b2e=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new n$,this.close=a=>new C2e(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new y2e(this._viewportRuler,this._document),this.reposition=a=>new w2e(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(Te(MD),Te(Rk),Te(Pn),Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class x2e{constructor(t){if(this.scrollStrategy=new n$,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class E2e{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let i$=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Te(rr))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S2e=(()=>{class n extends i${constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(i)):s.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Te(rr),Te(Pn,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D2e=(()=>{class n extends i${constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=_k(o)},this._clickListener=o=>{const a=_k(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const c=l[u];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(c.overlayElement.contains(a)||c.overlayElement.contains(s))break;const d=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(Te(rr),Te(cd),Te(Pn,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o$=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||yk()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),yk()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(Te(rr),Te(cd))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R2e{constructor(t,e,r,i,o,a,s,l,u,c=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=c,this._backdropElement=null,this._backdropClick=new Yt,this._attachments=new Yt,this._detachments=new Yt,this._locationChanges=wr.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Yt,this._outsidePointerEvents=new Yt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Bi(this._config.width),t.height=Bi(this._config.height),t.minWidth=Bi(this._config.minWidth),t.minHeight=Bi(this._config.minHeight),t.maxWidth=Bi(this._config.maxWidth),t.maxHeight=Bi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=SD(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(RD(br(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const a$="cdk-overlay-connected-position-bounding-box",T2e=/([A-Za-z%]+)$/;class O2e{constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt,this._resizeSubscription=wr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(a$),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,i,s),u=this._getOverlayPoint(l,e,s),c=this._getOverlayFit(u,e,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(c,u,r)?o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<c.visibleArea)&&(a={overlayFit:c,overlayPoint:u,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(const u of o){const c=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);c>l&&(l=c,s=u)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(a$),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i="start"==r.originX?a:s}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=l$(e);let{x:a,y:s}=t,l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(a+=l),u&&(s+=u);let h=0-s,p=s+o.height-r.height,m=this._subtractOverflows(o.width,0-a,a+o.width-r.width),v=this._subtractOverflows(o.height,h,p),_=m*v;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,a=s$(this._overlayRef.getConfig().minHeight),s=s$(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=i)&&(t.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=l$(e),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),l=Math.max(o.top-r.top-t.y,0),u=Math.max(o.left-r.left-t.x,0);let c=0,d=0;return c=i.width<=o.width?u||-a:t.x<this._viewportMargin?o.left-r.left-t.x:0,d=i.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:c,y:d},{x:t.x+c,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new E2e(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,a,s,c,d,h;if("top"===e.overlayY)a=t.y,o=r.height-a+this._viewportMargin;else if("bottom"===e.overlayY)s=r.height-t.y+2*this._viewportMargin,o=r.height-s+this._viewportMargin;else{const p=Math.min(r.bottom-t.y+r.top,t.y),m=this._lastBoundingBoxSize.height;o=2*p,a=t.y-p,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-m/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)h=r.width-t.x+this._viewportMargin,c=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)d=t.x,c=r.right-t.x;else{const p=Math.min(r.right-t.x+r.left,t.x),m=this._lastBoundingBoxSize.width;c=2*p,d=t.x-p,c>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:a,left:d,bottom:s,right:h,width:c,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Bi(r.height),i.top=Bi(r.top),i.bottom=Bi(r.bottom),i.width=Bi(r.width),i.left=Bi(r.left),i.right=Bi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Bi(o)),a&&(i.maxWidth=Bi(a))}this._lastBoundingBoxSize=r,jp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){jp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const c=this._viewportRuler.getViewportScrollPosition();jp(r,this._getExactOverlayY(e,t,c)),jp(r,this._getExactOverlayX(e,t,c))}else r.position="static";let s="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),u&&(s+=`translateY(${u}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=Bi(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Bi(a.maxWidth):o&&(r.maxWidth="")),jp(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Bi(o.y),i}_getExactOverlayX(t,e,r){let a,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Bi(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:r$(t,r),isOriginOutsideView:Ak(t,r),isOverlayClipped:r$(e,r),isOverlayOutsideView:Ak(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&SD(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof kr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function jp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function s$(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(T2e);return e&&"px"!==e?null:parseFloat(t)}return n||null}function l$(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const u$="cdk-global-overlay-wrapper";class A2e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(u$),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,l=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),u=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),c=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",m="",v="";l?v="flex-start":"center"===c?(v="center",h?m=d:p=d):h?"left"===c||"end"===c?(v="flex-end",p=d):("right"===c||"start"===c)&&(v="flex-start",m=d):"left"===c||"start"===c?(v="flex-start",p=d):("right"===c||"end"===c)&&(v="flex-end",m=d),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,e.justifyContent=v,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(u$),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let P2e=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new A2e}flexibleConnectedTo(e){return new O2e(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Te(Rk),Te(rr),Te(cd),Te(o$))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M2e=0,Pk=(()=>{class n{constructor(e,r,i,o,a,s,l,u,c,d,h,p){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=u,this._directionality=c,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new x2e(e);return a.direction=a.direction||this._directionality.value,new R2e(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+M2e++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vm)),new _2e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Te(b2e),Te(o$),Te(hh),Te(P2e),Te(S2e),Te(os),Te(Pn),Te(rr),Te(PD),Te(O_),Te(D2e),Te(xO,8))},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k2e={provide:new tt("cdk-connected-overlay-scroll-strategy"),deps:[Pk],useFactory:function F2e(n){return()=>n.scrollStrategies.reposition()}};let L2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[Pk,k2e],imports:[xC,e$,J7,J7]}),n})();const B2e=new tt("mat-sanity-checks",{providedIn:"root",factory:function N2e(){return!0}});let dd=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!yk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Te(Y7),Te(B2e,8),Te(rr))},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[xC,xC]}),n})();const G2e=new tt("MAT_DATE_LOCALE",{providedIn:"root",factory:function V2e(){return Lt(Cu)}});class ec{constructor(){this._localeChanges=new Yt,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let r=this.isValid(t),i=this.isValid(e);return r&&i?!this.compareDate(t,e):r==i}return t==e}clampDate(t,e,r){return e&&this.compareDate(t,e)<0?e:r&&this.compareDate(t,r)>0?r:t}}const Mk=new tt("mat-date-formats"),H2e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ik(n,t){const e=Array(n);for(let r=0;r<n;r++)e[r]=t(r);return e}let W2e=(()=>{class n extends ec{constructor(e,r){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const r=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Ik(12,i=>this._format(r,new Date(2017,i,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ik(31,r=>this._format(e,new Date(2017,0,r+1)))}getDayOfWeekNames(e){const r=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Ik(7,i=>this._format(r,new Date(2017,0,i+1)))}getYearName(e){const r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,r,i){let o=this._createDateWithOverflow(e,r,i);return o.getMonth(),o}today(){return new Date}parse(e,r){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,r){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const i=new Intl.DateTimeFormat(this.locale,{...r,timeZone:"utc"});return this._format(i,e)}addCalendarYears(e,r){return this.addCalendarMonths(e,12*r)}addCalendarMonths(e,r){let i=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+r,this.getDate(e));return this.getMonth(i)!=((this.getMonth(e)+r)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(e,r){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+r)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(H2e.test(e)){let r=new Date(e);if(this.isValid(r))return r}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,r,i){const o=new Date;return o.setFullYear(e,r,i),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,r){const i=new Date;return i.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),i.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e.format(i)}}return n.\u0275fac=function(e){return new(e||n)(Te(G2e,8),Te(cd))},n.\u0275prov=$e({token:n,factory:n.\u0275fac}),n})();const j2e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let U2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[{provide:ec,useClass:W2e}]}),n})(),z2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[{provide:Mk,useValue:j2e}],imports:[U2e]}),n})();class $2e{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const f$=yC({passive:!0,capture:!0});class K2e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=_k(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const a=o.get(r);a?a.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,f$)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,f$)))}}const h$={enterDuration:225,exitDuration:150},p$=yC({passive:!0,capture:!0}),m$=["mousedown","touchstart"],g$=["mouseup","mouseleave","touchend","touchcancel"];class ID{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ck(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...h$,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const a=r.radius||function q2e(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,l=e-i.top,u=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-a+"px",c.style.top=l-a+"px",c.style.height=2*a+"px",c.style.width=2*a+"px",null!=r.color&&(c.style.backgroundColor=r.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c);const d=window.getComputedStyle(c),p=d.transitionDuration,m="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===i.width&&0===i.height,v=new $2e(this,c,r,m);c.style.transform="scale3d(1, 1, 1)",v.state=0,r.persistent||(this._mostRecentTransientRipple=v);let _=null;return!m&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const C=()=>this._finishRippleTransition(v),w=()=>this._destroyRipple(v);c.addEventListener("transitionend",C),c.addEventListener("transitioncancel",w),_={onTransitionEnd:C,onTransitionCancel:w}}),this._activeRipples.set(v,_),(m||!u)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...h$,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ck(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,m$.forEach(r=>{ID._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{g$.forEach(e=>{this._triggerElement.addEventListener(e,this,p$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=function MNe(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function INe(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(m$.forEach(e=>ID._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&g$.forEach(e=>t.removeEventListener(e,this,p$)))}}ID._eventManager=new K2e;let X2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[dd,dd]}),n})(),J2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[dd,X2e,dd]}),n})(),v$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[dd,Fb,B7,dd]}),n})(),sBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})(),uBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({imports:[dd,v$,v$,sBe,dd]}),n})(),fBe=(()=>{class n{constructor(){this.changes=new Yt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,r){return`${e} \u2013 ${r}`}formatYearRangeLabel(e,r){return`${e} to ${r}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bBe={provide:new tt("mat-datepicker-scroll-strategy"),deps:[Pk],useFactory:function wBe(n){return()=>n.scrollStrategies.reposition()}};let OBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({providers:[fBe,bBe],imports:[Fb,J2e,L2e,kNe,e$,dd,Tk]}),n})();class xv{}xv.\u0275fac=function(t){return new(t||xv)},xv.\u0275mod=on({type:xv}),xv.\u0275inj=Dn({imports:[Fb]});let ABe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Dn({}),n})();class Ev{}Ev.\u0275fac=function(t){return new(t||Ev)},Ev.\u0275mod=on({type:Ev,bootstrap:[Zm]}),Ev.\u0275inj=Dn({imports:[JV,_v,aNe,uae,Iae,cae,OBe,z2e,uBe,xv,ETe,ABe,tke]}),function jv(n,t,e){const r=n.\u0275cmp;r.directiveDefs=()=>("function"==typeof t?t():t).map(rh),r.pipeDefs=()=>("function"==typeof e?e():e).map(qr)}(Zm,[bh,O1,Er],[]),bne().bootstrapModule(Ev).catch(n=>console.error(n))},310:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Js:()=>SceneChangeDetection,Xl:()=>RedrawType,l9:()=>ChangeDetectable});var _util_window__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(812),RedrawType=(()=>{return(jn=RedrawType||(RedrawType={}))[jn.NONE=0]="NONE",jn[jn.TRIVIAL=1]="TRIVIAL",jn[jn.MINOR=2]="MINOR",jn[jn.MAJOR=3]="MAJOR",RedrawType;var jn})();function evalAvailable(){try{return eval(""),!0}catch(jn){return!1}}var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=(0,_util_window__WEBPACK_IMPORTED_MODULE_0__.X)("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(jn){var Ps=this[privateKey];(jn=convertor?convertor(jn):jn)!==Ps&&(this[privateKey]=jn,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"===type&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"===type&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=jn&&jn._dirty>RedrawType.NONE&&this.markDirty(jn,jn._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function jn(){this._dirty=RedrawType.MAJOR}return jn.prototype.markDirty=function(Ps,Ke){void 0===Ke&&(Ke=RedrawType.TRIVIAL),!(this._dirty>Ke)&&(this._dirty=Ke)},jn.prototype.markClean=function(Ps){this._dirty=RedrawType.NONE},jn.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},jn}()},812:(jn,Ps,Ke)=>{"use strict";function dn(En){return(typeof window<"u"?window:void 0)?.[En]}Ke.d(Ps,{X:()=>dn})},327:function(jn,Ps){var Ke,En;void 0!==(En="function"==typeof(Ke=function(){"use strict";function On(Wt,An,Yr){var Pt=new XMLHttpRequest;Pt.open("GET",Wt),Pt.responseType="blob",Pt.onload=function(){Fn(Pt.response,An,Yr)},Pt.onerror=function(){console.error("could not download file")},Pt.send()}function wr(Wt){var An=new XMLHttpRequest;An.open("HEAD",Wt,!1);try{An.send()}catch{}return 200<=An.status&&299>=An.status}function gn(Wt){try{Wt.dispatchEvent(new MouseEvent("click"))}catch{var An=document.createEvent("MouseEvents");An.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Wt.dispatchEvent(An)}}var ko="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ml=ko.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Fn=ko.saveAs||("object"!=typeof window||window!==ko?function(){}:"download"in HTMLAnchorElement.prototype&&!ml?function(Wt,An,Yr){var Pt=ko.URL||ko.webkitURL,Xi=document.createElement("a");Xi.download=An=An||Wt.name||"download",Xi.rel="noopener","string"==typeof Wt?(Xi.href=Wt,Xi.origin===location.origin?gn(Xi):wr(Xi.href)?On(Wt,An,Yr):gn(Xi,Xi.target="_blank")):(Xi.href=Pt.createObjectURL(Wt),setTimeout(function(){Pt.revokeObjectURL(Xi.href)},4e4),setTimeout(function(){gn(Xi)},0))}:"msSaveOrOpenBlob"in navigator?function(Wt,An,Yr){if(An=An||Wt.name||"download","string"!=typeof Wt)navigator.msSaveOrOpenBlob(function pa(Wt,An){return typeof An>"u"?An={autoBom:!1}:"object"!=typeof An&&(console.warn("Deprecated: Expected third argument to be a object"),An={autoBom:!An}),An.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Wt.type)?new Blob(["\ufeff",Wt],{type:Wt.type}):Wt}(Wt,Yr),An);else if(wr(Wt))On(Wt,An,Yr);else{var Pt=document.createElement("a");Pt.href=Wt,Pt.target="_blank",setTimeout(function(){gn(Pt)})}}:function(Wt,An,Yr,Pt){if((Pt=Pt||open("","_blank"))&&(Pt.document.title=Pt.document.body.innerText="downloading..."),"string"==typeof Wt)return On(Wt,An,Yr);var Xi="application/octet-stream"===Wt.type,Sv=/constructor/i.test(ko.HTMLElement)||ko.safari,nc=/CriOS\/[\d]+/.test(navigator.userAgent);if((nc||Xi&&Sv||ml)&&typeof FileReader<"u"){var Nr=new FileReader;Nr.onloadend=function(){var ts=Nr.result;ts=nc?ts:ts.replace(/^data:[^;]*;/,"data:attachment/file;"),Pt?Pt.location.href=ts:location=ts,Pt=null},Nr.readAsDataURL(Wt)}else{var gl=ko.URL||ko.webkitURL,nu=gl.createObjectURL(Wt);Pt?Pt.location=nu:location.href=nu,Pt=null,setTimeout(function(){gl.revokeObjectURL(nu)},4e4)}});ko.saveAs=Fn.saveAs=Fn,jn.exports=Fn})?Ke.apply(Ps,[]):Ke)&&(jn.exports=En)},407:function(jn,Ps){!function(Ke){"use strict";function En(f){var g,y,x,T;for(y=1,x=arguments.length;y<x;y++)for(g in T=arguments[y])f[g]=T[g];return f}var pa=Object.create||function(){function f(){}return function(g){return f.prototype=g,new f}}();function On(f,g){var y=Array.prototype.slice;if(f.bind)return f.bind.apply(f,y.call(arguments,1));var x=y.call(arguments,2);return function(){return f.apply(g,x.length?x.concat(y.call(arguments)):arguments)}}var wr=0;function gn(f){return"_leaflet_id"in f||(f._leaflet_id=++wr),f._leaflet_id}function ko(f,g,y){var x,T,k,ae;return ae=function(){x=!1,T&&(k.apply(y,T),T=!1)},k=function(){x?T=arguments:(f.apply(y,arguments),setTimeout(ae,g),x=!0)},k}function ml(f,g,y){var x=g[1],T=g[0],k=x-T;return f===x&&y?f:((f-T)%k+k)%k+T}function Fn(){return!1}function Wt(f,g){if(!1===g)return f;var y=Math.pow(10,void 0===g?6:g);return Math.round(f*y)/y}function An(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function Yr(f){return An(f).split(/\s+/)}function Pt(f,g){for(var y in Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?pa(f.options):{}),g)f.options[y]=g[y];return f.options}function Xi(f,g,y){var x=[];for(var T in f)x.push(encodeURIComponent(y?T.toUpperCase():T)+"="+encodeURIComponent(f[T]));return(g&&-1!==g.indexOf("?")?"&":"?")+x.join("&")}var Sv=/\{ *([\w_ -]+) *\}/g;function nc(f,g){return f.replace(Sv,function(y,x){var T=g[x];if(void 0===T)throw new Error("No value provided for variable "+y);return"function"==typeof T&&(T=T(g)),T})}var Nr=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)};function gl(f,g){for(var y=0;y<f.length;y++)if(f[y]===g)return y;return-1}var nu="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ts(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var TC=0;function $p(f){var g=+new Date,y=Math.max(0,16-(g-TC));return TC=g+y,window.setTimeout(f,y)}var Dv=window.requestAnimationFrame||ts("RequestAnimationFrame")||$p,hd=window.cancelAnimationFrame||ts("CancelAnimationFrame")||ts("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function Vi(f,g,y){if(!y||Dv!==$p)return Dv.call(window,On(f,g));f.call(g)}function La(f){f&&hd.call(window,f)}var Rv={__proto__:null,extend:En,create:pa,bind:On,get lastId(){return wr},stamp:gn,throttle:ko,wrapNum:ml,falseFn:Fn,formatNum:Wt,trim:An,splitWords:Yr,setOptions:Pt,getParamString:Xi,template:nc,isArray:Nr,indexOf:gl,emptyImageUrl:nu,requestFn:Dv,cancelFn:hd,requestAnimFrame:Vi,cancelAnimFrame:La};function vl(){}vl.extend=function(f){var g=function(){Pt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=g.__super__=this.prototype,x=pa(y);for(var T in x.constructor=g,g.prototype=x,this)Object.prototype.hasOwnProperty.call(this,T)&&"prototype"!==T&&"__super__"!==T&&(g[T]=this[T]);return f.statics&&En(g,f.statics),f.includes&&(function Tv(f){if(!(typeof L>"u")&&L&&L.Mixin){f=Nr(f)?f:[f];for(var g=0;g<f.length;g++)f[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(f.includes),En.apply(null,[x].concat(f.includes))),En(x,f),delete x.statics,delete x.includes,x.options&&(x.options=y.options?pa(y.options):{},En(x.options,f.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,ae=x._initHooks.length;k<ae;k++)x._initHooks[k].call(this)}},g},vl.include=function(f){var g=this.prototype.options;return En(this.prototype,f),f.options&&(this.prototype.options=g,this.mergeOptions(f.options)),this},vl.mergeOptions=function(f){return En(this.prototype.options,f),this},vl.addInitHook=function(f){var g=Array.prototype.slice.call(arguments,1),y="function"==typeof f?f:function(){this[f].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};var ui={on:function(f,g,y){if("object"==typeof f)for(var x in f)this._on(x,f[x],g);else for(var T=0,k=(f=Yr(f)).length;T<k;T++)this._on(f[T],g,y);return this},off:function(f,g,y){if(arguments.length)if("object"==typeof f)for(var x in f)this._off(x,f[x],g);else{f=Yr(f);for(var T=1===arguments.length,k=0,ae=f.length;k<ae;k++)T?this._off(f[k]):this._off(f[k],g,y)}else delete this._events;return this},_on:function(f,g,y,x){if("function"==typeof g){if(!1===this._listens(f,g,y)){y===this&&(y=void 0);var T={fn:g,ctx:y};x&&(T.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(T)}}else console.warn("wrong listener type: "+typeof g)},_off:function(f,g,y){var x,T,k;if(this._events&&(x=this._events[f])){if(1===arguments.length){if(this._firingCount)for(T=0,k=x.length;T<k;T++)x[T].fn=Fn;return void delete this._events[f]}if("function"!=typeof g)return void console.warn("wrong listener type: "+typeof g);var ae=this._listens(f,g,y);!1!==ae&&(this._firingCount&&(x[ae].fn=Fn,this._events[f]=x=x.slice()),x.splice(ae,1))}},fire:function(f,g,y){if(!this.listens(f,y))return this;var x=En({},g,{type:f,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var T=this._events[f];if(T){this._firingCount=this._firingCount+1||1;for(var k=0,ae=T.length;k<ae;k++){var ve=T[k],Se=ve.fn;ve.once&&this.off(f,Se,ve.ctx),Se.call(ve.ctx||this,x)}this._firingCount--}}return y&&this._propagateEvent(x),this},listens:function(f,g,y,x){"string"!=typeof f&&console.warn('"string" type argument expected');var T=g;"function"!=typeof g&&(x=!!g,T=void 0,y=void 0);var k=this._events&&this._events[f];if(k&&k.length&&!1!==this._listens(f,T,y))return!0;if(x)for(var ae in this._eventParents)if(this._eventParents[ae].listens(f,g,y,x))return!0;return!1},_listens:function(f,g,y){if(!this._events)return!1;var x=this._events[f]||[];if(!g)return!!x.length;y===this&&(y=void 0);for(var T=0,k=x.length;T<k;T++)if(x[T].fn===g&&x[T].ctx===y)return T;return!1},once:function(f,g,y){if("object"==typeof f)for(var x in f)this._on(x,f[x],g,!0);else for(var T=0,k=(f=Yr(f)).length;T<k;T++)this._on(f[T],g,y,!0);return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[gn(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[gn(f)],this},_propagateEvent:function(f){for(var g in this._eventParents)this._eventParents[g].fire(f.type,En({layer:f.target,propagatedFrom:f.target},f),!0)}};ui.addEventListener=ui.on,ui.removeEventListener=ui.clearAllEventListeners=ui.off,ui.addOneTimeEventListener=ui.once,ui.fireEvent=ui.fire,ui.hasEventListeners=ui.listens;var qf=vl.extend(ui);function zt(f,g,y){this.x=y?Math.round(f):f,this.y=y?Math.round(g):g}var nr=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};function Ht(f,g,y){return f instanceof zt?f:Nr(f)?new zt(f[0],f[1]):null==f?f:"object"==typeof f&&"x"in f&&"y"in f?new zt(f.x,f.y):new zt(f,g,y)}function Dr(f,g){if(f)for(var y=g?[f,g]:f,x=0,T=y.length;x<T;x++)this.extend(y[x])}function Lo(f,g){return!f||f instanceof Dr?f:new Dr(f,g)}function No(f,g){if(f)for(var y=g?[f,g]:f,x=0,T=y.length;x<T;x++)this.extend(y[x])}function Yt(f,g){return f instanceof No?f:new No(f,g)}function Qn(f,g,y){if(isNaN(f)||isNaN(g))throw new Error("Invalid LatLng object: ("+f+", "+g+")");this.lat=+f,this.lng=+g,void 0!==y&&(this.alt=+y)}function sr(f,g,y){return f instanceof Qn?f:Nr(f)&&"object"!=typeof f[0]?3===f.length?new Qn(f[0],f[1],f[2]):2===f.length?new Qn(f[0],f[1]):null:null==f?f:"object"==typeof f&&"lat"in f?new Qn(f.lat,"lng"in f?f.lng:f.lon,f.alt):void 0===g?null:new Qn(f,g,y)}zt.prototype={clone:function(){return new zt(this.x,this.y)},add:function(f){return this.clone()._add(Ht(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(Ht(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new zt(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new zt(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nr(this.x),this.y=nr(this.y),this},distanceTo:function(f){var g=(f=Ht(f)).x-this.x,y=f.y-this.y;return Math.sqrt(g*g+y*y)},equals:function(f){return(f=Ht(f)).x===this.x&&f.y===this.y},contains:function(f){return f=Ht(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+Wt(this.x)+", "+Wt(this.y)+")"}},Dr.prototype={extend:function(f){var g,y;if(!f)return this;if(f instanceof zt||"number"==typeof f[0]||"x"in f)g=y=Ht(f);else if(y=(f=Lo(f)).max,!(g=f.min)||!y)return this;return this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)):(this.min=g.clone(),this.max=y.clone()),this},getCenter:function(f){return Ht((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return Ht(this.min.x,this.max.y)},getTopRight:function(){return Ht(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var g,y;return(f="number"==typeof f[0]||f instanceof zt?Ht(f):Lo(f))instanceof Dr?(g=f.min,y=f.max):g=y=f,g.x>=this.min.x&&y.x<=this.max.x&&g.y>=this.min.y&&y.y<=this.max.y},intersects:function(f){f=Lo(f);var g=this.min,y=this.max,x=f.min,T=f.max;return T.x>=g.x&&x.x<=y.x&&T.y>=g.y&&x.y<=y.y},overlaps:function(f){f=Lo(f);var g=this.min,y=this.max,x=f.min,T=f.max;return T.x>g.x&&x.x<y.x&&T.y>g.y&&x.y<y.y},isValid:function(){return!(!this.min||!this.max)},pad:function(f){var g=this.min,y=this.max,x=Math.abs(g.x-y.x)*f,T=Math.abs(g.y-y.y)*f;return Lo(Ht(g.x-x,g.y-T),Ht(y.x+x,y.y+T))},equals:function(f){return!!f&&(f=Lo(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight()))}},No.prototype={extend:function(f){var x,T,g=this._southWest,y=this._northEast;if(f instanceof Qn)x=f,T=f;else{if(!(f instanceof No))return f?this.extend(sr(f)||Yt(f)):this;if(T=f._northEast,!(x=f._southWest)||!T)return this}return g||y?(g.lat=Math.min(x.lat,g.lat),g.lng=Math.min(x.lng,g.lng),y.lat=Math.max(T.lat,y.lat),y.lng=Math.max(T.lng,y.lng)):(this._southWest=new Qn(x.lat,x.lng),this._northEast=new Qn(T.lat,T.lng)),this},pad:function(f){var g=this._southWest,y=this._northEast,x=Math.abs(g.lat-y.lat)*f,T=Math.abs(g.lng-y.lng)*f;return new No(new Qn(g.lat-x,g.lng-T),new Qn(y.lat+x,y.lng+T))},getCenter:function(){return new Qn((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qn(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qn(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){f="number"==typeof f[0]||f instanceof Qn||"lat"in f?sr(f):Yt(f);var x,T,g=this._southWest,y=this._northEast;return f instanceof No?(x=f.getSouthWest(),T=f.getNorthEast()):x=T=f,x.lat>=g.lat&&T.lat<=y.lat&&x.lng>=g.lng&&T.lng<=y.lng},intersects:function(f){f=Yt(f);var g=this._southWest,y=this._northEast,x=f.getSouthWest(),T=f.getNorthEast();return T.lat>=g.lat&&x.lat<=y.lat&&T.lng>=g.lng&&x.lng<=y.lng},overlaps:function(f){f=Yt(f);var g=this._southWest,y=this._northEast,x=f.getSouthWest(),T=f.getNorthEast();return T.lat>g.lat&&x.lat<y.lat&&T.lng>g.lng&&x.lng<y.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,g){return!!f&&(f=Yt(f),this._southWest.equals(f.getSouthWest(),g)&&this._northEast.equals(f.getNorthEast(),g))},isValid:function(){return!(!this._southWest||!this._northEast)}},Qn.prototype={equals:function(f,g){return!!f&&(f=sr(f),Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng))<=(void 0===g?1e-9:g))},toString:function(f){return"LatLng("+Wt(this.lat,f)+", "+Wt(this.lng,f)+")"},distanceTo:function(f){return qn.distance(this,sr(f))},wrap:function(){return qn.wrapLatLng(this)},toBounds:function(f){var g=180*f/40075017,y=g/Math.cos(Math.PI/180*this.lat);return Yt([this.lat-g,this.lng-y],[this.lat+g,this.lng+y])},clone:function(){return new Qn(this.lat,this.lng,this.alt)}};var f,Jn={latLngToPoint:function(f,g){var y=this.projection.project(f),x=this.scale(g);return this.transformation._transform(y,x)},pointToLatLng:function(f,g){var y=this.scale(g),x=this.transformation.untransform(f,y);return this.projection.unproject(x)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var g=this.projection.bounds,y=this.scale(f);return new Dr(this.transformation.transform(g.min,y),this.transformation.transform(g.max,y))},infinite:!1,wrapLatLng:function(f){var g=this.wrapLng?ml(f.lng,this.wrapLng,!0):f.lng;return new Qn(this.wrapLat?ml(f.lat,this.wrapLat,!0):f.lat,g,f.alt)},wrapLatLngBounds:function(f){var g=f.getCenter(),y=this.wrapLatLng(g),x=g.lat-y.lat,T=g.lng-y.lng;if(0===x&&0===T)return f;var k=f.getSouthWest(),ae=f.getNorthEast();return new No(new Qn(k.lat-x,k.lng-T),new Qn(ae.lat-x,ae.lng-T))}},qn=En({},Jn,{wrapLng:[-180,180],R:6371e3,distance:function(f,g){var y=Math.PI/180,x=f.lat*y,T=g.lat*y,k=Math.sin((g.lat-f.lat)*y/2),ae=Math.sin((g.lng-f.lng)*y/2),ve=k*k+Math.cos(x)*Math.cos(T)*ae*ae,Se=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return this.R*Se}}),jt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(f){var g=Math.PI/180,y=this.MAX_LATITUDE,x=Math.max(Math.min(y,f.lat),-y),T=Math.sin(x*g);return new zt(this.R*f.lng*g,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(f){var g=180/Math.PI;return new Qn((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*g,f.x*g/this.R)},bounds:(f=6378137*Math.PI,new Dr([-f,-f],[f,f]))};function Xf(f,g,y,x){if(Nr(f))return this._a=f[0],this._b=f[1],this._c=f[2],void(this._d=f[3]);this._a=f,this._b=g,this._c=y,this._d=x}function Kp(f,g,y,x){return new Xf(f,g,y,x)}Xf.prototype={transform:function(f,g){return this._transform(f.clone(),g)},_transform:function(f,g){return f.x=(g=g||1)*(this._a*f.x+this._b),f.y=g*(this._c*f.y+this._d),f},untransform:function(f,g){return new zt((f.x/(g=g||1)-this._b)/this._a,(f.y/g-this._d)/this._c)}};var Yp=En({},qn,{code:"EPSG:3857",projection:jt,transformation:function(){var f=.5/(Math.PI*jt.R);return Kp(f,.5,-f,.5)}()}),BD=En({},Yp,{code:"EPSG:900913"});function GD(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function VD(f,g){var x,T,k,ae,ve,Se,y="";for(x=0,k=f.length;x<k;x++){for(T=0,ae=(ve=f[x]).length;T<ae;T++)y+=(T?"L":"M")+(Se=ve[T]).x+" "+Se.y;y+=g?wt.svg?"z":"x":""}return y||"M0 0"}var AC=document.documentElement.style,Ov="ActiveXObject"in window,Gk=Ov&&!document.addEventListener,HD="msLaunchUri"in navigator&&!("documentMode"in document),PC=Ms("webkit"),MC=Ms("android"),WD=Ms("android 2")||Ms("android 3"),IC=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vk=MC&&Ms("Google")&&IC<537&&!("AudioNode"in window),qp=!!window.opera,FC=!HD&&Ms("chrome"),jD=Ms("gecko")&&!PC&&!qp&&!Ov,Hk=!FC&&Ms("safari"),UD=Ms("phantom"),ru="OTransition"in AC,zD=0===navigator.platform.indexOf("Win"),$D=Ov&&"transition"in AC,Av="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!WD,KD="MozPerspective"in AC,YD=!window.L_DISABLE_3D&&($D||Av||KD)&&!ru&&!UD,Xp=typeof orientation<"u"||Ms("mobile"),Wk=Xp&&PC,jk=Xp&&Av,qD=!window.PointerEvent&&window.MSPointerEvent,XD=!(!window.PointerEvent&&!qD),Zp="ontouchstart"in window||!!window.TouchEvent,kC=!window.L_NO_TOUCH&&(Zp||XD),LC=Xp&&qp,NC=Xp&&jD,BC=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ZD=function(){var f=!1;try{var g=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",Fn,g),window.removeEventListener("testPassiveEventSupport",Fn,g)}catch{}return f}(),GC=!!document.createElement("canvas").getContext,Qp=!(!document.createElementNS||!GD("svg").createSVGRect),VC=!!Qp&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(f.firstChild&&f.firstChild.namespaceURI)}(),HC=!Qp&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var g=f.firstChild;return g.style.behavior="url(#default#VML)",g&&"object"==typeof g.adj}catch{return!1}}();function Ms(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var wt={ie:Ov,ielt9:Gk,edge:HD,webkit:PC,android:MC,android23:WD,androidStock:Vk,opera:qp,chrome:FC,gecko:jD,safari:Hk,phantom:UD,opera12:ru,win:zD,ie3d:$D,webkit3d:Av,gecko3d:KD,any3d:YD,mobile:Xp,mobileWebkit:Wk,mobileWebkit3d:jk,msPointer:qD,pointer:XD,touch:kC,touchNative:Zp,mobileOpera:LC,mobileGecko:NC,retina:BC,passiveEvents:ZD,canvas:GC,svg:Qp,vml:HC,inlineSvg:VC,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},WC=wt.msPointer?"MSPointerDown":"pointerdown",Pv=wt.msPointer?"MSPointerMove":"pointermove",jC=wt.msPointer?"MSPointerUp":"pointerup",UC=wt.msPointer?"MSPointerCancel":"pointercancel",ns={touchstart:WC,touchmove:Pv,touchend:jC,touchcancel:UC},zC={touchstart:function eR(f,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Zi(g),iu(f,g)},touchmove:iu,touchend:iu,touchcancel:iu},Rr={},rc=!1;function Is(f,g,y){return"touchstart"===g&&function KC(){rc||(document.addEventListener(WC,JD,!0),document.addEventListener(Pv,$C,!0),document.addEventListener(jC,Jp,!0),document.addEventListener(UC,Jp,!0),rc=!0)}(),zC[g]?(y=zC[g].bind(this,y),f.addEventListener(ns[g],y,!1),y):(console.warn("wrong event specified:",g),Fn)}function JD(f){Rr[f.pointerId]=f}function $C(f){Rr[f.pointerId]&&(Rr[f.pointerId]=f)}function Jp(f){delete Rr[f.pointerId]}function iu(f,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){for(var y in g.touches=[],Rr)g.touches.push(Rr[y]);g.changedTouches=[g],f(g)}}var qC=200;var au,kt,Ln,ic,ho,Mv=pd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zf=pd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Iv="webkitTransition"===Zf||"OTransition"===Zf?Zf+"End":"transitionend";function XC(f){return"string"==typeof f?document.getElementById(f):f}function Qf(f,g){var y=f.style[g]||f.currentStyle&&f.currentStyle[g];if((!y||"auto"===y)&&document.defaultView){var x=document.defaultView.getComputedStyle(f,null);y=x?x[g]:null}return"auto"===y?null:y}function Tt(f,g,y){var x=document.createElement(f);return x.className=g||"",y&&y.appendChild(x),x}function br(f){var g=f.parentNode;g&&g.removeChild(f)}function em(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function ou(f){var g=f.parentNode;g&&g.lastChild!==f&&g.appendChild(f)}function kn(f){var g=f.parentNode;g&&g.firstChild!==f&&g.insertBefore(f,g.firstChild)}function Jf(f,g){if(void 0!==f.classList)return f.classList.contains(g);var y=Un(f);return y.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(y)}function pt(f,g){if(void 0!==f.classList)for(var y=Yr(g),x=0,T=y.length;x<T;x++)f.classList.add(y[x]);else if(!Jf(f,g)){var k=Un(f);Fv(f,(k?k+" ":"")+g)}}function Tr(f,g){void 0!==f.classList?f.classList.remove(g):Fv(f,An((" "+Un(f)+" ").replace(" "+g+" "," ")))}function Fv(f,g){void 0===f.className.baseVal?f.className=g:f.className.baseVal=g}function Un(f){return f.correspondingElement&&(f=f.correspondingElement),void 0===f.className.baseVal?f.className:f.className.baseVal}function gt(f,g){"opacity"in f.style?f.style.opacity=g:"filter"in f.style&&function kv(f,g){var y=!1,x="DXImageTransform.Microsoft.Alpha";try{y=f.filters.item(x)}catch{if(1===g)return}g=Math.round(100*g),y?(y.Enabled=100!==g,y.Opacity=g):f.style.filter+=" progid:"+x+"(opacity="+g+")"}(f,g)}function pd(f){for(var g=document.documentElement.style,y=0;y<f.length;y++)if(f[y]in g)return f[y];return!1}function md(f,g,y){var x=g||new zt(0,0);f.style[Mv]=(wt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(y?" scale("+y+")":"")}function Br(f,g){f._leaflet_pos=g,wt.any3d?md(f,g):(f.style.left=g.x+"px",f.style.top=g.y+"px")}function Ae(f){return f._leaflet_pos||new zt(0,0)}if("onselectstart"in document)au=function(){Qt(window,"selectstart",Zi)},kt=function(){pr(window,"selectstart",Zi)};else{var eh=pd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);au=function(){if(eh){var f=document.documentElement.style;Ln=f[eh],f[eh]="none"}},kt=function(){eh&&(document.documentElement.style[eh]=Ln,Ln=void 0)}}function ZC(){Qt(window,"dragstart",Zi)}function Lv(){pr(window,"dragstart",Zi)}function QC(f){for(;-1===f.tabIndex;)f=f.parentNode;f.style&&(tm(),ic=f,ho=f.style.outline,f.style.outline="none",Qt(window,"keydown",tm))}function tm(){ic&&(ic.style.outline=ho,ic=void 0,ho=void 0,pr(window,"keydown",tm))}function rR(f){do{f=f.parentNode}while(!(f.offsetWidth&&f.offsetHeight||f===document.body));return f}function Fs(f){var g=f.getBoundingClientRect();return{x:g.width/f.offsetWidth||1,y:g.height/f.offsetHeight||1,boundingClientRect:g}}var zk={__proto__:null,TRANSFORM:Mv,TRANSITION:Zf,TRANSITION_END:Iv,get:XC,getStyle:Qf,create:Tt,remove:br,empty:em,toFront:ou,toBack:kn,hasClass:Jf,addClass:pt,removeClass:Tr,setClass:Fv,getClass:Un,setOpacity:gt,testProp:pd,setTransform:md,setPosition:Br,getPosition:Ae,get disableTextSelection(){return au},get enableTextSelection(){return kt},disableImageDrag:ZC,enableImageDrag:Lv,preventOutline:QC,restoreOutline:tm,getSizedParentNode:rR,getScale:Fs};function Qt(f,g,y,x){if(g&&"object"==typeof g)for(var T in g)Nv(f,T,g[T],y);else for(var k=0,ae=(g=Yr(g)).length;k<ae;k++)Nv(f,g[k],y,x);return this}var _l="_leaflet_events";function pr(f,g,y,x){if(1===arguments.length)JC(f),delete f[_l];else if(g&&"object"==typeof g)for(var T in g)tw(f,T,g[T],y);else if(g=Yr(g),2===arguments.length)JC(f,function(ve){return-1!==gl(g,ve)});else for(var k=0,ae=g.length;k<ae;k++)tw(f,g[k],y,x);return this}function JC(f,g){for(var y in f[_l]){var x=y.split(/\d/)[0];(!g||g(x))&&tw(f,x,null,null,y)}}var ew={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Nv(f,g,y,x){var T=g+gn(y)+(x?"_"+gn(x):"");if(f[_l]&&f[_l][T])return this;var k=function(ve){return y.call(x||f,ve||window.event)},ae=k;!wt.touchNative&&wt.pointer&&0===g.indexOf("touch")?k=Is(f,g,k):wt.touch&&"dblclick"===g?k=function tR(f,g){f.addEventListener("dblclick",g);var x,y=0;function T(k){if(1===k.detail){if("mouse"!==k.pointerType&&(!k.sourceCapabilities||k.sourceCapabilities.firesTouchEvents)){var ae=$e(k);if(!ae.some(function(Se){return Se instanceof HTMLLabelElement&&Se.attributes.for})||ae.some(function(Se){return Se instanceof HTMLInputElement||Se instanceof HTMLSelectElement})){var ve=Date.now();ve-y<=qC?2==++x&&g(function YC(f){var y,x,g={};for(x in f)g[x]=(y=f[x])&&y.bind?y.bind(f):y;return f=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}(k)):x=1,y=ve}}}else x=k.detail}return f.addEventListener("click",T),{dblclick:g,simDblclick:T}}(f,k):"addEventListener"in f?"touchstart"===g||"touchmove"===g||"wheel"===g||"mousewheel"===g?f.addEventListener(ew[g]||g,k,!!wt.passiveEvents&&{passive:!1}):"mouseenter"===g||"mouseleave"===g?f.addEventListener(ew[g],k=function(ve){ve=ve||window.event,Bv(f,ve)&&ae(ve)},!1):f.addEventListener(g,ae,!1):f.attachEvent("on"+g,k),f[_l]=f[_l]||{},f[_l][T]=k}function tw(f,g,y,x,T){T=T||g+gn(y)+(x?"_"+gn(x):"");var k=f[_l]&&f[_l][T];if(!k)return this;!wt.touchNative&&wt.pointer&&0===g.indexOf("touch")?function Uk(f,g,y){ns[g]?f.removeEventListener(ns[g],y,!1):console.warn("wrong event specified:",g)}(f,g,k):wt.touch&&"dblclick"===g?function nR(f,g){f.removeEventListener("dblclick",g.dblclick),f.removeEventListener("click",g.simDblclick)}(f,k):"removeEventListener"in f?f.removeEventListener(ew[g]||g,k,!1):f.detachEvent("on"+g,k),f[_l][T]=null}function Ei(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Nn(f){return Nv(f,"wheel",Ei),this}function nm(f){return Qt(f,"mousedown touchstart dblclick contextmenu",Ei),f._leaflet_disable_click=!0,this}function Zi(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function gd(f){return Zi(f),Ei(f),this}function $e(f){if(f.composedPath)return f.composedPath();for(var g=[],y=f.target;y;)g.push(y),y=y.parentNode;return g}function iR(f,g){if(!g)return new zt(f.clientX,f.clientY);var y=Fs(g),x=y.boundingClientRect;return new zt((f.clientX-x.left)/y.x-g.clientLeft,(f.clientY-x.top)/y.y-g.clientTop)}var Dn=wt.linux&&wt.chrome?window.devicePixelRatio:wt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function th(f){return wt.edge?f.wheelDeltaY/2:f.deltaY&&0===f.deltaMode?-f.deltaY/Dn:f.deltaY&&1===f.deltaMode?20*-f.deltaY:f.deltaY&&2===f.deltaMode?60*-f.deltaY:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?20*-f.detail:f.detail?f.detail/-32765*60:0}function Bv(f,g){var y=g.relatedTarget;if(!y)return!0;try{for(;y&&y!==f;)y=y.parentNode}catch{return!1}return y!==f}var nw={__proto__:null,on:Qt,off:pr,stopPropagation:Ei,disableScrollPropagation:Nn,disableClickPropagation:nm,preventDefault:Zi,stop:gd,getPropagationPath:$e,getMousePosition:iR,getWheelDelta:th,isExternalTarget:Bv,addListener:Qt,removeListener:pr},rw=qf.extend({run:function(f,g,y,x){this.stop(),this._el=f,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Ae(f),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Vi(this._animate,this),this._step()},_step:function(f){var g=+new Date-this._startTime,y=1e3*this._duration;g<y?this._runFrame(this._easeOut(g/y),f):(this._runFrame(1),this._complete())},_runFrame:function(f,g){var y=this._startPos.add(this._offset.multiplyBy(f));g&&y._round(),Br(this._el,y),this.fire("step")},_complete:function(){La(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),Rn=qf.extend({options:{crs:Yp,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,g){g=Pt(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=On(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom)),g.center&&void 0!==g.zoom&&this.setView(sr(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zf&&wt.any3d&&!wt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Iv,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,g,y){return g=void 0===g?this._zoom:this._limitZoom(g),f=this._limitCenter(sr(f),g,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&!0!==y&&(void 0!==y.animate&&(y.zoom=En({animate:y.animate},y.zoom),y.pan=En({animate:y.animate,duration:y.duration},y.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,g,y.zoom):this._tryAnimatedPan(f,y.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(f,g,y.pan&&y.pan.noMoveStart),this)},setZoom:function(f,g){return this._loaded?this.setView(this.getCenter(),f,{zoom:g}):(this._zoom=f,this)},zoomIn:function(f,g){return this.setZoom(this._zoom+(f=f||(wt.any3d?this.options.zoomDelta:1)),g)},zoomOut:function(f,g){return this.setZoom(this._zoom-(f=f||(wt.any3d?this.options.zoomDelta:1)),g)},setZoomAround:function(f,g,y){var x=this.getZoomScale(g),T=this.getSize().divideBy(2),ae=(f instanceof zt?f:this.latLngToContainerPoint(f)).subtract(T).multiplyBy(1-1/x),ve=this.containerPointToLatLng(T.add(ae));return this.setView(ve,g,{zoom:y})},_getBoundsCenterZoom:function(f,g){g=g||{},f=f.getBounds?f.getBounds():Yt(f);var y=Ht(g.paddingTopLeft||g.padding||[0,0]),x=Ht(g.paddingBottomRight||g.padding||[0,0]),T=this.getBoundsZoom(f,!1,y.add(x));if((T="number"==typeof g.maxZoom?Math.min(g.maxZoom,T):T)===1/0)return{center:f.getCenter(),zoom:T};var k=x.subtract(y).divideBy(2),ae=this.project(f.getSouthWest(),T),ve=this.project(f.getNorthEast(),T);return{center:this.unproject(ae.add(ve).divideBy(2).add(k),T),zoom:T}},fitBounds:function(f,g){if(!(f=Yt(f)).isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(f,g);return this.setView(y.center,y.zoom,g)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,g){return this.setView(f,this._zoom,{pan:g})},panBy:function(f,g){if(g=g||{},!(f=Ht(f).round()).x&&!f.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),!1!==g.animate){pt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,y,g.duration||.25,g.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,g,y){if(!1===(y=y||{}).animate||!wt.any3d)return this.setView(f,g,y);this._stop();var x=this.project(this.getCenter()),T=this.project(f),k=this.getSize(),ae=this._zoom;f=sr(f),g=void 0===g?ae:g;var ve=Math.max(k.x,k.y),Se=ve*this.getZoomScale(ae,g),He=T.distanceTo(x)||1,ut=1.42,_t=ut*ut;function _n(Xr){var du=(Se*Se-ve*ve+(Xr?-1:1)*_t*_t*He*He)/(2*(Xr?Se:ve)*_t*He),Uo=Math.sqrt(du*du+1)-du;return Uo<1e-9?-18:Math.log(Uo)}function Ha(Xr){return(Math.exp(Xr)-Math.exp(-Xr))/2}function fc(Xr){return(Math.exp(Xr)+Math.exp(-Xr))/2}var El=_n(0);function $v(Xr){return ve*(fc(El)*function sh(Xr){return Ha(Xr)/fc(Xr)}(El+ut*Xr)-Ha(El))/_t}var Wa=Date.now(),Kv=(_n(1)-El)/ut,Cw=y.duration?1e3*y.duration:1e3*Kv*.8;return this._moveStart(!0,y.noMoveStart),function Si(){var Xr=(Date.now()-Wa)/Cw,hc=function yR(Xr){return 1-Math.pow(1-Xr,1.5)}(Xr)*Kv;Xr<=1?(this._flyToFrame=Vi(Si,this),this._move(this.unproject(x.add(T.subtract(x).multiplyBy($v(hc)/He)),ae),this.getScaleZoom(ve/function zv(Xr){return ve*(fc(El)/fc(El+ut*Xr))}(hc),ae),{flyTo:!0})):this._move(f,g)._moveEnd(!0)}.call(this),this},flyToBounds:function(f,g){var y=this._getBoundsCenterZoom(f,g);return this.flyTo(y.center,y.zoom,g)},setMaxBounds:function(f){return f=Yt(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var g=this.options.minZoom;return this.options.minZoom=f,this._loaded&&g!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var g=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&g!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,g){this._enforcingBounds=!0;var y=this.getCenter(),x=this._limitCenter(y,this._zoom,Yt(f));return y.equals(x)||this.panTo(x,g),this._enforcingBounds=!1,this},panInside:function(f,g){var y=Ht((g=g||{}).paddingTopLeft||g.padding||[0,0]),x=Ht(g.paddingBottomRight||g.padding||[0,0]),T=this.project(this.getCenter()),k=this.project(f),ae=this.getPixelBounds(),ve=Lo([ae.min.add(y),ae.max.subtract(x)]),Se=ve.getSize();if(!ve.contains(k)){this._enforcingBounds=!0;var He=k.subtract(ve.getCenter()),ut=ve.extend(k).getSize().subtract(Se);T.x+=He.x<0?-ut.x:ut.x,T.y+=He.y<0?-ut.y:ut.y,this.panTo(this.unproject(T),g),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=En({animate:!1,pan:!0},!0===f?{animate:!0}:f);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),x=g.divideBy(2).round(),T=y.divideBy(2).round(),k=x.subtract(T);return k.x||k.y?(f.animate&&f.pan?this.panBy(k):(f.pan&&this._rawPanBy(k),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(On(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:y})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=En({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=On(this._handleGeolocationResponse,this),y=On(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,y,f):navigator.geolocation.getCurrentPosition(g,y,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var g=f.code,y=f.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var x=new Qn(f.coords.latitude,f.coords.longitude),T=x.toBounds(2*f.coords.accuracy),k=this._locateOptions;if(k.setView){var ae=this.getBoundsZoom(T);this.setView(x,k.maxZoom?Math.min(ae,k.maxZoom):ae)}var ve={latlng:x,bounds:T,timestamp:f.timestamp};for(var Se in f.coords)"number"==typeof f.coords[Se]&&(ve[Se]=f.coords[Se]);this.fire("locationfound",ve)}},addHandler:function(f,g){if(!g)return this;var y=this[f]=new g(this);return this._handlers.push(y),this.options[f]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var f;for(f in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),br(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(La(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[f].remove();for(f in this._panes)br(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,g){var x=Tt("div","leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),g||this._mapPane);return f&&(this._panes[f]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds();return new No(this.unproject(f.getBottomLeft()),this.unproject(f.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,g,y){f=Yt(f),y=Ht(y||[0,0]);var x=this.getZoom()||0,T=this.getMinZoom(),k=this.getMaxZoom(),ae=f.getNorthWest(),ve=f.getSouthEast(),Se=this.getSize().subtract(y),He=Lo(this.project(ve,x),this.project(ae,x)).getSize(),ut=wt.any3d?this.options.zoomSnap:1,_t=Se.x/He.x,_n=Se.y/He.y,Ha=g?Math.max(_t,_n):Math.min(_t,_n);return x=this.getScaleZoom(Ha,x),ut&&(x=Math.round(x/(ut/100))*(ut/100),x=g?Math.ceil(x/ut)*ut:Math.floor(x/ut)*ut),Math.max(T,Math.min(k,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new zt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,g){var y=this._getTopLeftPoint(f,g);return new Dr(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(void 0===f?this.getZoom():f)},getPane:function(f){return"string"==typeof f?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,g){var y=this.options.crs;return g=void 0===g?this._zoom:g,y.scale(f)/y.scale(g)},getScaleZoom:function(f,g){var y=this.options.crs,x=y.zoom(f*y.scale(g=void 0===g?this._zoom:g));return isNaN(x)?1/0:x},project:function(f,g){return g=void 0===g?this._zoom:g,this.options.crs.latLngToPoint(sr(f),g)},unproject:function(f,g){return g=void 0===g?this._zoom:g,this.options.crs.pointToLatLng(Ht(f),g)},layerPointToLatLng:function(f){var g=Ht(f).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(f){return this.project(sr(f))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(sr(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(Yt(f))},distance:function(f,g){return this.options.crs.distance(sr(f),sr(g))},containerPointToLayerPoint:function(f){return Ht(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return Ht(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var g=this.containerPointToLayerPoint(Ht(f));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(sr(f)))},mouseEventToContainerPoint:function(f){return iR(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var g=this._container=XC(f);if(!g)throw new Error("Map container not found.");if(g._leaflet_id)throw new Error("Map container is already initialized.");Qt(g,"scroll",this._onScroll,this),this._containerId=gn(g)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&wt.any3d,pt(f,"leaflet-container"+(wt.touch?" leaflet-touch":"")+(wt.retina?" leaflet-retina":"")+(wt.ielt9?" leaflet-oldie":"")+(wt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Qf(f,"position");"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Br(this._mapPane,new zt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(f.markerPane,"leaflet-zoom-hide"),pt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,g,y){Br(this._mapPane,new zt(0,0));var x=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var T=this._zoom!==g;this._moveStart(T,y)._move(f,g)._moveEnd(T),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(f,g){return f&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(f,g,y,x){void 0===g&&(g=this._zoom);var T=this._zoom!==g;return this._zoom=g,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),x?y&&y.pinch&&this.fire("zoom",y):((T||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return La(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Br(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[gn(this._container)]=this;var g=f?pr:Qt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),wt.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){La(this._resizeRequest),this._resizeRequest=Vi(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,g){for(var x,y=[],T="mouseout"===g||"mouseover"===g,k=f.target||f.srcElement,ae=!1;k;){if((x=this._targets[gn(k)])&&("click"===g||"preclick"===g)&&this._draggableMoved(x)){ae=!0;break}if(x&&x.listens(g,!0)&&(T&&!Bv(k,f)||(y.push(x),T))||k===this._container)break;k=k.parentNode}return!y.length&&!ae&&!T&&this.listens(g,!0)&&(y=[this]),y},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var g=f.target||f.srcElement;if(!(!this._loaded||g._leaflet_disable_events||"click"===f.type&&this._isClickDisabled(g))){var y=f.type;"mousedown"===y&&QC(g),this._fireDOMEvent(f,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,g,y){if("click"===f.type){var x=En({},f);x.type="preclick",this._fireDOMEvent(x,x.type,y)}var T=this._findEventTargets(f,g);if(y){for(var k=[],ae=0;ae<y.length;ae++)y[ae].listens(g,!0)&&k.push(y[ae]);T=k.concat(T)}if(T.length){"contextmenu"===g&&Zi(f);var ve=T[0],Se={originalEvent:f};if("keypress"!==f.type&&"keydown"!==f.type&&"keyup"!==f.type){var He=ve.getLatLng&&(!ve._radius||ve._radius<=10);Se.containerPoint=He?this.latLngToContainerPoint(ve.getLatLng()):this.mouseEventToContainerPoint(f),Se.layerPoint=this.containerPointToLayerPoint(Se.containerPoint),Se.latlng=He?ve.getLatLng():this.layerPointToLatLng(Se.layerPoint)}for(ae=0;ae<T.length;ae++)if(T[ae].fire(g,Se,!0),Se.originalEvent._stopped||!1===T[ae].options.bubblingMouseEvents&&-1!==gl(this._mouseEvents,g))return}},_draggableMoved:function(f){return(f=f.dragging&&f.dragging.enabled()?f:this).dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,g=this._handlers.length;f<g;f++)this._handlers[f].disable()},whenReady:function(f,g){return this._loaded?f.call(g||this,{target:this}):this.on("load",f,g),this},_getMapPanePos:function(){return Ae(this._mapPane)||new zt(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,g){return(f&&void 0!==g?this._getNewPixelOrigin(f,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,g){var y=this.getSize()._divideBy(2);return this.project(f,g)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,g,y){var x=this._getNewPixelOrigin(y,g);return this.project(f,g)._subtract(x)},_latLngBoundsToNewLayerBounds:function(f,g,y){var x=this._getNewPixelOrigin(y,g);return Lo([this.project(f.getSouthWest(),g)._subtract(x),this.project(f.getNorthWest(),g)._subtract(x),this.project(f.getSouthEast(),g)._subtract(x),this.project(f.getNorthEast(),g)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,g,y){if(!y)return f;var x=this.project(f,g),T=this.getSize().divideBy(2),k=new Dr(x.subtract(T),x.add(T)),ae=this._getBoundsOffset(k,y,g);return Math.abs(ae.x)<=1&&Math.abs(ae.y)<=1?f:this.unproject(x.add(ae),g)},_limitOffset:function(f,g){if(!g)return f;var y=this.getPixelBounds(),x=new Dr(y.min.add(f),y.max.add(f));return f.add(this._getBoundsOffset(x,g))},_getBoundsOffset:function(f,g,y){var x=Lo(this.project(g.getNorthEast(),y),this.project(g.getSouthWest(),y)),T=x.min.subtract(f.min),k=x.max.subtract(f.max);return new zt(this._rebound(T.x,-k.x),this._rebound(T.y,-k.y))},_rebound:function(f,g){return f+g>0?Math.round(f-g)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(g))},_limitZoom:function(f){var g=this.getMinZoom(),y=this.getMaxZoom(),x=wt.any3d?this.options.zoomSnap:1;return x&&(f=Math.round(f/x)*x),Math.max(g,Math.min(y,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,g){var y=this._getCenterOffset(f)._trunc();return!(!0!==(g&&g.animate)&&!this.getSize().contains(y)||(this.panBy(y,g),0))},_createAnimProxy:function(){var f=this._proxy=Tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(g){var y=Mv,x=this._proxy.style[y];md(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),x===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){br(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),g=this.getZoom();md(this._proxy,this.project(f,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,g,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||!1===y.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(g),T=this._getCenterOffset(f)._divideBy(1-1/x);return!(!0!==y.animate&&!this.getSize().contains(T)||(Vi(function(){this._moveStart(!0,!1)._animateZoom(f,g,!0)},this),0))},_animateZoom:function(f,g,y,x){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=g,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:g,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(On(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Go=vl.extend({options:{position:"topright"},initialize:function(f){Pt(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var g=this._map;return g&&g.removeControl(this),this.options.position=f,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var g=this._container=this.onAdd(f),y=this.getPosition(),x=f._controlCorners[y];return pt(g,"leaflet-control"),-1!==y.indexOf("bottom")?x.insertBefore(g,x.firstChild):x.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(br(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),oc=function(f){return new Go(f)};Rn.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},g="leaflet-",y=this._controlContainer=Tt("div",g+"control-container",this._container);function x(T,k){f[T+k]=Tt("div",g+T+" "+g+k,y)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)br(this._controlCorners[f]);br(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gv=Go.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,g,y,x){return y<x?-1:x<y?1:0}},initialize:function(f,g,y){for(var x in Pt(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,f)this._addLayer(f[x],x);for(x in g)this._addLayer(g[x],x,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Go.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,g){return this._addLayer(f,g),this._map?this._update():this},addOverlay:function(f,g){return this._addLayer(f,g,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var g=this._getLayer(gn(f));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Tr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",g=this._container=Tt("div",f),y=this.options.collapsed;g.setAttribute("aria-haspopup",!0),nm(g),Nn(g);var x=this._section=Tt("section",f+"-list");y&&(this._map.on("click",this.collapse,this),Qt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Tt("a",f+"-toggle",g);T.href="#",T.title="Layers",T.setAttribute("role","button"),Qt(T,{keydown:function(k){13===k.keyCode&&this._expandSafely()},click:function(k){Zi(k),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=Tt("div",f+"-base",x),this._separator=Tt("div",f+"-separator",x),this._overlaysList=Tt("div",f+"-overlays",x),g.appendChild(x)},_getLayer:function(f){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&gn(this._layers[g].layer)===f)return this._layers[g]},_addLayer:function(f,g,y){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:g,overlay:y}),this.options.sortLayers&&this._layers.sort(On(function(x,T){return this.options.sortFunction(x.layer,T.layer,x.name,T.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;em(this._baseLayersList),em(this._overlaysList),this._layerControlInputs=[];var f,g,y,x,T=0;for(y=0;y<this._layers.length;y++)this._addItem(x=this._layers[y]),g=g||x.overlay,f=f||!x.overlay,T+=x.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(f=f&&T>1)?"":"none"),this._separator.style.display=g&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var g=this._getLayer(gn(f.target)),y=g.overlay?"add"===f.type?"overlayadd":"overlayremove":"add"===f.type?"baselayerchange":null;y&&this._map.fire(y,g)},_createRadioElement:function(f,g){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(g?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=y,x.firstChild},_addItem:function(f){var x,g=document.createElement("label"),y=this._map.hasLayer(f.layer);f.overlay?((x=document.createElement("input")).type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=y):x=this._createRadioElement("leaflet-base-layers_"+gn(this),y),this._layerControlInputs.push(x),x.layerId=gn(f.layer),Qt(x,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+f.name;var k=document.createElement("span");return g.appendChild(k),k.appendChild(x),k.appendChild(T),(f.overlay?this._overlaysList:this._baseLayersList).appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){var g,y,f=this._layerControlInputs,x=[],T=[];this._handlingClick=!0;for(var k=f.length-1;k>=0;k--)y=this._getLayer((g=f[k]).layerId).layer,g.checked?x.push(y):g.checked||T.push(y);for(k=0;k<T.length;k++)this._map.hasLayer(T[k])&&this._map.removeLayer(T[k]);for(k=0;k<x.length;k++)this._map.hasLayer(x[k])||this._map.addLayer(x[k]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var g,y,f=this._layerControlInputs,x=this._map.getZoom(),T=f.length-1;T>=0;T--)y=this._getLayer((g=f[T]).layerId).layer,g.disabled=void 0!==y.options.minZoom&&x<y.options.minZoom||void 0!==y.options.maxZoom&&x>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;Qt(f,"click",Zi),this.expand(),setTimeout(function(){pr(f,"click",Zi)})}}),Et=Go.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var g="leaflet-control-zoom",y=Tt("div",g+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,g+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,g+"-out",y,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,g,y,x,T){var k=Tt("a",y,x);return k.innerHTML=f,k.href="#",k.title=g,k.setAttribute("role","button"),k.setAttribute("aria-label",g),nm(k),Qt(k,"click",gd),Qt(k,"click",T,this),Qt(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var f=this._map,g="leaflet-disabled";Tr(this._zoomInButton,g),Tr(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(pt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(pt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rn.mergeOptions({zoomControl:!0}),Rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Et,this.addControl(this.zoomControl))});var ow=Go.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var g="leaflet-control-scale",y=Tt("div",g),x=this.options;return this._addScales(x,g+"-line",y),f.on(x.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),y},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,g,y){f.metric&&(this._mScale=Tt("div",g,y)),f.imperial&&(this._iScale=Tt("div",g,y))},_update:function(){var f=this._map,g=f.getSize().y/2,y=f.distance(f.containerPointToLatLng([0,g]),f.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(y)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var g=this._getRoundNum(f);this._updateScale(this._mScale,g<1e3?g+" m":g/1e3+" km",g/f)},_updateImperial:function(f){var y,x,T,g=3.2808399*f;g>5280?(x=this._getRoundNum(y=g/5280),this._updateScale(this._iScale,x+" mi",x/y)):(T=this._getRoundNum(g),this._updateScale(this._iScale,T+" ft",T/g))},_updateScale:function(f,g,y){f.style.width=Math.round(this.options.maxWidth*y)+"px",f.innerHTML=g},_getRoundNum:function(f){var g=Math.pow(10,(Math.floor(f)+"").length-1),y=f/g;return g*(y>=10?10:y>=5?5:y>=3?3:y>=2?2:1)}}),sw=Go.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(wt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(f){Pt(this,f),this._attributions={}},onAdd:function(f){for(var g in f.attributionControl=this,this._container=Tt("div","leaflet-control-attribution"),nm(this._container),f._layers)f._layers[g].getAttribution&&this.addAttribution(f._layers[g].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var g in this._attributions)this._attributions[g]&&f.push(g);var y=[];this.options.prefix&&y.push(this.options.prefix),f.length&&y.push(f.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Rn.mergeOptions({attributionControl:!0}),Rn.addInitHook(function(){this.options.attributionControl&&(new sw).addTo(this)});Go.Layers=Gv,Go.Zoom=Et,Go.Scale=ow,Go.Attribution=sw,oc.layers=function(f,g,y){return new Gv(f,g,y)},oc.zoom=function(f){return new Et(f)},oc.scale=function(f){return new ow(f)},oc.attribution=function(f){return new sw(f)};var yl=vl.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yl.addTo=function(f,g){return f.addHandler(g,this),this};var vd,$k={Events:ui},aR=wt.touch?"touchstart mousedown":"mousedown",Ba=qf.extend({options:{clickTolerance:3},initialize:function(f,g,y,x){Pt(this,x),this._element=f,this._dragStartTarget=g||f,this._preventOutline=y},enable:function(){this._enabled||(Qt(this._dragStartTarget,aR,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ba._dragging===this&&this.finishDrag(!0),pr(this._dragStartTarget,aR,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Jf(this._element,"leaflet-zoom-anim"))){if(f.touches&&1!==f.touches.length)return void(Ba._dragging===this&&this.finishDrag());if(!(Ba._dragging||f.shiftKey||1!==f.which&&1!==f.button&&!f.touches||(Ba._dragging=this,this._preventOutline&&QC(this._element),ZC(),au(),this._moving))){this.fire("down");var g=f.touches?f.touches[0]:f,y=rR(this._element);this._startPoint=new zt(g.clientX,g.clientY),this._startPos=Ae(this._element),this._parentScale=Fs(y);var x="mousedown"===f.type;Qt(document,x?"mousemove":"touchmove",this._onMove,this),Qt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1)return void(this._moved=!0);var g=f.touches&&1===f.touches.length?f.touches[0]:f,y=new zt(g.clientX,g.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Zi(f),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Br(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){Tr(document.body,"leaflet-dragging"),this._lastTarget&&(Tr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pr(document,"mousemove touchmove",this._onMove,this),pr(document,"mouseup touchend touchcancel",this._onUp,this),Lv(),kt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ba._dragging=!1}});function rm(f,g){if(!g||!f.length)return f.slice();var y=g*g;return function lR(f,g){var y=f.length,T=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(y);T[0]=T[y-1]=1,Hv(f,T,g,0,y-1);var k,ae=[];for(k=0;k<y;k++)T[k]&&ae.push(f[k]);return ae}(f=function lw(f,g){for(var y=[f[0]],x=1,T=0,k=f.length;x<k;x++)uw(f[x],f[T])>g&&(y.push(f[x]),T=x);return T<k-1&&y.push(f[k-1]),y}(f,y),y)}function nh(f,g,y){return Math.sqrt(Lt(f,g,y,!0))}function Hv(f,g,y,x,T){var ae,ve,Se,k=0;for(ve=x+1;ve<=T-1;ve++)(Se=Lt(f[ve],f[x],f[T],!0))>k&&(ae=ve,k=Se);k>y&&(g[ae]=1,Hv(f,g,y,x,ae),Hv(f,g,y,ae,T))}function ac(f,g,y,x,T){var ve,Se,He,k=x?vd:Te(f,y),ae=Te(g,y);for(vd=ae;;){if(!(k|ae))return[f,g];if(k&ae)return!1;He=Te(Se=im(f,g,ve=k||ae,y,T),y),ve===k?(f=Se,k=He):(g=Se,ae=He)}}function im(f,g,y,x,T){var He,ut,k=g.x-f.x,ae=g.y-f.y,ve=x.min,Se=x.max;return 8&y?(He=f.x+k*(Se.y-f.y)/ae,ut=Se.y):4&y?(He=f.x+k*(ve.y-f.y)/ae,ut=ve.y):2&y?(He=Se.x,ut=f.y+ae*(Se.x-f.x)/k):1&y&&(He=ve.x,ut=f.y+ae*(ve.x-f.x)/k),new zt(He,ut,T)}function Te(f,g){var y=0;return f.x<g.min.x?y|=1:f.x>g.max.x&&(y|=2),f.y<g.min.y?y|=4:f.y>g.max.y&&(y|=8),y}function uw(f,g){var y=g.x-f.x,x=g.y-f.y;return y*y+x*x}function Lt(f,g,y,x){var He,T=g.x,k=g.y,ae=y.x-T,ve=y.y-k,Se=ae*ae+ve*ve;return Se>0&&((He=((f.x-T)*ae+(f.y-k)*ve)/Se)>1?(T=y.x,k=y.y):He>0&&(T+=ae*He,k+=ve*He)),ae=f.x-T,ve=f.y-k,x?ae*ae+ve*ve:new zt(T,k)}function po(f){return!Nr(f[0])||"object"!=typeof f[0][0]&&typeof f[0][0]<"u"}function om(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),po(f)}function yd(f,g){var y,x,T,k,ae,ve,Se,He;if(!f||0===f.length)throw new Error("latlngs not passed");po(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var ut=[];for(var _t in f)ut.push(g.project(sr(f[_t])));var _n=ut.length;for(y=0,x=0;y<_n-1;y++)x+=ut[y].distanceTo(ut[y+1])/2;if(0===x)He=ut[0];else for(y=0,k=0;y<_n-1;y++)if((k+=T=(ae=ut[y]).distanceTo(ve=ut[y+1]))>x){He=[ve.x-(Se=(k-x)/T)*(ve.x-ae.x),ve.y-Se*(ve.y-ae.y)];break}return g.unproject(Ht(He))}var uR={__proto__:null,simplify:rm,pointToSegmentDistance:nh,closestPointOnSegment:function sR(f,g,y){return Lt(f,g,y)},clipSegment:ac,_getEdgeIntersection:im,_getBitCode:Te,_sqClosestPointOnSegment:Lt,isFlat:po,_flat:om,polylineCenter:yd};function cw(f,g,y){var x,k,ae,ve,Se,He,ut,_t,_n,T=[1,4,2,8];for(k=0,ut=f.length;k<ut;k++)f[k]._code=Te(f[k],g);for(ve=0;ve<4;ve++){for(_t=T[ve],x=[],k=0,ae=(ut=f.length)-1;k<ut;ae=k++)He=f[ae],(Se=f[k])._code&_t?He._code&_t||((_n=im(He,Se,_t,g,y))._code=Te(_n,g),x.push(_n)):(He._code&_t&&((_n=im(He,Se,_t,g,y))._code=Te(_n,g),x.push(_n)),x.push(Se));f=x}return f}function dw(f,g){var y,x,T,k,ae,ve,Se,He;if(!f||0===f.length)throw new Error("latlngs not passed");po(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var _t=[];for(var _n in f)_t.push(g.project(sr(f[_n])));var Ha=_t.length;for(ve=Se=He=0,y=0,x=Ha-1;y<Ha;x=y++)Se+=((T=_t[y]).x+(k=_t[x]).x)*(ae=T.y*k.x-k.y*T.x),He+=(T.y+k.y)*ae,ve+=3*ae;return g.unproject(Ht(0===ve?_t[0]:[Se/ve,He/ve]))}var su={__proto__:null,clipPolygon:cw,polygonCenter:dw},ma={project:function(f){return new zt(f.lng,f.lat)},unproject:function(f){return new Qn(f.y,f.x)},bounds:new Dr([-180,-90],[180,90])},fw={R:6378137,R_MINOR:6356752.314245179,bounds:new Dr([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(f){var g=Math.PI/180,y=this.R,x=f.lat*g,T=this.R_MINOR/y,k=Math.sqrt(1-T*T),ae=k*Math.sin(x),ve=Math.tan(Math.PI/4-x/2)/Math.pow((1-ae)/(1+ae),k/2);return x=-y*Math.log(Math.max(ve,1e-10)),new zt(f.lng*g*y,x)},unproject:function(f){for(var He,g=180/Math.PI,y=this.R,x=this.R_MINOR/y,T=Math.sqrt(1-x*x),k=Math.exp(-f.y/y),ae=Math.PI/2-2*Math.atan(k),ve=0,Se=.1;ve<15&&Math.abs(Se)>1e-7;ve++)He=T*Math.sin(ae),He=Math.pow((1-He)/(1+He),T/2),ae+=Se=Math.PI/2-2*Math.atan(k*He)-ae;return new Qn(ae*g,f.x*g/y)}},Kk={__proto__:null,LonLat:ma,Mercator:fw,SphericalMercator:jt},rs=En({},qn,{code:"EPSG:3395",projection:fw,transformation:function(){var f=.5/(Math.PI*fw.R);return Kp(f,.5,-f,.5)}()}),ks=En({},qn,{code:"EPSG:4326",projection:ma,transformation:Kp(1/180,1,-1/180,.5)}),zn=En({},Jn,{projection:ma,transformation:Kp(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,g){var y=g.lng-f.lng,x=g.lat-f.lat;return Math.sqrt(y*y+x*x)},infinite:!0});Jn.Earth=qn,Jn.EPSG3395=rs,Jn.EPSG3857=Yp,Jn.EPSG900913=BD,Jn.EPSG4326=ks,Jn.Simple=zn;var Vo=qf.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[gn(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[gn(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var g=f.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var y=this.getEvents();g.on(y,this),this.once("remove",function(){g.off(y,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Rn.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var g=gn(f);return this._layers[g]||(this._layers[g]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f)),this},removeLayer:function(f){var g=gn(f);return this._layers[g]?(this._loaded&&f.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return gn(f)in this._layers},eachLayer:function(f,g){for(var y in this._layers)f.call(g,this._layers[y]);return this},_addLayers:function(f){for(var g=0,y=(f=f?Nr(f)?f:[f]:[]).length;g<y;g++)this.addLayer(f[g])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[gn(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var g=gn(f);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,g=-1/0,y=this._getZoomSpan();for(var x in this._zoomBoundLayers){var T=this._zoomBoundLayers[x].options;f=void 0===T.minZoom?f:Math.min(f,T.minZoom),g=void 0===T.maxZoom?g:Math.max(g,T.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=f===1/0?void 0:f,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lu=Vo.extend({initialize:function(f,g){var y,x;if(Pt(this,g),this._layers={},f)for(y=0,x=f.length;y<x;y++)this.addLayer(f[y])},addLayer:function(f){var g=this.getLayerId(f);return this._layers[g]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var g=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(f){return("number"==typeof f?f:this.getLayerId(f))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var y,x,g=Array.prototype.slice.call(arguments,1);for(y in this._layers)(x=this._layers[y])[f]&&x[f].apply(x,g);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,g){for(var y in this._layers)f.call(g,this._layers[y]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return gn(f)}}),Ls=lu.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),lu.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),lu.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new No;for(var g in this._layers){var y=this._layers[g];f.extend(y.getBounds?y.getBounds():y.getLatLng())}return f}}),Ns=vl.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){Pt(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,g){var y=this._getIconUrl(f);if(!y){if("icon"===f)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(y,g&&"IMG"===g.tagName?g:null);return this._setIconStyles(x,f),(this.options.crossOrigin||""===this.options.crossOrigin)&&(x.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),x},_setIconStyles:function(f,g){var y=this.options,x=y[g+"Size"];"number"==typeof x&&(x=[x,x]);var T=Ht(x),k=Ht("shadow"===g&&y.shadowAnchor||y.iconAnchor||T&&T.divideBy(2,!0));f.className="leaflet-marker-"+g+" "+(y.className||""),k&&(f.style.marginLeft=-k.x+"px",f.style.marginTop=-k.y+"px"),T&&(f.style.width=T.x+"px",f.style.height=T.y+"px")},_createImg:function(f,g){return(g=g||document.createElement("img")).src=f,g},_getIconUrl:function(f){return wt.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});var Bn=Ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return"string"!=typeof Bn.imagePath&&(Bn.imagePath=this._detectIconPath()),(this.options.imagePath||Bn.imagePath)+Ns.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var g=function(y,x,T){var k=x.exec(y);return k&&k[T]};return(f=g(f,/^url\((['"])?(.+)\1\)$/,2))&&g(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=Tt("div","leaflet-default-icon-path",document.body),g=Qf(f,"background-image")||Qf(f,"backgroundImage");if(document.body.removeChild(f),g=this._stripUrl(g))return g;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),jv=yl.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Ba(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var g=this._marker,y=g._map,x=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,k=Ae(g._icon),ae=y.getPixelBounds(),ve=y.getPixelOrigin(),Se=Lo(ae.min._subtract(ve).add(T),ae.max._subtract(ve).subtract(T));if(!Se.contains(k)){var He=Ht((Math.max(Se.max.x,k.x)-Se.max.x)/(ae.max.x-Se.max.x)-(Math.min(Se.min.x,k.x)-Se.min.x)/(ae.min.x-Se.min.x),(Math.max(Se.max.y,k.y)-Se.max.y)/(ae.max.y-Se.max.y)-(Math.min(Se.min.y,k.y)-Se.min.y)/(ae.min.y-Se.min.y)).multiplyBy(x);y.panBy(He,{animate:!1}),this._draggable._newPos._add(He),this._draggable._startPos._add(He),Br(g._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=Vi(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(La(this._panRequest),this._panRequest=Vi(this._adjustPan.bind(this,f)))},_onDrag:function(f){var g=this._marker,y=g._shadow,x=Ae(g._icon),T=g._map.layerPointToLatLng(x);y&&Br(y,x),g._latlng=T,f.latlng=T,f.oldLatLng=this._oldLatLng,g.fire("move",f).fire("drag",f)},_onDragEnd:function(f){La(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),rh=Vo.extend({options:{icon:new Bn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,g){Pt(this,g),this._latlng=sr(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var g=this._latlng;return this._latlng=sr(f),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=f.icon.createIcon(this._icon),x=!1;y!==this._icon&&(this._icon&&this._removeIcon(),x=!0,f.title&&(y.title=f.title),"IMG"===y.tagName&&(y.alt=f.alt||"")),pt(y,g),f.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(y,"focus",this._panOnFocus,this);var T=f.icon.createShadow(this._shadow),k=!1;T!==this._shadow&&(this._removeShadow(),k=!0),T&&(pt(T,g),T.alt=""),this._shadow=T,f.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&k&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pr(this._icon,"focus",this._panOnFocus,this),br(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&br(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Br(this._icon,f),this._shadow&&Br(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var g=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jv)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jv(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&gt(this._icon,f),this._shadow&&gt(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var g=this.options.icon.options,y=g.iconSize?Ht(g.iconSize):Ht(0,0),x=g.iconAnchor?Ht(g.iconAnchor):Ht(0,0);f.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:y.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var on=Vo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return Pt(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),am=on.extend({options:{fill:!0,radius:10},initialize:function(f,g){Pt(this,g),this._latlng=sr(f),this._radius=this.options.radius},setLatLng:function(f){var g=this._latlng;return this._latlng=sr(f),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var g=f&&f.radius||this._radius;return on.prototype.setStyle.call(this,f),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,g=this._radiusY||f,y=this._clickTolerance(),x=[f+y,g+y];this._pxBounds=new Dr(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var bt=am.extend({initialize:function(f,g,y){if("number"==typeof g&&(g=En({},y,{radius:g})),Pt(this,g),this._latlng=sr(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new No(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:on.prototype.setStyle,_project:function(){var f=this._latlng.lng,g=this._latlng.lat,y=this._map,x=y.options.crs;if(x.distance===qn.distance){var T=Math.PI/180,k=this._mRadius/qn.R/T,ae=y.project([g+k,f]),ve=y.project([g-k,f]),Se=ae.add(ve).divideBy(2),He=y.unproject(Se).lat,ut=Math.acos((Math.cos(k*T)-Math.sin(g*T)*Math.sin(He*T))/(Math.cos(g*T)*Math.cos(He*T)))/T;(isNaN(ut)||0===ut)&&(ut=k/Math.cos(Math.PI/180*g)),this._point=Se.subtract(y.getPixelOrigin()),this._radius=isNaN(ut)?0:Se.x-y.project([He,f-ut]).x,this._radiusY=Se.y-ae.y}else{var _t=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(_t).x}this._updateBounds()}});var vn=on.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,g){Pt(this,g),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var T,k,g=1/0,y=null,x=Lt,ae=0,ve=this._parts.length;ae<ve;ae++)for(var Se=this._parts[ae],He=1,ut=Se.length;He<ut;He++){var _t=x(f,T=Se[He-1],k=Se[He],!0);_t<g&&(g=_t,y=x(f,T,k))}return y&&(y.distance=Math.sqrt(g)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,g){return g=g||this._defaultShape(),f=sr(f),g.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new No,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return po(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var g=[],y=po(f),x=0,T=f.length;x<T;x++)y?(g[x]=sr(f[x]),this._bounds.extend(g[x])):g[x]=this._convertLatLngs(f[x]);return g},_project:function(){var f=new Dr;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),g=new zt(f,f);this._rawPxBounds&&(this._pxBounds=new Dr([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(f,g,y){var k,ae,T=f.length;if(f[0]instanceof Qn){for(ae=[],k=0;k<T;k++)ae[k]=this._map.latLngToLayerPoint(f[k]),y.extend(ae[k]);g.push(ae)}else for(k=0;k<T;k++)this._projectLatlngs(f[k],g,y)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);var y,x,T,k,ae,ve,Se,g=this._parts;for(y=0,T=0,k=this._rings.length;y<k;y++)for(x=0,ae=(Se=this._rings[y]).length;x<ae-1;x++)(ve=ac(Se[x],Se[x+1],f,x,!0))&&(g[T]=g[T]||[],g[T].push(ve[0]),(ve[1]!==Se[x+1]||x===ae-2)&&(g[T].push(ve[1]),T++))}},_simplifyPoints:function(){for(var f=this._parts,g=this.options.smoothFactor,y=0,x=f.length;y<x;y++)f[y]=rm(f[y],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,g){var y,x,T,k,ae,ve,Se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(y=0,k=this._parts.length;y<k;y++)for(x=0,T=(ae=(ve=this._parts[y]).length)-1;x<ae;T=x++)if((g||0!==x)&&nh(f,ve[T],ve[x])<=Se)return!0;return!1}});vn._flat=om;var qr=vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dw(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var g=vn.prototype._convertLatLngs.call(this,f),y=g.length;return y>=2&&g[0]instanceof Qn&&g[0].equals(g[y-1])&&g.pop(),g},_setLatLngs:function(f){vn.prototype._setLatLngs.call(this,f),po(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return po(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,g=this.options.weight,y=new zt(g,g);if(f=new Dr(f.min.subtract(y),f.max.add(y)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);for(var k,x=0,T=this._rings.length;x<T;x++)(k=cw(this._rings[x],f,!0)).length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var y,x,T,k,ae,ve,Se,He,g=!1;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(k=0,Se=this._parts.length;k<Se;k++)for(ae=0,ve=(He=(y=this._parts[k]).length)-1;ae<He;ve=ae++)(x=y[ae]).y>f.y!=(T=y[ve]).y>f.y&&f.x<(T.x-x.x)*(f.y-x.y)/(T.y-x.y)+x.x&&(g=!g);return g||vn.prototype._containsPoint.call(this,f,!0)}});var Gr=Ls.extend({initialize:function(f,g){Pt(this,g),this._layers={},f&&this.addData(f)},addData:function(f){var y,x,T,g=Nr(f)?f:f.features;if(g){for(y=0,x=g.length;y<x;y++)((T=g[y]).geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var k=this.options;if(k.filter&&!k.filter(f))return this;var ae=Ga(f,k);return ae?(ae.feature=wl(f),ae.defaultOptions=ae.options,this.resetStyle(ae),k.onEachFeature&&k.onEachFeature(f,ae),this.addLayer(ae)):this},resetStyle:function(f){return void 0===f?this.eachLayer(this.resetStyle,this):(f.options=En({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(g){this._setLayerStyle(g,f)},this)},_setLayerStyle:function(f,g){f.setStyle&&("function"==typeof g&&(g=g(f.feature)),f.setStyle(g))}});function Ga(f,g){var ve,Se,He,ut,y="Feature"===f.type?f.geometry:f,x=y?y.coordinates:null,T=[],k=g&&g.pointToLayer,ae=g&&g.coordsToLatLng||$t;if(!x&&!y)return null;switch(y.type){case"Point":return ft(k,f,ve=ae(x),g);case"MultiPoint":for(He=0,ut=x.length;He<ut;He++)ve=ae(x[He]),T.push(ft(k,f,ve,g));return new Ls(T);case"LineString":case"MultiLineString":return Se=mr(x,"LineString"===y.type?0:1,ae),new vn(Se,g);case"Polygon":case"MultiPolygon":return Se=mr(x,"Polygon"===y.type?1:2,ae),new qr(Se,g);case"GeometryCollection":for(He=0,ut=y.geometries.length;He<ut;He++){var _t=Ga({geometry:y.geometries[He],type:"Feature",properties:f.properties},g);_t&&T.push(_t)}return new Ls(T);case"FeatureCollection":for(He=0,ut=y.features.length;He<ut;He++){var _n=Ga(y.features[He],g);_n&&T.push(_n)}return new Ls(T);default:throw new Error("Invalid GeoJSON object.")}}function ft(f,g,y,x){return f?f(g,y):new rh(y,x&&x.markersInheritOptions&&x)}function $t(f){return new Qn(f[1],f[0],f[2])}function mr(f,g,y){for(var ae,x=[],T=0,k=f.length;T<k;T++)ae=g?mr(f[T],g-1,y):(y||$t)(f[T]),x.push(ae);return x}function ga(f,g){return void 0!==(f=sr(f)).alt?[Wt(f.lng,g),Wt(f.lat,g),Wt(f.alt,g)]:[Wt(f.lng,g),Wt(f.lat,g)]}function Bs(f,g,y,x){for(var T=[],k=0,ae=f.length;k<ae;k++)T.push(g?Bs(f[k],po(f[k])?0:g-1,y,x):ga(f[k],x));return!g&&y&&T.push(T[0].slice()),T}function Vr(f,g){return f.feature?En({},f.feature,{geometry:g}):wl(g)}function wl(f){return"Feature"===f.type||"FeatureCollection"===f.type?f:{type:"Feature",properties:{},geometry:f}}var Or={toGeoJSON:function(f){return Vr(this,{type:"Point",coordinates:ga(this.getLatLng(),f)})}};function ih(f,g){return new Gr(f,g)}rh.include(Or),bt.include(Or),am.include(Or),vn.include({toGeoJSON:function(f){var g=!po(this._latlngs);return Vr(this,{type:(g?"Multi":"")+"LineString",coordinates:Bs(this._latlngs,g?1:0,!1,f)})}}),qr.include({toGeoJSON:function(f){var g=!po(this._latlngs),y=g&&!po(this._latlngs[0]),x=Bs(this._latlngs,y?2:g?1:0,!0,f);return g||(x=[x]),Vr(this,{type:(y?"Multi":"")+"Polygon",coordinates:x})}}),lu.include({toMultiPoint:function(f){var g=[];return this.eachLayer(function(y){g.push(y.toGeoJSON(f).geometry.coordinates)}),Vr(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(f){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(f);var y="GeometryCollection"===g,x=[];return this.eachLayer(function(T){if(T.toGeoJSON){var k=T.toGeoJSON(f);if(y)x.push(k.geometry);else{var ae=wl(k);"FeatureCollection"===ae.type?x.push.apply(x,ae.features):x.push(ae)}}}),y?Vr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});var sm=ih,Kt=Vo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,g,y){this._url=f,this._bounds=Yt(g),Pt(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){br(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&ou(this._image),this},bringToBack:function(){return this._map&&kn(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=Yt(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f="IMG"===this._url.tagName,g=this._image=f?this._url:Tt("img");pt(g,"leaflet-image-layer"),this._zoomAnimated&&pt(g,"leaflet-zoom-animated"),this.options.className&&pt(g,this.options.className),g.onselectstart=Fn,g.onmousemove=Fn,g.onload=On(this.fire,this,"load"),g.onerror=On(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(f){var g=this._map.getZoomScale(f.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;md(this._image,y,g)},_reset:function(){var f=this._image,g=new Dr(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=g.getSize();Br(f,g.min),f.style.width=y.x+"px",f.style.height=y.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),wd=Kt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f="VIDEO"===this._url.tagName,g=this._image=f?this._url:Tt("video");if(pt(g,"leaflet-image-layer"),this._zoomAnimated&&pt(g,"leaflet-zoom-animated"),this.options.className&&pt(g,this.options.className),g.onselectstart=Fn,g.onmousemove=Fn,g.onloadeddata=On(this.fire,this,"load"),f){for(var y=g.getElementsByTagName("source"),x=[],T=0;T<y.length;T++)x.push(y[T].src);this._url=y.length>0?x:[g.src]}else{Nr(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var ae=Tt("source");ae.src=this._url[k],g.appendChild(ae)}}}});var sc=Kt.extend({_initImage:function(){var f=this._image=this._url;pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=Fn,f.onmousemove=Fn}});var Wo=Vo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,g){f&&(f instanceof Qn||Nr(f))?(this._latlng=sr(f),Pt(this,g)):(Pt(this,f),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(f){return(f=arguments.length?f:this._source._map).hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(On(br,void 0,this._container),200)):br(this._container),this.options.interactive&&(Tr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=sr(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ou(this._container),this},bringToBack:function(){return this._map&&kn(this._container),this},_prepareOpen:function(f){var g=this._source;if(!g._map)return!1;if(g instanceof Ls){g=null;var y=this._source._layers;for(var x in y)if(y[x]._map){g=y[x];break}if(!g)return!1;this._source=g}if(!f)if(g.getCenter)f=g.getCenter();else if(g.getLatLng)f=g.getLatLng();else{if(!g.getBounds)throw new Error("Unable to get source layer LatLng.");f=g.getBounds().getCenter()}return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,g="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof g)f.innerHTML=g;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),g=Ht(this.options.offset),y=this._getAnchor();this._zoomAnimated?Br(this._container,f.add(y)):g=g.add(f).add(y);var x=this._containerBottom=-g.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=x+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Rn.include({_initOverlay:function(f,g,y,x){var T=g;return T instanceof f||(T=new f(x).setContent(g)),y&&T.setLatLng(y),T}}),Vo.include({_initOverlay:function(f,g,y,x){var T=y;return T instanceof f?(Pt(T,x),T._source=this):(T=g&&!x?g:new f(x,this)).setContent(y),T}});var bl=Wo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return!(f=arguments.length?f:this._source._map).hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,Wo.prototype.openOn.call(this,f)},onAdd:function(f){Wo.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof on||this._source.on("preclick",Ei))},onRemove:function(f){Wo.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof on||this._source.off("preclick",Ei))},getEvents:function(){var f=Wo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",g=this._container=Tt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=Tt("div",f+"-content-wrapper",g);if(this._contentNode=Tt("div",f+"-content",y),nm(g),Nn(this._contentNode),Qt(g,"contextmenu",Ei),this._tipContainer=Tt("div",f+"-tip-container",g),this._tip=Tt("div",f+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Tt("a",f+"-close-button",g);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(x,"click",function(T){Zi(T),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,g=f.style;g.width="",g.whiteSpace="nowrap";var y=f.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),g.width=y+1+"px",g.whiteSpace="",g.height="";var T=this.options.maxHeight,k="leaflet-popup-scrolled";T&&f.offsetHeight>T?(g.height=T+"px",pt(f,k)):Tr(f,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var g=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),y=this._getAnchor();Br(this._container,g.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var f=this._map,g=parseInt(Qf(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+g,x=this._containerWidth,T=new zt(this._containerLeft,-y-this._containerBottom);T._add(Ae(this._container));var k=f.layerPointToContainerPoint(T),ae=Ht(this.options.autoPanPadding),ve=Ht(this.options.autoPanPaddingTopLeft||ae),Se=Ht(this.options.autoPanPaddingBottomRight||ae),He=f.getSize(),ut=0,_t=0;k.x+x+Se.x>He.x&&(ut=k.x+x-He.x+Se.x),k.x-ut-ve.x<0&&(ut=k.x-ve.x),k.y+y+Se.y>He.y&&(_t=k.y+y-He.y+Se.y),k.y-_t-ve.y<0&&(_t=k.y-ve.y),(ut||_t)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([ut,_t]))}},_getAnchor:function(){return Ht(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Rn.mergeOptions({closePopupOnClick:!0}),Rn.include({openPopup:function(f,g,y){return this._initOverlay(bl,f,g,y).openOn(this),this},closePopup:function(f){return(f=arguments.length?f:this._popup)&&f.close(),this}}),Vo.include({bindPopup:function(f,g){return this._popup=this._initOverlay(bl,this._popup,f,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Ls||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(this._popup&&this._map){gd(f);var g=f.layer||f.target;if(this._popup._source===g&&!(g instanceof on))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng));this._popup._source=g,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){13===f.originalEvent.keyCode&&this._openPopup(f)}});var uu=Wo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){Wo.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){Wo.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=Wo.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){this._contentNode=this._container=Tt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+gn(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var g,y,x=this._map,T=this._container,k=x.latLngToContainerPoint(x.getCenter()),ae=x.layerPointToContainerPoint(f),ve=this.options.direction,Se=T.offsetWidth,He=T.offsetHeight,ut=Ht(this.options.offset),_t=this._getAnchor();"top"===ve?(g=Se/2,y=He):"bottom"===ve?(g=Se/2,y=0):"center"===ve?(g=Se/2,y=He/2):"right"===ve?(g=0,y=He/2):"left"===ve?(g=Se,y=He/2):ae.x<k.x?(ve="right",g=0,y=He/2):(ve="left",g=Se+2*(ut.x+_t.x),y=He/2),f=f.subtract(Ht(g,y,!0)).add(ut).add(_t),Tr(T,"leaflet-tooltip-right"),Tr(T,"leaflet-tooltip-left"),Tr(T,"leaflet-tooltip-top"),Tr(T,"leaflet-tooltip-bottom"),pt(T,"leaflet-tooltip-"+ve),Br(T,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&gt(this._container,f)},_animateZoom:function(f){var g=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(g)},_getAnchor:function(){return Ht(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Rn.include({openTooltip:function(f,g,y){return this._initOverlay(uu,f,g,y).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Vo.include({bindTooltip:function(f,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(uu,this._tooltip,f,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(f||!this._tooltipHandlersAdded){var g=f?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[g](y),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Ls||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var g=f.getElement();g&&(Qt(g,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),Qt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var g=f.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0))},_moveTooltip:function(f){var y,x,g=f.latlng;this._tooltip.options.sticky&&f.originalEvent&&(y=this._map.mouseEventToContainerPoint(f.originalEvent),x=this._map.containerPointToLayerPoint(y),g=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(g)}});var hr=Ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var g=f&&"DIV"===f.tagName?f:document.createElement("div"),y=this.options;if(y.html instanceof Element?(em(g),g.appendChild(y.html)):g.innerHTML=!1!==y.html?y.html:"",y.bgPos){var x=Ht(y.bgPos);g.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});Ns.Default=Bn;var lc=Vo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:wt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){Pt(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),br(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ou(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ko(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof zt?f:new zt(f,f)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var k,g=this.getPane().children,y=-f(-1/0,1/0),x=0,T=g.length;x<T;x++)k=g[x].style.zIndex,g[x]!==this._container&&k&&(y=f(y,+k));isFinite(y)&&(this.options.zIndex=y+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!wt.ielt9){gt(this._container,this.options.opacity);var f=+new Date,g=!1,y=!1;for(var x in this._tiles){var T=this._tiles[x];if(T.current&&T.loaded){var k=Math.min(1,(f-T.loaded)/200);gt(T.el,k),k<1?g=!0:(T.active?y=!0:this._onOpaqueTile(T),T.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),g&&(La(this._fadeFrame),this._fadeFrame=Vi(this._updateOpacity,this))}},_onOpaqueTile:Fn,_initContainer:function(){this._container||(this._container=Tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,g=this.options.maxZoom;if(void 0!==f){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===f?(this._levels[y].el.style.zIndex=g-Math.abs(f-y),this._onUpdateLevel(y)):(br(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var x=this._levels[f],T=this._map;return x||((x=this._levels[f]={}).el=Tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=g,x.origin=T.project(T.unproject(T.getPixelOrigin()),f).round(),x.zoom=f,this._setZoomTransform(x,T.getCenter(),T.getZoom()),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:Fn,_onRemoveLevel:Fn,_onCreateLevel:Fn,_pruneTiles:function(){if(this._map){var f,g,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom)return void this._removeAllTiles();for(f in this._tiles)(g=this._tiles[f]).retain=g.current;for(f in this._tiles)if((g=this._tiles[f]).current&&!g.active){var x=g.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var g in this._tiles)this._tiles[g].coords.z===f&&this._removeTile(g)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)br(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,g,y,x){var T=Math.floor(f/2),k=Math.floor(g/2),ae=y-1,ve=new zt(+T,+k);ve.z=+ae;var Se=this._tileCoordsToKey(ve),He=this._tiles[Se];return He&&He.active?(He.retain=!0,!0):(He&&He.loaded&&(He.retain=!0),ae>x&&this._retainParent(T,k,ae,x))},_retainChildren:function(f,g,y,x){for(var T=2*f;T<2*f+2;T++)for(var k=2*g;k<2*g+2;k++){var ae=new zt(T,k);ae.z=y+1;var ve=this._tileCoordsToKey(ae),Se=this._tiles[ve];Se&&Se.active?Se.retain=!0:(Se&&Se.loaded&&(Se.retain=!0),y+1<x&&this._retainChildren(T,k,y+1,x))}},_resetView:function(f){var g=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var g=this.options;return void 0!==g.minNativeZoom&&f<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<f?g.maxNativeZoom:f},_setView:function(f,g,y,x){var T=Math.round(g);T=void 0!==this.options.maxZoom&&T>this.options.maxZoom||void 0!==this.options.minZoom&&T<this.options.minZoom?void 0:this._clampZoom(T),(!x||this.options.updateWhenZooming&&T!==this._tileZoom)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==T&&this._update(f),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(f,g)},_setZoomTransforms:function(f,g){for(var y in this._levels)this._setZoomTransform(this._levels[y],f,g)},_setZoomTransform:function(f,g,y){var x=this._map.getZoomScale(y,f.zoom),T=f.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(g,y)).round();wt.any3d?md(f.el,T,x):Br(f.el,T)},_resetGrid:function(){var f=this._map,g=f.options.crs,y=this._tileSize=this.getTileSize(),x=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,g.wrapLng[0]],x).x/y.x),Math.ceil(f.project([0,g.wrapLng[1]],x).x/y.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([g.wrapLat[0],0],x).y/y.x),Math.ceil(f.project([g.wrapLat[1],0],x).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var g=this._map,y=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),x=g.getZoomScale(y,this._tileZoom),T=g.project(f,this._tileZoom).floor(),k=g.getSize().divideBy(2*x);return new Dr(T.subtract(k),T.add(k))},_update:function(f){var g=this._map;if(g){var y=this._clampZoom(g.getZoom());if(void 0===f&&(f=g.getCenter()),void 0!==this._tileZoom){var x=this._getTiledPixelBounds(f),T=this._pxBoundsToTileRange(x),k=T.getCenter(),ae=[],ve=this.options.keepBuffer,Se=new Dr(T.getBottomLeft().subtract([ve,-ve]),T.getTopRight().add([ve,-ve]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var He in this._tiles){var ut=this._tiles[He].coords;(ut.z!==this._tileZoom||!Se.contains(new zt(ut.x,ut.y)))&&(this._tiles[He].current=!1)}if(Math.abs(y-this._tileZoom)>1)return void this._setView(f,y);for(var _t=T.min.y;_t<=T.max.y;_t++)for(var _n=T.min.x;_n<=T.max.x;_n++){var Ha=new zt(_n,_t);if(Ha.z=this._tileZoom,this._isValidTile(Ha)){var fc=this._tiles[this._tileCoordsToKey(Ha)];fc?fc.current=!0:ae.push(Ha)}}if(ae.sort(function(El,zv){return El.distanceTo(k)-zv.distanceTo(k)}),0!==ae.length){this._loading||(this._loading=!0,this.fire("loading"));var sh=document.createDocumentFragment();for(_n=0;_n<ae.length;_n++)this._addTile(ae[_n],sh);this._level.el.appendChild(sh)}}}},_isValidTile:function(f){var g=this._map.options.crs;if(!g.infinite){var y=this._globalTileRange;if(!g.wrapLng&&(f.x<y.min.x||f.x>y.max.x)||!g.wrapLat&&(f.y<y.min.y||f.y>y.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(f);return Yt(this.options.bounds).overlaps(x)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var g=this._map,y=this.getTileSize(),x=f.scaleBy(y),T=x.add(y);return[g.unproject(x,f.z),g.unproject(T,f.z)]},_tileCoordsToBounds:function(f){var g=this._tileCoordsToNwSe(f),y=new No(g[0],g[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var g=f.split(":"),y=new zt(+g[0],+g[1]);return y.z=+g[2],y},_removeTile:function(f){var g=this._tiles[f];g&&(br(g.el),delete this._tiles[f],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){pt(f,"leaflet-tile");var g=this.getTileSize();f.style.width=g.x+"px",f.style.height=g.y+"px",f.onselectstart=Fn,f.onmousemove=Fn,wt.ielt9&&this.options.opacity<1&&gt(f,this.options.opacity)},_addTile:function(f,g){var y=this._getTilePos(f),x=this._tileCoordsToKey(f),T=this.createTile(this._wrapCoords(f),On(this._tileReady,this,f));this._initTile(T),this.createTile.length<2&&Vi(On(this._tileReady,this,f,null,T)),Br(T,y),this._tiles[x]={el:T,coords:f,current:!0},g.appendChild(T),this.fire("tileloadstart",{tile:T,coords:f})},_tileReady:function(f,g,y){g&&this.fire("tileerror",{error:g,tile:y,coords:f});var x=this._tileCoordsToKey(f);(y=this._tiles[x])&&(y.loaded=+new Date,this._map._fadeAnimated?(gt(y.el,0),La(this._fadeFrame),this._fadeFrame=Vi(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),g||(pt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wt.ielt9||!this._map._fadeAnimated?Vi(this._pruneTiles,this):setTimeout(On(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var g=new zt(this._wrapX?ml(f.x,this._wrapX):f.x,this._wrapY?ml(f.y,this._wrapY):f.y);return g.z=f.z,g},_pxBoundsToTileRange:function(f){var g=this.getTileSize();return new Dr(f.min.unscaleBy(g).floor(),f.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});var xl=lc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,g){this._url=f,(g=Pt(this,g)).detectRetina&&wt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),"string"==typeof g.subdomains&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,g){return this._url===f&&void 0===g&&(g=!0),this._url=f,g||this.redraw(),this},createTile:function(f,g){var y=document.createElement("img");return Qt(y,"load",On(this._tileOnLoad,this,g,y)),Qt(y,"error",On(this._tileOnError,this,g,y)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(y.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(f),y},getTileUrl:function(f){var g={r:wt.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-f.y;this.options.tms&&(g.y=y),g["-y"]=y}return nc(this._url,En(g,this.options))},_tileOnLoad:function(f,g){wt.ielt9?setTimeout(On(f,this,null,g),0):f(null,g)},_tileOnError:function(f,g,y){var x=this.options.errorTileUrl;x&&g.getAttribute("src")!==x&&(g.src=x),f(y,g)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom;return this.options.zoomReverse&&(f=this.options.maxZoom-f),f+this.options.zoomOffset},_getSubdomain:function(f){var g=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var f,g;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&((g=this._tiles[f].el).onload=Fn,g.onerror=Fn,!g.complete)){g.src=nu;var y=this._tiles[f].coords;br(g),delete this._tiles[f],this.fire("tileabort",{tile:g,coords:y})}},_removeTile:function(f){var g=this._tiles[f];if(g)return g.el.setAttribute("src",nu),lc.prototype._removeTile.call(this,f)},_tileReady:function(f,g,y){if(this._map&&(!y||y.getAttribute("src")!==nu))return lc.prototype._tileReady.call(this,f,g,y)}});function oh(f,g){return new xl(f,g)}var uc=xl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,g){this._url=f;var y=En({},this.defaultWmsParams);for(var x in g)x in this.options||(y[x]=g[x]);var T=(g=Pt(this,g)).detectRetina&&wt.retina?2:1,k=this.getTileSize();y.width=k.x*T,y.height=k.y*T,this.wmsParams=y},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,xl.prototype.onAdd.call(this,f)},getTileUrl:function(f){var g=this._tileCoordsToNwSe(f),y=this._crs,x=Lo(y.project(g[0]),y.project(g[1])),T=x.min,k=x.max,ae=(this._wmsVersion>=1.3&&this._crs===ks?[T.y,T.x,k.y,k.x]:[T.x,T.y,k.x,k.y]).join(","),ve=xl.prototype.getTileUrl.call(this,f);return ve+Xi(this.wmsParams,ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ae},setParams:function(f,g){return En(this.wmsParams,f),g||this.redraw(),this}});xl.WMS=uc,oh.wms=function mo(f,g){return new uc(f,g)};var cu=Vo.extend({options:{padding:.1},initialize:function(f){Pt(this,f),gn(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,g){var y=this._map.getZoomScale(g,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,g),k=x.multiplyBy(-y).add(T).subtract(this._map._getNewPixelOrigin(f,g));wt.any3d?md(this._container,k,y):Br(this._container,k)},_reset:function(){for(var f in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,g=this._map.getSize(),y=this._map.containerPointToLayerPoint(g.multiplyBy(-f)).round();this._bounds=new Dr(y,y.add(g.multiplyBy(1+2*f)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jo=cu.extend({options:{tolerance:0},getEvents:function(){var f=cu.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cu.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");Qt(f,"mousemove",this._onMouseMove,this),Qt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){La(this._redrawRequest),delete this._ctx,br(this._container),pr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var g in this._redrawBounds=null,this._layers)this._layers[g]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){cu.prototype._update.call(this);var f=this._bounds,g=this._container,y=f.getSize(),x=wt.retina?2:1;Br(g,f.min),g.width=x*y.x,g.height=x*y.y,g.style.width=y.x+"px",g.style.height=y.y+"px",wt.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){cu.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[gn(f)]=f;var g=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var g=f._order,y=g.next,x=g.prev;y?y.prev=x:this._drawLast=x,x?x.next=y:this._drawFirst=y,delete f._order,delete this._layers[gn(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if("string"==typeof f.options.dashArray){var x,T,g=f.options.dashArray.split(/[, ]+/),y=[];for(T=0;T<g.length;T++){if(x=Number(g[T]),isNaN(x))return;y.push(x)}f.options._dashArray=y}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||Vi(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var g=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Dr,this._redrawBounds.extend(f._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(f._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var g=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,g=this._redrawBounds;if(this._ctx.save(),g){var y=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)f=x.layer,(!g||f._pxBounds&&f._pxBounds.intersects(g))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,g){if(this._drawing){var y,x,T,k,ae=f._parts,ve=ae.length,Se=this._ctx;if(ve){for(Se.beginPath(),y=0;y<ve;y++){for(x=0,T=ae[y].length;x<T;x++)Se[x?"lineTo":"moveTo"]((k=ae[y][x]).x,k.y);g&&Se.closePath()}this._fillStroke(Se,f)}}},_updateCircle:function(f){if(this._drawing&&!f._empty()){var g=f._point,y=this._ctx,x=Math.max(Math.round(f._radius),1),T=(Math.max(Math.round(f._radiusY),1)||x)/x;1!==T&&(y.save(),y.scale(1,T)),y.beginPath(),y.arc(g.x,g.y/T,x,0,2*Math.PI,!1),1!==T&&y.restore(),this._fillStroke(y,f)}},_fillStroke:function(f,g){var y=g.options;y.fill&&(f.globalAlpha=y.fillOpacity,f.fillStyle=y.fillColor||y.color,f.fill(y.fillRule||"evenodd")),y.stroke&&0!==y.weight&&(f.setLineDash&&f.setLineDash(g.options&&g.options._dashArray||[]),f.globalAlpha=y.opacity,f.lineWidth=y.weight,f.strokeStyle=y.color,f.lineCap=y.lineCap,f.lineJoin=y.lineJoin,f.stroke())},_onClick:function(f){for(var y,x,g=this._map.mouseEventToLayerPoint(f),T=this._drawFirst;T;T=T.next)(y=T.layer).options.interactive&&y._containsPoint(g)&&("click"!==f.type&&"preclick"!==f.type||!this._map._draggableMoved(y))&&(x=y);this._fireEvent(!!x&&[x],f)},_onMouseMove:function(f){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,g)}},_handleMouseOut:function(f){var g=this._hoveredLayer;g&&(Tr(this._container,"leaflet-interactive"),this._fireEvent([g],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,g){if(!this._mouseHoverThrottled){for(var y,x,T=this._drawFirst;T;T=T.next)(y=T.layer).options.interactive&&y._containsPoint(g)&&(x=y);x!==this._hoveredLayer&&(this._handleMouseOut(f),x&&(pt(this._container,"leaflet-interactive"),this._fireEvent([x],f,"mouseover"),this._hoveredLayer=x)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],f),this._mouseHoverThrottled=!0,setTimeout(On(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,g,y){this._map._fireDOMEvent(g,y||g.type,f)},_bringToFront:function(f){var g=f._order;if(g){var y=g.next,x=g.prev;if(!y)return;y.prev=x,x?x.next=y:y&&(this._drawFirst=y),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(f)}},_bringToBack:function(f){var g=f._order;if(g){var y=g.next,x=g.prev;if(!x)return;x.next=y,y?y.prev=x:x&&(this._drawLast=x),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(f)}}});function Va(f){return wt.canvas?new jo(f):null}var cc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ah={_initContainer:function(){this._container=Tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cu.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var g=f._container=cc("shape");pt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",f._path=cc("path"),g.appendChild(f._path),this._updateStyle(f),this._layers[gn(f)]=f},_addPath:function(f){var g=f._container;this._container.appendChild(g),f.options.interactive&&f.addInteractiveTarget(g)},_removePath:function(f){var g=f._container;br(g),f.removeInteractiveTarget(g),delete this._layers[gn(f)]},_updateStyle:function(f){var g=f._stroke,y=f._fill,x=f.options,T=f._container;T.stroked=!!x.stroke,T.filled=!!x.fill,x.stroke?(g||(g=f._stroke=cc("stroke")),T.appendChild(g),g.weight=x.weight+"px",g.color=x.color,g.opacity=x.opacity,g.dashStyle=x.dashArray?Nr(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):"",g.endcap=x.lineCap.replace("butt","flat"),g.joinstyle=x.lineJoin):g&&(T.removeChild(g),f._stroke=null),x.fill?(y||(y=f._fill=cc("fill")),T.appendChild(y),y.color=x.fillColor||x.color,y.opacity=x.fillOpacity):y&&(T.removeChild(y),f._fill=null)},_updateCircle:function(f){var g=f._point.round(),y=Math.round(f._radius),x=Math.round(f._radiusY||y);this._setPath(f,f._empty()?"M0 0":"AL "+g.x+","+g.y+" "+y+","+x+" 0,23592600")},_setPath:function(f,g){f._path.v=g},_bringToFront:function(f){ou(f._container)},_bringToBack:function(f){kn(f._container)}},dc=wt.vml?cc:GD,go=cu.extend({_initContainer:function(){this._container=dc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){br(this._container),pr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){cu.prototype._update.call(this);var f=this._bounds,g=f.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,y.setAttribute("width",g.x),y.setAttribute("height",g.y)),Br(y,f.min),y.setAttribute("viewBox",[f.min.x,f.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(f){var g=f._path=dc("path");f.options.className&&pt(g,f.options.className),f.options.interactive&&pt(g,"leaflet-interactive"),this._updateStyle(f),this._layers[gn(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){br(f._path),f.removeInteractiveTarget(f._path),delete this._layers[gn(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var g=f._path,y=f.options;g&&(y.stroke?(g.setAttribute("stroke",y.color),g.setAttribute("stroke-opacity",y.opacity),g.setAttribute("stroke-width",y.weight),g.setAttribute("stroke-linecap",y.lineCap),g.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?g.setAttribute("stroke-dasharray",y.dashArray):g.removeAttribute("stroke-dasharray"),y.dashOffset?g.setAttribute("stroke-dashoffset",y.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),y.fill?(g.setAttribute("fill",y.fillColor||y.color),g.setAttribute("fill-opacity",y.fillOpacity),g.setAttribute("fill-rule",y.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(f,g){this._setPath(f,VD(f._parts,g))},_updateCircle:function(f){var g=f._point,y=Math.max(Math.round(f._radius),1),T="a"+y+","+(Math.max(Math.round(f._radiusY),1)||y)+" 0 1,0 ",k=f._empty()?"M0 0":"M"+(g.x-y)+","+g.y+T+2*y+",0 "+T+2*-y+",0 ";this._setPath(f,k)},_setPath:function(f,g){f._path.setAttribute("d",g)},_bringToFront:function(f){ou(f._path)},_bringToBack:function(f){kn(f._path)}});function _w(f){return wt.svg||wt.vml?new go(f):null}wt.vml&&go.include(ah),Rn.include({getRenderer:function(f){var g=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(f){if("overlayPane"===f||void 0===f)return!1;var g=this._paneRenderers[f];return void 0===g&&(g=this._createRenderer({pane:f}),this._paneRenderers[f]=g),g},_createRenderer:function(f){return this.options.preferCanvas&&Va(f)||_w(f)}});var dR=qr.extend({initialize:function(f,g){qr.prototype.initialize.call(this,this._boundsToLatLngs(f),g)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return[(f=Yt(f)).getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});go.create=dc,go.pointsToPath=VD,Gr.geometryToLayer=Ga,Gr.coordsToLatLng=$t,Gr.coordsToLatLngs=mr,Gr.latLngToCoords=ga,Gr.latLngsToCoords=Bs,Gr.getFeature=Vr,Gr.asFeature=wl,Rn.mergeOptions({boxZoom:!0});var yw=yl.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){br(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||1!==f.which&&1!==f.button)return!1;this._clearDeferredResetState(),this._resetState(),au(),ZC(),this._startPoint=this._map.mouseEventToContainerPoint(f),Qt(document,{contextmenu:gd,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=Tt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var g=new Dr(this._point,this._startPoint),y=g.getSize();Br(this._box,g.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(br(this._box),Tr(this._container,"leaflet-crosshair")),kt(),Lv(),pr(document,{contextmenu:gd,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if((1===f.which||1===f.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(On(this._resetState,this),0);var g=new No(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(f){27===f.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rn.addInitHook("addHandler","boxZoom",yw),Rn.mergeOptions({doubleClickZoom:!0});var hR=yl.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var g=this._map,y=g.getZoom(),x=g.options.zoomDelta,T=f.originalEvent.shiftKey?y-x:y+x;"center"===g.options.doubleClickZoom?g.setZoom(T):g.setZoomAround(f.containerPoint,T)}});Rn.addInitHook("addHandler","doubleClickZoom",hR),Rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pR=yl.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Ba(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tr(this._map._container,"leaflet-grab"),Tr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=Yt(this._map.options.maxBounds);this._offsetLimit=Lo(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var g=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(g),this._prunePositions(g)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,g){return f-(f-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var f=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;f.x<g.min.x&&(f.x=this._viscousLimit(f.x,g.min.x)),f.y<g.min.y&&(f.y=this._viscousLimit(f.y,g.min.y)),f.x>g.max.x&&(f.x=this._viscousLimit(f.x,g.max.x)),f.y>g.max.y&&(f.y=this._viscousLimit(f.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,g=Math.round(f/2),y=this._initialWorldOffset,x=this._draggable._newPos.x,T=(x-g+y)%f+g-y,k=(x+g+y)%f-g-y,ae=Math.abs(T+y)<Math.abs(k+y)?T:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ae},_onDragEnd:function(f){var g=this._map,y=g.options,x=!y.inertia||f.noInertia||this._times.length<2;if(g.fire("dragend",f),x)g.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),ae=y.easeLinearity,ve=T.multiplyBy(ae/((this._lastTime-this._times[0])/1e3)),Se=ve.distanceTo([0,0]),He=Math.min(y.inertiaMaxSpeed,Se),ut=ve.multiplyBy(He/Se),_t=He/(y.inertiaDeceleration*ae),_n=ut.multiplyBy(-_t/2).round();_n.x||_n.y?(_n=g._limitOffset(_n,g.options.maxBounds),Vi(function(){g.panBy(_n,{duration:_t,easeLinearity:ae,noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});Rn.addInitHook("addHandler","dragging",pR),Rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mR=yl.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),Qt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,g=document.documentElement,y=f.scrollTop||g.scrollTop,x=f.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(x,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var x,T,g=this._panKeys={},y=this.keyCodes;for(x=0,T=y.left.length;x<T;x++)g[y.left[x]]=[-1*f,0];for(x=0,T=y.right.length;x<T;x++)g[y.right[x]]=[f,0];for(x=0,T=y.down.length;x<T;x++)g[y.down[x]]=[0,f];for(x=0,T=y.up.length;x<T;x++)g[y.up[x]]=[0,-1*f]},_setZoomDelta:function(f){var x,T,g=this._zoomKeys={},y=this.keyCodes;for(x=0,T=y.zoomIn.length;x<T;x++)g[y.zoomIn[x]]=f;for(x=0,T=y.zoomOut.length;x<T;x++)g[y.zoomOut[x]]=-f},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var x,g=f.keyCode,y=this._map;if(g in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(x=this._panKeys[g],f.shiftKey&&(x=Ht(x).multiplyBy(3)),y.options.maxBounds&&(x=y._limitOffset(Ht(x),y.options.maxBounds)),y.options.worldCopyJump){var T=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(x)));y.panTo(T)}else y.panBy(x)}else if(g in this._zoomKeys)y.setZoom(y.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[g]);else{if(27!==g||!y._popup||!y._popup.options.closeOnEscapeKey)return;y.closePopup()}gd(f)}}});Rn.addInitHook("addHandler","keyboard",mR),Rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gR=yl.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var g=th(f),y=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var x=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(On(this._performZoom,this),x),gd(f)},_performZoom:function(){var f=this._map,g=f.getZoom(),y=this._map.options.zoomSnap||0;f._stop();var T=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,k=y?Math.ceil(T/y)*y:T,ae=f._limitZoom(g+(this._delta>0?k:-k))-g;this._delta=0,this._startTime=null,ae&&("center"===f.options.scrollWheelZoom?f.setZoom(g+ae):f.setZoomAround(this._lastMousePos,g+ae))}});Rn.addInitHook("addHandler","scrollWheelZoom",gR);Rn.mergeOptions({tapHold:wt.touchNative&&wt.safari&&wt.mobile,tapTolerance:15});var vR=yl.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),1===f.touches.length){var g=f.touches[0];this._startPos=this._newPos=new zt(g.clientX,g.clientY),this._holdTimeout=setTimeout(On(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",Zi),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),600),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){pr(document,"touchend",Zi),pr(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),pr(document,"touchend touchcancel contextmenu",this._cancel,this),pr(document,"touchmove",this._onMove,this)},_onMove:function(f){var g=f.touches[0];this._newPos=new zt(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,g){var y=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});y._simulated=!0,g.target.dispatchEvent(y)}});Rn.addInitHook("addHandler","tapHold",vR),Rn.mergeOptions({touchZoom:wt.touch,bounceAtZoomLimits:!0});var _R=yl.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tr(this._map._container,"leaflet-touch-zoom"),pr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var g=this._map;if(f.touches&&2===f.touches.length&&!g._animatingZoom&&!this._zooming){var y=g.mouseEventToContainerPoint(f.touches[0]),x=g.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(y.add(x)._divideBy(2))),this._startDist=y.distanceTo(x),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),Zi(f)}},_onTouchMove:function(f){if(f.touches&&2===f.touches.length&&this._zooming){var g=this._map,y=g.mouseEventToContainerPoint(f.touches[0]),x=g.mouseEventToContainerPoint(f.touches[1]),T=y.distanceTo(x)/this._startDist;if(this._zoom=g.getScaleZoom(T,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&T<1||this._zoom>g.getMaxZoom()&&T>1)&&(this._zoom=g._limitZoom(this._zoom)),"center"===g.options.touchZoom){if(this._center=this._startLatLng,1===T)return}else{var k=y._add(x)._divideBy(2)._subtract(this._centerPoint);if(1===T&&0===k.x&&0===k.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),La(this._animRequest);var ae=On(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Vi(ae,this,!0),Zi(f)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,La(this._animRequest),pr(document,"touchmove",this._onTouchMove,this),pr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Rn.addInitHook("addHandler","touchZoom",_R),Rn.BoxZoom=yw,Rn.DoubleClickZoom=hR,Rn.Drag=pR,Rn.Keyboard=mR,Rn.ScrollWheelZoom=gR,Rn.TapHold=vR,Rn.TouchZoom=_R,Ke.Bounds=Dr,Ke.Browser=wt,Ke.CRS=Jn,Ke.Canvas=jo,Ke.Circle=bt,Ke.CircleMarker=am,Ke.Class=vl,Ke.Control=Go,Ke.DivIcon=hr,Ke.DivOverlay=Wo,Ke.DomEvent=nw,Ke.DomUtil=zk,Ke.Draggable=Ba,Ke.Evented=qf,Ke.FeatureGroup=Ls,Ke.GeoJSON=Gr,Ke.GridLayer=lc,Ke.Handler=yl,Ke.Icon=Ns,Ke.ImageOverlay=Kt,Ke.LatLng=Qn,Ke.LatLngBounds=No,Ke.Layer=Vo,Ke.LayerGroup=lu,Ke.LineUtil=uR,Ke.Map=Rn,Ke.Marker=rh,Ke.Mixin=$k,Ke.Path=on,Ke.Point=zt,Ke.PolyUtil=su,Ke.Polygon=qr,Ke.Polyline=vn,Ke.Popup=bl,Ke.PosAnimation=rw,Ke.Projection=Kk,Ke.Rectangle=dR,Ke.Renderer=cu,Ke.SVG=go,Ke.SVGOverlay=sc,Ke.TileLayer=xl,Ke.Tooltip=uu,Ke.Transformation=Xf,Ke.Util=Rv,Ke.VideoOverlay=wd,Ke.bind=On,Ke.bounds=Lo,Ke.canvas=Va,Ke.circle=function Ho(f,g,y){return new bt(f,g,y)},Ke.circleMarker=function pw(f,g){return new am(f,g)},Ke.control=oc,Ke.divIcon=function Yk(f){return new hr(f)},Ke.extend=En,Ke.featureGroup=function(f,g){return new Ls(f,g)},Ke.geoJSON=ih,Ke.geoJson=sm,Ke.gridLayer=function vw(f){return new lc(f)},Ke.icon=function cR(f){return new Ns(f)},Ke.imageOverlay=function(f,g,y){return new Kt(f,g,y)},Ke.latLng=sr,Ke.latLngBounds=Yt,Ke.layerGroup=function(f,g){return new lu(f,g)},Ke.map=function iw(f,g){return new Rn(f,g)},Ke.marker=function hw(f,g){return new rh(f,g)},Ke.point=Ht,Ke.polygon=function Cd(f,g){return new qr(f,g)},Ke.polyline=function Qi(f,g){return new vn(f,g)},Ke.popup=function(f,g){return new bl(f,g)},Ke.rectangle=function fR(f,g){return new dR(f,g)},Ke.setOptions=Pt,Ke.stamp=gn,Ke.svg=_w,Ke.svgOverlay=function Ji(f,g,y){return new sc(f,g,y)},Ke.tileLayer=oh,Ke.tooltip=function(f,g){return new uu(f,g)},Ke.transformation=Kp,Ke.version="1.9.3",Ke.videoOverlay=function mw(f,g,y){return new wd(f,g,y)};var Xk=window.L;Ke.noConflict=function(){return window.L=Xk,this},window.L=Ke}(Ps)}},jn=>{jn(jn.s=463)}]);